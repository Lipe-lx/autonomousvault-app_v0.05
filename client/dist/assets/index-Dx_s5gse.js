var xxe=Object.defineProperty;var K9=t=>{throw TypeError(t)};var vxe=(t,e,n)=>e in t?xxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Se=(t,e,n)=>vxe(t,typeof e!="symbol"?e+"":e,n),u_=(t,e,n)=>e.has(t)||K9("Cannot "+n);var ie=(t,e,n)=>(u_(t,e,"read from private field"),n?n.call(t):e.get(t)),je=(t,e,n)=>e.has(t)?K9("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(u_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),tt=(t,e,n)=>(u_(t,e,"access private method"),n);var $v=(t,e,n,r)=>({set _(i){ge(t,e,i,n)},get _(){return ie(t,e,r)}});function bxe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var cL={},z2={};z2.byteLength=Sxe;z2.toByteArray=Txe;z2.fromByteArray=Nxe;var Zl=[],ha=[],wxe=typeof Uint8Array<"u"?Uint8Array:Array,d_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var T0=0,Exe=d_.length;T0<Exe;++T0)Zl[T0]=d_[T0],ha[d_.charCodeAt(T0)]=T0;ha[45]=62;ha[95]=63;function lee(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Sxe(t){var e=lee(t),n=e[0],r=e[1];return(n+r)*3/4-r}function Axe(t,e,n){return(e+n)*3/4-n}function Txe(t){var e,n=lee(t),r=n[0],i=n[1],s=new wxe(Axe(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=ha[t.charCodeAt(l)]<<18|ha[t.charCodeAt(l+1)]<<12|ha[t.charCodeAt(l+2)]<<6|ha[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=ha[t.charCodeAt(l)]<<2|ha[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=ha[t.charCodeAt(l)]<<10|ha[t.charCodeAt(l+1)]<<4|ha[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Cxe(t){return Zl[t>>18&63]+Zl[t>>12&63]+Zl[t>>6&63]+Zl[t&63]}function kxe(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Cxe(r));return i.join("")}function Nxe(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(kxe(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Zl[e>>2]+Zl[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Zl[e>>10]+Zl[e>>4&63]+Zl[e<<2&63]+"=")),i.join("")}var uL={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */uL.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,f=n?i-1:0,m=n?-1:1,g=t[e+f];for(f+=m,s=g&(1<<-u)-1,g>>=-u,u+=a;u>0;s=s*256+t[e+f],f+=m,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+f],f+=m,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(g?-1:1)*o*Math.pow(2,s-r)};uL.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,f=u>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:s-1,x=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=m/l:e+=m*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+g]=a&255,g+=x,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+g]=o&255,g+=x,o/=256,c-=8);t[n+g-x]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=z2,n=uL,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=j,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:a}=globalThis;u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const se=new s(1),J={foo:function(){return 42}};return Object.setPrototypeOf(J,s.prototype),Object.setPrototypeOf(se,J),se.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(se){if(se>i)throw new RangeError('The value "'+se+'" is invalid for option "size"');const J=new s(se);return Object.setPrototypeOf(J,u.prototype),J}function u(se,J,Z){if(typeof se=="number"){if(typeof J=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(se)}return f(se,J,Z)}u.poolSize=8192;function f(se,J,Z){if(typeof se=="string")return v(se,J);if(o.isView(se))return E(se);if(se==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se);if(an(se,o)||se&&an(se.buffer,o)||typeof a<"u"&&(an(se,a)||se&&an(se.buffer,a)))return k(se,J,Z);if(typeof se=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const fe=se.valueOf&&se.valueOf();if(fe!=null&&fe!==se)return u.from(fe,J,Z);const be=I(se);if(be)return be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof se[Symbol.toPrimitive]=="function")return u.from(se[Symbol.toPrimitive]("string"),J,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se)}u.from=function(se,J,Z){return f(se,J,Z)},Object.setPrototypeOf(u.prototype,s.prototype),Object.setPrototypeOf(u,s);function m(se){if(typeof se!="number")throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function g(se,J,Z){return m(se),se<=0?c(se):J!==void 0?typeof Z=="string"?c(se).fill(J,Z):c(se).fill(J):c(se)}u.alloc=function(se,J,Z){return g(se,J,Z)};function x(se){return m(se),c(se<0?0:D(se)|0)}u.allocUnsafe=function(se){return x(se)},u.allocUnsafeSlow=function(se){return x(se)};function v(se,J){if((typeof J!="string"||J==="")&&(J="utf8"),!u.isEncoding(J))throw new TypeError("Unknown encoding: "+J);const Z=M(se,J)|0;let fe=c(Z);const be=fe.write(se,J);return be!==Z&&(fe=fe.slice(0,be)),fe}function w(se){const J=se.length<0?0:D(se.length)|0,Z=c(J);for(let fe=0;fe<J;fe+=1)Z[fe]=se[fe]&255;return Z}function E(se){if(an(se,s)){const J=new s(se);return k(J.buffer,J.byteOffset,J.byteLength)}return w(se)}function k(se,J,Z){if(J<0||se.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<J+(Z||0))throw new RangeError('"length" is outside of buffer bounds');let fe;return J===void 0&&Z===void 0?fe=new s(se):Z===void 0?fe=new s(se,J):fe=new s(se,J,Z),Object.setPrototypeOf(fe,u.prototype),fe}function I(se){if(u.isBuffer(se)){const J=D(se.length)|0,Z=c(J);return Z.length===0||se.copy(Z,0,0,J),Z}if(se.length!==void 0)return typeof se.length!="number"||_e(se.length)?c(0):w(se);if(se.type==="Buffer"&&Array.isArray(se.data))return w(se.data)}function D(se){if(se>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return se|0}function j(se){return+se!=se&&(se=0),u.alloc(+se)}u.isBuffer=function(J){return J!=null&&J._isBuffer===!0&&J!==u.prototype},u.compare=function(J,Z){if(an(J,s)&&(J=u.from(J,J.offset,J.byteLength)),an(Z,s)&&(Z=u.from(Z,Z.offset,Z.byteLength)),!u.isBuffer(J)||!u.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(J===Z)return 0;let fe=J.length,be=Z.length;for(let he=0,ye=Math.min(fe,be);he<ye;++he)if(J[he]!==Z[he]){fe=J[he],be=Z[he];break}return fe<be?-1:be<fe?1:0},u.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(J,Z){if(!Array.isArray(J))throw new TypeError('"list" argument must be an Array of Buffers');if(J.length===0)return u.alloc(0);let fe;if(Z===void 0)for(Z=0,fe=0;fe<J.length;++fe)Z+=J[fe].length;const be=u.allocUnsafe(Z);let he=0;for(fe=0;fe<J.length;++fe){let ye=J[fe];if(an(ye,s))he+ye.length>be.length?(u.isBuffer(ye)||(ye=u.from(ye)),ye.copy(be,he)):s.prototype.set.call(be,ye,he);else if(u.isBuffer(ye))ye.copy(be,he);else throw new TypeError('"list" argument must be an Array of Buffers');he+=ye.length}return be};function M(se,J){if(u.isBuffer(se))return se.length;if(o.isView(se)||an(se,o))return se.byteLength;if(typeof se!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof se);const Z=se.length,fe=arguments.length>2&&arguments[2]===!0;if(!fe&&Z===0)return 0;let be=!1;for(;;)switch(J){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return st(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z*2;case"hex":return Z>>>1;case"base64":return qe(se).length;default:if(be)return fe?-1:st(se).length;J=(""+J).toLowerCase(),be=!0}}u.byteLength=M;function U(se,J,Z){let fe=!1;if((J===void 0||J<0)&&(J=0),J>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0,J>>>=0,Z<=J))return"";for(se||(se="utf8");;)switch(se){case"hex":return O(this,J,Z);case"utf8":case"utf-8":return $(this,J,Z);case"ascii":return Y(this,J,Z);case"latin1":case"binary":return G(this,J,Z);case"base64":return R(this,J,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,J,Z);default:if(fe)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),fe=!0}}u.prototype._isBuffer=!0;function V(se,J,Z){const fe=se[J];se[J]=se[Z],se[Z]=fe}u.prototype.swap16=function(){const J=this.length;if(J%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Z=0;Z<J;Z+=2)V(this,Z,Z+1);return this},u.prototype.swap32=function(){const J=this.length;if(J%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Z=0;Z<J;Z+=4)V(this,Z,Z+3),V(this,Z+1,Z+2);return this},u.prototype.swap64=function(){const J=this.length;if(J%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Z=0;Z<J;Z+=8)V(this,Z,Z+7),V(this,Z+1,Z+6),V(this,Z+2,Z+5),V(this,Z+3,Z+4);return this},u.prototype.toString=function(){const J=this.length;return J===0?"":arguments.length===0?$(this,0,J):U.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(J){if(!u.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J?!0:u.compare(this,J)===0},u.prototype.inspect=function(){let J="";const Z=t.INSPECT_MAX_BYTES;return J=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(J+=" ... "),"<Buffer "+J+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(J,Z,fe,be,he){if(an(J,s)&&(J=u.from(J,J.offset,J.byteLength)),!u.isBuffer(J))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof J);if(Z===void 0&&(Z=0),fe===void 0&&(fe=J?J.length:0),be===void 0&&(be=0),he===void 0&&(he=this.length),Z<0||fe>J.length||be<0||he>this.length)throw new RangeError("out of range index");if(be>=he&&Z>=fe)return 0;if(be>=he)return-1;if(Z>=fe)return 1;if(Z>>>=0,fe>>>=0,be>>>=0,he>>>=0,this===J)return 0;let ye=he-be,Xe=fe-Z;const et=Math.min(ye,Xe),it=this.slice(be,he),Ut=J.slice(Z,fe);for(let xt=0;xt<et;++xt)if(it[xt]!==Ut[xt]){ye=it[xt],Xe=Ut[xt];break}return ye<Xe?-1:Xe<ye?1:0};function F(se,J,Z,fe,be){if(se.length===0)return-1;if(typeof Z=="string"?(fe=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),Z=+Z,_e(Z)&&(Z=be?0:se.length-1),Z<0&&(Z=se.length+Z),Z>=se.length){if(be)return-1;Z=se.length-1}else if(Z<0)if(be)Z=0;else return-1;if(typeof J=="string"&&(J=u.from(J,fe)),u.isBuffer(J))return J.length===0?-1:z(se,J,Z,fe,be);if(typeof J=="number")return J=J&255,typeof s.prototype.indexOf=="function"?be?s.prototype.indexOf.call(se,J,Z):s.prototype.lastIndexOf.call(se,J,Z):z(se,[J],Z,fe,be);throw new TypeError("val must be string, number or Buffer")}function z(se,J,Z,fe,be){let he=1,ye=se.length,Xe=J.length;if(fe!==void 0&&(fe=String(fe).toLowerCase(),fe==="ucs2"||fe==="ucs-2"||fe==="utf16le"||fe==="utf-16le")){if(se.length<2||J.length<2)return-1;he=2,ye/=2,Xe/=2,Z/=2}function et(Ut,xt){return he===1?Ut[xt]:Ut.readUInt16BE(xt*he)}let it;if(be){let Ut=-1;for(it=Z;it<ye;it++)if(et(se,it)===et(J,Ut===-1?0:it-Ut)){if(Ut===-1&&(Ut=it),it-Ut+1===Xe)return Ut*he}else Ut!==-1&&(it-=it-Ut),Ut=-1}else for(Z+Xe>ye&&(Z=ye-Xe),it=Z;it>=0;it--){let Ut=!0;for(let xt=0;xt<Xe;xt++)if(et(se,it+xt)!==et(J,xt)){Ut=!1;break}if(Ut)return it}return-1}u.prototype.includes=function(J,Z,fe){return this.indexOf(J,Z,fe)!==-1},u.prototype.indexOf=function(J,Z,fe){return F(this,J,Z,fe,!0)},u.prototype.lastIndexOf=function(J,Z,fe){return F(this,J,Z,fe,!1)};function K(se,J,Z,fe){Z=Number(Z)||0;const be=se.length-Z;fe?(fe=Number(fe),fe>be&&(fe=be)):fe=be;const he=J.length;fe>he/2&&(fe=he/2);let ye;for(ye=0;ye<fe;++ye){const Xe=parseInt(J.substr(ye*2,2),16);if(_e(Xe))return ye;se[Z+ye]=Xe}return ye}function H(se,J,Z,fe){return At(st(J,se.length-Z),se,Z,fe)}function B(se,J,Z,fe){return At(Lt(J),se,Z,fe)}function A(se,J,Z,fe){return At(qe(J),se,Z,fe)}function P(se,J,Z,fe){return At(Xt(J,se.length-Z),se,Z,fe)}u.prototype.write=function(J,Z,fe,be){if(Z===void 0)be="utf8",fe=this.length,Z=0;else if(fe===void 0&&typeof Z=="string")be=Z,fe=this.length,Z=0;else if(isFinite(Z))Z=Z>>>0,isFinite(fe)?(fe=fe>>>0,be===void 0&&(be="utf8")):(be=fe,fe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const he=this.length-Z;if((fe===void 0||fe>he)&&(fe=he),J.length>0&&(fe<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");be||(be="utf8");let ye=!1;for(;;)switch(be){case"hex":return K(this,J,Z,fe);case"utf8":case"utf-8":return H(this,J,Z,fe);case"ascii":case"latin1":case"binary":return B(this,J,Z,fe);case"base64":return A(this,J,Z,fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,J,Z,fe);default:if(ye)throw new TypeError("Unknown encoding: "+be);be=(""+be).toLowerCase(),ye=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(se,J,Z){return J===0&&Z===se.length?e.fromByteArray(se):e.fromByteArray(se.slice(J,Z))}function $(se,J,Z){Z=Math.min(se.length,Z);const fe=[];let be=J;for(;be<Z;){const he=se[be];let ye=null,Xe=he>239?4:he>223?3:he>191?2:1;if(be+Xe<=Z){let et,it,Ut,xt;switch(Xe){case 1:he<128&&(ye=he);break;case 2:et=se[be+1],(et&192)===128&&(xt=(he&31)<<6|et&63,xt>127&&(ye=xt));break;case 3:et=se[be+1],it=se[be+2],(et&192)===128&&(it&192)===128&&(xt=(he&15)<<12|(et&63)<<6|it&63,xt>2047&&(xt<55296||xt>57343)&&(ye=xt));break;case 4:et=se[be+1],it=se[be+2],Ut=se[be+3],(et&192)===128&&(it&192)===128&&(Ut&192)===128&&(xt=(he&15)<<18|(et&63)<<12|(it&63)<<6|Ut&63,xt>65535&&xt<1114112&&(ye=xt))}}ye===null?(ye=65533,Xe=1):ye>65535&&(ye-=65536,fe.push(ye>>>10&1023|55296),ye=56320|ye&1023),fe.push(ye),be+=Xe}return te(fe)}const q=4096;function te(se){const J=se.length;if(J<=q)return String.fromCharCode.apply(String,se);let Z="",fe=0;for(;fe<J;)Z+=String.fromCharCode.apply(String,se.slice(fe,fe+=q));return Z}function Y(se,J,Z){let fe="";Z=Math.min(se.length,Z);for(let be=J;be<Z;++be)fe+=String.fromCharCode(se[be]&127);return fe}function G(se,J,Z){let fe="";Z=Math.min(se.length,Z);for(let be=J;be<Z;++be)fe+=String.fromCharCode(se[be]);return fe}function O(se,J,Z){const fe=se.length;(!J||J<0)&&(J=0),(!Z||Z<0||Z>fe)&&(Z=fe);let be="";for(let he=J;he<Z;++he)be+=Ve[se[he]];return be}function N(se,J,Z){const fe=se.slice(J,Z);let be="";for(let he=0;he<fe.length-1;he+=2)be+=String.fromCharCode(fe[he]+fe[he+1]*256);return be}u.prototype.slice=function(J,Z){const fe=this.length;J=~~J,Z=Z===void 0?fe:~~Z,J<0?(J+=fe,J<0&&(J=0)):J>fe&&(J=fe),Z<0?(Z+=fe,Z<0&&(Z=0)):Z>fe&&(Z=fe),Z<J&&(Z=J);const be=this.subarray(J,Z);return Object.setPrototypeOf(be,u.prototype),be};function W(se,J,Z){if(se%1!==0||se<0)throw new RangeError("offset is not uint");if(se+J>Z)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(J,Z,fe){J=J>>>0,Z=Z>>>0,fe||W(J,Z,this.length);let be=this[J],he=1,ye=0;for(;++ye<Z&&(he*=256);)be+=this[J+ye]*he;return be},u.prototype.readUintBE=u.prototype.readUIntBE=function(J,Z,fe){J=J>>>0,Z=Z>>>0,fe||W(J,Z,this.length);let be=this[J+--Z],he=1;for(;Z>0&&(he*=256);)be+=this[J+--Z]*he;return be},u.prototype.readUint8=u.prototype.readUInt8=function(J,Z){return J=J>>>0,Z||W(J,1,this.length),this[J]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(J,Z){return J=J>>>0,Z||W(J,2,this.length),this[J]|this[J+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(J,Z){return J=J>>>0,Z||W(J,2,this.length),this[J]<<8|this[J+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(J,Z){return J=J>>>0,Z||W(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+this[J+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(J,Z){return J=J>>>0,Z||W(J,4,this.length),this[J]*16777216+(this[J+1]<<16|this[J+2]<<8|this[J+3])},u.prototype.readBigUInt64LE=ft(function(J){J=J>>>0,Ze(J,"offset");const Z=this[J],fe=this[J+7];(Z===void 0||fe===void 0)&&Ye(J,this.length-8);const be=Z+this[++J]*2**8+this[++J]*2**16+this[++J]*2**24,he=this[++J]+this[++J]*2**8+this[++J]*2**16+fe*2**24;return BigInt(be)+(BigInt(he)<<BigInt(32))}),u.prototype.readBigUInt64BE=ft(function(J){J=J>>>0,Ze(J,"offset");const Z=this[J],fe=this[J+7];(Z===void 0||fe===void 0)&&Ye(J,this.length-8);const be=Z*2**24+this[++J]*2**16+this[++J]*2**8+this[++J],he=this[++J]*2**24+this[++J]*2**16+this[++J]*2**8+fe;return(BigInt(be)<<BigInt(32))+BigInt(he)}),u.prototype.readIntLE=function(J,Z,fe){J=J>>>0,Z=Z>>>0,fe||W(J,Z,this.length);let be=this[J],he=1,ye=0;for(;++ye<Z&&(he*=256);)be+=this[J+ye]*he;return he*=128,be>=he&&(be-=Math.pow(2,8*Z)),be},u.prototype.readIntBE=function(J,Z,fe){J=J>>>0,Z=Z>>>0,fe||W(J,Z,this.length);let be=Z,he=1,ye=this[J+--be];for(;be>0&&(he*=256);)ye+=this[J+--be]*he;return he*=128,ye>=he&&(ye-=Math.pow(2,8*Z)),ye},u.prototype.readInt8=function(J,Z){return J=J>>>0,Z||W(J,1,this.length),this[J]&128?(255-this[J]+1)*-1:this[J]},u.prototype.readInt16LE=function(J,Z){J=J>>>0,Z||W(J,2,this.length);const fe=this[J]|this[J+1]<<8;return fe&32768?fe|4294901760:fe},u.prototype.readInt16BE=function(J,Z){J=J>>>0,Z||W(J,2,this.length);const fe=this[J+1]|this[J]<<8;return fe&32768?fe|4294901760:fe},u.prototype.readInt32LE=function(J,Z){return J=J>>>0,Z||W(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},u.prototype.readInt32BE=function(J,Z){return J=J>>>0,Z||W(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},u.prototype.readBigInt64LE=ft(function(J){J=J>>>0,Ze(J,"offset");const Z=this[J],fe=this[J+7];(Z===void 0||fe===void 0)&&Ye(J,this.length-8);const be=this[J+4]+this[J+5]*2**8+this[J+6]*2**16+(fe<<24);return(BigInt(be)<<BigInt(32))+BigInt(Z+this[++J]*2**8+this[++J]*2**16+this[++J]*2**24)}),u.prototype.readBigInt64BE=ft(function(J){J=J>>>0,Ze(J,"offset");const Z=this[J],fe=this[J+7];(Z===void 0||fe===void 0)&&Ye(J,this.length-8);const be=(Z<<24)+this[++J]*2**16+this[++J]*2**8+this[++J];return(BigInt(be)<<BigInt(32))+BigInt(this[++J]*2**24+this[++J]*2**16+this[++J]*2**8+fe)}),u.prototype.readFloatLE=function(J,Z){return J=J>>>0,Z||W(J,4,this.length),n.read(this,J,!0,23,4)},u.prototype.readFloatBE=function(J,Z){return J=J>>>0,Z||W(J,4,this.length),n.read(this,J,!1,23,4)},u.prototype.readDoubleLE=function(J,Z){return J=J>>>0,Z||W(J,8,this.length),n.read(this,J,!0,52,8)},u.prototype.readDoubleBE=function(J,Z){return J=J>>>0,Z||W(J,8,this.length),n.read(this,J,!1,52,8)};function X(se,J,Z,fe,be,he){if(!u.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>be||J<he)throw new RangeError('"value" argument is out of bounds');if(Z+fe>se.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(J,Z,fe,be){if(J=+J,Z=Z>>>0,fe=fe>>>0,!be){const Xe=Math.pow(2,8*fe)-1;X(this,J,Z,fe,Xe,0)}let he=1,ye=0;for(this[Z]=J&255;++ye<fe&&(he*=256);)this[Z+ye]=J/he&255;return Z+fe},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(J,Z,fe,be){if(J=+J,Z=Z>>>0,fe=fe>>>0,!be){const Xe=Math.pow(2,8*fe)-1;X(this,J,Z,fe,Xe,0)}let he=fe-1,ye=1;for(this[Z+he]=J&255;--he>=0&&(ye*=256);)this[Z+he]=J/ye&255;return Z+fe},u.prototype.writeUint8=u.prototype.writeUInt8=function(J,Z,fe){return J=+J,Z=Z>>>0,fe||X(this,J,Z,1,255,0),this[Z]=J&255,Z+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(J,Z,fe){return J=+J,Z=Z>>>0,fe||X(this,J,Z,2,65535,0),this[Z]=J&255,this[Z+1]=J>>>8,Z+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(J,Z,fe){return J=+J,Z=Z>>>0,fe||X(this,J,Z,2,65535,0),this[Z]=J>>>8,this[Z+1]=J&255,Z+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(J,Z,fe){return J=+J,Z=Z>>>0,fe||X(this,J,Z,4,4294967295,0),this[Z+3]=J>>>24,this[Z+2]=J>>>16,this[Z+1]=J>>>8,this[Z]=J&255,Z+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(J,Z,fe){return J=+J,Z=Z>>>0,fe||X(this,J,Z,4,4294967295,0),this[Z]=J>>>24,this[Z+1]=J>>>16,this[Z+2]=J>>>8,this[Z+3]=J&255,Z+4};function re(se,J,Z,fe,be){$e(J,fe,be,se,Z,7);let he=Number(J&BigInt(4294967295));se[Z++]=he,he=he>>8,se[Z++]=he,he=he>>8,se[Z++]=he,he=he>>8,se[Z++]=he;let ye=Number(J>>BigInt(32)&BigInt(4294967295));return se[Z++]=ye,ye=ye>>8,se[Z++]=ye,ye=ye>>8,se[Z++]=ye,ye=ye>>8,se[Z++]=ye,Z}function ae(se,J,Z,fe,be){$e(J,fe,be,se,Z,7);let he=Number(J&BigInt(4294967295));se[Z+7]=he,he=he>>8,se[Z+6]=he,he=he>>8,se[Z+5]=he,he=he>>8,se[Z+4]=he;let ye=Number(J>>BigInt(32)&BigInt(4294967295));return se[Z+3]=ye,ye=ye>>8,se[Z+2]=ye,ye=ye>>8,se[Z+1]=ye,ye=ye>>8,se[Z]=ye,Z+8}u.prototype.writeBigUInt64LE=ft(function(J,Z=0){return re(this,J,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=ft(function(J,Z=0){return ae(this,J,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(J,Z,fe,be){if(J=+J,Z=Z>>>0,!be){const et=Math.pow(2,8*fe-1);X(this,J,Z,fe,et-1,-et)}let he=0,ye=1,Xe=0;for(this[Z]=J&255;++he<fe&&(ye*=256);)J<0&&Xe===0&&this[Z+he-1]!==0&&(Xe=1),this[Z+he]=(J/ye>>0)-Xe&255;return Z+fe},u.prototype.writeIntBE=function(J,Z,fe,be){if(J=+J,Z=Z>>>0,!be){const et=Math.pow(2,8*fe-1);X(this,J,Z,fe,et-1,-et)}let he=fe-1,ye=1,Xe=0;for(this[Z+he]=J&255;--he>=0&&(ye*=256);)J<0&&Xe===0&&this[Z+he+1]!==0&&(Xe=1),this[Z+he]=(J/ye>>0)-Xe&255;return Z+fe},u.prototype.writeInt8=function(J,Z,fe){return J=+J,Z=Z>>>0,fe||X(this,J,Z,1,127,-128),J<0&&(J=255+J+1),this[Z]=J&255,Z+1},u.prototype.writeInt16LE=function(J,Z,fe){return J=+J,Z=Z>>>0,fe||X(this,J,Z,2,32767,-32768),this[Z]=J&255,this[Z+1]=J>>>8,Z+2},u.prototype.writeInt16BE=function(J,Z,fe){return J=+J,Z=Z>>>0,fe||X(this,J,Z,2,32767,-32768),this[Z]=J>>>8,this[Z+1]=J&255,Z+2},u.prototype.writeInt32LE=function(J,Z,fe){return J=+J,Z=Z>>>0,fe||X(this,J,Z,4,2147483647,-2147483648),this[Z]=J&255,this[Z+1]=J>>>8,this[Z+2]=J>>>16,this[Z+3]=J>>>24,Z+4},u.prototype.writeInt32BE=function(J,Z,fe){return J=+J,Z=Z>>>0,fe||X(this,J,Z,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),this[Z]=J>>>24,this[Z+1]=J>>>16,this[Z+2]=J>>>8,this[Z+3]=J&255,Z+4},u.prototype.writeBigInt64LE=ft(function(J,Z=0){return re(this,J,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=ft(function(J,Z=0){return ae(this,J,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ee(se,J,Z,fe,be,he){if(Z+fe>se.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function ue(se,J,Z,fe,be){return J=+J,Z=Z>>>0,be||Ee(se,J,Z,4),n.write(se,J,Z,fe,23,4),Z+4}u.prototype.writeFloatLE=function(J,Z,fe){return ue(this,J,Z,!0,fe)},u.prototype.writeFloatBE=function(J,Z,fe){return ue(this,J,Z,!1,fe)};function me(se,J,Z,fe,be){return J=+J,Z=Z>>>0,be||Ee(se,J,Z,8),n.write(se,J,Z,fe,52,8),Z+8}u.prototype.writeDoubleLE=function(J,Z,fe){return me(this,J,Z,!0,fe)},u.prototype.writeDoubleBE=function(J,Z,fe){return me(this,J,Z,!1,fe)},u.prototype.copy=function(J,Z,fe,be){if(!u.isBuffer(J))throw new TypeError("argument should be a Buffer");if(fe||(fe=0),!be&&be!==0&&(be=this.length),Z>=J.length&&(Z=J.length),Z||(Z=0),be>0&&be<fe&&(be=fe),be===fe||J.length===0||this.length===0)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(fe<0||fe>=this.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("sourceEnd out of bounds");be>this.length&&(be=this.length),J.length-Z<be-fe&&(be=J.length-Z+fe);const he=be-fe;return this===J&&typeof s.prototype.copyWithin=="function"?this.copyWithin(Z,fe,be):s.prototype.set.call(J,this.subarray(fe,be),Z),he},u.prototype.fill=function(J,Z,fe,be){if(typeof J=="string"){if(typeof Z=="string"?(be=Z,Z=0,fe=this.length):typeof fe=="string"&&(be=fe,fe=this.length),be!==void 0&&typeof be!="string")throw new TypeError("encoding must be a string");if(typeof be=="string"&&!u.isEncoding(be))throw new TypeError("Unknown encoding: "+be);if(J.length===1){const ye=J.charCodeAt(0);(be==="utf8"&&ye<128||be==="latin1")&&(J=ye)}}else typeof J=="number"?J=J&255:typeof J=="boolean"&&(J=Number(J));if(Z<0||this.length<Z||this.length<fe)throw new RangeError("Out of range index");if(fe<=Z)return this;Z=Z>>>0,fe=fe===void 0?this.length:fe>>>0,J||(J=0);let he;if(typeof J=="number")for(he=Z;he<fe;++he)this[he]=J;else{const ye=u.isBuffer(J)?J:u.from(J,be),Xe=ye.length;if(Xe===0)throw new TypeError('The value "'+J+'" is invalid for argument "value"');for(he=0;he<fe-Z;++he)this[he+Z]=ye[he%Xe]}return this};const ce={};function oe(se,J,Z){ce[se]=class extends Z{constructor(){super(),Object.defineProperty(this,"message",{value:J.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${se}]`,this.stack,delete this.name}get code(){return se}set code(be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:be,writable:!0})}toString(){return`${this.name} [${se}]: ${this.message}`}}}oe("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?`${se} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),oe("ERR_INVALID_ARG_TYPE",function(se,J){return`The "${se}" argument must be of type number. Received type ${typeof J}`},TypeError),oe("ERR_OUT_OF_RANGE",function(se,J,Z){let fe=`The value of "${se}" is out of range.`,be=Z;return Number.isInteger(Z)&&Math.abs(Z)>2**32?be=Ce(String(Z)):typeof Z=="bigint"&&(be=String(Z),(Z>BigInt(2)**BigInt(32)||Z<-(BigInt(2)**BigInt(32)))&&(be=Ce(be)),be+="n"),fe+=` It must be ${J}. Received ${be}`,fe},RangeError);function Ce(se){let J="",Z=se.length;const fe=se[0]==="-"?1:0;for(;Z>=fe+4;Z-=3)J=`_${se.slice(Z-3,Z)}${J}`;return`${se.slice(0,Z)}${J}`}function Ne(se,J,Z){Ze(J,"offset"),(se[J]===void 0||se[J+Z]===void 0)&&Ye(J,se.length-(Z+1))}function $e(se,J,Z,fe,be,he){if(se>Z||se<J){const ye=typeof J=="bigint"?"n":"";let Xe;throw J===0||J===BigInt(0)?Xe=`>= 0${ye} and < 2${ye} ** ${(he+1)*8}${ye}`:Xe=`>= -(2${ye} ** ${(he+1)*8-1}${ye}) and < 2 ** ${(he+1)*8-1}${ye}`,new ce.ERR_OUT_OF_RANGE("value",Xe,se)}Ne(fe,be,he)}function Ze(se,J){if(typeof se!="number")throw new ce.ERR_INVALID_ARG_TYPE(J,"number",se)}function Ye(se,J,Z){throw Math.floor(se)!==se?(Ze(se,Z),new ce.ERR_OUT_OF_RANGE("offset","an integer",se)):J<0?new ce.ERR_BUFFER_OUT_OF_BOUNDS:new ce.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${J}`,se)}const We=/[^+/0-9A-Za-z-_]/g;function St(se){if(se=se.split("=")[0],se=se.trim().replace(We,""),se.length<2)return"";for(;se.length%4!==0;)se=se+"=";return se}function st(se,J){J=J||1/0;let Z;const fe=se.length;let be=null;const he=[];for(let ye=0;ye<fe;++ye){if(Z=se.charCodeAt(ye),Z>55295&&Z<57344){if(!be){if(Z>56319){(J-=3)>-1&&he.push(239,191,189);continue}else if(ye+1===fe){(J-=3)>-1&&he.push(239,191,189);continue}be=Z;continue}if(Z<56320){(J-=3)>-1&&he.push(239,191,189),be=Z;continue}Z=(be-55296<<10|Z-56320)+65536}else be&&(J-=3)>-1&&he.push(239,191,189);if(be=null,Z<128){if((J-=1)<0)break;he.push(Z)}else if(Z<2048){if((J-=2)<0)break;he.push(Z>>6|192,Z&63|128)}else if(Z<65536){if((J-=3)<0)break;he.push(Z>>12|224,Z>>6&63|128,Z&63|128)}else if(Z<1114112){if((J-=4)<0)break;he.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,Z&63|128)}else throw new Error("Invalid code point")}return he}function Lt(se){const J=[];for(let Z=0;Z<se.length;++Z)J.push(se.charCodeAt(Z)&255);return J}function Xt(se,J){let Z,fe,be;const he=[];for(let ye=0;ye<se.length&&!((J-=2)<0);++ye)Z=se.charCodeAt(ye),fe=Z>>8,be=Z%256,he.push(be),he.push(fe);return he}function qe(se){return e.toByteArray(St(se))}function At(se,J,Z,fe){let be;for(be=0;be<fe&&!(be+Z>=J.length||be>=se.length);++be)J[be+Z]=se[be];return be}function an(se,J){return se instanceof J||se!=null&&se.constructor!=null&&se.constructor.name!=null&&se.constructor.name===J.name}function _e(se){return se!==se}const Ve=(function(){const se="0123456789abcdef",J=new Array(256);for(let Z=0;Z<16;++Z){const fe=Z*16;for(let be=0;be<16;++be)J[fe+be]=se[Z]+se[be]}return J})();function ft(se){return typeof BigInt>"u"?lt:se}function lt(){throw new Error("BigInt not supported")}})(cL);const dn=cL.Buffer,on=cL.Buffer;window.Buffer=on;function ts(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cee(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var f_={exports:{}},Hv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W9;function Ixe(){if(W9)return Hv;W9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return Hv.Fragment=e,Hv.jsx=n,Hv.jsxs=n,Hv}var Y9;function Pxe(){return Y9||(Y9=1,f_.exports=Ixe()),f_.exports}var h=Pxe();function _xe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uee={exports:{}},ei=uee.exports={},Ul,Fl;function BO(){throw new Error("setTimeout has not been defined")}function jO(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ul=setTimeout:Ul=BO}catch{Ul=BO}try{typeof clearTimeout=="function"?Fl=clearTimeout:Fl=jO}catch{Fl=jO}})();function dee(t){if(Ul===setTimeout)return setTimeout(t,0);if((Ul===BO||!Ul)&&setTimeout)return Ul=setTimeout,setTimeout(t,0);try{return Ul(t,0)}catch{try{return Ul.call(null,t,0)}catch{return Ul.call(this,t,0)}}}function Rxe(t){if(Fl===clearTimeout)return clearTimeout(t);if((Fl===jO||!Fl)&&clearTimeout)return Fl=clearTimeout,clearTimeout(t);try{return Fl(t)}catch{try{return Fl.call(null,t)}catch{return Fl.call(this,t)}}}var Pu=[],bg=!1,up,jA=-1;function Oxe(){!bg||!up||(bg=!1,up.length?Pu=up.concat(Pu):jA=-1,Pu.length&&fee())}function fee(){if(!bg){var t=dee(Oxe);bg=!0;for(var e=Pu.length;e;){for(up=Pu,Pu=[];++jA<e;)up&&up[jA].run();jA=-1,e=Pu.length}up=null,bg=!1,Rxe(t)}}ei.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Pu.push(new hee(t,e)),Pu.length===1&&!bg&&dee(fee)};function hee(t,e){this.fun=t,this.array=e}hee.prototype.run=function(){this.fun.apply(null,this.array)};ei.title="browser";ei.browser=!0;ei.env={};ei.argv=[];ei.version="";ei.versions={};function md(){}ei.on=md;ei.addListener=md;ei.once=md;ei.off=md;ei.removeListener=md;ei.removeAllListeners=md;ei.emit=md;ei.prependListener=md;ei.prependOnceListener=md;ei.listeners=function(t){return[]};ei.binding=function(t){throw new Error("process.binding is not supported")};ei.cwd=function(){return"/"};ei.chdir=function(t){throw new Error("process.chdir is not supported")};ei.umask=function(){return 0};var Mxe=uee.exports;const Gf=_xe(Mxe);window.global=window;window.process=Gf;window.Buffer=on;console.log("Polyfills loaded");var h_={exports:{}},en={},J9;function Dxe(){if(J9)return en;J9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),m=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=m&&G[m]||G["@@iterator"],typeof G=="function"?G:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function E(G,O,N){this.props=G,this.context=O,this.refs=w,this.updater=N||x}E.prototype.isReactComponent={},E.prototype.setState=function(G,O){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,O,"setState")},E.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function k(){}k.prototype=E.prototype;function I(G,O,N){this.props=G,this.context=O,this.refs=w,this.updater=N||x}var D=I.prototype=new k;D.constructor=I,v(D,E.prototype),D.isPureReactComponent=!0;var j=Array.isArray;function M(){}var U={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function F(G,O,N){var W=N.ref;return{$$typeof:t,type:G,key:O,ref:W!==void 0?W:null,props:N}}function z(G,O){return F(G.type,O,G.props)}function K(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function H(G){var O={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(N){return O[N]})}var B=/\/+/g;function A(G,O){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):O.toString(36)}function P(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(M,M):(G.status="pending",G.then(function(O){G.status==="pending"&&(G.status="fulfilled",G.value=O)},function(O){G.status==="pending"&&(G.status="rejected",G.reason=O)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function R(G,O,N,W,X){var re=typeof G;(re==="undefined"||re==="boolean")&&(G=null);var ae=!1;if(G===null)ae=!0;else switch(re){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(G.$$typeof){case t:case e:ae=!0;break;case u:return ae=G._init,R(ae(G._payload),O,N,W,X)}}if(ae)return X=X(G),ae=W===""?"."+A(G,0):W,j(X)?(N="",ae!=null&&(N=ae.replace(B,"$&/")+"/"),R(X,O,N,"",function(me){return me})):X!=null&&(K(X)&&(X=z(X,N+(X.key==null||G&&G.key===X.key?"":(""+X.key).replace(B,"$&/")+"/")+ae)),O.push(X)),1;ae=0;var Ee=W===""?".":W+":";if(j(G))for(var ue=0;ue<G.length;ue++)W=G[ue],re=Ee+A(W,ue),ae+=R(W,O,N,re,X);else if(ue=g(G),typeof ue=="function")for(G=ue.call(G),ue=0;!(W=G.next()).done;)W=W.value,re=Ee+A(W,ue++),ae+=R(W,O,N,re,X);else if(re==="object"){if(typeof G.then=="function")return R(P(G),O,N,W,X);throw O=String(G),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ae}function $(G,O,N){if(G==null)return G;var W=[],X=0;return R(G,W,"","",function(re){return O.call(N,re,X++)}),W}function q(G){if(G._status===-1){var O=G._result;O=O(),O.then(function(N){(G._status===0||G._status===-1)&&(G._status=1,G._result=N)},function(N){(G._status===0||G._status===-1)&&(G._status=2,G._result=N)}),G._status===-1&&(G._status=0,G._result=O)}if(G._status===1)return G._result.default;throw G._result}var te=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(O))return}else if(typeof Gf=="object"&&typeof Gf.emit=="function"){Gf.emit("uncaughtException",G);return}console.error(G)},Y={map:$,forEach:function(G,O,N){$(G,function(){O.apply(this,arguments)},N)},count:function(G){var O=0;return $(G,function(){O++}),O},toArray:function(G){return $(G,function(O){return O})||[]},only:function(G){if(!K(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return en.Activity=f,en.Children=Y,en.Component=E,en.Fragment=n,en.Profiler=i,en.PureComponent=I,en.StrictMode=r,en.Suspense=l,en.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,en.__COMPILER_RUNTIME={__proto__:null,c:function(G){return U.H.useMemoCache(G)}},en.cache=function(G){return function(){return G.apply(null,arguments)}},en.cacheSignal=function(){return null},en.cloneElement=function(G,O,N){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var W=v({},G.props),X=G.key;if(O!=null)for(re in O.key!==void 0&&(X=""+O.key),O)!V.call(O,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&O.ref===void 0||(W[re]=O[re]);var re=arguments.length-2;if(re===1)W.children=N;else if(1<re){for(var ae=Array(re),Ee=0;Ee<re;Ee++)ae[Ee]=arguments[Ee+2];W.children=ae}return F(G.type,X,W)},en.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:s,_context:G},G},en.createElement=function(G,O,N){var W,X={},re=null;if(O!=null)for(W in O.key!==void 0&&(re=""+O.key),O)V.call(O,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(X[W]=O[W]);var ae=arguments.length-2;if(ae===1)X.children=N;else if(1<ae){for(var Ee=Array(ae),ue=0;ue<ae;ue++)Ee[ue]=arguments[ue+2];X.children=Ee}if(G&&G.defaultProps)for(W in ae=G.defaultProps,ae)X[W]===void 0&&(X[W]=ae[W]);return F(G,re,X)},en.createRef=function(){return{current:null}},en.forwardRef=function(G){return{$$typeof:a,render:G}},en.isValidElement=K,en.lazy=function(G){return{$$typeof:u,_payload:{_status:-1,_result:G},_init:q}},en.memo=function(G,O){return{$$typeof:c,type:G,compare:O===void 0?null:O}},en.startTransition=function(G){var O=U.T,N={};U.T=N;try{var W=G(),X=U.S;X!==null&&X(N,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(M,te)}catch(re){te(re)}finally{O!==null&&N.types!==null&&(O.types=N.types),U.T=O}},en.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},en.use=function(G){return U.H.use(G)},en.useActionState=function(G,O,N){return U.H.useActionState(G,O,N)},en.useCallback=function(G,O){return U.H.useCallback(G,O)},en.useContext=function(G){return U.H.useContext(G)},en.useDebugValue=function(){},en.useDeferredValue=function(G,O){return U.H.useDeferredValue(G,O)},en.useEffect=function(G,O){return U.H.useEffect(G,O)},en.useEffectEvent=function(G){return U.H.useEffectEvent(G)},en.useId=function(){return U.H.useId()},en.useImperativeHandle=function(G,O,N){return U.H.useImperativeHandle(G,O,N)},en.useInsertionEffect=function(G,O){return U.H.useInsertionEffect(G,O)},en.useLayoutEffect=function(G,O){return U.H.useLayoutEffect(G,O)},en.useMemo=function(G,O){return U.H.useMemo(G,O)},en.useOptimistic=function(G,O){return U.H.useOptimistic(G,O)},en.useReducer=function(G,O,N){return U.H.useReducer(G,O,N)},en.useRef=function(G){return U.H.useRef(G)},en.useState=function(G){return U.H.useState(G)},en.useSyncExternalStore=function(G,O,N){return U.H.useSyncExternalStore(G,O,N)},en.useTransition=function(){return U.H.useTransition()},en.version="19.2.3",en}var X9;function gx(){return X9||(X9=1,h_.exports=Dxe()),h_.exports}var T=gx();const su=ts(T),$2=bxe({__proto__:null,default:su},[T]);var p_={exports:{}},Vv={},m_={exports:{}},g_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q9;function Lxe(){return Q9||(Q9=1,(function(t){function e(R,$){var q=R.length;R.push($);e:for(;0<q;){var te=q-1>>>1,Y=R[te];if(0<i(Y,$))R[te]=$,R[q]=Y,q=te;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var $=R[0],q=R.pop();if(q!==$){R[0]=q;e:for(var te=0,Y=R.length,G=Y>>>1;te<G;){var O=2*(te+1)-1,N=R[O],W=O+1,X=R[W];if(0>i(N,q))W<Y&&0>i(X,N)?(R[te]=X,R[W]=q,te=W):(R[te]=N,R[O]=q,te=O);else if(W<Y&&0>i(X,q))R[te]=X,R[W]=q,te=W;else break e}}return $}function i(R,$){var q=R.sortIndex-$.sortIndex;return q!==0?q:R.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,m=3,g=!1,x=!1,v=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function D(R){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=R)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function j(R){if(v=!1,D(R),!x)if(n(l)!==null)x=!0,M||(M=!0,H());else{var $=n(c);$!==null&&P(j,$.startTime-R)}}var M=!1,U=-1,V=5,F=-1;function z(){return w?!0:!(t.unstable_now()-F<V)}function K(){if(w=!1,M){var R=t.unstable_now();F=R;var $=!0;try{e:{x=!1,v&&(v=!1,k(U),U=-1),g=!0;var q=m;try{t:{for(D(R),f=n(l);f!==null&&!(f.expirationTime>R&&z());){var te=f.callback;if(typeof te=="function"){f.callback=null,m=f.priorityLevel;var Y=te(f.expirationTime<=R);if(R=t.unstable_now(),typeof Y=="function"){f.callback=Y,D(R),$=!0;break t}f===n(l)&&r(l),D(R)}else r(l);f=n(l)}if(f!==null)$=!0;else{var G=n(c);G!==null&&P(j,G.startTime-R),$=!1}}break e}finally{f=null,m=q,g=!1}$=void 0}}finally{$?H():M=!1}}}var H;if(typeof I=="function")H=function(){I(K)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,A=B.port2;B.port1.onmessage=K,H=function(){A.postMessage(null)}}else H=function(){E(K,0)};function P(R,$){U=E(function(){R(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(R){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var q=m;m=$;try{return R()}finally{m=q}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var q=m;m=R;try{return $()}finally{m=q}},t.unstable_scheduleCallback=function(R,$,q){var te=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,R){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,R={id:u++,callback:$,priorityLevel:R,startTime:q,expirationTime:Y,sortIndex:-1},q>te?(R.sortIndex=q,e(c,R),n(l)===null&&R===n(c)&&(v?(k(U),U=-1):v=!0,P(j,q-te))):(R.sortIndex=Y,e(l,R),x||g||(x=!0,M||(M=!0,H()))),R},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(R){var $=m;return function(){var q=m;m=$;try{return R.apply(this,arguments)}finally{m=q}}}})(g_)),g_}var Z9;function Bxe(){return Z9||(Z9=1,m_.exports=Lxe()),m_.exports}var y_={exports:{}},rs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ez;function jxe(){if(ez)return rs;ez=1;var t=gx();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:c,implementation:u}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return rs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rs.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(l,c,null,u)},rs.flushSync=function(l){var c=o.T,u=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=u,r.d.f()}},rs.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},rs.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},rs.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,f=a(u,c.crossOrigin),m=typeof c.integrity=="string"?c.integrity:void 0,g=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:m,fetchPriority:g}):u==="script"&&r.d.X(l,{crossOrigin:f,integrity:m,fetchPriority:g,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},rs.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=a(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},rs.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,f=a(u,c.crossOrigin);r.d.L(l,u,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},rs.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=a(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},rs.requestFormReset=function(l){r.d.r(l)},rs.unstable_batchedUpdates=function(l,c){return l(c)},rs.useFormState=function(l,c,u){return o.H.useFormState(l,c,u)},rs.useFormStatus=function(){return o.H.useHostTransitionStatus()},rs.version="19.2.3",rs}var tz;function pee(){if(tz)return y_.exports;tz=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),y_.exports=jxe(),y_.exports}var nz;function Uxe(){if(nz)return Vv;nz=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=Bxe(),e=gx(),n=pee();function r(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function s(d){var p=d,y=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(y=p.return),d=p.return;while(d)}return p.tag===3?y:null}function o(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function a(d){if(d.tag===31){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function l(d){if(s(d)!==d)throw Error(r(188))}function c(d){var p=d.alternate;if(!p){if(p=s(d),p===null)throw Error(r(188));return p!==d?null:d}for(var y=d,b=p;;){var _=y.return;if(_===null)break;var L=_.alternate;if(L===null){if(b=_.return,b!==null){y=b;continue}break}if(_.child===L.child){for(L=_.child;L;){if(L===y)return l(_),d;if(L===b)return l(_),p;L=L.sibling}throw Error(r(188))}if(y.return!==b.return)y=_,b=L;else{for(var ne=!1,de=_.child;de;){if(de===y){ne=!0,y=_,b=L;break}if(de===b){ne=!0,b=_,y=L;break}de=de.sibling}if(!ne){for(de=L.child;de;){if(de===y){ne=!0,y=L,b=_;break}if(de===b){ne=!0,b=L,y=_;break}de=de.sibling}if(!ne)throw Error(r(189))}}if(y.alternate!==b)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?d:p}function u(d){var p=d.tag;if(p===5||p===26||p===27||p===6)return d;for(d=d.child;d!==null;){if(p=u(d),p!==null)return p;d=d.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),I=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function H(d){return d===null||typeof d!="object"?null:(d=K&&d[K]||d["@@iterator"],typeof d=="function"?d:null)}var B=Symbol.for("react.client.reference");function A(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===B?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case v:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case j:return"Suspense";case M:return"SuspenseList";case F:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case x:return"Portal";case I:return d.displayName||"Context";case k:return(d._context.displayName||"Context")+".Consumer";case D:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case U:return p=d.displayName||null,p!==null?p:A(d.type)||"Memo";case V:p=d._payload,d=d._init;try{return A(d(p))}catch{}}return null}var P=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},te=[],Y=-1;function G(d){return{current:d}}function O(d){0>Y||(d.current=te[Y],te[Y]=null,Y--)}function N(d,p){Y++,te[Y]=d.current,d.current=p}var W=G(null),X=G(null),re=G(null),ae=G(null);function Ee(d,p){switch(N(re,p),N(X,d),N(W,null),p.nodeType){case 9:case 11:d=(d=p.documentElement)&&(d=d.namespaceURI)?g9(d):0;break;default:if(d=p.tagName,p=p.namespaceURI)p=g9(p),d=y9(p,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}O(W),N(W,d)}function ue(){O(W),O(X),O(re)}function me(d){d.memoizedState!==null&&N(ae,d);var p=W.current,y=y9(p,d.type);p!==y&&(N(X,d),N(W,y))}function ce(d){X.current===d&&(O(W),O(X)),ae.current===d&&(O(ae),jv._currentValue=q)}var oe,Ce;function Ne(d){if(oe===void 0)try{throw Error()}catch(y){var p=y.stack.trim().match(/\n( *(at )?)/);oe=p&&p[1]||"",Ce=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+d+Ce}var $e=!1;function Ze(d,p){if(!d||$e)return"";$e=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(p){var Qe=function(){throw Error()};if(Object.defineProperty(Qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Qe,[])}catch(He){var Ue=He}Reflect.construct(d,[],Qe)}else{try{Qe.call()}catch(He){Ue=He}d.call(Qe.prototype)}}else{try{throw Error()}catch(He){Ue=He}(Qe=d())&&typeof Qe.catch=="function"&&Qe.catch(function(){})}}catch(He){if(He&&Ue&&typeof He.stack=="string")return[He.stack,Ue.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=b.DetermineComponentFrameRoot(),ne=L[0],de=L[1];if(ne&&de){var we=ne.split(`
`),Le=de.split(`
`);for(_=b=0;b<we.length&&!we[b].includes("DetermineComponentFrameRoot");)b++;for(;_<Le.length&&!Le[_].includes("DetermineComponentFrameRoot");)_++;if(b===we.length||_===Le.length)for(b=we.length-1,_=Le.length-1;1<=b&&0<=_&&we[b]!==Le[_];)_--;for(;1<=b&&0<=_;b--,_--)if(we[b]!==Le[_]){if(b!==1||_!==1)do if(b--,_--,0>_||we[b]!==Le[_]){var Ge=`
`+we[b].replace(" at new "," at ");return d.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",d.displayName)),Ge}while(1<=b&&0<=_);break}}}finally{$e=!1,Error.prepareStackTrace=y}return(y=d?d.displayName||d.name:"")?Ne(y):""}function Ye(d,p){switch(d.tag){case 26:case 27:case 5:return Ne(d.type);case 16:return Ne("Lazy");case 13:return d.child!==p&&p!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return Ze(d.type,!1);case 11:return Ze(d.type.render,!1);case 1:return Ze(d.type,!0);case 31:return Ne("Activity");default:return""}}function We(d){try{var p="",y=null;do p+=Ye(d,y),y=d,d=d.return;while(d);return p}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var St=Object.prototype.hasOwnProperty,st=t.unstable_scheduleCallback,Lt=t.unstable_cancelCallback,Xt=t.unstable_shouldYield,qe=t.unstable_requestPaint,At=t.unstable_now,an=t.unstable_getCurrentPriorityLevel,_e=t.unstable_ImmediatePriority,Ve=t.unstable_UserBlockingPriority,ft=t.unstable_NormalPriority,lt=t.unstable_LowPriority,se=t.unstable_IdlePriority,J=t.log,Z=t.unstable_setDisableYieldValue,fe=null,be=null;function he(d){if(typeof J=="function"&&Z(d),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(fe,d)}catch{}}var ye=Math.clz32?Math.clz32:it,Xe=Math.log,et=Math.LN2;function it(d){return d>>>=0,d===0?32:31-(Xe(d)/et|0)|0}var Ut=256,xt=262144,Rt=4194304;function nn(d){var p=d&42;if(p!==0)return p;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Qt(d,p,y){var b=d.pendingLanes;if(b===0)return 0;var _=0,L=d.suspendedLanes,ne=d.pingedLanes;d=d.warmLanes;var de=b&134217727;return de!==0?(b=de&~L,b!==0?_=nn(b):(ne&=de,ne!==0?_=nn(ne):y||(y=de&~d,y!==0&&(_=nn(y))))):(de=b&~L,de!==0?_=nn(de):ne!==0?_=nn(ne):y||(y=b&~d,y!==0&&(_=nn(y)))),_===0?0:p!==0&&p!==_&&(p&L)===0&&(L=_&-_,y=p&-p,L>=y||L===32&&(y&4194048)!==0)?p:_}function rn(d,p){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&p)===0}function Bi(d,p){switch(d){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $n(){var d=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),d}function le(d){for(var p=[],y=0;31>y;y++)p.push(d);return p}function Q(d,p){d.pendingLanes|=p,p!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function ee(d,p,y,b,_,L){var ne=d.pendingLanes;d.pendingLanes=y,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=y,d.entangledLanes&=y,d.errorRecoveryDisabledLanes&=y,d.shellSuspendCounter=0;var de=d.entanglements,we=d.expirationTimes,Le=d.hiddenUpdates;for(y=ne&~y;0<y;){var Ge=31-ye(y),Qe=1<<Ge;de[Ge]=0,we[Ge]=-1;var Ue=Le[Ge];if(Ue!==null)for(Le[Ge]=null,Ge=0;Ge<Ue.length;Ge++){var He=Ue[Ge];He!==null&&(He.lane&=-536870913)}y&=~Qe}b!==0&&pe(d,b,0),L!==0&&_===0&&d.tag!==0&&(d.suspendedLanes|=L&~(ne&~p))}function pe(d,p,y){d.pendingLanes|=p,d.suspendedLanes&=~p;var b=31-ye(p);d.entangledLanes|=p,d.entanglements[b]=d.entanglements[b]|1073741824|y&261930}function Te(d,p){var y=d.entangledLanes|=p;for(d=d.entanglements;y;){var b=31-ye(y),_=1<<b;_&p|d[b]&p&&(d[b]|=p),y&=~_}}function Re(d,p){var y=p&-p;return y=(y&42)!==0?1:ze(y),(y&(d.suspendedLanes|p))!==0?0:y}function ze(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Kt(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function qt(){var d=$.p;return d!==0?d:(d=window.event,d===void 0?32:F9(d.type))}function Ht(d,p){var y=$.p;try{return $.p=d,p()}finally{$.p=y}}var pn=Math.random().toString(36).slice(2),mt="__reactFiber$"+pn,ct="__reactProps$"+pn,Vs="__reactContainer$"+pn,Un="__reactEvents$"+pn,mr="__reactListeners$"+pn,Rc="__reactHandles$"+pn,Cl="__reactResources$"+pn,$o="__reactMarker$"+pn;function kl(d){delete d[mt],delete d[ct],delete d[Un],delete d[mr],delete d[Rc]}function fo(d){var p=d[mt];if(p)return p;for(var y=d.parentNode;y;){if(p=y[Vs]||y[mt]){if(y=p.alternate,p.child!==null||y!==null&&y.child!==null)for(d=A9(d);d!==null;){if(y=d[mt])return y;d=A9(d)}return p}d=y,y=d.parentNode}return null}function ho(d){if(d=d[mt]||d[Vs]){var p=d.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return d}return null}function Ho(d){var p=d.tag;if(p===5||p===26||p===27||p===6)return d.stateNode;throw Error(r(33))}function po(d){var p=d[Cl];return p||(p=d[Cl]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function gr(d){d[$o]=!0}var Oc=new Set,wr={};function Gr(d,p){ns(d,p),ns(d+"Capture",p)}function ns(d,p){for(wr[d]=p,d=0;d<p.length;d++)Oc.add(p[d])}var Ch=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vm={},Gm={};function ev(d){return St.call(Gm,d)?!0:St.call(Vm,d)?!1:Ch.test(d)?Gm[d]=!0:(Vm[d]=!0,!1)}function Nd(d,p,y){if(ev(p))if(y===null)d.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":d.removeAttribute(p);return;case"boolean":var b=p.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){d.removeAttribute(p);return}}d.setAttribute(p,""+y)}}function Id(d,p,y){if(y===null)d.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(p);return}d.setAttribute(p,""+y)}}function Mc(d,p,y,b){if(b===null)d.removeAttribute(y);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(y);return}d.setAttributeNS(p,y,""+b)}}function Vo(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function lj(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function dge(d,p,y){var b=Object.getOwnPropertyDescriptor(d.constructor.prototype,p);if(!d.hasOwnProperty(p)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var _=b.get,L=b.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return _.call(this)},set:function(ne){y=""+ne,L.call(this,ne)}}),Object.defineProperty(d,p,{enumerable:b.enumerable}),{getValue:function(){return y},setValue:function(ne){y=""+ne},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function rI(d){if(!d._valueTracker){var p=lj(d)?"checked":"value";d._valueTracker=dge(d,p,""+d[p])}}function cj(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var y=p.getValue(),b="";return d&&(b=lj(d)?d.checked?"true":"false":d.value),d=b,d!==y?(p.setValue(d),!0):!1}function hE(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var fge=/[\n"\\]/g;function Go(d){return d.replace(fge,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function iI(d,p,y,b,_,L,ne,de){d.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?d.type=ne:d.removeAttribute("type"),p!=null?ne==="number"?(p===0&&d.value===""||d.value!=p)&&(d.value=""+Vo(p)):d.value!==""+Vo(p)&&(d.value=""+Vo(p)):ne!=="submit"&&ne!=="reset"||d.removeAttribute("value"),p!=null?sI(d,ne,Vo(p)):y!=null?sI(d,ne,Vo(y)):b!=null&&d.removeAttribute("value"),_==null&&L!=null&&(d.defaultChecked=!!L),_!=null&&(d.checked=_&&typeof _!="function"&&typeof _!="symbol"),de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?d.name=""+Vo(de):d.removeAttribute("name")}function uj(d,p,y,b,_,L,ne,de){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(d.type=L),p!=null||y!=null){if(!(L!=="submit"&&L!=="reset"||p!=null)){rI(d);return}y=y!=null?""+Vo(y):"",p=p!=null?""+Vo(p):y,de||p===d.value||(d.value=p),d.defaultValue=p}b=b??_,b=typeof b!="function"&&typeof b!="symbol"&&!!b,d.checked=de?d.checked:!!b,d.defaultChecked=!!b,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(d.name=ne),rI(d)}function sI(d,p,y){p==="number"&&hE(d.ownerDocument)===d||d.defaultValue===""+y||(d.defaultValue=""+y)}function qm(d,p,y,b){if(d=d.options,p){p={};for(var _=0;_<y.length;_++)p["$"+y[_]]=!0;for(y=0;y<d.length;y++)_=p.hasOwnProperty("$"+d[y].value),d[y].selected!==_&&(d[y].selected=_),_&&b&&(d[y].defaultSelected=!0)}else{for(y=""+Vo(y),p=null,_=0;_<d.length;_++){if(d[_].value===y){d[_].selected=!0,b&&(d[_].defaultSelected=!0);return}p!==null||d[_].disabled||(p=d[_])}p!==null&&(p.selected=!0)}}function dj(d,p,y){if(p!=null&&(p=""+Vo(p),p!==d.value&&(d.value=p),y==null)){d.defaultValue!==p&&(d.defaultValue=p);return}d.defaultValue=y!=null?""+Vo(y):""}function fj(d,p,y,b){if(p==null){if(b!=null){if(y!=null)throw Error(r(92));if(P(b)){if(1<b.length)throw Error(r(93));b=b[0]}y=b}y==null&&(y=""),p=y}y=Vo(p),d.defaultValue=y,b=d.textContent,b===y&&b!==""&&b!==null&&(d.value=b),rI(d)}function Km(d,p){if(p){var y=d.firstChild;if(y&&y===d.lastChild&&y.nodeType===3){y.nodeValue=p;return}}d.textContent=p}var hge=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hj(d,p,y){var b=p.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?b?d.setProperty(p,""):p==="float"?d.cssFloat="":d[p]="":b?d.setProperty(p,y):typeof y!="number"||y===0||hge.has(p)?p==="float"?d.cssFloat=y:d[p]=(""+y).trim():d[p]=y+"px"}function pj(d,p,y){if(p!=null&&typeof p!="object")throw Error(r(62));if(d=d.style,y!=null){for(var b in y)!y.hasOwnProperty(b)||p!=null&&p.hasOwnProperty(b)||(b.indexOf("--")===0?d.setProperty(b,""):b==="float"?d.cssFloat="":d[b]="");for(var _ in p)b=p[_],p.hasOwnProperty(_)&&y[_]!==b&&hj(d,_,b)}else for(var L in p)p.hasOwnProperty(L)&&hj(d,L,p[L])}function oI(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pge=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mge=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pE(d){return mge.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function Dc(){}var aI=null;function lI(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Wm=null,Ym=null;function mj(d){var p=ho(d);if(p&&(d=p.stateNode)){var y=d[ct]||null;e:switch(d=p.stateNode,p.type){case"input":if(iI(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),p=y.name,y.type==="radio"&&p!=null){for(y=d;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+Go(""+p)+'"][type="radio"]'),p=0;p<y.length;p++){var b=y[p];if(b!==d&&b.form===d.form){var _=b[ct]||null;if(!_)throw Error(r(90));iI(b,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(p=0;p<y.length;p++)b=y[p],b.form===d.form&&cj(b)}break e;case"textarea":dj(d,y.value,y.defaultValue);break e;case"select":p=y.value,p!=null&&qm(d,!!y.multiple,p,!1)}}}var cI=!1;function gj(d,p,y){if(cI)return d(p,y);cI=!0;try{var b=d(p);return b}finally{if(cI=!1,(Wm!==null||Ym!==null)&&(tS(),Wm&&(p=Wm,d=Ym,Ym=Wm=null,mj(p),d)))for(p=0;p<d.length;p++)mj(d[p])}}function tv(d,p){var y=d.stateNode;if(y===null)return null;var b=y[ct]||null;if(b===null)return null;y=b[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(d=d.type,b=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!b;break e;default:d=!1}if(d)return null;if(y&&typeof y!="function")throw Error(r(231,p,typeof y));return y}var Lc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uI=!1;if(Lc)try{var nv={};Object.defineProperty(nv,"passive",{get:function(){uI=!0}}),window.addEventListener("test",nv,nv),window.removeEventListener("test",nv,nv)}catch{uI=!1}var Pd=null,dI=null,mE=null;function yj(){if(mE)return mE;var d,p=dI,y=p.length,b,_="value"in Pd?Pd.value:Pd.textContent,L=_.length;for(d=0;d<y&&p[d]===_[d];d++);var ne=y-d;for(b=1;b<=ne&&p[y-b]===_[L-b];b++);return mE=_.slice(d,1<b?1-b:void 0)}function gE(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function yE(){return!0}function xj(){return!1}function Gs(d){function p(y,b,_,L,ne){this._reactName=y,this._targetInst=_,this.type=b,this.nativeEvent=L,this.target=ne,this.currentTarget=null;for(var de in d)d.hasOwnProperty(de)&&(y=d[de],this[de]=y?y(L):L[de]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?yE:xj,this.isPropagationStopped=xj,this}return f(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=yE)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=yE)},persist:function(){},isPersistent:yE}),p}var kh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xE=Gs(kh),rv=f({},kh,{view:0,detail:0}),gge=Gs(rv),fI,hI,iv,vE=f({},rv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mI,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==iv&&(iv&&d.type==="mousemove"?(fI=d.screenX-iv.screenX,hI=d.screenY-iv.screenY):hI=fI=0,iv=d),fI)},movementY:function(d){return"movementY"in d?d.movementY:hI}}),vj=Gs(vE),yge=f({},vE,{dataTransfer:0}),xge=Gs(yge),vge=f({},rv,{relatedTarget:0}),pI=Gs(vge),bge=f({},kh,{animationName:0,elapsedTime:0,pseudoElement:0}),wge=Gs(bge),Ege=f({},kh,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Sge=Gs(Ege),Age=f({},kh,{data:0}),bj=Gs(Age),Tge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nge(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=kge[d])?!!p[d]:!1}function mI(){return Nge}var Ige=f({},rv,{key:function(d){if(d.key){var p=Tge[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=gE(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Cge[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mI,charCode:function(d){return d.type==="keypress"?gE(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?gE(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Pge=Gs(Ige),_ge=f({},vE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wj=Gs(_ge),Rge=f({},rv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mI}),Oge=Gs(Rge),Mge=f({},kh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dge=Gs(Mge),Lge=f({},vE,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Bge=Gs(Lge),jge=f({},kh,{newState:0,oldState:0}),Uge=Gs(jge),Fge=[9,13,27,32],gI=Lc&&"CompositionEvent"in window,sv=null;Lc&&"documentMode"in document&&(sv=document.documentMode);var zge=Lc&&"TextEvent"in window&&!sv,Ej=Lc&&(!gI||sv&&8<sv&&11>=sv),Sj=" ",Aj=!1;function Tj(d,p){switch(d){case"keyup":return Fge.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cj(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Jm=!1;function $ge(d,p){switch(d){case"compositionend":return Cj(p);case"keypress":return p.which!==32?null:(Aj=!0,Sj);case"textInput":return d=p.data,d===Sj&&Aj?null:d;default:return null}}function Hge(d,p){if(Jm)return d==="compositionend"||!gI&&Tj(d,p)?(d=yj(),mE=dI=Pd=null,Jm=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Ej&&p.locale!=="ko"?null:p.data;default:return null}}var Vge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kj(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!Vge[d.type]:p==="textarea"}function Nj(d,p,y,b){Wm?Ym?Ym.push(b):Ym=[b]:Wm=b,p=lS(p,"onChange"),0<p.length&&(y=new xE("onChange","change",null,y,b),d.push({event:y,listeners:p}))}var ov=null,av=null;function Gge(d){u9(d,0)}function bE(d){var p=Ho(d);if(cj(p))return d}function Ij(d,p){if(d==="change")return p}var Pj=!1;if(Lc){var yI;if(Lc){var xI="oninput"in document;if(!xI){var _j=document.createElement("div");_j.setAttribute("oninput","return;"),xI=typeof _j.oninput=="function"}yI=xI}else yI=!1;Pj=yI&&(!document.documentMode||9<document.documentMode)}function Rj(){ov&&(ov.detachEvent("onpropertychange",Oj),av=ov=null)}function Oj(d){if(d.propertyName==="value"&&bE(av)){var p=[];Nj(p,av,d,lI(d)),gj(Gge,p)}}function qge(d,p,y){d==="focusin"?(Rj(),ov=p,av=y,ov.attachEvent("onpropertychange",Oj)):d==="focusout"&&Rj()}function Kge(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return bE(av)}function Wge(d,p){if(d==="click")return bE(p)}function Yge(d,p){if(d==="input"||d==="change")return bE(p)}function Jge(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var mo=typeof Object.is=="function"?Object.is:Jge;function lv(d,p){if(mo(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var y=Object.keys(d),b=Object.keys(p);if(y.length!==b.length)return!1;for(b=0;b<y.length;b++){var _=y[b];if(!St.call(p,_)||!mo(d[_],p[_]))return!1}return!0}function Mj(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Dj(d,p){var y=Mj(d);d=0;for(var b;y;){if(y.nodeType===3){if(b=d+y.textContent.length,d<=p&&b>=p)return{node:y,offset:p-d};d=b}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=Mj(y)}}function Lj(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?Lj(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function Bj(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var p=hE(d.document);p instanceof d.HTMLIFrameElement;){try{var y=typeof p.contentWindow.location.href=="string"}catch{y=!1}if(y)d=p.contentWindow;else break;p=hE(d.document)}return p}function vI(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}var Xge=Lc&&"documentMode"in document&&11>=document.documentMode,Xm=null,bI=null,cv=null,wI=!1;function jj(d,p,y){var b=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;wI||Xm==null||Xm!==hE(b)||(b=Xm,"selectionStart"in b&&vI(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),cv&&lv(cv,b)||(cv=b,b=lS(bI,"onSelect"),0<b.length&&(p=new xE("onSelect","select",null,p,y),d.push({event:p,listeners:b}),p.target=Xm)))}function Nh(d,p){var y={};return y[d.toLowerCase()]=p.toLowerCase(),y["Webkit"+d]="webkit"+p,y["Moz"+d]="moz"+p,y}var Qm={animationend:Nh("Animation","AnimationEnd"),animationiteration:Nh("Animation","AnimationIteration"),animationstart:Nh("Animation","AnimationStart"),transitionrun:Nh("Transition","TransitionRun"),transitionstart:Nh("Transition","TransitionStart"),transitioncancel:Nh("Transition","TransitionCancel"),transitionend:Nh("Transition","TransitionEnd")},EI={},Uj={};Lc&&(Uj=document.createElement("div").style,"AnimationEvent"in window||(delete Qm.animationend.animation,delete Qm.animationiteration.animation,delete Qm.animationstart.animation),"TransitionEvent"in window||delete Qm.transitionend.transition);function Ih(d){if(EI[d])return EI[d];if(!Qm[d])return d;var p=Qm[d],y;for(y in p)if(p.hasOwnProperty(y)&&y in Uj)return EI[d]=p[y];return d}var Fj=Ih("animationend"),zj=Ih("animationiteration"),$j=Ih("animationstart"),Qge=Ih("transitionrun"),Zge=Ih("transitionstart"),eye=Ih("transitioncancel"),Hj=Ih("transitionend"),Vj=new Map,SI="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");SI.push("scrollEnd");function Ua(d,p){Vj.set(d,p),Gr(p,[d])}var wE=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(p))return}else if(typeof Gf=="object"&&typeof Gf.emit=="function"){Gf.emit("uncaughtException",d);return}console.error(d)},qo=[],Zm=0,AI=0;function EE(){for(var d=Zm,p=AI=Zm=0;p<d;){var y=qo[p];qo[p++]=null;var b=qo[p];qo[p++]=null;var _=qo[p];qo[p++]=null;var L=qo[p];if(qo[p++]=null,b!==null&&_!==null){var ne=b.pending;ne===null?_.next=_:(_.next=ne.next,ne.next=_),b.pending=_}L!==0&&Gj(y,_,L)}}function SE(d,p,y,b){qo[Zm++]=d,qo[Zm++]=p,qo[Zm++]=y,qo[Zm++]=b,AI|=b,d.lanes|=b,d=d.alternate,d!==null&&(d.lanes|=b)}function TI(d,p,y,b){return SE(d,p,y,b),AE(d)}function Ph(d,p){return SE(d,null,null,p),AE(d)}function Gj(d,p,y){d.lanes|=y;var b=d.alternate;b!==null&&(b.lanes|=y);for(var _=!1,L=d.return;L!==null;)L.childLanes|=y,b=L.alternate,b!==null&&(b.childLanes|=y),L.tag===22&&(d=L.stateNode,d===null||d._visibility&1||(_=!0)),d=L,L=L.return;return d.tag===3?(L=d.stateNode,_&&p!==null&&(_=31-ye(y),d=L.hiddenUpdates,b=d[_],b===null?d[_]=[p]:b.push(p),p.lane=y|536870912),L):null}function AE(d){if(50<_v)throw _v=0,MP=null,Error(r(185));for(var p=d.return;p!==null;)d=p,p=d.return;return d.tag===3?d.stateNode:null}var e0={};function tye(d,p,y,b){this.tag=d,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function go(d,p,y,b){return new tye(d,p,y,b)}function CI(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Bc(d,p){var y=d.alternate;return y===null?(y=go(d.tag,p,d.key,d.mode),y.elementType=d.elementType,y.type=d.type,y.stateNode=d.stateNode,y.alternate=d,d.alternate=y):(y.pendingProps=p,y.type=d.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=d.flags&65011712,y.childLanes=d.childLanes,y.lanes=d.lanes,y.child=d.child,y.memoizedProps=d.memoizedProps,y.memoizedState=d.memoizedState,y.updateQueue=d.updateQueue,p=d.dependencies,y.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},y.sibling=d.sibling,y.index=d.index,y.ref=d.ref,y.refCleanup=d.refCleanup,y}function qj(d,p){d.flags&=65011714;var y=d.alternate;return y===null?(d.childLanes=0,d.lanes=p,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,p=y.dependencies,d.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),d}function TE(d,p,y,b,_,L){var ne=0;if(b=d,typeof d=="function")CI(d)&&(ne=1);else if(typeof d=="string")ne=oxe(d,y,W.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case F:return d=go(31,y,p,_),d.elementType=F,d.lanes=L,d;case v:return _h(y.children,_,L,p);case w:ne=8,_|=24;break;case E:return d=go(12,y,p,_|2),d.elementType=E,d.lanes=L,d;case j:return d=go(13,y,p,_),d.elementType=j,d.lanes=L,d;case M:return d=go(19,y,p,_),d.elementType=M,d.lanes=L,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case I:ne=10;break e;case k:ne=9;break e;case D:ne=11;break e;case U:ne=14;break e;case V:ne=16,b=null;break e}ne=29,y=Error(r(130,d===null?"null":typeof d,"")),b=null}return p=go(ne,y,p,_),p.elementType=d,p.type=b,p.lanes=L,p}function _h(d,p,y,b){return d=go(7,d,b,p),d.lanes=y,d}function kI(d,p,y){return d=go(6,d,null,p),d.lanes=y,d}function Kj(d){var p=go(18,null,null,0);return p.stateNode=d,p}function NI(d,p,y){return p=go(4,d.children!==null?d.children:[],d.key,p),p.lanes=y,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}var Wj=new WeakMap;function Ko(d,p){if(typeof d=="object"&&d!==null){var y=Wj.get(d);return y!==void 0?y:(p={value:d,source:p,stack:We(p)},Wj.set(d,p),p)}return{value:d,source:p,stack:We(p)}}var t0=[],n0=0,CE=null,uv=0,Wo=[],Yo=0,_d=null,Nl=1,Il="";function jc(d,p){t0[n0++]=uv,t0[n0++]=CE,CE=d,uv=p}function Yj(d,p,y){Wo[Yo++]=Nl,Wo[Yo++]=Il,Wo[Yo++]=_d,_d=d;var b=Nl;d=Il;var _=32-ye(b)-1;b&=~(1<<_),y+=1;var L=32-ye(p)+_;if(30<L){var ne=_-_%5;L=(b&(1<<ne)-1).toString(32),b>>=ne,_-=ne,Nl=1<<32-ye(p)+_|y<<_|b,Il=L+d}else Nl=1<<L|y<<_|b,Il=d}function II(d){d.return!==null&&(jc(d,1),Yj(d,1,0))}function PI(d){for(;d===CE;)CE=t0[--n0],t0[n0]=null,uv=t0[--n0],t0[n0]=null;for(;d===_d;)_d=Wo[--Yo],Wo[Yo]=null,Il=Wo[--Yo],Wo[Yo]=null,Nl=Wo[--Yo],Wo[Yo]=null}function Jj(d,p){Wo[Yo++]=Nl,Wo[Yo++]=Il,Wo[Yo++]=_d,Nl=p.id,Il=p.overflow,_d=d}var ji=null,yr=null,Tn=!1,Rd=null,Jo=!1,_I=Error(r(519));function Od(d){var p=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dv(Ko(p,d)),_I}function Xj(d){var p=d.stateNode,y=d.type,b=d.memoizedProps;switch(p[mt]=d,p[ct]=b,y){case"dialog":vn("cancel",p),vn("close",p);break;case"iframe":case"object":case"embed":vn("load",p);break;case"video":case"audio":for(y=0;y<Ov.length;y++)vn(Ov[y],p);break;case"source":vn("error",p);break;case"img":case"image":case"link":vn("error",p),vn("load",p);break;case"details":vn("toggle",p);break;case"input":vn("invalid",p),uj(p,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":vn("invalid",p);break;case"textarea":vn("invalid",p),fj(p,b.value,b.defaultValue,b.children)}y=b.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||p.textContent===""+y||b.suppressHydrationWarning===!0||p9(p.textContent,y)?(b.popover!=null&&(vn("beforetoggle",p),vn("toggle",p)),b.onScroll!=null&&vn("scroll",p),b.onScrollEnd!=null&&vn("scrollend",p),b.onClick!=null&&(p.onclick=Dc),p=!0):p=!1,p||Od(d,!0)}function Qj(d){for(ji=d.return;ji;)switch(ji.tag){case 5:case 31:case 13:Jo=!1;return;case 27:case 3:Jo=!0;return;default:ji=ji.return}}function r0(d){if(d!==ji)return!1;if(!Tn)return Qj(d),Tn=!0,!1;var p=d.tag,y;if((y=p!==3&&p!==27)&&((y=p===5)&&(y=d.type,y=!(y!=="form"&&y!=="button")||YP(d.type,d.memoizedProps)),y=!y),y&&yr&&Od(d),Qj(d),p===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));yr=S9(d)}else if(p===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));yr=S9(d)}else p===27?(p=yr,Kd(d.type)?(d=e_,e_=null,yr=d):yr=p):yr=ji?Qo(d.stateNode.nextSibling):null;return!0}function Rh(){yr=ji=null,Tn=!1}function RI(){var d=Rd;return d!==null&&(Ys===null?Ys=d:Ys.push.apply(Ys,d),Rd=null),d}function dv(d){Rd===null?Rd=[d]:Rd.push(d)}var OI=G(null),Oh=null,Uc=null;function Md(d,p,y){N(OI,p._currentValue),p._currentValue=y}function Fc(d){d._currentValue=OI.current,O(OI)}function MI(d,p,y){for(;d!==null;){var b=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,b!==null&&(b.childLanes|=p)):b!==null&&(b.childLanes&p)!==p&&(b.childLanes|=p),d===y)break;d=d.return}}function DI(d,p,y,b){var _=d.child;for(_!==null&&(_.return=d);_!==null;){var L=_.dependencies;if(L!==null){var ne=_.child;L=L.firstContext;e:for(;L!==null;){var de=L;L=_;for(var we=0;we<p.length;we++)if(de.context===p[we]){L.lanes|=y,de=L.alternate,de!==null&&(de.lanes|=y),MI(L.return,y,d),b||(ne=null);break e}L=de.next}}else if(_.tag===18){if(ne=_.return,ne===null)throw Error(r(341));ne.lanes|=y,L=ne.alternate,L!==null&&(L.lanes|=y),MI(ne,y,d),ne=null}else ne=_.child;if(ne!==null)ne.return=_;else for(ne=_;ne!==null;){if(ne===d){ne=null;break}if(_=ne.sibling,_!==null){_.return=ne.return,ne=_;break}ne=ne.return}_=ne}}function i0(d,p,y,b){d=null;for(var _=p,L=!1;_!==null;){if(!L){if((_.flags&524288)!==0)L=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var ne=_.alternate;if(ne===null)throw Error(r(387));if(ne=ne.memoizedProps,ne!==null){var de=_.type;mo(_.pendingProps.value,ne.value)||(d!==null?d.push(de):d=[de])}}else if(_===ae.current){if(ne=_.alternate,ne===null)throw Error(r(387));ne.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(d!==null?d.push(jv):d=[jv])}_=_.return}d!==null&&DI(p,d,y,b),p.flags|=262144}function kE(d){for(d=d.firstContext;d!==null;){if(!mo(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Mh(d){Oh=d,Uc=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function Ui(d){return Zj(Oh,d)}function NE(d,p){return Oh===null&&Mh(d),Zj(d,p)}function Zj(d,p){var y=p._currentValue;if(p={context:p,memoizedValue:y,next:null},Uc===null){if(d===null)throw Error(r(308));Uc=p,d.dependencies={lanes:0,firstContext:p},d.flags|=524288}else Uc=Uc.next=p;return y}var nye=typeof AbortController<"u"?AbortController:function(){var d=[],p=this.signal={aborted:!1,addEventListener:function(y,b){d.push(b)}};this.abort=function(){p.aborted=!0,d.forEach(function(y){return y()})}},rye=t.unstable_scheduleCallback,iye=t.unstable_NormalPriority,ti={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function LI(){return{controller:new nye,data:new Map,refCount:0}}function fv(d){d.refCount--,d.refCount===0&&rye(iye,function(){d.controller.abort()})}var hv=null,BI=0,s0=0,o0=null;function sye(d,p){if(hv===null){var y=hv=[];BI=0,s0=FP(),o0={status:"pending",value:void 0,then:function(b){y.push(b)}}}return BI++,p.then(eU,eU),p}function eU(){if(--BI===0&&hv!==null){o0!==null&&(o0.status="fulfilled");var d=hv;hv=null,s0=0,o0=null;for(var p=0;p<d.length;p++)(0,d[p])()}}function oye(d,p){var y=[],b={status:"pending",value:null,reason:null,then:function(_){y.push(_)}};return d.then(function(){b.status="fulfilled",b.value=p;for(var _=0;_<y.length;_++)(0,y[_])(p)},function(_){for(b.status="rejected",b.reason=_,_=0;_<y.length;_++)(0,y[_])(void 0)}),b}var tU=R.S;R.S=function(d,p){jF=At(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&sye(d,p),tU!==null&&tU(d,p)};var Dh=G(null);function jI(){var d=Dh.current;return d!==null?d:rr.pooledCache}function IE(d,p){p===null?N(Dh,Dh.current):N(Dh,p.pool)}function nU(){var d=jI();return d===null?null:{parent:ti._currentValue,pool:d}}var a0=Error(r(460)),UI=Error(r(474)),PE=Error(r(542)),_E={then:function(){}};function rU(d){return d=d.status,d==="fulfilled"||d==="rejected"}function iU(d,p,y){switch(y=d[y],y===void 0?d.push(p):y!==p&&(p.then(Dc,Dc),p=y),p.status){case"fulfilled":return p.value;case"rejected":throw d=p.reason,oU(d),d;default:if(typeof p.status=="string")p.then(Dc,Dc);else{if(d=rr,d!==null&&100<d.shellSuspendCounter)throw Error(r(482));d=p,d.status="pending",d.then(function(b){if(p.status==="pending"){var _=p;_.status="fulfilled",_.value=b}},function(b){if(p.status==="pending"){var _=p;_.status="rejected",_.reason=b}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw d=p.reason,oU(d),d}throw Bh=p,a0}}function Lh(d){try{var p=d._init;return p(d._payload)}catch(y){throw y!==null&&typeof y=="object"&&typeof y.then=="function"?(Bh=y,a0):y}}var Bh=null;function sU(){if(Bh===null)throw Error(r(459));var d=Bh;return Bh=null,d}function oU(d){if(d===a0||d===PE)throw Error(r(483))}var l0=null,pv=0;function RE(d){var p=pv;return pv+=1,l0===null&&(l0=[]),iU(l0,d,p)}function mv(d,p){p=p.props.ref,d.ref=p!==void 0?p:null}function OE(d,p){throw p.$$typeof===m?Error(r(525)):(d=Object.prototype.toString.call(p),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d)))}function aU(d){function p(Ie,Ae){if(d){var De=Ie.deletions;De===null?(Ie.deletions=[Ae],Ie.flags|=16):De.push(Ae)}}function y(Ie,Ae){if(!d)return null;for(;Ae!==null;)p(Ie,Ae),Ae=Ae.sibling;return null}function b(Ie){for(var Ae=new Map;Ie!==null;)Ie.key!==null?Ae.set(Ie.key,Ie):Ae.set(Ie.index,Ie),Ie=Ie.sibling;return Ae}function _(Ie,Ae){return Ie=Bc(Ie,Ae),Ie.index=0,Ie.sibling=null,Ie}function L(Ie,Ae,De){return Ie.index=De,d?(De=Ie.alternate,De!==null?(De=De.index,De<Ae?(Ie.flags|=67108866,Ae):De):(Ie.flags|=67108866,Ae)):(Ie.flags|=1048576,Ae)}function ne(Ie){return d&&Ie.alternate===null&&(Ie.flags|=67108866),Ie}function de(Ie,Ae,De,Je){return Ae===null||Ae.tag!==6?(Ae=kI(De,Ie.mode,Je),Ae.return=Ie,Ae):(Ae=_(Ae,De),Ae.return=Ie,Ae)}function we(Ie,Ae,De,Je){var Bt=De.type;return Bt===v?Ge(Ie,Ae,De.props.children,Je,De.key):Ae!==null&&(Ae.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===V&&Lh(Bt)===Ae.type)?(Ae=_(Ae,De.props),mv(Ae,De),Ae.return=Ie,Ae):(Ae=TE(De.type,De.key,De.props,null,Ie.mode,Je),mv(Ae,De),Ae.return=Ie,Ae)}function Le(Ie,Ae,De,Je){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==De.containerInfo||Ae.stateNode.implementation!==De.implementation?(Ae=NI(De,Ie.mode,Je),Ae.return=Ie,Ae):(Ae=_(Ae,De.children||[]),Ae.return=Ie,Ae)}function Ge(Ie,Ae,De,Je,Bt){return Ae===null||Ae.tag!==7?(Ae=_h(De,Ie.mode,Je,Bt),Ae.return=Ie,Ae):(Ae=_(Ae,De),Ae.return=Ie,Ae)}function Qe(Ie,Ae,De){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Ae=kI(""+Ae,Ie.mode,De),Ae.return=Ie,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case g:return De=TE(Ae.type,Ae.key,Ae.props,null,Ie.mode,De),mv(De,Ae),De.return=Ie,De;case x:return Ae=NI(Ae,Ie.mode,De),Ae.return=Ie,Ae;case V:return Ae=Lh(Ae),Qe(Ie,Ae,De)}if(P(Ae)||H(Ae))return Ae=_h(Ae,Ie.mode,De,null),Ae.return=Ie,Ae;if(typeof Ae.then=="function")return Qe(Ie,RE(Ae),De);if(Ae.$$typeof===I)return Qe(Ie,NE(Ie,Ae),De);OE(Ie,Ae)}return null}function Ue(Ie,Ae,De,Je){var Bt=Ae!==null?Ae.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return Bt!==null?null:de(Ie,Ae,""+De,Je);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case g:return De.key===Bt?we(Ie,Ae,De,Je):null;case x:return De.key===Bt?Le(Ie,Ae,De,Je):null;case V:return De=Lh(De),Ue(Ie,Ae,De,Je)}if(P(De)||H(De))return Bt!==null?null:Ge(Ie,Ae,De,Je,null);if(typeof De.then=="function")return Ue(Ie,Ae,RE(De),Je);if(De.$$typeof===I)return Ue(Ie,Ae,NE(Ie,De),Je);OE(Ie,De)}return null}function He(Ie,Ae,De,Je,Bt){if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return Ie=Ie.get(De)||null,de(Ae,Ie,""+Je,Bt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case g:return Ie=Ie.get(Je.key===null?De:Je.key)||null,we(Ae,Ie,Je,Bt);case x:return Ie=Ie.get(Je.key===null?De:Je.key)||null,Le(Ae,Ie,Je,Bt);case V:return Je=Lh(Je),He(Ie,Ae,De,Je,Bt)}if(P(Je)||H(Je))return Ie=Ie.get(De)||null,Ge(Ae,Ie,Je,Bt,null);if(typeof Je.then=="function")return He(Ie,Ae,De,RE(Je),Bt);if(Je.$$typeof===I)return He(Ie,Ae,De,NE(Ae,Je),Bt);OE(Ae,Je)}return null}function kt(Ie,Ae,De,Je){for(var Bt=null,On=null,Ot=Ae,ln=Ae=0,An=null;Ot!==null&&ln<De.length;ln++){Ot.index>ln?(An=Ot,Ot=null):An=Ot.sibling;var Mn=Ue(Ie,Ot,De[ln],Je);if(Mn===null){Ot===null&&(Ot=An);break}d&&Ot&&Mn.alternate===null&&p(Ie,Ot),Ae=L(Mn,Ae,ln),On===null?Bt=Mn:On.sibling=Mn,On=Mn,Ot=An}if(ln===De.length)return y(Ie,Ot),Tn&&jc(Ie,ln),Bt;if(Ot===null){for(;ln<De.length;ln++)Ot=Qe(Ie,De[ln],Je),Ot!==null&&(Ae=L(Ot,Ae,ln),On===null?Bt=Ot:On.sibling=Ot,On=Ot);return Tn&&jc(Ie,ln),Bt}for(Ot=b(Ot);ln<De.length;ln++)An=He(Ot,Ie,ln,De[ln],Je),An!==null&&(d&&An.alternate!==null&&Ot.delete(An.key===null?ln:An.key),Ae=L(An,Ae,ln),On===null?Bt=An:On.sibling=An,On=An);return d&&Ot.forEach(function(Qd){return p(Ie,Qd)}),Tn&&jc(Ie,ln),Bt}function Gt(Ie,Ae,De,Je){if(De==null)throw Error(r(151));for(var Bt=null,On=null,Ot=Ae,ln=Ae=0,An=null,Mn=De.next();Ot!==null&&!Mn.done;ln++,Mn=De.next()){Ot.index>ln?(An=Ot,Ot=null):An=Ot.sibling;var Qd=Ue(Ie,Ot,Mn.value,Je);if(Qd===null){Ot===null&&(Ot=An);break}d&&Ot&&Qd.alternate===null&&p(Ie,Ot),Ae=L(Qd,Ae,ln),On===null?Bt=Qd:On.sibling=Qd,On=Qd,Ot=An}if(Mn.done)return y(Ie,Ot),Tn&&jc(Ie,ln),Bt;if(Ot===null){for(;!Mn.done;ln++,Mn=De.next())Mn=Qe(Ie,Mn.value,Je),Mn!==null&&(Ae=L(Mn,Ae,ln),On===null?Bt=Mn:On.sibling=Mn,On=Mn);return Tn&&jc(Ie,ln),Bt}for(Ot=b(Ot);!Mn.done;ln++,Mn=De.next())Mn=He(Ot,Ie,ln,Mn.value,Je),Mn!==null&&(d&&Mn.alternate!==null&&Ot.delete(Mn.key===null?ln:Mn.key),Ae=L(Mn,Ae,ln),On===null?Bt=Mn:On.sibling=Mn,On=Mn);return d&&Ot.forEach(function(yxe){return p(Ie,yxe)}),Tn&&jc(Ie,ln),Bt}function Zn(Ie,Ae,De,Je){if(typeof De=="object"&&De!==null&&De.type===v&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case g:e:{for(var Bt=De.key;Ae!==null;){if(Ae.key===Bt){if(Bt=De.type,Bt===v){if(Ae.tag===7){y(Ie,Ae.sibling),Je=_(Ae,De.props.children),Je.return=Ie,Ie=Je;break e}}else if(Ae.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===V&&Lh(Bt)===Ae.type){y(Ie,Ae.sibling),Je=_(Ae,De.props),mv(Je,De),Je.return=Ie,Ie=Je;break e}y(Ie,Ae);break}else p(Ie,Ae);Ae=Ae.sibling}De.type===v?(Je=_h(De.props.children,Ie.mode,Je,De.key),Je.return=Ie,Ie=Je):(Je=TE(De.type,De.key,De.props,null,Ie.mode,Je),mv(Je,De),Je.return=Ie,Ie=Je)}return ne(Ie);case x:e:{for(Bt=De.key;Ae!==null;){if(Ae.key===Bt)if(Ae.tag===4&&Ae.stateNode.containerInfo===De.containerInfo&&Ae.stateNode.implementation===De.implementation){y(Ie,Ae.sibling),Je=_(Ae,De.children||[]),Je.return=Ie,Ie=Je;break e}else{y(Ie,Ae);break}else p(Ie,Ae);Ae=Ae.sibling}Je=NI(De,Ie.mode,Je),Je.return=Ie,Ie=Je}return ne(Ie);case V:return De=Lh(De),Zn(Ie,Ae,De,Je)}if(P(De))return kt(Ie,Ae,De,Je);if(H(De)){if(Bt=H(De),typeof Bt!="function")throw Error(r(150));return De=Bt.call(De),Gt(Ie,Ae,De,Je)}if(typeof De.then=="function")return Zn(Ie,Ae,RE(De),Je);if(De.$$typeof===I)return Zn(Ie,Ae,NE(Ie,De),Je);OE(Ie,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,Ae!==null&&Ae.tag===6?(y(Ie,Ae.sibling),Je=_(Ae,De),Je.return=Ie,Ie=Je):(y(Ie,Ae),Je=kI(De,Ie.mode,Je),Je.return=Ie,Ie=Je),ne(Ie)):y(Ie,Ae)}return function(Ie,Ae,De,Je){try{pv=0;var Bt=Zn(Ie,Ae,De,Je);return l0=null,Bt}catch(Ot){if(Ot===a0||Ot===PE)throw Ot;var On=go(29,Ot,null,Ie.mode);return On.lanes=Je,On.return=Ie,On}finally{}}}var jh=aU(!0),lU=aU(!1),Dd=!1;function FI(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zI(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Ld(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function Bd(d,p,y){var b=d.updateQueue;if(b===null)return null;if(b=b.shared,(Fn&2)!==0){var _=b.pending;return _===null?p.next=p:(p.next=_.next,_.next=p),b.pending=p,p=AE(d),Gj(d,null,y),p}return SE(d,b,p,y),AE(d)}function gv(d,p,y){if(p=p.updateQueue,p!==null&&(p=p.shared,(y&4194048)!==0)){var b=p.lanes;b&=d.pendingLanes,y|=b,p.lanes=y,Te(d,y)}}function $I(d,p){var y=d.updateQueue,b=d.alternate;if(b!==null&&(b=b.updateQueue,y===b)){var _=null,L=null;if(y=y.firstBaseUpdate,y!==null){do{var ne={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};L===null?_=L=ne:L=L.next=ne,y=y.next}while(y!==null);L===null?_=L=p:L=L.next=p}else _=L=p;y={baseState:b.baseState,firstBaseUpdate:_,lastBaseUpdate:L,shared:b.shared,callbacks:b.callbacks},d.updateQueue=y;return}d=y.lastBaseUpdate,d===null?y.firstBaseUpdate=p:d.next=p,y.lastBaseUpdate=p}var HI=!1;function yv(){if(HI){var d=o0;if(d!==null)throw d}}function xv(d,p,y,b){HI=!1;var _=d.updateQueue;Dd=!1;var L=_.firstBaseUpdate,ne=_.lastBaseUpdate,de=_.shared.pending;if(de!==null){_.shared.pending=null;var we=de,Le=we.next;we.next=null,ne===null?L=Le:ne.next=Le,ne=we;var Ge=d.alternate;Ge!==null&&(Ge=Ge.updateQueue,de=Ge.lastBaseUpdate,de!==ne&&(de===null?Ge.firstBaseUpdate=Le:de.next=Le,Ge.lastBaseUpdate=we))}if(L!==null){var Qe=_.baseState;ne=0,Ge=Le=we=null,de=L;do{var Ue=de.lane&-536870913,He=Ue!==de.lane;if(He?(Sn&Ue)===Ue:(b&Ue)===Ue){Ue!==0&&Ue===s0&&(HI=!0),Ge!==null&&(Ge=Ge.next={lane:0,tag:de.tag,payload:de.payload,callback:null,next:null});e:{var kt=d,Gt=de;Ue=p;var Zn=y;switch(Gt.tag){case 1:if(kt=Gt.payload,typeof kt=="function"){Qe=kt.call(Zn,Qe,Ue);break e}Qe=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Gt.payload,Ue=typeof kt=="function"?kt.call(Zn,Qe,Ue):kt,Ue==null)break e;Qe=f({},Qe,Ue);break e;case 2:Dd=!0}}Ue=de.callback,Ue!==null&&(d.flags|=64,He&&(d.flags|=8192),He=_.callbacks,He===null?_.callbacks=[Ue]:He.push(Ue))}else He={lane:Ue,tag:de.tag,payload:de.payload,callback:de.callback,next:null},Ge===null?(Le=Ge=He,we=Qe):Ge=Ge.next=He,ne|=Ue;if(de=de.next,de===null){if(de=_.shared.pending,de===null)break;He=de,de=He.next,He.next=null,_.lastBaseUpdate=He,_.shared.pending=null}}while(!0);Ge===null&&(we=Qe),_.baseState=we,_.firstBaseUpdate=Le,_.lastBaseUpdate=Ge,L===null&&(_.shared.lanes=0),$d|=ne,d.lanes=ne,d.memoizedState=Qe}}function cU(d,p){if(typeof d!="function")throw Error(r(191,d));d.call(p)}function uU(d,p){var y=d.callbacks;if(y!==null)for(d.callbacks=null,d=0;d<y.length;d++)cU(y[d],p)}var c0=G(null),ME=G(0);function dU(d,p){d=Yc,N(ME,d),N(c0,p),Yc=d|p.baseLanes}function VI(){N(ME,Yc),N(c0,c0.current)}function GI(){Yc=ME.current,O(c0),O(ME)}var yo=G(null),Xo=null;function jd(d){var p=d.alternate;N(qr,qr.current&1),N(yo,d),Xo===null&&(p===null||c0.current!==null||p.memoizedState!==null)&&(Xo=d)}function qI(d){N(qr,qr.current),N(yo,d),Xo===null&&(Xo=d)}function fU(d){d.tag===22?(N(qr,qr.current),N(yo,d),Xo===null&&(Xo=d)):Ud()}function Ud(){N(qr,qr.current),N(yo,yo.current)}function xo(d){O(yo),Xo===d&&(Xo=null),O(qr)}var qr=G(0);function DE(d){for(var p=d;p!==null;){if(p.tag===13){var y=p.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||QP(y)||ZP(y)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var zc=0,sn=null,Xn=null,ni=null,LE=!1,u0=!1,Uh=!1,BE=0,vv=0,d0=null,aye=0;function Lr(){throw Error(r(321))}function KI(d,p){if(p===null)return!1;for(var y=0;y<p.length&&y<d.length;y++)if(!mo(d[y],p[y]))return!1;return!0}function WI(d,p,y,b,_,L){return zc=L,sn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,R.H=d===null||d.memoizedState===null?YU:cP,Uh=!1,L=y(b,_),Uh=!1,u0&&(L=pU(p,y,b,_)),hU(d),L}function hU(d){R.H=Ev;var p=Xn!==null&&Xn.next!==null;if(zc=0,ni=Xn=sn=null,LE=!1,vv=0,d0=null,p)throw Error(r(300));d===null||ri||(d=d.dependencies,d!==null&&kE(d)&&(ri=!0))}function pU(d,p,y,b){sn=d;var _=0;do{if(u0&&(d0=null),vv=0,u0=!1,25<=_)throw Error(r(301));if(_+=1,ni=Xn=null,d.updateQueue!=null){var L=d.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}R.H=JU,L=p(y,b)}while(u0);return L}function lye(){var d=R.H,p=d.useState()[0];return p=typeof p.then=="function"?bv(p):p,d=d.useState()[0],(Xn!==null?Xn.memoizedState:null)!==d&&(sn.flags|=1024),p}function YI(){var d=BE!==0;return BE=0,d}function JI(d,p,y){p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~y}function XI(d){if(LE){for(d=d.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}LE=!1}zc=0,ni=Xn=sn=null,u0=!1,vv=BE=0,d0=null}function Ts(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ni===null?sn.memoizedState=ni=d:ni=ni.next=d,ni}function Kr(){if(Xn===null){var d=sn.alternate;d=d!==null?d.memoizedState:null}else d=Xn.next;var p=ni===null?sn.memoizedState:ni.next;if(p!==null)ni=p,Xn=d;else{if(d===null)throw sn.alternate===null?Error(r(467)):Error(r(310));Xn=d,d={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},ni===null?sn.memoizedState=ni=d:ni=ni.next=d}return ni}function jE(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bv(d){var p=vv;return vv+=1,d0===null&&(d0=[]),d=iU(d0,d,p),p=sn,(ni===null?p.memoizedState:ni.next)===null&&(p=p.alternate,R.H=p===null||p.memoizedState===null?YU:cP),d}function UE(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return bv(d);if(d.$$typeof===I)return Ui(d)}throw Error(r(438,String(d)))}function QI(d){var p=null,y=sn.updateQueue;if(y!==null&&(p=y.memoCache),p==null){var b=sn.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(p={data:b.data.map(function(_){return _.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),y===null&&(y=jE(),sn.updateQueue=y),y.memoCache=p,y=p.data[p.index],y===void 0)for(y=p.data[p.index]=Array(d),b=0;b<d;b++)y[b]=z;return p.index++,y}function $c(d,p){return typeof p=="function"?p(d):p}function FE(d){var p=Kr();return ZI(p,Xn,d)}function ZI(d,p,y){var b=d.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=y;var _=d.baseQueue,L=b.pending;if(L!==null){if(_!==null){var ne=_.next;_.next=L.next,L.next=ne}p.baseQueue=_=L,b.pending=null}if(L=d.baseState,_===null)d.memoizedState=L;else{p=_.next;var de=ne=null,we=null,Le=p,Ge=!1;do{var Qe=Le.lane&-536870913;if(Qe!==Le.lane?(Sn&Qe)===Qe:(zc&Qe)===Qe){var Ue=Le.revertLane;if(Ue===0)we!==null&&(we=we.next={lane:0,revertLane:0,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),Qe===s0&&(Ge=!0);else if((zc&Ue)===Ue){Le=Le.next,Ue===s0&&(Ge=!0);continue}else Qe={lane:0,revertLane:Le.revertLane,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},we===null?(de=we=Qe,ne=L):we=we.next=Qe,sn.lanes|=Ue,$d|=Ue;Qe=Le.action,Uh&&y(L,Qe),L=Le.hasEagerState?Le.eagerState:y(L,Qe)}else Ue={lane:Qe,revertLane:Le.revertLane,gesture:Le.gesture,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},we===null?(de=we=Ue,ne=L):we=we.next=Ue,sn.lanes|=Qe,$d|=Qe;Le=Le.next}while(Le!==null&&Le!==p);if(we===null?ne=L:we.next=de,!mo(L,d.memoizedState)&&(ri=!0,Ge&&(y=o0,y!==null)))throw y;d.memoizedState=L,d.baseState=ne,d.baseQueue=we,b.lastRenderedState=L}return _===null&&(b.lanes=0),[d.memoizedState,b.dispatch]}function eP(d){var p=Kr(),y=p.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=d;var b=y.dispatch,_=y.pending,L=p.memoizedState;if(_!==null){y.pending=null;var ne=_=_.next;do L=d(L,ne.action),ne=ne.next;while(ne!==_);mo(L,p.memoizedState)||(ri=!0),p.memoizedState=L,p.baseQueue===null&&(p.baseState=L),y.lastRenderedState=L}return[L,b]}function mU(d,p,y){var b=sn,_=Kr(),L=Tn;if(L){if(y===void 0)throw Error(r(407));y=y()}else y=p();var ne=!mo((Xn||_).memoizedState,y);if(ne&&(_.memoizedState=y,ri=!0),_=_.queue,rP(xU.bind(null,b,_,d),[d]),_.getSnapshot!==p||ne||ni!==null&&ni.memoizedState.tag&1){if(b.flags|=2048,f0(9,{destroy:void 0},yU.bind(null,b,_,y,p),null),rr===null)throw Error(r(349));L||(zc&127)!==0||gU(b,p,y)}return y}function gU(d,p,y){d.flags|=16384,d={getSnapshot:p,value:y},p=sn.updateQueue,p===null?(p=jE(),sn.updateQueue=p,p.stores=[d]):(y=p.stores,y===null?p.stores=[d]:y.push(d))}function yU(d,p,y,b){p.value=y,p.getSnapshot=b,vU(p)&&bU(d)}function xU(d,p,y){return y(function(){vU(p)&&bU(d)})}function vU(d){var p=d.getSnapshot;d=d.value;try{var y=p();return!mo(d,y)}catch{return!0}}function bU(d){var p=Ph(d,2);p!==null&&Js(p,d,2)}function tP(d){var p=Ts();if(typeof d=="function"){var y=d;if(d=y(),Uh){he(!0);try{y()}finally{he(!1)}}}return p.memoizedState=p.baseState=d,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:d},p}function wU(d,p,y,b){return d.baseState=y,ZI(d,Xn,typeof b=="function"?b:$c)}function cye(d,p,y,b,_){if(HE(d))throw Error(r(485));if(d=p.action,d!==null){var L={payload:_,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){L.listeners.push(ne)}};R.T!==null?y(!0):L.isTransition=!1,b(L),y=p.pending,y===null?(L.next=p.pending=L,EU(p,L)):(L.next=y.next,p.pending=y.next=L)}}function EU(d,p){var y=p.action,b=p.payload,_=d.state;if(p.isTransition){var L=R.T,ne={};R.T=ne;try{var de=y(_,b),we=R.S;we!==null&&we(ne,de),SU(d,p,de)}catch(Le){nP(d,p,Le)}finally{L!==null&&ne.types!==null&&(L.types=ne.types),R.T=L}}else try{L=y(_,b),SU(d,p,L)}catch(Le){nP(d,p,Le)}}function SU(d,p,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(b){AU(d,p,b)},function(b){return nP(d,p,b)}):AU(d,p,y)}function AU(d,p,y){p.status="fulfilled",p.value=y,TU(p),d.state=y,p=d.pending,p!==null&&(y=p.next,y===p?d.pending=null:(y=y.next,p.next=y,EU(d,y)))}function nP(d,p,y){var b=d.pending;if(d.pending=null,b!==null){b=b.next;do p.status="rejected",p.reason=y,TU(p),p=p.next;while(p!==b)}d.action=null}function TU(d){d=d.listeners;for(var p=0;p<d.length;p++)(0,d[p])()}function CU(d,p){return p}function kU(d,p){if(Tn){var y=rr.formState;if(y!==null){e:{var b=sn;if(Tn){if(yr){t:{for(var _=yr,L=Jo;_.nodeType!==8;){if(!L){_=null;break t}if(_=Qo(_.nextSibling),_===null){_=null;break t}}L=_.data,_=L==="F!"||L==="F"?_:null}if(_){yr=Qo(_.nextSibling),b=_.data==="F!";break e}}Od(b)}b=!1}b&&(p=y[0])}}return y=Ts(),y.memoizedState=y.baseState=p,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CU,lastRenderedState:p},y.queue=b,y=qU.bind(null,sn,b),b.dispatch=y,b=tP(!1),L=lP.bind(null,sn,!1,b.queue),b=Ts(),_={state:p,dispatch:null,action:d,pending:null},b.queue=_,y=cye.bind(null,sn,_,L,y),_.dispatch=y,b.memoizedState=d,[p,y,!1]}function NU(d){var p=Kr();return IU(p,Xn,d)}function IU(d,p,y){if(p=ZI(d,p,CU)[0],d=FE($c)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var b=bv(p)}catch(ne){throw ne===a0?PE:ne}else b=p;p=Kr();var _=p.queue,L=_.dispatch;return y!==p.memoizedState&&(sn.flags|=2048,f0(9,{destroy:void 0},uye.bind(null,_,y),null)),[b,L,d]}function uye(d,p){d.action=p}function PU(d){var p=Kr(),y=Xn;if(y!==null)return IU(p,y,d);Kr(),p=p.memoizedState,y=Kr();var b=y.queue.dispatch;return y.memoizedState=d,[p,b,!1]}function f0(d,p,y,b){return d={tag:d,create:y,deps:b,inst:p,next:null},p=sn.updateQueue,p===null&&(p=jE(),sn.updateQueue=p),y=p.lastEffect,y===null?p.lastEffect=d.next=d:(b=y.next,y.next=d,d.next=b,p.lastEffect=d),d}function _U(){return Kr().memoizedState}function zE(d,p,y,b){var _=Ts();sn.flags|=d,_.memoizedState=f0(1|p,{destroy:void 0},y,b===void 0?null:b)}function $E(d,p,y,b){var _=Kr();b=b===void 0?null:b;var L=_.memoizedState.inst;Xn!==null&&b!==null&&KI(b,Xn.memoizedState.deps)?_.memoizedState=f0(p,L,y,b):(sn.flags|=d,_.memoizedState=f0(1|p,L,y,b))}function RU(d,p){zE(8390656,8,d,p)}function rP(d,p){$E(2048,8,d,p)}function dye(d){sn.flags|=4;var p=sn.updateQueue;if(p===null)p=jE(),sn.updateQueue=p,p.events=[d];else{var y=p.events;y===null?p.events=[d]:y.push(d)}}function OU(d){var p=Kr().memoizedState;return dye({ref:p,nextImpl:d}),function(){if((Fn&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}function MU(d,p){return $E(4,2,d,p)}function DU(d,p){return $E(4,4,d,p)}function LU(d,p){if(typeof p=="function"){d=d();var y=p(d);return function(){typeof y=="function"?y():p(null)}}if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function BU(d,p,y){y=y!=null?y.concat([d]):null,$E(4,4,LU.bind(null,p,d),y)}function iP(){}function jU(d,p){var y=Kr();p=p===void 0?null:p;var b=y.memoizedState;return p!==null&&KI(p,b[1])?b[0]:(y.memoizedState=[d,p],d)}function UU(d,p){var y=Kr();p=p===void 0?null:p;var b=y.memoizedState;if(p!==null&&KI(p,b[1]))return b[0];if(b=d(),Uh){he(!0);try{d()}finally{he(!1)}}return y.memoizedState=[b,p],b}function sP(d,p,y){return y===void 0||(zc&1073741824)!==0&&(Sn&261930)===0?d.memoizedState=p:(d.memoizedState=y,d=FF(),sn.lanes|=d,$d|=d,y)}function FU(d,p,y,b){return mo(y,p)?y:c0.current!==null?(d=sP(d,y,b),mo(d,p)||(ri=!0),d):(zc&42)===0||(zc&1073741824)!==0&&(Sn&261930)===0?(ri=!0,d.memoizedState=y):(d=FF(),sn.lanes|=d,$d|=d,p)}function zU(d,p,y,b,_){var L=$.p;$.p=L!==0&&8>L?L:8;var ne=R.T,de={};R.T=de,lP(d,!1,p,y);try{var we=_(),Le=R.S;if(Le!==null&&Le(de,we),we!==null&&typeof we=="object"&&typeof we.then=="function"){var Ge=oye(we,b);wv(d,p,Ge,wo(d))}else wv(d,p,b,wo(d))}catch(Qe){wv(d,p,{then:function(){},status:"rejected",reason:Qe},wo())}finally{$.p=L,ne!==null&&de.types!==null&&(ne.types=de.types),R.T=ne}}function fye(){}function oP(d,p,y,b){if(d.tag!==5)throw Error(r(476));var _=$U(d).queue;zU(d,_,p,q,y===null?fye:function(){return HU(d),y(b)})}function $U(d){var p=d.memoizedState;if(p!==null)return p;p={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:q},next:null};var y={};return p.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:y},next:null},d.memoizedState=p,d=d.alternate,d!==null&&(d.memoizedState=p),p}function HU(d){var p=$U(d);p.next===null&&(p=d.alternate.memoizedState),wv(d,p.next.queue,{},wo())}function aP(){return Ui(jv)}function VU(){return Kr().memoizedState}function GU(){return Kr().memoizedState}function hye(d){for(var p=d.return;p!==null;){switch(p.tag){case 24:case 3:var y=wo();d=Ld(y);var b=Bd(p,d,y);b!==null&&(Js(b,p,y),gv(b,p,y)),p={cache:LI()},d.payload=p;return}p=p.return}}function pye(d,p,y){var b=wo();y={lane:b,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},HE(d)?KU(p,y):(y=TI(d,p,y,b),y!==null&&(Js(y,d,b),WU(y,p,b)))}function qU(d,p,y){var b=wo();wv(d,p,y,b)}function wv(d,p,y,b){var _={lane:b,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null};if(HE(d))KU(p,_);else{var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=p.lastRenderedReducer,L!==null))try{var ne=p.lastRenderedState,de=L(ne,y);if(_.hasEagerState=!0,_.eagerState=de,mo(de,ne))return SE(d,p,_,0),rr===null&&EE(),!1}catch{}finally{}if(y=TI(d,p,_,b),y!==null)return Js(y,d,b),WU(y,p,b),!0}return!1}function lP(d,p,y,b){if(b={lane:2,revertLane:FP(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},HE(d)){if(p)throw Error(r(479))}else p=TI(d,y,b,2),p!==null&&Js(p,d,2)}function HE(d){var p=d.alternate;return d===sn||p!==null&&p===sn}function KU(d,p){u0=LE=!0;var y=d.pending;y===null?p.next=p:(p.next=y.next,y.next=p),d.pending=p}function WU(d,p,y){if((y&4194048)!==0){var b=p.lanes;b&=d.pendingLanes,y|=b,p.lanes=y,Te(d,y)}}var Ev={readContext:Ui,use:UE,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useLayoutEffect:Lr,useInsertionEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useSyncExternalStore:Lr,useId:Lr,useHostTransitionStatus:Lr,useFormState:Lr,useActionState:Lr,useOptimistic:Lr,useMemoCache:Lr,useCacheRefresh:Lr};Ev.useEffectEvent=Lr;var YU={readContext:Ui,use:UE,useCallback:function(d,p){return Ts().memoizedState=[d,p===void 0?null:p],d},useContext:Ui,useEffect:RU,useImperativeHandle:function(d,p,y){y=y!=null?y.concat([d]):null,zE(4194308,4,LU.bind(null,p,d),y)},useLayoutEffect:function(d,p){return zE(4194308,4,d,p)},useInsertionEffect:function(d,p){zE(4,2,d,p)},useMemo:function(d,p){var y=Ts();p=p===void 0?null:p;var b=d();if(Uh){he(!0);try{d()}finally{he(!1)}}return y.memoizedState=[b,p],b},useReducer:function(d,p,y){var b=Ts();if(y!==void 0){var _=y(p);if(Uh){he(!0);try{y(p)}finally{he(!1)}}}else _=p;return b.memoizedState=b.baseState=_,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:_},b.queue=d,d=d.dispatch=pye.bind(null,sn,d),[b.memoizedState,d]},useRef:function(d){var p=Ts();return d={current:d},p.memoizedState=d},useState:function(d){d=tP(d);var p=d.queue,y=qU.bind(null,sn,p);return p.dispatch=y,[d.memoizedState,y]},useDebugValue:iP,useDeferredValue:function(d,p){var y=Ts();return sP(y,d,p)},useTransition:function(){var d=tP(!1);return d=zU.bind(null,sn,d.queue,!0,!1),Ts().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,p,y){var b=sn,_=Ts();if(Tn){if(y===void 0)throw Error(r(407));y=y()}else{if(y=p(),rr===null)throw Error(r(349));(Sn&127)!==0||gU(b,p,y)}_.memoizedState=y;var L={value:y,getSnapshot:p};return _.queue=L,RU(xU.bind(null,b,L,d),[d]),b.flags|=2048,f0(9,{destroy:void 0},yU.bind(null,b,L,y,p),null),y},useId:function(){var d=Ts(),p=rr.identifierPrefix;if(Tn){var y=Il,b=Nl;y=(b&~(1<<32-ye(b)-1)).toString(32)+y,p="_"+p+"R_"+y,y=BE++,0<y&&(p+="H"+y.toString(32)),p+="_"}else y=aye++,p="_"+p+"r_"+y.toString(32)+"_";return d.memoizedState=p},useHostTransitionStatus:aP,useFormState:kU,useActionState:kU,useOptimistic:function(d){var p=Ts();p.memoizedState=p.baseState=d;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=y,p=lP.bind(null,sn,!0,y),y.dispatch=p,[d,p]},useMemoCache:QI,useCacheRefresh:function(){return Ts().memoizedState=hye.bind(null,sn)},useEffectEvent:function(d){var p=Ts(),y={impl:d};return p.memoizedState=y,function(){if((Fn&2)!==0)throw Error(r(440));return y.impl.apply(void 0,arguments)}}},cP={readContext:Ui,use:UE,useCallback:jU,useContext:Ui,useEffect:rP,useImperativeHandle:BU,useInsertionEffect:MU,useLayoutEffect:DU,useMemo:UU,useReducer:FE,useRef:_U,useState:function(){return FE($c)},useDebugValue:iP,useDeferredValue:function(d,p){var y=Kr();return FU(y,Xn.memoizedState,d,p)},useTransition:function(){var d=FE($c)[0],p=Kr().memoizedState;return[typeof d=="boolean"?d:bv(d),p]},useSyncExternalStore:mU,useId:VU,useHostTransitionStatus:aP,useFormState:NU,useActionState:NU,useOptimistic:function(d,p){var y=Kr();return wU(y,Xn,d,p)},useMemoCache:QI,useCacheRefresh:GU};cP.useEffectEvent=OU;var JU={readContext:Ui,use:UE,useCallback:jU,useContext:Ui,useEffect:rP,useImperativeHandle:BU,useInsertionEffect:MU,useLayoutEffect:DU,useMemo:UU,useReducer:eP,useRef:_U,useState:function(){return eP($c)},useDebugValue:iP,useDeferredValue:function(d,p){var y=Kr();return Xn===null?sP(y,d,p):FU(y,Xn.memoizedState,d,p)},useTransition:function(){var d=eP($c)[0],p=Kr().memoizedState;return[typeof d=="boolean"?d:bv(d),p]},useSyncExternalStore:mU,useId:VU,useHostTransitionStatus:aP,useFormState:PU,useActionState:PU,useOptimistic:function(d,p){var y=Kr();return Xn!==null?wU(y,Xn,d,p):(y.baseState=d,[d,y.queue.dispatch])},useMemoCache:QI,useCacheRefresh:GU};JU.useEffectEvent=OU;function uP(d,p,y,b){p=d.memoizedState,y=y(b,p),y=y==null?p:f({},p,y),d.memoizedState=y,d.lanes===0&&(d.updateQueue.baseState=y)}var dP={enqueueSetState:function(d,p,y){d=d._reactInternals;var b=wo(),_=Ld(b);_.payload=p,y!=null&&(_.callback=y),p=Bd(d,_,b),p!==null&&(Js(p,d,b),gv(p,d,b))},enqueueReplaceState:function(d,p,y){d=d._reactInternals;var b=wo(),_=Ld(b);_.tag=1,_.payload=p,y!=null&&(_.callback=y),p=Bd(d,_,b),p!==null&&(Js(p,d,b),gv(p,d,b))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var y=wo(),b=Ld(y);b.tag=2,p!=null&&(b.callback=p),p=Bd(d,b,y),p!==null&&(Js(p,d,y),gv(p,d,y))}};function XU(d,p,y,b,_,L,ne){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(b,L,ne):p.prototype&&p.prototype.isPureReactComponent?!lv(y,b)||!lv(_,L):!0}function QU(d,p,y,b){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(y,b),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(y,b),p.state!==d&&dP.enqueueReplaceState(p,p.state,null)}function Fh(d,p){var y=p;if("ref"in p){y={};for(var b in p)b!=="ref"&&(y[b]=p[b])}if(d=d.defaultProps){y===p&&(y=f({},y));for(var _ in d)y[_]===void 0&&(y[_]=d[_])}return y}function ZU(d){wE(d)}function eF(d){console.error(d)}function tF(d){wE(d)}function VE(d,p){try{var y=d.onUncaughtError;y(p.value,{componentStack:p.stack})}catch(b){setTimeout(function(){throw b})}}function nF(d,p,y){try{var b=d.onCaughtError;b(y.value,{componentStack:y.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function fP(d,p,y){return y=Ld(y),y.tag=3,y.payload={element:null},y.callback=function(){VE(d,p)},y}function rF(d){return d=Ld(d),d.tag=3,d}function iF(d,p,y,b){var _=y.type.getDerivedStateFromError;if(typeof _=="function"){var L=b.value;d.payload=function(){return _(L)},d.callback=function(){nF(p,y,b)}}var ne=y.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(d.callback=function(){nF(p,y,b),typeof _!="function"&&(Hd===null?Hd=new Set([this]):Hd.add(this));var de=b.stack;this.componentDidCatch(b.value,{componentStack:de!==null?de:""})})}function mye(d,p,y,b,_){if(y.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(p=y.alternate,p!==null&&i0(p,y,_,!0),y=yo.current,y!==null){switch(y.tag){case 31:case 13:return Xo===null?nS():y.alternate===null&&Br===0&&(Br=3),y.flags&=-257,y.flags|=65536,y.lanes=_,b===_E?y.flags|=16384:(p=y.updateQueue,p===null?y.updateQueue=new Set([b]):p.add(b),BP(d,b,_)),!1;case 22:return y.flags|=65536,b===_E?y.flags|=16384:(p=y.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([b])},y.updateQueue=p):(y=p.retryQueue,y===null?p.retryQueue=new Set([b]):y.add(b)),BP(d,b,_)),!1}throw Error(r(435,y.tag))}return BP(d,b,_),nS(),!1}if(Tn)return p=yo.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=_,b!==_I&&(d=Error(r(422),{cause:b}),dv(Ko(d,y)))):(b!==_I&&(p=Error(r(423),{cause:b}),dv(Ko(p,y))),d=d.current.alternate,d.flags|=65536,_&=-_,d.lanes|=_,b=Ko(b,y),_=fP(d.stateNode,b,_),$I(d,_),Br!==4&&(Br=2)),!1;var L=Error(r(520),{cause:b});if(L=Ko(L,y),Pv===null?Pv=[L]:Pv.push(L),Br!==4&&(Br=2),p===null)return!0;b=Ko(b,y),y=p;do{switch(y.tag){case 3:return y.flags|=65536,d=_&-_,y.lanes|=d,d=fP(y.stateNode,b,d),$I(y,d),!1;case 1:if(p=y.type,L=y.stateNode,(y.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Hd===null||!Hd.has(L))))return y.flags|=65536,_&=-_,y.lanes|=_,_=rF(_),iF(_,d,y,b),$I(y,_),!1}y=y.return}while(y!==null);return!1}var hP=Error(r(461)),ri=!1;function Fi(d,p,y,b){p.child=d===null?lU(p,null,y,b):jh(p,d.child,y,b)}function sF(d,p,y,b,_){y=y.render;var L=p.ref;if("ref"in b){var ne={};for(var de in b)de!=="ref"&&(ne[de]=b[de])}else ne=b;return Mh(p),b=WI(d,p,y,ne,L,_),de=YI(),d!==null&&!ri?(JI(d,p,_),Hc(d,p,_)):(Tn&&de&&II(p),p.flags|=1,Fi(d,p,b,_),p.child)}function oF(d,p,y,b,_){if(d===null){var L=y.type;return typeof L=="function"&&!CI(L)&&L.defaultProps===void 0&&y.compare===null?(p.tag=15,p.type=L,aF(d,p,L,b,_)):(d=TE(y.type,null,b,p,p.mode,_),d.ref=p.ref,d.return=p,p.child=d)}if(L=d.child,!wP(d,_)){var ne=L.memoizedProps;if(y=y.compare,y=y!==null?y:lv,y(ne,b)&&d.ref===p.ref)return Hc(d,p,_)}return p.flags|=1,d=Bc(L,b),d.ref=p.ref,d.return=p,p.child=d}function aF(d,p,y,b,_){if(d!==null){var L=d.memoizedProps;if(lv(L,b)&&d.ref===p.ref)if(ri=!1,p.pendingProps=b=L,wP(d,_))(d.flags&131072)!==0&&(ri=!0);else return p.lanes=d.lanes,Hc(d,p,_)}return pP(d,p,y,b,_)}function lF(d,p,y,b){var _=b.children,L=d!==null?d.memoizedState:null;if(d===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((p.flags&128)!==0){if(L=L!==null?L.baseLanes|y:y,d!==null){for(b=p.child=d.child,_=0;b!==null;)_=_|b.lanes|b.childLanes,b=b.sibling;b=_&~L}else b=0,p.child=null;return cF(d,p,L,y,b)}if((y&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},d!==null&&IE(p,L!==null?L.cachePool:null),L!==null?dU(p,L):VI(),fU(p);else return b=p.lanes=536870912,cF(d,p,L!==null?L.baseLanes|y:y,y,b)}else L!==null?(IE(p,L.cachePool),dU(p,L),Ud(),p.memoizedState=null):(d!==null&&IE(p,null),VI(),Ud());return Fi(d,p,_,y),p.child}function Sv(d,p){return d!==null&&d.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function cF(d,p,y,b,_){var L=jI();return L=L===null?null:{parent:ti._currentValue,pool:L},p.memoizedState={baseLanes:y,cachePool:L},d!==null&&IE(p,null),VI(),fU(p),d!==null&&i0(d,p,b,!0),p.childLanes=_,null}function GE(d,p){return p=KE({mode:p.mode,children:p.children},d.mode),p.ref=d.ref,d.child=p,p.return=d,p}function uF(d,p,y){return jh(p,d.child,null,y),d=GE(p,p.pendingProps),d.flags|=2,xo(p),p.memoizedState=null,d}function gye(d,p,y){var b=p.pendingProps,_=(p.flags&128)!==0;if(p.flags&=-129,d===null){if(Tn){if(b.mode==="hidden")return d=GE(p,b),p.lanes=536870912,Sv(null,d);if(qI(p),(d=yr)?(d=E9(d,Jo),d=d!==null&&d.data==="&"?d:null,d!==null&&(p.memoizedState={dehydrated:d,treeContext:_d!==null?{id:Nl,overflow:Il}:null,retryLane:536870912,hydrationErrors:null},y=Kj(d),y.return=p,p.child=y,ji=p,yr=null)):d=null,d===null)throw Od(p);return p.lanes=536870912,null}return GE(p,b)}var L=d.memoizedState;if(L!==null){var ne=L.dehydrated;if(qI(p),_)if(p.flags&256)p.flags&=-257,p=uF(d,p,y);else if(p.memoizedState!==null)p.child=d.child,p.flags|=128,p=null;else throw Error(r(558));else if(ri||i0(d,p,y,!1),_=(y&d.childLanes)!==0,ri||_){if(b=rr,b!==null&&(ne=Re(b,y),ne!==0&&ne!==L.retryLane))throw L.retryLane=ne,Ph(d,ne),Js(b,d,ne),hP;nS(),p=uF(d,p,y)}else d=L.treeContext,yr=Qo(ne.nextSibling),ji=p,Tn=!0,Rd=null,Jo=!1,d!==null&&Jj(p,d),p=GE(p,b),p.flags|=4096;return p}return d=Bc(d.child,{mode:b.mode,children:b.children}),d.ref=p.ref,p.child=d,d.return=p,d}function qE(d,p){var y=p.ref;if(y===null)d!==null&&d.ref!==null&&(p.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(d===null||d.ref!==y)&&(p.flags|=4194816)}}function pP(d,p,y,b,_){return Mh(p),y=WI(d,p,y,b,void 0,_),b=YI(),d!==null&&!ri?(JI(d,p,_),Hc(d,p,_)):(Tn&&b&&II(p),p.flags|=1,Fi(d,p,y,_),p.child)}function dF(d,p,y,b,_,L){return Mh(p),p.updateQueue=null,y=pU(p,b,y,_),hU(d),b=YI(),d!==null&&!ri?(JI(d,p,L),Hc(d,p,L)):(Tn&&b&&II(p),p.flags|=1,Fi(d,p,y,L),p.child)}function fF(d,p,y,b,_){if(Mh(p),p.stateNode===null){var L=e0,ne=y.contextType;typeof ne=="object"&&ne!==null&&(L=Ui(ne)),L=new y(b,L),p.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=dP,p.stateNode=L,L._reactInternals=p,L=p.stateNode,L.props=b,L.state=p.memoizedState,L.refs={},FI(p),ne=y.contextType,L.context=typeof ne=="object"&&ne!==null?Ui(ne):e0,L.state=p.memoizedState,ne=y.getDerivedStateFromProps,typeof ne=="function"&&(uP(p,y,ne,b),L.state=p.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(ne=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),ne!==L.state&&dP.enqueueReplaceState(L,L.state,null),xv(p,b,L,_),yv(),L.state=p.memoizedState),typeof L.componentDidMount=="function"&&(p.flags|=4194308),b=!0}else if(d===null){L=p.stateNode;var de=p.memoizedProps,we=Fh(y,de);L.props=we;var Le=L.context,Ge=y.contextType;ne=e0,typeof Ge=="object"&&Ge!==null&&(ne=Ui(Ge));var Qe=y.getDerivedStateFromProps;Ge=typeof Qe=="function"||typeof L.getSnapshotBeforeUpdate=="function",de=p.pendingProps!==de,Ge||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(de||Le!==ne)&&QU(p,L,b,ne),Dd=!1;var Ue=p.memoizedState;L.state=Ue,xv(p,b,L,_),yv(),Le=p.memoizedState,de||Ue!==Le||Dd?(typeof Qe=="function"&&(uP(p,y,Qe,b),Le=p.memoizedState),(we=Dd||XU(p,y,we,b,Ue,Le,ne))?(Ge||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(p.flags|=4194308)):(typeof L.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=b,p.memoizedState=Le),L.props=b,L.state=Le,L.context=ne,b=we):(typeof L.componentDidMount=="function"&&(p.flags|=4194308),b=!1)}else{L=p.stateNode,zI(d,p),ne=p.memoizedProps,Ge=Fh(y,ne),L.props=Ge,Qe=p.pendingProps,Ue=L.context,Le=y.contextType,we=e0,typeof Le=="object"&&Le!==null&&(we=Ui(Le)),de=y.getDerivedStateFromProps,(Le=typeof de=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ne!==Qe||Ue!==we)&&QU(p,L,b,we),Dd=!1,Ue=p.memoizedState,L.state=Ue,xv(p,b,L,_),yv();var He=p.memoizedState;ne!==Qe||Ue!==He||Dd||d!==null&&d.dependencies!==null&&kE(d.dependencies)?(typeof de=="function"&&(uP(p,y,de,b),He=p.memoizedState),(Ge=Dd||XU(p,y,Ge,b,Ue,He,we)||d!==null&&d.dependencies!==null&&kE(d.dependencies))?(Le||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(b,He,we),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(b,He,we)),typeof L.componentDidUpdate=="function"&&(p.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof L.componentDidUpdate!="function"||ne===d.memoizedProps&&Ue===d.memoizedState||(p.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ne===d.memoizedProps&&Ue===d.memoizedState||(p.flags|=1024),p.memoizedProps=b,p.memoizedState=He),L.props=b,L.state=He,L.context=we,b=Ge):(typeof L.componentDidUpdate!="function"||ne===d.memoizedProps&&Ue===d.memoizedState||(p.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ne===d.memoizedProps&&Ue===d.memoizedState||(p.flags|=1024),b=!1)}return L=b,qE(d,p),b=(p.flags&128)!==0,L||b?(L=p.stateNode,y=b&&typeof y.getDerivedStateFromError!="function"?null:L.render(),p.flags|=1,d!==null&&b?(p.child=jh(p,d.child,null,_),p.child=jh(p,null,y,_)):Fi(d,p,y,_),p.memoizedState=L.state,d=p.child):d=Hc(d,p,_),d}function hF(d,p,y,b){return Rh(),p.flags|=256,Fi(d,p,y,b),p.child}var mP={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gP(d){return{baseLanes:d,cachePool:nU()}}function yP(d,p,y){return d=d!==null?d.childLanes&~y:0,p&&(d|=bo),d}function pF(d,p,y){var b=p.pendingProps,_=!1,L=(p.flags&128)!==0,ne;if((ne=L)||(ne=d!==null&&d.memoizedState===null?!1:(qr.current&2)!==0),ne&&(_=!0,p.flags&=-129),ne=(p.flags&32)!==0,p.flags&=-33,d===null){if(Tn){if(_?jd(p):Ud(),(d=yr)?(d=E9(d,Jo),d=d!==null&&d.data!=="&"?d:null,d!==null&&(p.memoizedState={dehydrated:d,treeContext:_d!==null?{id:Nl,overflow:Il}:null,retryLane:536870912,hydrationErrors:null},y=Kj(d),y.return=p,p.child=y,ji=p,yr=null)):d=null,d===null)throw Od(p);return ZP(d)?p.lanes=32:p.lanes=536870912,null}var de=b.children;return b=b.fallback,_?(Ud(),_=p.mode,de=KE({mode:"hidden",children:de},_),b=_h(b,_,y,null),de.return=p,b.return=p,de.sibling=b,p.child=de,b=p.child,b.memoizedState=gP(y),b.childLanes=yP(d,ne,y),p.memoizedState=mP,Sv(null,b)):(jd(p),xP(p,de))}var we=d.memoizedState;if(we!==null&&(de=we.dehydrated,de!==null)){if(L)p.flags&256?(jd(p),p.flags&=-257,p=vP(d,p,y)):p.memoizedState!==null?(Ud(),p.child=d.child,p.flags|=128,p=null):(Ud(),de=b.fallback,_=p.mode,b=KE({mode:"visible",children:b.children},_),de=_h(de,_,y,null),de.flags|=2,b.return=p,de.return=p,b.sibling=de,p.child=b,jh(p,d.child,null,y),b=p.child,b.memoizedState=gP(y),b.childLanes=yP(d,ne,y),p.memoizedState=mP,p=Sv(null,b));else if(jd(p),ZP(de)){if(ne=de.nextSibling&&de.nextSibling.dataset,ne)var Le=ne.dgst;ne=Le,b=Error(r(419)),b.stack="",b.digest=ne,dv({value:b,source:null,stack:null}),p=vP(d,p,y)}else if(ri||i0(d,p,y,!1),ne=(y&d.childLanes)!==0,ri||ne){if(ne=rr,ne!==null&&(b=Re(ne,y),b!==0&&b!==we.retryLane))throw we.retryLane=b,Ph(d,b),Js(ne,d,b),hP;QP(de)||nS(),p=vP(d,p,y)}else QP(de)?(p.flags|=192,p.child=d.child,p=null):(d=we.treeContext,yr=Qo(de.nextSibling),ji=p,Tn=!0,Rd=null,Jo=!1,d!==null&&Jj(p,d),p=xP(p,b.children),p.flags|=4096);return p}return _?(Ud(),de=b.fallback,_=p.mode,we=d.child,Le=we.sibling,b=Bc(we,{mode:"hidden",children:b.children}),b.subtreeFlags=we.subtreeFlags&65011712,Le!==null?de=Bc(Le,de):(de=_h(de,_,y,null),de.flags|=2),de.return=p,b.return=p,b.sibling=de,p.child=b,Sv(null,b),b=p.child,de=d.child.memoizedState,de===null?de=gP(y):(_=de.cachePool,_!==null?(we=ti._currentValue,_=_.parent!==we?{parent:we,pool:we}:_):_=nU(),de={baseLanes:de.baseLanes|y,cachePool:_}),b.memoizedState=de,b.childLanes=yP(d,ne,y),p.memoizedState=mP,Sv(d.child,b)):(jd(p),y=d.child,d=y.sibling,y=Bc(y,{mode:"visible",children:b.children}),y.return=p,y.sibling=null,d!==null&&(ne=p.deletions,ne===null?(p.deletions=[d],p.flags|=16):ne.push(d)),p.child=y,p.memoizedState=null,y)}function xP(d,p){return p=KE({mode:"visible",children:p},d.mode),p.return=d,d.child=p}function KE(d,p){return d=go(22,d,null,p),d.lanes=0,d}function vP(d,p,y){return jh(p,d.child,null,y),d=xP(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function mF(d,p,y){d.lanes|=p;var b=d.alternate;b!==null&&(b.lanes|=p),MI(d.return,p,y)}function bP(d,p,y,b,_,L){var ne=d.memoizedState;ne===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:b,tail:y,tailMode:_,treeForkCount:L}:(ne.isBackwards=p,ne.rendering=null,ne.renderingStartTime=0,ne.last=b,ne.tail=y,ne.tailMode=_,ne.treeForkCount=L)}function gF(d,p,y){var b=p.pendingProps,_=b.revealOrder,L=b.tail;b=b.children;var ne=qr.current,de=(ne&2)!==0;if(de?(ne=ne&1|2,p.flags|=128):ne&=1,N(qr,ne),Fi(d,p,b,y),b=Tn?uv:0,!de&&d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&mF(d,y,p);else if(d.tag===19)mF(d,y,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(_){case"forwards":for(y=p.child,_=null;y!==null;)d=y.alternate,d!==null&&DE(d)===null&&(_=y),y=y.sibling;y=_,y===null?(_=p.child,p.child=null):(_=y.sibling,y.sibling=null),bP(p,!1,_,y,L,b);break;case"backwards":case"unstable_legacy-backwards":for(y=null,_=p.child,p.child=null;_!==null;){if(d=_.alternate,d!==null&&DE(d)===null){p.child=_;break}d=_.sibling,_.sibling=y,y=_,_=d}bP(p,!0,y,null,L,b);break;case"together":bP(p,!1,null,null,void 0,b);break;default:p.memoizedState=null}return p.child}function Hc(d,p,y){if(d!==null&&(p.dependencies=d.dependencies),$d|=p.lanes,(y&p.childLanes)===0)if(d!==null){if(i0(d,p,y,!1),(y&p.childLanes)===0)return null}else return null;if(d!==null&&p.child!==d.child)throw Error(r(153));if(p.child!==null){for(d=p.child,y=Bc(d,d.pendingProps),p.child=y,y.return=p;d.sibling!==null;)d=d.sibling,y=y.sibling=Bc(d,d.pendingProps),y.return=p;y.sibling=null}return p.child}function wP(d,p){return(d.lanes&p)!==0?!0:(d=d.dependencies,!!(d!==null&&kE(d)))}function yye(d,p,y){switch(p.tag){case 3:Ee(p,p.stateNode.containerInfo),Md(p,ti,d.memoizedState.cache),Rh();break;case 27:case 5:me(p);break;case 4:Ee(p,p.stateNode.containerInfo);break;case 10:Md(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,qI(p),null;break;case 13:var b=p.memoizedState;if(b!==null)return b.dehydrated!==null?(jd(p),p.flags|=128,null):(y&p.child.childLanes)!==0?pF(d,p,y):(jd(p),d=Hc(d,p,y),d!==null?d.sibling:null);jd(p);break;case 19:var _=(d.flags&128)!==0;if(b=(y&p.childLanes)!==0,b||(i0(d,p,y,!1),b=(y&p.childLanes)!==0),_){if(b)return gF(d,p,y);p.flags|=128}if(_=p.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),N(qr,qr.current),b)break;return null;case 22:return p.lanes=0,lF(d,p,y,p.pendingProps);case 24:Md(p,ti,d.memoizedState.cache)}return Hc(d,p,y)}function yF(d,p,y){if(d!==null)if(d.memoizedProps!==p.pendingProps)ri=!0;else{if(!wP(d,y)&&(p.flags&128)===0)return ri=!1,yye(d,p,y);ri=(d.flags&131072)!==0}else ri=!1,Tn&&(p.flags&1048576)!==0&&Yj(p,uv,p.index);switch(p.lanes=0,p.tag){case 16:e:{var b=p.pendingProps;if(d=Lh(p.elementType),p.type=d,typeof d=="function")CI(d)?(b=Fh(d,b),p.tag=1,p=fF(null,p,d,b,y)):(p.tag=0,p=pP(null,p,d,b,y));else{if(d!=null){var _=d.$$typeof;if(_===D){p.tag=11,p=sF(null,p,d,b,y);break e}else if(_===U){p.tag=14,p=oF(null,p,d,b,y);break e}}throw p=A(d)||d,Error(r(306,p,""))}}return p;case 0:return pP(d,p,p.type,p.pendingProps,y);case 1:return b=p.type,_=Fh(b,p.pendingProps),fF(d,p,b,_,y);case 3:e:{if(Ee(p,p.stateNode.containerInfo),d===null)throw Error(r(387));b=p.pendingProps;var L=p.memoizedState;_=L.element,zI(d,p),xv(p,b,null,y);var ne=p.memoizedState;if(b=ne.cache,Md(p,ti,b),b!==L.cache&&DI(p,[ti],y,!0),yv(),b=ne.element,L.isDehydrated)if(L={element:b,isDehydrated:!1,cache:ne.cache},p.updateQueue.baseState=L,p.memoizedState=L,p.flags&256){p=hF(d,p,b,y);break e}else if(b!==_){_=Ko(Error(r(424)),p),dv(_),p=hF(d,p,b,y);break e}else{switch(d=p.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(yr=Qo(d.firstChild),ji=p,Tn=!0,Rd=null,Jo=!0,y=lU(p,null,b,y),p.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(Rh(),b===_){p=Hc(d,p,y);break e}Fi(d,p,b,y)}p=p.child}return p;case 26:return qE(d,p),d===null?(y=N9(p.type,null,p.pendingProps,null))?p.memoizedState=y:Tn||(y=p.type,d=p.pendingProps,b=cS(re.current).createElement(y),b[mt]=p,b[ct]=d,zi(b,y,d),gr(b),p.stateNode=b):p.memoizedState=N9(p.type,d.memoizedProps,p.pendingProps,d.memoizedState),null;case 27:return me(p),d===null&&Tn&&(b=p.stateNode=T9(p.type,p.pendingProps,re.current),ji=p,Jo=!0,_=yr,Kd(p.type)?(e_=_,yr=Qo(b.firstChild)):yr=_),Fi(d,p,p.pendingProps.children,y),qE(d,p),d===null&&(p.flags|=4194304),p.child;case 5:return d===null&&Tn&&((_=b=yr)&&(b=Kye(b,p.type,p.pendingProps,Jo),b!==null?(p.stateNode=b,ji=p,yr=Qo(b.firstChild),Jo=!1,_=!0):_=!1),_||Od(p)),me(p),_=p.type,L=p.pendingProps,ne=d!==null?d.memoizedProps:null,b=L.children,YP(_,L)?b=null:ne!==null&&YP(_,ne)&&(p.flags|=32),p.memoizedState!==null&&(_=WI(d,p,lye,null,null,y),jv._currentValue=_),qE(d,p),Fi(d,p,b,y),p.child;case 6:return d===null&&Tn&&((d=y=yr)&&(y=Wye(y,p.pendingProps,Jo),y!==null?(p.stateNode=y,ji=p,yr=null,d=!0):d=!1),d||Od(p)),null;case 13:return pF(d,p,y);case 4:return Ee(p,p.stateNode.containerInfo),b=p.pendingProps,d===null?p.child=jh(p,null,b,y):Fi(d,p,b,y),p.child;case 11:return sF(d,p,p.type,p.pendingProps,y);case 7:return Fi(d,p,p.pendingProps,y),p.child;case 8:return Fi(d,p,p.pendingProps.children,y),p.child;case 12:return Fi(d,p,p.pendingProps.children,y),p.child;case 10:return b=p.pendingProps,Md(p,p.type,b.value),Fi(d,p,b.children,y),p.child;case 9:return _=p.type._context,b=p.pendingProps.children,Mh(p),_=Ui(_),b=b(_),p.flags|=1,Fi(d,p,b,y),p.child;case 14:return oF(d,p,p.type,p.pendingProps,y);case 15:return aF(d,p,p.type,p.pendingProps,y);case 19:return gF(d,p,y);case 31:return gye(d,p,y);case 22:return lF(d,p,y,p.pendingProps);case 24:return Mh(p),b=Ui(ti),d===null?(_=jI(),_===null&&(_=rr,L=LI(),_.pooledCache=L,L.refCount++,L!==null&&(_.pooledCacheLanes|=y),_=L),p.memoizedState={parent:b,cache:_},FI(p),Md(p,ti,_)):((d.lanes&y)!==0&&(zI(d,p),xv(p,null,null,y),yv()),_=d.memoizedState,L=p.memoizedState,_.parent!==b?(_={parent:b,cache:b},p.memoizedState=_,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=_),Md(p,ti,b)):(b=L.cache,Md(p,ti,b),b!==_.cache&&DI(p,[ti],y,!0))),Fi(d,p,p.pendingProps.children,y),p.child;case 29:throw p.pendingProps}throw Error(r(156,p.tag))}function Vc(d){d.flags|=4}function EP(d,p,y,b,_){if((p=(d.mode&32)!==0)&&(p=!1),p){if(d.flags|=16777216,(_&335544128)===_)if(d.stateNode.complete)d.flags|=8192;else if(VF())d.flags|=8192;else throw Bh=_E,UI}else d.flags&=-16777217}function xF(d,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!O9(p))if(VF())d.flags|=8192;else throw Bh=_E,UI}function WE(d,p){p!==null&&(d.flags|=4),d.flags&16384&&(p=d.tag!==22?$n():536870912,d.lanes|=p,g0|=p)}function Av(d,p){if(!Tn)switch(d.tailMode){case"hidden":p=d.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?d.tail=null:y.sibling=null;break;case"collapsed":y=d.tail;for(var b=null;y!==null;)y.alternate!==null&&(b=y),y=y.sibling;b===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:b.sibling=null}}function xr(d){var p=d.alternate!==null&&d.alternate.child===d.child,y=0,b=0;if(p)for(var _=d.child;_!==null;)y|=_.lanes|_.childLanes,b|=_.subtreeFlags&65011712,b|=_.flags&65011712,_.return=d,_=_.sibling;else for(_=d.child;_!==null;)y|=_.lanes|_.childLanes,b|=_.subtreeFlags,b|=_.flags,_.return=d,_=_.sibling;return d.subtreeFlags|=b,d.childLanes=y,p}function xye(d,p,y){var b=p.pendingProps;switch(PI(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(p),null;case 1:return xr(p),null;case 3:return y=p.stateNode,b=null,d!==null&&(b=d.memoizedState.cache),p.memoizedState.cache!==b&&(p.flags|=2048),Fc(ti),ue(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(d===null||d.child===null)&&(r0(p)?Vc(p):d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,RI())),xr(p),null;case 26:var _=p.type,L=p.memoizedState;return d===null?(Vc(p),L!==null?(xr(p),xF(p,L)):(xr(p),EP(p,_,null,b,y))):L?L!==d.memoizedState?(Vc(p),xr(p),xF(p,L)):(xr(p),p.flags&=-16777217):(d=d.memoizedProps,d!==b&&Vc(p),xr(p),EP(p,_,d,b,y)),null;case 27:if(ce(p),y=re.current,_=p.type,d!==null&&p.stateNode!=null)d.memoizedProps!==b&&Vc(p);else{if(!b){if(p.stateNode===null)throw Error(r(166));return xr(p),null}d=W.current,r0(p)?Xj(p):(d=T9(_,b,y),p.stateNode=d,Vc(p))}return xr(p),null;case 5:if(ce(p),_=p.type,d!==null&&p.stateNode!=null)d.memoizedProps!==b&&Vc(p);else{if(!b){if(p.stateNode===null)throw Error(r(166));return xr(p),null}if(L=W.current,r0(p))Xj(p);else{var ne=cS(re.current);switch(L){case 1:L=ne.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:L=ne.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":L=ne.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":L=ne.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":L=ne.createElement("div"),L.innerHTML="<script><\/script>",L=L.removeChild(L.firstChild);break;case"select":L=typeof b.is=="string"?ne.createElement("select",{is:b.is}):ne.createElement("select"),b.multiple?L.multiple=!0:b.size&&(L.size=b.size);break;default:L=typeof b.is=="string"?ne.createElement(_,{is:b.is}):ne.createElement(_)}}L[mt]=p,L[ct]=b;e:for(ne=p.child;ne!==null;){if(ne.tag===5||ne.tag===6)L.appendChild(ne.stateNode);else if(ne.tag!==4&&ne.tag!==27&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===p)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===p)break e;ne=ne.return}ne.sibling.return=ne.return,ne=ne.sibling}p.stateNode=L;e:switch(zi(L,_,b),_){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Vc(p)}}return xr(p),EP(p,p.type,d===null?null:d.memoizedProps,p.pendingProps,y),null;case 6:if(d&&p.stateNode!=null)d.memoizedProps!==b&&Vc(p);else{if(typeof b!="string"&&p.stateNode===null)throw Error(r(166));if(d=re.current,r0(p)){if(d=p.stateNode,y=p.memoizedProps,b=null,_=ji,_!==null)switch(_.tag){case 27:case 5:b=_.memoizedProps}d[mt]=p,d=!!(d.nodeValue===y||b!==null&&b.suppressHydrationWarning===!0||p9(d.nodeValue,y)),d||Od(p,!0)}else d=cS(d).createTextNode(b),d[mt]=p,p.stateNode=d}return xr(p),null;case 31:if(y=p.memoizedState,d===null||d.memoizedState!==null){if(b=r0(p),y!==null){if(d===null){if(!b)throw Error(r(318));if(d=p.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(557));d[mt]=p}else Rh(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;xr(p),d=!1}else y=RI(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=y),d=!0;if(!d)return p.flags&256?(xo(p),p):(xo(p),null);if((p.flags&128)!==0)throw Error(r(558))}return xr(p),null;case 13:if(b=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(_=r0(p),b!==null&&b.dehydrated!==null){if(d===null){if(!_)throw Error(r(318));if(_=p.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[mt]=p}else Rh(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;xr(p),_=!1}else _=RI(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=_),_=!0;if(!_)return p.flags&256?(xo(p),p):(xo(p),null)}return xo(p),(p.flags&128)!==0?(p.lanes=y,p):(y=b!==null,d=d!==null&&d.memoizedState!==null,y&&(b=p.child,_=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(_=b.alternate.memoizedState.cachePool.pool),L=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(L=b.memoizedState.cachePool.pool),L!==_&&(b.flags|=2048)),y!==d&&y&&(p.child.flags|=8192),WE(p,p.updateQueue),xr(p),null);case 4:return ue(),d===null&&VP(p.stateNode.containerInfo),xr(p),null;case 10:return Fc(p.type),xr(p),null;case 19:if(O(qr),b=p.memoizedState,b===null)return xr(p),null;if(_=(p.flags&128)!==0,L=b.rendering,L===null)if(_)Av(b,!1);else{if(Br!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(L=DE(d),L!==null){for(p.flags|=128,Av(b,!1),d=L.updateQueue,p.updateQueue=d,WE(p,d),p.subtreeFlags=0,d=y,y=p.child;y!==null;)qj(y,d),y=y.sibling;return N(qr,qr.current&1|2),Tn&&jc(p,b.treeForkCount),p.child}d=d.sibling}b.tail!==null&&At()>ZE&&(p.flags|=128,_=!0,Av(b,!1),p.lanes=4194304)}else{if(!_)if(d=DE(L),d!==null){if(p.flags|=128,_=!0,d=d.updateQueue,p.updateQueue=d,WE(p,d),Av(b,!0),b.tail===null&&b.tailMode==="hidden"&&!L.alternate&&!Tn)return xr(p),null}else 2*At()-b.renderingStartTime>ZE&&y!==536870912&&(p.flags|=128,_=!0,Av(b,!1),p.lanes=4194304);b.isBackwards?(L.sibling=p.child,p.child=L):(d=b.last,d!==null?d.sibling=L:p.child=L,b.last=L)}return b.tail!==null?(d=b.tail,b.rendering=d,b.tail=d.sibling,b.renderingStartTime=At(),d.sibling=null,y=qr.current,N(qr,_?y&1|2:y&1),Tn&&jc(p,b.treeForkCount),d):(xr(p),null);case 22:case 23:return xo(p),GI(),b=p.memoizedState!==null,d!==null?d.memoizedState!==null!==b&&(p.flags|=8192):b&&(p.flags|=8192),b?(y&536870912)!==0&&(p.flags&128)===0&&(xr(p),p.subtreeFlags&6&&(p.flags|=8192)):xr(p),y=p.updateQueue,y!==null&&WE(p,y.retryQueue),y=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),b=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(b=p.memoizedState.cachePool.pool),b!==y&&(p.flags|=2048),d!==null&&O(Dh),null;case 24:return y=null,d!==null&&(y=d.memoizedState.cache),p.memoizedState.cache!==y&&(p.flags|=2048),Fc(ti),xr(p),null;case 25:return null;case 30:return null}throw Error(r(156,p.tag))}function vye(d,p){switch(PI(p),p.tag){case 1:return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return Fc(ti),ue(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 26:case 27:case 5:return ce(p),null;case 31:if(p.memoizedState!==null){if(xo(p),p.alternate===null)throw Error(r(340));Rh()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 13:if(xo(p),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Rh()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return O(qr),null;case 4:return ue(),null;case 10:return Fc(p.type),null;case 22:case 23:return xo(p),GI(),d!==null&&O(Dh),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 24:return Fc(ti),null;case 25:return null;default:return null}}function vF(d,p){switch(PI(p),p.tag){case 3:Fc(ti),ue();break;case 26:case 27:case 5:ce(p);break;case 4:ue();break;case 31:p.memoizedState!==null&&xo(p);break;case 13:xo(p);break;case 19:O(qr);break;case 10:Fc(p.type);break;case 22:case 23:xo(p),GI(),d!==null&&O(Dh);break;case 24:Fc(ti)}}function Tv(d,p){try{var y=p.updateQueue,b=y!==null?y.lastEffect:null;if(b!==null){var _=b.next;y=_;do{if((y.tag&d)===d){b=void 0;var L=y.create,ne=y.inst;b=L(),ne.destroy=b}y=y.next}while(y!==_)}}catch(de){Wn(p,p.return,de)}}function Fd(d,p,y){try{var b=p.updateQueue,_=b!==null?b.lastEffect:null;if(_!==null){var L=_.next;b=L;do{if((b.tag&d)===d){var ne=b.inst,de=ne.destroy;if(de!==void 0){ne.destroy=void 0,_=p;var we=y,Le=de;try{Le()}catch(Ge){Wn(_,we,Ge)}}}b=b.next}while(b!==L)}}catch(Ge){Wn(p,p.return,Ge)}}function bF(d){var p=d.updateQueue;if(p!==null){var y=d.stateNode;try{uU(p,y)}catch(b){Wn(d,d.return,b)}}}function wF(d,p,y){y.props=Fh(d.type,d.memoizedProps),y.state=d.memoizedState;try{y.componentWillUnmount()}catch(b){Wn(d,p,b)}}function Cv(d,p){try{var y=d.ref;if(y!==null){switch(d.tag){case 26:case 27:case 5:var b=d.stateNode;break;case 30:b=d.stateNode;break;default:b=d.stateNode}typeof y=="function"?d.refCleanup=y(b):y.current=b}}catch(_){Wn(d,p,_)}}function Pl(d,p){var y=d.ref,b=d.refCleanup;if(y!==null)if(typeof b=="function")try{b()}catch(_){Wn(d,p,_)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(_){Wn(d,p,_)}else y.current=null}function EF(d){var p=d.type,y=d.memoizedProps,b=d.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":y.autoFocus&&b.focus();break e;case"img":y.src?b.src=y.src:y.srcSet&&(b.srcset=y.srcSet)}}catch(_){Wn(d,d.return,_)}}function SP(d,p,y){try{var b=d.stateNode;zye(b,d.type,y,p),b[ct]=p}catch(_){Wn(d,d.return,_)}}function SF(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&Kd(d.type)||d.tag===4}function AP(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||SF(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&Kd(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function TP(d,p,y){var b=d.tag;if(b===5||b===6)d=d.stateNode,p?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(d,p):(p=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,p.appendChild(d),y=y._reactRootContainer,y!=null||p.onclick!==null||(p.onclick=Dc));else if(b!==4&&(b===27&&Kd(d.type)&&(y=d.stateNode,p=null),d=d.child,d!==null))for(TP(d,p,y),d=d.sibling;d!==null;)TP(d,p,y),d=d.sibling}function YE(d,p,y){var b=d.tag;if(b===5||b===6)d=d.stateNode,p?y.insertBefore(d,p):y.appendChild(d);else if(b!==4&&(b===27&&Kd(d.type)&&(y=d.stateNode),d=d.child,d!==null))for(YE(d,p,y),d=d.sibling;d!==null;)YE(d,p,y),d=d.sibling}function AF(d){var p=d.stateNode,y=d.memoizedProps;try{for(var b=d.type,_=p.attributes;_.length;)p.removeAttributeNode(_[0]);zi(p,b,y),p[mt]=d,p[ct]=y}catch(L){Wn(d,d.return,L)}}var Gc=!1,ii=!1,CP=!1,TF=typeof WeakSet=="function"?WeakSet:Set,wi=null;function bye(d,p){if(d=d.containerInfo,KP=gS,d=Bj(d),vI(d)){if("selectionStart"in d)var y={start:d.selectionStart,end:d.selectionEnd};else e:{y=(y=d.ownerDocument)&&y.defaultView||window;var b=y.getSelection&&y.getSelection();if(b&&b.rangeCount!==0){y=b.anchorNode;var _=b.anchorOffset,L=b.focusNode;b=b.focusOffset;try{y.nodeType,L.nodeType}catch{y=null;break e}var ne=0,de=-1,we=-1,Le=0,Ge=0,Qe=d,Ue=null;t:for(;;){for(var He;Qe!==y||_!==0&&Qe.nodeType!==3||(de=ne+_),Qe!==L||b!==0&&Qe.nodeType!==3||(we=ne+b),Qe.nodeType===3&&(ne+=Qe.nodeValue.length),(He=Qe.firstChild)!==null;)Ue=Qe,Qe=He;for(;;){if(Qe===d)break t;if(Ue===y&&++Le===_&&(de=ne),Ue===L&&++Ge===b&&(we=ne),(He=Qe.nextSibling)!==null)break;Qe=Ue,Ue=Qe.parentNode}Qe=He}y=de===-1||we===-1?null:{start:de,end:we}}else y=null}y=y||{start:0,end:0}}else y=null;for(WP={focusedElem:d,selectionRange:y},gS=!1,wi=p;wi!==null;)if(p=wi,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,wi=d;else for(;wi!==null;){switch(p=wi,L=p.alternate,d=p.flags,p.tag){case 0:if((d&4)!==0&&(d=p.updateQueue,d=d!==null?d.events:null,d!==null))for(y=0;y<d.length;y++)_=d[y],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&L!==null){d=void 0,y=p,_=L.memoizedProps,L=L.memoizedState,b=y.stateNode;try{var kt=Fh(y.type,_);d=b.getSnapshotBeforeUpdate(kt,L),b.__reactInternalSnapshotBeforeUpdate=d}catch(Gt){Wn(y,y.return,Gt)}}break;case 3:if((d&1024)!==0){if(d=p.stateNode.containerInfo,y=d.nodeType,y===9)XP(d);else if(y===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":XP(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=p.sibling,d!==null){d.return=p.return,wi=d;break}wi=p.return}}function CF(d,p,y){var b=y.flags;switch(y.tag){case 0:case 11:case 15:Kc(d,y),b&4&&Tv(5,y);break;case 1:if(Kc(d,y),b&4)if(d=y.stateNode,p===null)try{d.componentDidMount()}catch(ne){Wn(y,y.return,ne)}else{var _=Fh(y.type,p.memoizedProps);p=p.memoizedState;try{d.componentDidUpdate(_,p,d.__reactInternalSnapshotBeforeUpdate)}catch(ne){Wn(y,y.return,ne)}}b&64&&bF(y),b&512&&Cv(y,y.return);break;case 3:if(Kc(d,y),b&64&&(d=y.updateQueue,d!==null)){if(p=null,y.child!==null)switch(y.child.tag){case 27:case 5:p=y.child.stateNode;break;case 1:p=y.child.stateNode}try{uU(d,p)}catch(ne){Wn(y,y.return,ne)}}break;case 27:p===null&&b&4&&AF(y);case 26:case 5:Kc(d,y),p===null&&b&4&&EF(y),b&512&&Cv(y,y.return);break;case 12:Kc(d,y);break;case 31:Kc(d,y),b&4&&IF(d,y);break;case 13:Kc(d,y),b&4&&PF(d,y),b&64&&(d=y.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(y=Iye.bind(null,y),Yye(d,y))));break;case 22:if(b=y.memoizedState!==null||Gc,!b){p=p!==null&&p.memoizedState!==null||ii,_=Gc;var L=ii;Gc=b,(ii=p)&&!L?Wc(d,y,(y.subtreeFlags&8772)!==0):Kc(d,y),Gc=_,ii=L}break;case 30:break;default:Kc(d,y)}}function kF(d){var p=d.alternate;p!==null&&(d.alternate=null,kF(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&kl(p)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var Er=null,qs=!1;function qc(d,p,y){for(y=y.child;y!==null;)NF(d,p,y),y=y.sibling}function NF(d,p,y){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(fe,y)}catch{}switch(y.tag){case 26:ii||Pl(y,p),qc(d,p,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:ii||Pl(y,p);var b=Er,_=qs;Kd(y.type)&&(Er=y.stateNode,qs=!1),qc(d,p,y),Dv(y.stateNode),Er=b,qs=_;break;case 5:ii||Pl(y,p);case 6:if(b=Er,_=qs,Er=null,qc(d,p,y),Er=b,qs=_,Er!==null)if(qs)try{(Er.nodeType===9?Er.body:Er.nodeName==="HTML"?Er.ownerDocument.body:Er).removeChild(y.stateNode)}catch(L){Wn(y,p,L)}else try{Er.removeChild(y.stateNode)}catch(L){Wn(y,p,L)}break;case 18:Er!==null&&(qs?(d=Er,b9(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,y.stateNode),A0(d)):b9(Er,y.stateNode));break;case 4:b=Er,_=qs,Er=y.stateNode.containerInfo,qs=!0,qc(d,p,y),Er=b,qs=_;break;case 0:case 11:case 14:case 15:Fd(2,y,p),ii||Fd(4,y,p),qc(d,p,y);break;case 1:ii||(Pl(y,p),b=y.stateNode,typeof b.componentWillUnmount=="function"&&wF(y,p,b)),qc(d,p,y);break;case 21:qc(d,p,y);break;case 22:ii=(b=ii)||y.memoizedState!==null,qc(d,p,y),ii=b;break;default:qc(d,p,y)}}function IF(d,p){if(p.memoizedState===null&&(d=p.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{A0(d)}catch(y){Wn(p,p.return,y)}}}function PF(d,p){if(p.memoizedState===null&&(d=p.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{A0(d)}catch(y){Wn(p,p.return,y)}}function wye(d){switch(d.tag){case 31:case 13:case 19:var p=d.stateNode;return p===null&&(p=d.stateNode=new TF),p;case 22:return d=d.stateNode,p=d._retryCache,p===null&&(p=d._retryCache=new TF),p;default:throw Error(r(435,d.tag))}}function JE(d,p){var y=wye(d);p.forEach(function(b){if(!y.has(b)){y.add(b);var _=Pye.bind(null,d,b);b.then(_,_)}})}function Ks(d,p){var y=p.deletions;if(y!==null)for(var b=0;b<y.length;b++){var _=y[b],L=d,ne=p,de=ne;e:for(;de!==null;){switch(de.tag){case 27:if(Kd(de.type)){Er=de.stateNode,qs=!1;break e}break;case 5:Er=de.stateNode,qs=!1;break e;case 3:case 4:Er=de.stateNode.containerInfo,qs=!0;break e}de=de.return}if(Er===null)throw Error(r(160));NF(L,ne,_),Er=null,qs=!1,L=_.alternate,L!==null&&(L.return=null),_.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)_F(p,d),p=p.sibling}var Fa=null;function _F(d,p){var y=d.alternate,b=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:Ks(p,d),Ws(d),b&4&&(Fd(3,d,d.return),Tv(3,d),Fd(5,d,d.return));break;case 1:Ks(p,d),Ws(d),b&512&&(ii||y===null||Pl(y,y.return)),b&64&&Gc&&(d=d.updateQueue,d!==null&&(b=d.callbacks,b!==null&&(y=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=y===null?b:y.concat(b))));break;case 26:var _=Fa;if(Ks(p,d),Ws(d),b&512&&(ii||y===null||Pl(y,y.return)),b&4){var L=y!==null?y.memoizedState:null;if(b=d.memoizedState,y===null)if(b===null)if(d.stateNode===null){e:{b=d.type,y=d.memoizedProps,_=_.ownerDocument||_;t:switch(b){case"title":L=_.getElementsByTagName("title")[0],(!L||L[$o]||L[mt]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=_.createElement(b),_.head.insertBefore(L,_.querySelector("head > title"))),zi(L,b,y),L[mt]=d,gr(L),b=L;break e;case"link":var ne=_9("link","href",_).get(b+(y.href||""));if(ne){for(var de=0;de<ne.length;de++)if(L=ne[de],L.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&L.getAttribute("rel")===(y.rel==null?null:y.rel)&&L.getAttribute("title")===(y.title==null?null:y.title)&&L.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){ne.splice(de,1);break t}}L=_.createElement(b),zi(L,b,y),_.head.appendChild(L);break;case"meta":if(ne=_9("meta","content",_).get(b+(y.content||""))){for(de=0;de<ne.length;de++)if(L=ne[de],L.getAttribute("content")===(y.content==null?null:""+y.content)&&L.getAttribute("name")===(y.name==null?null:y.name)&&L.getAttribute("property")===(y.property==null?null:y.property)&&L.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&L.getAttribute("charset")===(y.charSet==null?null:y.charSet)){ne.splice(de,1);break t}}L=_.createElement(b),zi(L,b,y),_.head.appendChild(L);break;default:throw Error(r(468,b))}L[mt]=d,gr(L),b=L}d.stateNode=b}else R9(_,d.type,d.stateNode);else d.stateNode=P9(_,b,d.memoizedProps);else L!==b?(L===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):L.count--,b===null?R9(_,d.type,d.stateNode):P9(_,b,d.memoizedProps)):b===null&&d.stateNode!==null&&SP(d,d.memoizedProps,y.memoizedProps)}break;case 27:Ks(p,d),Ws(d),b&512&&(ii||y===null||Pl(y,y.return)),y!==null&&b&4&&SP(d,d.memoizedProps,y.memoizedProps);break;case 5:if(Ks(p,d),Ws(d),b&512&&(ii||y===null||Pl(y,y.return)),d.flags&32){_=d.stateNode;try{Km(_,"")}catch(kt){Wn(d,d.return,kt)}}b&4&&d.stateNode!=null&&(_=d.memoizedProps,SP(d,_,y!==null?y.memoizedProps:_)),b&1024&&(CP=!0);break;case 6:if(Ks(p,d),Ws(d),b&4){if(d.stateNode===null)throw Error(r(162));b=d.memoizedProps,y=d.stateNode;try{y.nodeValue=b}catch(kt){Wn(d,d.return,kt)}}break;case 3:if(fS=null,_=Fa,Fa=uS(p.containerInfo),Ks(p,d),Fa=_,Ws(d),b&4&&y!==null&&y.memoizedState.isDehydrated)try{A0(p.containerInfo)}catch(kt){Wn(d,d.return,kt)}CP&&(CP=!1,RF(d));break;case 4:b=Fa,Fa=uS(d.stateNode.containerInfo),Ks(p,d),Ws(d),Fa=b;break;case 12:Ks(p,d),Ws(d);break;case 31:Ks(p,d),Ws(d),b&4&&(b=d.updateQueue,b!==null&&(d.updateQueue=null,JE(d,b)));break;case 13:Ks(p,d),Ws(d),d.child.flags&8192&&d.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(QE=At()),b&4&&(b=d.updateQueue,b!==null&&(d.updateQueue=null,JE(d,b)));break;case 22:_=d.memoizedState!==null;var we=y!==null&&y.memoizedState!==null,Le=Gc,Ge=ii;if(Gc=Le||_,ii=Ge||we,Ks(p,d),ii=Ge,Gc=Le,Ws(d),b&8192)e:for(p=d.stateNode,p._visibility=_?p._visibility&-2:p._visibility|1,_&&(y===null||we||Gc||ii||zh(d)),y=null,p=d;;){if(p.tag===5||p.tag===26){if(y===null){we=y=p;try{if(L=we.stateNode,_)ne=L.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none";else{de=we.stateNode;var Qe=we.memoizedProps.style,Ue=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null;de.style.display=Ue==null||typeof Ue=="boolean"?"":(""+Ue).trim()}}catch(kt){Wn(we,we.return,kt)}}}else if(p.tag===6){if(y===null){we=p;try{we.stateNode.nodeValue=_?"":we.memoizedProps}catch(kt){Wn(we,we.return,kt)}}}else if(p.tag===18){if(y===null){we=p;try{var He=we.stateNode;_?w9(He,!0):w9(we.stateNode,!1)}catch(kt){Wn(we,we.return,kt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===d)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break e;for(;p.sibling===null;){if(p.return===null||p.return===d)break e;y===p&&(y=null),p=p.return}y===p&&(y=null),p.sibling.return=p.return,p=p.sibling}b&4&&(b=d.updateQueue,b!==null&&(y=b.retryQueue,y!==null&&(b.retryQueue=null,JE(d,y))));break;case 19:Ks(p,d),Ws(d),b&4&&(b=d.updateQueue,b!==null&&(d.updateQueue=null,JE(d,b)));break;case 30:break;case 21:break;default:Ks(p,d),Ws(d)}}function Ws(d){var p=d.flags;if(p&2){try{for(var y,b=d.return;b!==null;){if(SF(b)){y=b;break}b=b.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var _=y.stateNode,L=AP(d);YE(d,L,_);break;case 5:var ne=y.stateNode;y.flags&32&&(Km(ne,""),y.flags&=-33);var de=AP(d);YE(d,de,ne);break;case 3:case 4:var we=y.stateNode.containerInfo,Le=AP(d);TP(d,Le,we);break;default:throw Error(r(161))}}catch(Ge){Wn(d,d.return,Ge)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function RF(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var p=d;RF(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),d=d.sibling}}function Kc(d,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)CF(d,p.alternate,p),p=p.sibling}function zh(d){for(d=d.child;d!==null;){var p=d;switch(p.tag){case 0:case 11:case 14:case 15:Fd(4,p,p.return),zh(p);break;case 1:Pl(p,p.return);var y=p.stateNode;typeof y.componentWillUnmount=="function"&&wF(p,p.return,y),zh(p);break;case 27:Dv(p.stateNode);case 26:case 5:Pl(p,p.return),zh(p);break;case 22:p.memoizedState===null&&zh(p);break;case 30:zh(p);break;default:zh(p)}d=d.sibling}}function Wc(d,p,y){for(y=y&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var b=p.alternate,_=d,L=p,ne=L.flags;switch(L.tag){case 0:case 11:case 15:Wc(_,L,y),Tv(4,L);break;case 1:if(Wc(_,L,y),b=L,_=b.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Le){Wn(b,b.return,Le)}if(b=L,_=b.updateQueue,_!==null){var de=b.stateNode;try{var we=_.shared.hiddenCallbacks;if(we!==null)for(_.shared.hiddenCallbacks=null,_=0;_<we.length;_++)cU(we[_],de)}catch(Le){Wn(b,b.return,Le)}}y&&ne&64&&bF(L),Cv(L,L.return);break;case 27:AF(L);case 26:case 5:Wc(_,L,y),y&&b===null&&ne&4&&EF(L),Cv(L,L.return);break;case 12:Wc(_,L,y);break;case 31:Wc(_,L,y),y&&ne&4&&IF(_,L);break;case 13:Wc(_,L,y),y&&ne&4&&PF(_,L);break;case 22:L.memoizedState===null&&Wc(_,L,y),Cv(L,L.return);break;case 30:break;default:Wc(_,L,y)}p=p.sibling}}function kP(d,p){var y=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),d=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(d=p.memoizedState.cachePool.pool),d!==y&&(d!=null&&d.refCount++,y!=null&&fv(y))}function NP(d,p){d=null,p.alternate!==null&&(d=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==d&&(p.refCount++,d!=null&&fv(d))}function za(d,p,y,b){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)OF(d,p,y,b),p=p.sibling}function OF(d,p,y,b){var _=p.flags;switch(p.tag){case 0:case 11:case 15:za(d,p,y,b),_&2048&&Tv(9,p);break;case 1:za(d,p,y,b);break;case 3:za(d,p,y,b),_&2048&&(d=null,p.alternate!==null&&(d=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==d&&(p.refCount++,d!=null&&fv(d)));break;case 12:if(_&2048){za(d,p,y,b),d=p.stateNode;try{var L=p.memoizedProps,ne=L.id,de=L.onPostCommit;typeof de=="function"&&de(ne,p.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(we){Wn(p,p.return,we)}}else za(d,p,y,b);break;case 31:za(d,p,y,b);break;case 13:za(d,p,y,b);break;case 23:break;case 22:L=p.stateNode,ne=p.alternate,p.memoizedState!==null?L._visibility&2?za(d,p,y,b):kv(d,p):L._visibility&2?za(d,p,y,b):(L._visibility|=2,h0(d,p,y,b,(p.subtreeFlags&10256)!==0||!1)),_&2048&&kP(ne,p);break;case 24:za(d,p,y,b),_&2048&&NP(p.alternate,p);break;default:za(d,p,y,b)}}function h0(d,p,y,b,_){for(_=_&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var L=d,ne=p,de=y,we=b,Le=ne.flags;switch(ne.tag){case 0:case 11:case 15:h0(L,ne,de,we,_),Tv(8,ne);break;case 23:break;case 22:var Ge=ne.stateNode;ne.memoizedState!==null?Ge._visibility&2?h0(L,ne,de,we,_):kv(L,ne):(Ge._visibility|=2,h0(L,ne,de,we,_)),_&&Le&2048&&kP(ne.alternate,ne);break;case 24:h0(L,ne,de,we,_),_&&Le&2048&&NP(ne.alternate,ne);break;default:h0(L,ne,de,we,_)}p=p.sibling}}function kv(d,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var y=d,b=p,_=b.flags;switch(b.tag){case 22:kv(y,b),_&2048&&kP(b.alternate,b);break;case 24:kv(y,b),_&2048&&NP(b.alternate,b);break;default:kv(y,b)}p=p.sibling}}var Nv=8192;function p0(d,p,y){if(d.subtreeFlags&Nv)for(d=d.child;d!==null;)MF(d,p,y),d=d.sibling}function MF(d,p,y){switch(d.tag){case 26:p0(d,p,y),d.flags&Nv&&d.memoizedState!==null&&axe(y,Fa,d.memoizedState,d.memoizedProps);break;case 5:p0(d,p,y);break;case 3:case 4:var b=Fa;Fa=uS(d.stateNode.containerInfo),p0(d,p,y),Fa=b;break;case 22:d.memoizedState===null&&(b=d.alternate,b!==null&&b.memoizedState!==null?(b=Nv,Nv=16777216,p0(d,p,y),Nv=b):p0(d,p,y));break;default:p0(d,p,y)}}function DF(d){var p=d.alternate;if(p!==null&&(d=p.child,d!==null)){p.child=null;do p=d.sibling,d.sibling=null,d=p;while(d!==null)}}function Iv(d){var p=d.deletions;if((d.flags&16)!==0){if(p!==null)for(var y=0;y<p.length;y++){var b=p[y];wi=b,BF(b,d)}DF(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)LF(d),d=d.sibling}function LF(d){switch(d.tag){case 0:case 11:case 15:Iv(d),d.flags&2048&&Fd(9,d,d.return);break;case 3:Iv(d);break;case 12:Iv(d);break;case 22:var p=d.stateNode;d.memoizedState!==null&&p._visibility&2&&(d.return===null||d.return.tag!==13)?(p._visibility&=-3,XE(d)):Iv(d);break;default:Iv(d)}}function XE(d){var p=d.deletions;if((d.flags&16)!==0){if(p!==null)for(var y=0;y<p.length;y++){var b=p[y];wi=b,BF(b,d)}DF(d)}for(d=d.child;d!==null;){switch(p=d,p.tag){case 0:case 11:case 15:Fd(8,p,p.return),XE(p);break;case 22:y=p.stateNode,y._visibility&2&&(y._visibility&=-3,XE(p));break;default:XE(p)}d=d.sibling}}function BF(d,p){for(;wi!==null;){var y=wi;switch(y.tag){case 0:case 11:case 15:Fd(8,y,p);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var b=y.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:fv(y.memoizedState.cache)}if(b=y.child,b!==null)b.return=y,wi=b;else e:for(y=d;wi!==null;){b=wi;var _=b.sibling,L=b.return;if(kF(b),b===y){wi=null;break e}if(_!==null){_.return=L,wi=_;break e}wi=L}}}var Eye={getCacheForType:function(d){var p=Ui(ti),y=p.data.get(d);return y===void 0&&(y=d(),p.data.set(d,y)),y},cacheSignal:function(){return Ui(ti).controller.signal}},Sye=typeof WeakMap=="function"?WeakMap:Map,Fn=0,rr=null,xn=null,Sn=0,Kn=0,vo=null,zd=!1,m0=!1,IP=!1,Yc=0,Br=0,$d=0,$h=0,PP=0,bo=0,g0=0,Pv=null,Ys=null,_P=!1,QE=0,jF=0,ZE=1/0,eS=null,Hd=null,hi=0,Vd=null,y0=null,Jc=0,RP=0,OP=null,UF=null,_v=0,MP=null;function wo(){return(Fn&2)!==0&&Sn!==0?Sn&-Sn:R.T!==null?FP():qt()}function FF(){if(bo===0)if((Sn&536870912)===0||Tn){var d=xt;xt<<=1,(xt&3932160)===0&&(xt=262144),bo=d}else bo=536870912;return d=yo.current,d!==null&&(d.flags|=32),bo}function Js(d,p,y){(d===rr&&(Kn===2||Kn===9)||d.cancelPendingCommit!==null)&&(x0(d,0),Gd(d,Sn,bo,!1)),Q(d,y),((Fn&2)===0||d!==rr)&&(d===rr&&((Fn&2)===0&&($h|=y),Br===4&&Gd(d,Sn,bo,!1)),_l(d))}function zF(d,p,y){if((Fn&6)!==0)throw Error(r(327));var b=!y&&(p&127)===0&&(p&d.expiredLanes)===0||rn(d,p),_=b?Cye(d,p):LP(d,p,!0),L=b;do{if(_===0){m0&&!b&&Gd(d,p,0,!1);break}else{if(y=d.current.alternate,L&&!Aye(y)){_=LP(d,p,!1),L=!1;continue}if(_===2){if(L=p,d.errorRecoveryDisabledLanes&L)var ne=0;else ne=d.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){p=ne;e:{var de=d;_=Pv;var we=de.current.memoizedState.isDehydrated;if(we&&(x0(de,ne).flags|=256),ne=LP(de,ne,!1),ne!==2){if(IP&&!we){de.errorRecoveryDisabledLanes|=L,$h|=L,_=4;break e}L=Ys,Ys=_,L!==null&&(Ys===null?Ys=L:Ys.push.apply(Ys,L))}_=ne}if(L=!1,_!==2)continue}}if(_===1){x0(d,0),Gd(d,p,0,!0);break}e:{switch(b=d,L=_,L){case 0:case 1:throw Error(r(345));case 4:if((p&4194048)!==p)break;case 6:Gd(b,p,bo,!zd);break e;case 2:Ys=null;break;case 3:case 5:break;default:throw Error(r(329))}if((p&62914560)===p&&(_=QE+300-At(),10<_)){if(Gd(b,p,bo,!zd),Qt(b,0,!0)!==0)break e;Jc=p,b.timeoutHandle=x9($F.bind(null,b,y,Ys,eS,_P,p,bo,$h,g0,zd,L,"Throttled",-0,0),_);break e}$F(b,y,Ys,eS,_P,p,bo,$h,g0,zd,L,null,-0,0)}}break}while(!0);_l(d)}function $F(d,p,y,b,_,L,ne,de,we,Le,Ge,Qe,Ue,He){if(d.timeoutHandle=-1,Qe=p.subtreeFlags,Qe&8192||(Qe&16785408)===16785408){Qe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dc},MF(p,L,Qe);var kt=(L&62914560)===L?QE-At():(L&4194048)===L?jF-At():0;if(kt=lxe(Qe,kt),kt!==null){Jc=L,d.cancelPendingCommit=kt(JF.bind(null,d,p,L,y,b,_,ne,de,we,Ge,Qe,null,Ue,He)),Gd(d,L,ne,!Le);return}}JF(d,p,L,y,b,_,ne,de,we)}function Aye(d){for(var p=d;;){var y=p.tag;if((y===0||y===11||y===15)&&p.flags&16384&&(y=p.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var b=0;b<y.length;b++){var _=y[b],L=_.getSnapshot;_=_.value;try{if(!mo(L(),_))return!1}catch{return!1}}if(y=p.child,p.subtreeFlags&16384&&y!==null)y.return=p,p=y;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Gd(d,p,y,b){p&=~PP,p&=~$h,d.suspendedLanes|=p,d.pingedLanes&=~p,b&&(d.warmLanes|=p),b=d.expirationTimes;for(var _=p;0<_;){var L=31-ye(_),ne=1<<L;b[L]=-1,_&=~ne}y!==0&&pe(d,y,p)}function tS(){return(Fn&6)===0?(Rv(0),!1):!0}function DP(){if(xn!==null){if(Kn===0)var d=xn.return;else d=xn,Uc=Oh=null,XI(d),l0=null,pv=0,d=xn;for(;d!==null;)vF(d.alternate,d),d=d.return;xn=null}}function x0(d,p){var y=d.timeoutHandle;y!==-1&&(d.timeoutHandle=-1,Vye(y)),y=d.cancelPendingCommit,y!==null&&(d.cancelPendingCommit=null,y()),Jc=0,DP(),rr=d,xn=y=Bc(d.current,null),Sn=p,Kn=0,vo=null,zd=!1,m0=rn(d,p),IP=!1,g0=bo=PP=$h=$d=Br=0,Ys=Pv=null,_P=!1,(p&8)!==0&&(p|=p&32);var b=d.entangledLanes;if(b!==0)for(d=d.entanglements,b&=p;0<b;){var _=31-ye(b),L=1<<_;p|=d[_],b&=~L}return Yc=p,EE(),y}function HF(d,p){sn=null,R.H=Ev,p===a0||p===PE?(p=sU(),Kn=3):p===UI?(p=sU(),Kn=4):Kn=p===hP?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,vo=p,xn===null&&(Br=1,VE(d,Ko(p,d.current)))}function VF(){var d=yo.current;return d===null?!0:(Sn&4194048)===Sn?Xo===null:(Sn&62914560)===Sn||(Sn&536870912)!==0?d===Xo:!1}function GF(){var d=R.H;return R.H=Ev,d===null?Ev:d}function qF(){var d=R.A;return R.A=Eye,d}function nS(){Br=4,zd||(Sn&4194048)!==Sn&&yo.current!==null||(m0=!0),($d&134217727)===0&&($h&134217727)===0||rr===null||Gd(rr,Sn,bo,!1)}function LP(d,p,y){var b=Fn;Fn|=2;var _=GF(),L=qF();(rr!==d||Sn!==p)&&(eS=null,x0(d,p)),p=!1;var ne=Br;e:do try{if(Kn!==0&&xn!==null){var de=xn,we=vo;switch(Kn){case 8:DP(),ne=6;break e;case 3:case 2:case 9:case 6:yo.current===null&&(p=!0);var Le=Kn;if(Kn=0,vo=null,v0(d,de,we,Le),y&&m0){ne=0;break e}break;default:Le=Kn,Kn=0,vo=null,v0(d,de,we,Le)}}Tye(),ne=Br;break}catch(Ge){HF(d,Ge)}while(!0);return p&&d.shellSuspendCounter++,Uc=Oh=null,Fn=b,R.H=_,R.A=L,xn===null&&(rr=null,Sn=0,EE()),ne}function Tye(){for(;xn!==null;)KF(xn)}function Cye(d,p){var y=Fn;Fn|=2;var b=GF(),_=qF();rr!==d||Sn!==p?(eS=null,ZE=At()+500,x0(d,p)):m0=rn(d,p);e:do try{if(Kn!==0&&xn!==null){p=xn;var L=vo;t:switch(Kn){case 1:Kn=0,vo=null,v0(d,p,L,1);break;case 2:case 9:if(rU(L)){Kn=0,vo=null,WF(p);break}p=function(){Kn!==2&&Kn!==9||rr!==d||(Kn=7),_l(d)},L.then(p,p);break e;case 3:Kn=7;break e;case 4:Kn=5;break e;case 7:rU(L)?(Kn=0,vo=null,WF(p)):(Kn=0,vo=null,v0(d,p,L,7));break;case 5:var ne=null;switch(xn.tag){case 26:ne=xn.memoizedState;case 5:case 27:var de=xn;if(ne?O9(ne):de.stateNode.complete){Kn=0,vo=null;var we=de.sibling;if(we!==null)xn=we;else{var Le=de.return;Le!==null?(xn=Le,rS(Le)):xn=null}break t}}Kn=0,vo=null,v0(d,p,L,5);break;case 6:Kn=0,vo=null,v0(d,p,L,6);break;case 8:DP(),Br=6;break e;default:throw Error(r(462))}}kye();break}catch(Ge){HF(d,Ge)}while(!0);return Uc=Oh=null,R.H=b,R.A=_,Fn=y,xn!==null?0:(rr=null,Sn=0,EE(),Br)}function kye(){for(;xn!==null&&!Xt();)KF(xn)}function KF(d){var p=yF(d.alternate,d,Yc);d.memoizedProps=d.pendingProps,p===null?rS(d):xn=p}function WF(d){var p=d,y=p.alternate;switch(p.tag){case 15:case 0:p=dF(y,p,p.pendingProps,p.type,void 0,Sn);break;case 11:p=dF(y,p,p.pendingProps,p.type.render,p.ref,Sn);break;case 5:XI(p);default:vF(y,p),p=xn=qj(p,Yc),p=yF(y,p,Yc)}d.memoizedProps=d.pendingProps,p===null?rS(d):xn=p}function v0(d,p,y,b){Uc=Oh=null,XI(p),l0=null,pv=0;var _=p.return;try{if(mye(d,_,p,y,Sn)){Br=1,VE(d,Ko(y,d.current)),xn=null;return}}catch(L){if(_!==null)throw xn=_,L;Br=1,VE(d,Ko(y,d.current)),xn=null;return}p.flags&32768?(Tn||b===1?d=!0:m0||(Sn&536870912)!==0?d=!1:(zd=d=!0,(b===2||b===9||b===3||b===6)&&(b=yo.current,b!==null&&b.tag===13&&(b.flags|=16384))),YF(p,d)):rS(p)}function rS(d){var p=d;do{if((p.flags&32768)!==0){YF(p,zd);return}d=p.return;var y=xye(p.alternate,p,Yc);if(y!==null){xn=y;return}if(p=p.sibling,p!==null){xn=p;return}xn=p=d}while(p!==null);Br===0&&(Br=5)}function YF(d,p){do{var y=vye(d.alternate,d);if(y!==null){y.flags&=32767,xn=y;return}if(y=d.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!p&&(d=d.sibling,d!==null)){xn=d;return}xn=d=y}while(d!==null);Br=6,xn=null}function JF(d,p,y,b,_,L,ne,de,we){d.cancelPendingCommit=null;do iS();while(hi!==0);if((Fn&6)!==0)throw Error(r(327));if(p!==null){if(p===d.current)throw Error(r(177));if(L=p.lanes|p.childLanes,L|=AI,ee(d,y,L,ne,de,we),d===rr&&(xn=rr=null,Sn=0),y0=p,Vd=d,Jc=y,RP=L,OP=_,UF=b,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,_ye(ft,function(){return t9(),null})):(d.callbackNode=null,d.callbackPriority=0),b=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||b){b=R.T,R.T=null,_=$.p,$.p=2,ne=Fn,Fn|=4;try{bye(d,p,y)}finally{Fn=ne,$.p=_,R.T=b}}hi=1,XF(),QF(),ZF()}}function XF(){if(hi===1){hi=0;var d=Vd,p=y0,y=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||y){y=R.T,R.T=null;var b=$.p;$.p=2;var _=Fn;Fn|=4;try{_F(p,d);var L=WP,ne=Bj(d.containerInfo),de=L.focusedElem,we=L.selectionRange;if(ne!==de&&de&&de.ownerDocument&&Lj(de.ownerDocument.documentElement,de)){if(we!==null&&vI(de)){var Le=we.start,Ge=we.end;if(Ge===void 0&&(Ge=Le),"selectionStart"in de)de.selectionStart=Le,de.selectionEnd=Math.min(Ge,de.value.length);else{var Qe=de.ownerDocument||document,Ue=Qe&&Qe.defaultView||window;if(Ue.getSelection){var He=Ue.getSelection(),kt=de.textContent.length,Gt=Math.min(we.start,kt),Zn=we.end===void 0?Gt:Math.min(we.end,kt);!He.extend&&Gt>Zn&&(ne=Zn,Zn=Gt,Gt=ne);var Ie=Dj(de,Gt),Ae=Dj(de,Zn);if(Ie&&Ae&&(He.rangeCount!==1||He.anchorNode!==Ie.node||He.anchorOffset!==Ie.offset||He.focusNode!==Ae.node||He.focusOffset!==Ae.offset)){var De=Qe.createRange();De.setStart(Ie.node,Ie.offset),He.removeAllRanges(),Gt>Zn?(He.addRange(De),He.extend(Ae.node,Ae.offset)):(De.setEnd(Ae.node,Ae.offset),He.addRange(De))}}}}for(Qe=[],He=de;He=He.parentNode;)He.nodeType===1&&Qe.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof de.focus=="function"&&de.focus(),de=0;de<Qe.length;de++){var Je=Qe[de];Je.element.scrollLeft=Je.left,Je.element.scrollTop=Je.top}}gS=!!KP,WP=KP=null}finally{Fn=_,$.p=b,R.T=y}}d.current=p,hi=2}}function QF(){if(hi===2){hi=0;var d=Vd,p=y0,y=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||y){y=R.T,R.T=null;var b=$.p;$.p=2;var _=Fn;Fn|=4;try{CF(d,p.alternate,p)}finally{Fn=_,$.p=b,R.T=y}}hi=3}}function ZF(){if(hi===4||hi===3){hi=0,qe();var d=Vd,p=y0,y=Jc,b=UF;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?hi=5:(hi=0,y0=Vd=null,e9(d,d.pendingLanes));var _=d.pendingLanes;if(_===0&&(Hd=null),Kt(y),p=p.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(fe,p,void 0,(p.current.flags&128)===128)}catch{}if(b!==null){p=R.T,_=$.p,$.p=2,R.T=null;try{for(var L=d.onRecoverableError,ne=0;ne<b.length;ne++){var de=b[ne];L(de.value,{componentStack:de.stack})}}finally{R.T=p,$.p=_}}(Jc&3)!==0&&iS(),_l(d),_=d.pendingLanes,(y&261930)!==0&&(_&42)!==0?d===MP?_v++:(_v=0,MP=d):_v=0,Rv(0)}}function e9(d,p){(d.pooledCacheLanes&=p)===0&&(p=d.pooledCache,p!=null&&(d.pooledCache=null,fv(p)))}function iS(){return XF(),QF(),ZF(),t9()}function t9(){if(hi!==5)return!1;var d=Vd,p=RP;RP=0;var y=Kt(Jc),b=R.T,_=$.p;try{$.p=32>y?32:y,R.T=null,y=OP,OP=null;var L=Vd,ne=Jc;if(hi=0,y0=Vd=null,Jc=0,(Fn&6)!==0)throw Error(r(331));var de=Fn;if(Fn|=4,LF(L.current),OF(L,L.current,ne,y),Fn=de,Rv(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(fe,L)}catch{}return!0}finally{$.p=_,R.T=b,e9(d,p)}}function n9(d,p,y){p=Ko(y,p),p=fP(d.stateNode,p,2),d=Bd(d,p,2),d!==null&&(Q(d,2),_l(d))}function Wn(d,p,y){if(d.tag===3)n9(d,d,y);else for(;p!==null;){if(p.tag===3){n9(p,d,y);break}else if(p.tag===1){var b=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Hd===null||!Hd.has(b))){d=Ko(y,d),y=rF(2),b=Bd(p,y,2),b!==null&&(iF(y,b,p,d),Q(b,2),_l(b));break}}p=p.return}}function BP(d,p,y){var b=d.pingCache;if(b===null){b=d.pingCache=new Sye;var _=new Set;b.set(p,_)}else _=b.get(p),_===void 0&&(_=new Set,b.set(p,_));_.has(y)||(IP=!0,_.add(y),d=Nye.bind(null,d,p,y),p.then(d,d))}function Nye(d,p,y){var b=d.pingCache;b!==null&&b.delete(p),d.pingedLanes|=d.suspendedLanes&y,d.warmLanes&=~y,rr===d&&(Sn&y)===y&&(Br===4||Br===3&&(Sn&62914560)===Sn&&300>At()-QE?(Fn&2)===0&&x0(d,0):PP|=y,g0===Sn&&(g0=0)),_l(d)}function r9(d,p){p===0&&(p=$n()),d=Ph(d,p),d!==null&&(Q(d,p),_l(d))}function Iye(d){var p=d.memoizedState,y=0;p!==null&&(y=p.retryLane),r9(d,y)}function Pye(d,p){var y=0;switch(d.tag){case 31:case 13:var b=d.stateNode,_=d.memoizedState;_!==null&&(y=_.retryLane);break;case 19:b=d.stateNode;break;case 22:b=d.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(p),r9(d,y)}function _ye(d,p){return st(d,p)}var sS=null,b0=null,jP=!1,oS=!1,UP=!1,qd=0;function _l(d){d!==b0&&d.next===null&&(b0===null?sS=b0=d:b0=b0.next=d),oS=!0,jP||(jP=!0,Oye())}function Rv(d,p){if(!UP&&oS){UP=!0;do for(var y=!1,b=sS;b!==null;){if(d!==0){var _=b.pendingLanes;if(_===0)var L=0;else{var ne=b.suspendedLanes,de=b.pingedLanes;L=(1<<31-ye(42|d)+1)-1,L&=_&~(ne&~de),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(y=!0,a9(b,L))}else L=Sn,L=Qt(b,b===rr?L:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(L&3)===0||rn(b,L)||(y=!0,a9(b,L));b=b.next}while(y);UP=!1}}function Rye(){i9()}function i9(){oS=jP=!1;var d=0;qd!==0&&Hye()&&(d=qd);for(var p=At(),y=null,b=sS;b!==null;){var _=b.next,L=s9(b,p);L===0?(b.next=null,y===null?sS=_:y.next=_,_===null&&(b0=y)):(y=b,(d!==0||(L&3)!==0)&&(oS=!0)),b=_}hi!==0&&hi!==5||Rv(d),qd!==0&&(qd=0)}function s9(d,p){for(var y=d.suspendedLanes,b=d.pingedLanes,_=d.expirationTimes,L=d.pendingLanes&-62914561;0<L;){var ne=31-ye(L),de=1<<ne,we=_[ne];we===-1?((de&y)===0||(de&b)!==0)&&(_[ne]=Bi(de,p)):we<=p&&(d.expiredLanes|=de),L&=~de}if(p=rr,y=Sn,y=Qt(d,d===p?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),b=d.callbackNode,y===0||d===p&&(Kn===2||Kn===9)||d.cancelPendingCommit!==null)return b!==null&&b!==null&&Lt(b),d.callbackNode=null,d.callbackPriority=0;if((y&3)===0||rn(d,y)){if(p=y&-y,p===d.callbackPriority)return p;switch(b!==null&&Lt(b),Kt(y)){case 2:case 8:y=Ve;break;case 32:y=ft;break;case 268435456:y=se;break;default:y=ft}return b=o9.bind(null,d),y=st(y,b),d.callbackPriority=p,d.callbackNode=y,p}return b!==null&&b!==null&&Lt(b),d.callbackPriority=2,d.callbackNode=null,2}function o9(d,p){if(hi!==0&&hi!==5)return d.callbackNode=null,d.callbackPriority=0,null;var y=d.callbackNode;if(iS()&&d.callbackNode!==y)return null;var b=Sn;return b=Qt(d,d===rr?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),b===0?null:(zF(d,b,p),s9(d,At()),d.callbackNode!=null&&d.callbackNode===y?o9.bind(null,d):null)}function a9(d,p){if(iS())return null;zF(d,p,!0)}function Oye(){Gye(function(){(Fn&6)!==0?st(_e,Rye):i9()})}function FP(){if(qd===0){var d=s0;d===0&&(d=Ut,Ut<<=1,(Ut&261888)===0&&(Ut=256)),qd=d}return qd}function l9(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:pE(""+d)}function c9(d,p){var y=p.ownerDocument.createElement("input");return y.name=p.name,y.value=p.value,d.id&&y.setAttribute("form",d.id),p.parentNode.insertBefore(y,p),d=new FormData(d),y.parentNode.removeChild(y),d}function Mye(d,p,y,b,_){if(p==="submit"&&y&&y.stateNode===_){var L=l9((_[ct]||null).action),ne=b.submitter;ne&&(p=(p=ne[ct]||null)?l9(p.formAction):ne.getAttribute("formAction"),p!==null&&(L=p,ne=null));var de=new xE("action","action",null,b,_);d.push({event:de,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(qd!==0){var we=ne?c9(_,ne):new FormData(_);oP(y,{pending:!0,data:we,method:_.method,action:L},null,we)}}else typeof L=="function"&&(de.preventDefault(),we=ne?c9(_,ne):new FormData(_),oP(y,{pending:!0,data:we,method:_.method,action:L},L,we))},currentTarget:_}]})}}for(var zP=0;zP<SI.length;zP++){var $P=SI[zP],Dye=$P.toLowerCase(),Lye=$P[0].toUpperCase()+$P.slice(1);Ua(Dye,"on"+Lye)}Ua(Fj,"onAnimationEnd"),Ua(zj,"onAnimationIteration"),Ua($j,"onAnimationStart"),Ua("dblclick","onDoubleClick"),Ua("focusin","onFocus"),Ua("focusout","onBlur"),Ua(Qge,"onTransitionRun"),Ua(Zge,"onTransitionStart"),Ua(eye,"onTransitionCancel"),Ua(Hj,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ov="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bye=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ov));function u9(d,p){p=(p&4)!==0;for(var y=0;y<d.length;y++){var b=d[y],_=b.event;b=b.listeners;e:{var L=void 0;if(p)for(var ne=b.length-1;0<=ne;ne--){var de=b[ne],we=de.instance,Le=de.currentTarget;if(de=de.listener,we!==L&&_.isPropagationStopped())break e;L=de,_.currentTarget=Le;try{L(_)}catch(Ge){wE(Ge)}_.currentTarget=null,L=we}else for(ne=0;ne<b.length;ne++){if(de=b[ne],we=de.instance,Le=de.currentTarget,de=de.listener,we!==L&&_.isPropagationStopped())break e;L=de,_.currentTarget=Le;try{L(_)}catch(Ge){wE(Ge)}_.currentTarget=null,L=we}}}}function vn(d,p){var y=p[Un];y===void 0&&(y=p[Un]=new Set);var b=d+"__bubble";y.has(b)||(d9(p,d,2,!1),y.add(b))}function HP(d,p,y){var b=0;p&&(b|=4),d9(y,d,b,p)}var aS="_reactListening"+Math.random().toString(36).slice(2);function VP(d){if(!d[aS]){d[aS]=!0,Oc.forEach(function(y){y!=="selectionchange"&&(Bye.has(y)||HP(y,!1,d),HP(y,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[aS]||(p[aS]=!0,HP("selectionchange",!1,p))}}function d9(d,p,y,b){switch(F9(p)){case 2:var _=dxe;break;case 8:_=fxe;break;default:_=s_}y=_.bind(null,p,y,d),_=void 0,!uI||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(_=!0),b?_!==void 0?d.addEventListener(p,y,{capture:!0,passive:_}):d.addEventListener(p,y,!0):_!==void 0?d.addEventListener(p,y,{passive:_}):d.addEventListener(p,y,!1)}function GP(d,p,y,b,_){var L=b;if((p&1)===0&&(p&2)===0&&b!==null)e:for(;;){if(b===null)return;var ne=b.tag;if(ne===3||ne===4){var de=b.stateNode.containerInfo;if(de===_)break;if(ne===4)for(ne=b.return;ne!==null;){var we=ne.tag;if((we===3||we===4)&&ne.stateNode.containerInfo===_)return;ne=ne.return}for(;de!==null;){if(ne=fo(de),ne===null)return;if(we=ne.tag,we===5||we===6||we===26||we===27){b=L=ne;continue e}de=de.parentNode}}b=b.return}gj(function(){var Le=L,Ge=lI(y),Qe=[];e:{var Ue=Vj.get(d);if(Ue!==void 0){var He=xE,kt=d;switch(d){case"keypress":if(gE(y)===0)break e;case"keydown":case"keyup":He=Pge;break;case"focusin":kt="focus",He=pI;break;case"focusout":kt="blur",He=pI;break;case"beforeblur":case"afterblur":He=pI;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=vj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=xge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=Oge;break;case Fj:case zj:case $j:He=wge;break;case Hj:He=Dge;break;case"scroll":case"scrollend":He=gge;break;case"wheel":He=Bge;break;case"copy":case"cut":case"paste":He=Sge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=wj;break;case"toggle":case"beforetoggle":He=Uge}var Gt=(p&4)!==0,Zn=!Gt&&(d==="scroll"||d==="scrollend"),Ie=Gt?Ue!==null?Ue+"Capture":null:Ue;Gt=[];for(var Ae=Le,De;Ae!==null;){var Je=Ae;if(De=Je.stateNode,Je=Je.tag,Je!==5&&Je!==26&&Je!==27||De===null||Ie===null||(Je=tv(Ae,Ie),Je!=null&&Gt.push(Mv(Ae,Je,De))),Zn)break;Ae=Ae.return}0<Gt.length&&(Ue=new He(Ue,kt,null,y,Ge),Qe.push({event:Ue,listeners:Gt}))}}if((p&7)===0){e:{if(Ue=d==="mouseover"||d==="pointerover",He=d==="mouseout"||d==="pointerout",Ue&&y!==aI&&(kt=y.relatedTarget||y.fromElement)&&(fo(kt)||kt[Vs]))break e;if((He||Ue)&&(Ue=Ge.window===Ge?Ge:(Ue=Ge.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,He?(kt=y.relatedTarget||y.toElement,He=Le,kt=kt?fo(kt):null,kt!==null&&(Zn=s(kt),Gt=kt.tag,kt!==Zn||Gt!==5&&Gt!==27&&Gt!==6)&&(kt=null)):(He=null,kt=Le),He!==kt)){if(Gt=vj,Je="onMouseLeave",Ie="onMouseEnter",Ae="mouse",(d==="pointerout"||d==="pointerover")&&(Gt=wj,Je="onPointerLeave",Ie="onPointerEnter",Ae="pointer"),Zn=He==null?Ue:Ho(He),De=kt==null?Ue:Ho(kt),Ue=new Gt(Je,Ae+"leave",He,y,Ge),Ue.target=Zn,Ue.relatedTarget=De,Je=null,fo(Ge)===Le&&(Gt=new Gt(Ie,Ae+"enter",kt,y,Ge),Gt.target=De,Gt.relatedTarget=Zn,Je=Gt),Zn=Je,He&&kt)t:{for(Gt=jye,Ie=He,Ae=kt,De=0,Je=Ie;Je;Je=Gt(Je))De++;Je=0;for(var Bt=Ae;Bt;Bt=Gt(Bt))Je++;for(;0<De-Je;)Ie=Gt(Ie),De--;for(;0<Je-De;)Ae=Gt(Ae),Je--;for(;De--;){if(Ie===Ae||Ae!==null&&Ie===Ae.alternate){Gt=Ie;break t}Ie=Gt(Ie),Ae=Gt(Ae)}Gt=null}else Gt=null;He!==null&&f9(Qe,Ue,He,Gt,!1),kt!==null&&Zn!==null&&f9(Qe,Zn,kt,Gt,!0)}}e:{if(Ue=Le?Ho(Le):window,He=Ue.nodeName&&Ue.nodeName.toLowerCase(),He==="select"||He==="input"&&Ue.type==="file")var On=Ij;else if(kj(Ue))if(Pj)On=Yge;else{On=Kge;var Ot=qge}else He=Ue.nodeName,!He||He.toLowerCase()!=="input"||Ue.type!=="checkbox"&&Ue.type!=="radio"?Le&&oI(Le.elementType)&&(On=Ij):On=Wge;if(On&&(On=On(d,Le))){Nj(Qe,On,y,Ge);break e}Ot&&Ot(d,Ue,Le),d==="focusout"&&Le&&Ue.type==="number"&&Le.memoizedProps.value!=null&&sI(Ue,"number",Ue.value)}switch(Ot=Le?Ho(Le):window,d){case"focusin":(kj(Ot)||Ot.contentEditable==="true")&&(Xm=Ot,bI=Le,cv=null);break;case"focusout":cv=bI=Xm=null;break;case"mousedown":wI=!0;break;case"contextmenu":case"mouseup":case"dragend":wI=!1,jj(Qe,y,Ge);break;case"selectionchange":if(Xge)break;case"keydown":case"keyup":jj(Qe,y,Ge)}var ln;if(gI)e:{switch(d){case"compositionstart":var An="onCompositionStart";break e;case"compositionend":An="onCompositionEnd";break e;case"compositionupdate":An="onCompositionUpdate";break e}An=void 0}else Jm?Tj(d,y)&&(An="onCompositionEnd"):d==="keydown"&&y.keyCode===229&&(An="onCompositionStart");An&&(Ej&&y.locale!=="ko"&&(Jm||An!=="onCompositionStart"?An==="onCompositionEnd"&&Jm&&(ln=yj()):(Pd=Ge,dI="value"in Pd?Pd.value:Pd.textContent,Jm=!0)),Ot=lS(Le,An),0<Ot.length&&(An=new bj(An,d,null,y,Ge),Qe.push({event:An,listeners:Ot}),ln?An.data=ln:(ln=Cj(y),ln!==null&&(An.data=ln)))),(ln=zge?$ge(d,y):Hge(d,y))&&(An=lS(Le,"onBeforeInput"),0<An.length&&(Ot=new bj("onBeforeInput","beforeinput",null,y,Ge),Qe.push({event:Ot,listeners:An}),Ot.data=ln)),Mye(Qe,d,Le,y,Ge)}u9(Qe,p)})}function Mv(d,p,y){return{instance:d,listener:p,currentTarget:y}}function lS(d,p){for(var y=p+"Capture",b=[];d!==null;){var _=d,L=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||L===null||(_=tv(d,y),_!=null&&b.unshift(Mv(d,_,L)),_=tv(d,p),_!=null&&b.push(Mv(d,_,L))),d.tag===3)return b;d=d.return}return[]}function jye(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function f9(d,p,y,b,_){for(var L=p._reactName,ne=[];y!==null&&y!==b;){var de=y,we=de.alternate,Le=de.stateNode;if(de=de.tag,we!==null&&we===b)break;de!==5&&de!==26&&de!==27||Le===null||(we=Le,_?(Le=tv(y,L),Le!=null&&ne.unshift(Mv(y,Le,we))):_||(Le=tv(y,L),Le!=null&&ne.push(Mv(y,Le,we)))),y=y.return}ne.length!==0&&d.push({event:p,listeners:ne})}var Uye=/\r\n?/g,Fye=/\u0000|\uFFFD/g;function h9(d){return(typeof d=="string"?d:""+d).replace(Uye,`
`).replace(Fye,"")}function p9(d,p){return p=h9(p),h9(d)===p}function Qn(d,p,y,b,_,L){switch(y){case"children":typeof b=="string"?p==="body"||p==="textarea"&&b===""||Km(d,b):(typeof b=="number"||typeof b=="bigint")&&p!=="body"&&Km(d,""+b);break;case"className":Id(d,"class",b);break;case"tabIndex":Id(d,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Id(d,y,b);break;case"style":pj(d,b,L);break;case"data":if(p!=="object"){Id(d,"data",b);break}case"src":case"href":if(b===""&&(p!=="a"||y!=="href")){d.removeAttribute(y);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){d.removeAttribute(y);break}b=pE(""+b),d.setAttribute(y,b);break;case"action":case"formAction":if(typeof b=="function"){d.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(y==="formAction"?(p!=="input"&&Qn(d,p,"name",_.name,_,null),Qn(d,p,"formEncType",_.formEncType,_,null),Qn(d,p,"formMethod",_.formMethod,_,null),Qn(d,p,"formTarget",_.formTarget,_,null)):(Qn(d,p,"encType",_.encType,_,null),Qn(d,p,"method",_.method,_,null),Qn(d,p,"target",_.target,_,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){d.removeAttribute(y);break}b=pE(""+b),d.setAttribute(y,b);break;case"onClick":b!=null&&(d.onclick=Dc);break;case"onScroll":b!=null&&vn("scroll",d);break;case"onScrollEnd":b!=null&&vn("scrollend",d);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(y=b.__html,y!=null){if(_.children!=null)throw Error(r(60));d.innerHTML=y}}break;case"multiple":d.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":d.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){d.removeAttribute("xlink:href");break}y=pE(""+b),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?d.setAttribute(y,""+b):d.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?d.setAttribute(y,""):d.removeAttribute(y);break;case"capture":case"download":b===!0?d.setAttribute(y,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?d.setAttribute(y,b):d.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?d.setAttribute(y,b):d.removeAttribute(y);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?d.removeAttribute(y):d.setAttribute(y,b);break;case"popover":vn("beforetoggle",d),vn("toggle",d),Nd(d,"popover",b);break;case"xlinkActuate":Mc(d,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Mc(d,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Mc(d,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Mc(d,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Mc(d,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Mc(d,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Mc(d,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Mc(d,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Mc(d,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Nd(d,"is",b);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=pge.get(y)||y,Nd(d,y,b))}}function qP(d,p,y,b,_,L){switch(y){case"style":pj(d,b,L);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(y=b.__html,y!=null){if(_.children!=null)throw Error(r(60));d.innerHTML=y}}break;case"children":typeof b=="string"?Km(d,b):(typeof b=="number"||typeof b=="bigint")&&Km(d,""+b);break;case"onScroll":b!=null&&vn("scroll",d);break;case"onScrollEnd":b!=null&&vn("scrollend",d);break;case"onClick":b!=null&&(d.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wr.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(_=y.endsWith("Capture"),p=y.slice(2,_?y.length-7:void 0),L=d[ct]||null,L=L!=null?L[y]:null,typeof L=="function"&&d.removeEventListener(p,L,_),typeof b=="function")){typeof L!="function"&&L!==null&&(y in d?d[y]=null:d.hasAttribute(y)&&d.removeAttribute(y)),d.addEventListener(p,b,_);break e}y in d?d[y]=b:b===!0?d.setAttribute(y,""):Nd(d,y,b)}}}function zi(d,p,y){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vn("error",d),vn("load",d);var b=!1,_=!1,L;for(L in y)if(y.hasOwnProperty(L)){var ne=y[L];if(ne!=null)switch(L){case"src":b=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:Qn(d,p,L,ne,y,null)}}_&&Qn(d,p,"srcSet",y.srcSet,y,null),b&&Qn(d,p,"src",y.src,y,null);return;case"input":vn("invalid",d);var de=L=ne=_=null,we=null,Le=null;for(b in y)if(y.hasOwnProperty(b)){var Ge=y[b];if(Ge!=null)switch(b){case"name":_=Ge;break;case"type":ne=Ge;break;case"checked":we=Ge;break;case"defaultChecked":Le=Ge;break;case"value":L=Ge;break;case"defaultValue":de=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(r(137,p));break;default:Qn(d,p,b,Ge,y,null)}}uj(d,L,de,we,Le,ne,_,!1);return;case"select":vn("invalid",d),b=ne=L=null;for(_ in y)if(y.hasOwnProperty(_)&&(de=y[_],de!=null))switch(_){case"value":L=de;break;case"defaultValue":ne=de;break;case"multiple":b=de;default:Qn(d,p,_,de,y,null)}p=L,y=ne,d.multiple=!!b,p!=null?qm(d,!!b,p,!1):y!=null&&qm(d,!!b,y,!0);return;case"textarea":vn("invalid",d),L=_=b=null;for(ne in y)if(y.hasOwnProperty(ne)&&(de=y[ne],de!=null))switch(ne){case"value":b=de;break;case"defaultValue":_=de;break;case"children":L=de;break;case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(91));break;default:Qn(d,p,ne,de,y,null)}fj(d,b,_,L);return;case"option":for(we in y)if(y.hasOwnProperty(we)&&(b=y[we],b!=null))switch(we){case"selected":d.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Qn(d,p,we,b,y,null)}return;case"dialog":vn("beforetoggle",d),vn("toggle",d),vn("cancel",d),vn("close",d);break;case"iframe":case"object":vn("load",d);break;case"video":case"audio":for(b=0;b<Ov.length;b++)vn(Ov[b],d);break;case"image":vn("error",d),vn("load",d);break;case"details":vn("toggle",d);break;case"embed":case"source":case"link":vn("error",d),vn("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in y)if(y.hasOwnProperty(Le)&&(b=y[Le],b!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:Qn(d,p,Le,b,y,null)}return;default:if(oI(p)){for(Ge in y)y.hasOwnProperty(Ge)&&(b=y[Ge],b!==void 0&&qP(d,p,Ge,b,y,void 0));return}}for(de in y)y.hasOwnProperty(de)&&(b=y[de],b!=null&&Qn(d,p,de,b,y,null))}function zye(d,p,y,b){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,L=null,ne=null,de=null,we=null,Le=null,Ge=null;for(He in y){var Qe=y[He];if(y.hasOwnProperty(He)&&Qe!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":we=Qe;default:b.hasOwnProperty(He)||Qn(d,p,He,null,b,Qe)}}for(var Ue in b){var He=b[Ue];if(Qe=y[Ue],b.hasOwnProperty(Ue)&&(He!=null||Qe!=null))switch(Ue){case"type":L=He;break;case"name":_=He;break;case"checked":Le=He;break;case"defaultChecked":Ge=He;break;case"value":ne=He;break;case"defaultValue":de=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,p));break;default:He!==Qe&&Qn(d,p,Ue,He,b,Qe)}}iI(d,ne,de,we,Le,Ge,L,_);return;case"select":He=ne=de=Ue=null;for(L in y)if(we=y[L],y.hasOwnProperty(L)&&we!=null)switch(L){case"value":break;case"multiple":He=we;default:b.hasOwnProperty(L)||Qn(d,p,L,null,b,we)}for(_ in b)if(L=b[_],we=y[_],b.hasOwnProperty(_)&&(L!=null||we!=null))switch(_){case"value":Ue=L;break;case"defaultValue":de=L;break;case"multiple":ne=L;default:L!==we&&Qn(d,p,_,L,b,we)}p=de,y=ne,b=He,Ue!=null?qm(d,!!y,Ue,!1):!!b!=!!y&&(p!=null?qm(d,!!y,p,!0):qm(d,!!y,y?[]:"",!1));return;case"textarea":He=Ue=null;for(de in y)if(_=y[de],y.hasOwnProperty(de)&&_!=null&&!b.hasOwnProperty(de))switch(de){case"value":break;case"children":break;default:Qn(d,p,de,null,b,_)}for(ne in b)if(_=b[ne],L=y[ne],b.hasOwnProperty(ne)&&(_!=null||L!=null))switch(ne){case"value":Ue=_;break;case"defaultValue":He=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==L&&Qn(d,p,ne,_,b,L)}dj(d,Ue,He);return;case"option":for(var kt in y)if(Ue=y[kt],y.hasOwnProperty(kt)&&Ue!=null&&!b.hasOwnProperty(kt))switch(kt){case"selected":d.selected=!1;break;default:Qn(d,p,kt,null,b,Ue)}for(we in b)if(Ue=b[we],He=y[we],b.hasOwnProperty(we)&&Ue!==He&&(Ue!=null||He!=null))switch(we){case"selected":d.selected=Ue&&typeof Ue!="function"&&typeof Ue!="symbol";break;default:Qn(d,p,we,Ue,b,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in y)Ue=y[Gt],y.hasOwnProperty(Gt)&&Ue!=null&&!b.hasOwnProperty(Gt)&&Qn(d,p,Gt,null,b,Ue);for(Le in b)if(Ue=b[Le],He=y[Le],b.hasOwnProperty(Le)&&Ue!==He&&(Ue!=null||He!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,p));break;default:Qn(d,p,Le,Ue,b,He)}return;default:if(oI(p)){for(var Zn in y)Ue=y[Zn],y.hasOwnProperty(Zn)&&Ue!==void 0&&!b.hasOwnProperty(Zn)&&qP(d,p,Zn,void 0,b,Ue);for(Ge in b)Ue=b[Ge],He=y[Ge],!b.hasOwnProperty(Ge)||Ue===He||Ue===void 0&&He===void 0||qP(d,p,Ge,Ue,b,He);return}}for(var Ie in y)Ue=y[Ie],y.hasOwnProperty(Ie)&&Ue!=null&&!b.hasOwnProperty(Ie)&&Qn(d,p,Ie,null,b,Ue);for(Qe in b)Ue=b[Qe],He=y[Qe],!b.hasOwnProperty(Qe)||Ue===He||Ue==null&&He==null||Qn(d,p,Qe,Ue,b,He)}function m9(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $ye(){if(typeof performance.getEntriesByType=="function"){for(var d=0,p=0,y=performance.getEntriesByType("resource"),b=0;b<y.length;b++){var _=y[b],L=_.transferSize,ne=_.initiatorType,de=_.duration;if(L&&de&&m9(ne)){for(ne=0,de=_.responseEnd,b+=1;b<y.length;b++){var we=y[b],Le=we.startTime;if(Le>de)break;var Ge=we.transferSize,Qe=we.initiatorType;Ge&&m9(Qe)&&(we=we.responseEnd,ne+=Ge*(we<de?1:(de-Le)/(we-Le)))}if(--b,p+=8*(L+ne)/(_.duration/1e3),d++,10<d)break}}if(0<d)return p/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var KP=null,WP=null;function cS(d){return d.nodeType===9?d:d.ownerDocument}function g9(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y9(d,p){if(d===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&p==="foreignObject"?0:d}function YP(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var JP=null;function Hye(){var d=window.event;return d&&d.type==="popstate"?d===JP?!1:(JP=d,!0):(JP=null,!1)}var x9=typeof setTimeout=="function"?setTimeout:void 0,Vye=typeof clearTimeout=="function"?clearTimeout:void 0,v9=typeof Promise=="function"?Promise:void 0,Gye=typeof queueMicrotask=="function"?queueMicrotask:typeof v9<"u"?function(d){return v9.resolve(null).then(d).catch(qye)}:x9;function qye(d){setTimeout(function(){throw d})}function Kd(d){return d==="head"}function b9(d,p){var y=p,b=0;do{var _=y.nextSibling;if(d.removeChild(y),_&&_.nodeType===8)if(y=_.data,y==="/$"||y==="/&"){if(b===0){d.removeChild(_),A0(p);return}b--}else if(y==="$"||y==="$?"||y==="$~"||y==="$!"||y==="&")b++;else if(y==="html")Dv(d.ownerDocument.documentElement);else if(y==="head"){y=d.ownerDocument.head,Dv(y);for(var L=y.firstChild;L;){var ne=L.nextSibling,de=L.nodeName;L[$o]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&L.rel.toLowerCase()==="stylesheet"||y.removeChild(L),L=ne}}else y==="body"&&Dv(d.ownerDocument.body);y=_}while(y);A0(p)}function w9(d,p){var y=d;d=0;do{var b=y.nextSibling;if(y.nodeType===1?p?(y._stashedDisplay=y.style.display,y.style.display="none"):(y.style.display=y._stashedDisplay||"",y.getAttribute("style")===""&&y.removeAttribute("style")):y.nodeType===3&&(p?(y._stashedText=y.nodeValue,y.nodeValue=""):y.nodeValue=y._stashedText||""),b&&b.nodeType===8)if(y=b.data,y==="/$"){if(d===0)break;d--}else y!=="$"&&y!=="$?"&&y!=="$~"&&y!=="$!"||d++;y=b}while(y)}function XP(d){var p=d.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var y=p;switch(p=p.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":XP(y),kl(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}d.removeChild(y)}}function Kye(d,p,y,b){for(;d.nodeType===1;){var _=y;if(d.nodeName.toLowerCase()!==p.toLowerCase()){if(!b&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(b){if(!d[$o])switch(p){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(L=d.getAttribute("rel"),L==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(L!==_.rel||d.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||d.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||d.getAttribute("title")!==(_.title==null?null:_.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(L=d.getAttribute("src"),(L!==(_.src==null?null:_.src)||d.getAttribute("type")!==(_.type==null?null:_.type)||d.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&L&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(p==="input"&&d.type==="hidden"){var L=_.name==null?null:""+_.name;if(_.type==="hidden"&&d.getAttribute("name")===L)return d}else return d;if(d=Qo(d.nextSibling),d===null)break}return null}function Wye(d,p,y){if(p==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!y||(d=Qo(d.nextSibling),d===null))return null;return d}function E9(d,p){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!p||(d=Qo(d.nextSibling),d===null))return null;return d}function QP(d){return d.data==="$?"||d.data==="$~"}function ZP(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function Yye(d,p){var y=d.ownerDocument;if(d.data==="$~")d._reactRetry=p;else if(d.data!=="$?"||y.readyState!=="loading")p();else{var b=function(){p(),y.removeEventListener("DOMContentLoaded",b)};y.addEventListener("DOMContentLoaded",b),d._reactRetry=b}}function Qo(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return d}var e_=null;function S9(d){d=d.nextSibling;for(var p=0;d;){if(d.nodeType===8){var y=d.data;if(y==="/$"||y==="/&"){if(p===0)return Qo(d.nextSibling);p--}else y!=="$"&&y!=="$!"&&y!=="$?"&&y!=="$~"&&y!=="&"||p++}d=d.nextSibling}return null}function A9(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var y=d.data;if(y==="$"||y==="$!"||y==="$?"||y==="$~"||y==="&"){if(p===0)return d;p--}else y!=="/$"&&y!=="/&"||p++}d=d.previousSibling}return null}function T9(d,p,y){switch(p=cS(y),d){case"html":if(d=p.documentElement,!d)throw Error(r(452));return d;case"head":if(d=p.head,!d)throw Error(r(453));return d;case"body":if(d=p.body,!d)throw Error(r(454));return d;default:throw Error(r(451))}}function Dv(d){for(var p=d.attributes;p.length;)d.removeAttributeNode(p[0]);kl(d)}var Zo=new Map,C9=new Set;function uS(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var Xc=$.d;$.d={f:Jye,r:Xye,D:Qye,C:Zye,L:exe,m:txe,X:rxe,S:nxe,M:ixe};function Jye(){var d=Xc.f(),p=tS();return d||p}function Xye(d){var p=ho(d);p!==null&&p.tag===5&&p.type==="form"?HU(p):Xc.r(d)}var w0=typeof document>"u"?null:document;function k9(d,p,y){var b=w0;if(b&&typeof p=="string"&&p){var _=Go(p);_='link[rel="'+d+'"][href="'+_+'"]',typeof y=="string"&&(_+='[crossorigin="'+y+'"]'),C9.has(_)||(C9.add(_),d={rel:d,crossOrigin:y,href:p},b.querySelector(_)===null&&(p=b.createElement("link"),zi(p,"link",d),gr(p),b.head.appendChild(p)))}}function Qye(d){Xc.D(d),k9("dns-prefetch",d,null)}function Zye(d,p){Xc.C(d,p),k9("preconnect",d,p)}function exe(d,p,y){Xc.L(d,p,y);var b=w0;if(b&&d&&p){var _='link[rel="preload"][as="'+Go(p)+'"]';p==="image"&&y&&y.imageSrcSet?(_+='[imagesrcset="'+Go(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(_+='[imagesizes="'+Go(y.imageSizes)+'"]')):_+='[href="'+Go(d)+'"]';var L=_;switch(p){case"style":L=E0(d);break;case"script":L=S0(d)}Zo.has(L)||(d=f({rel:"preload",href:p==="image"&&y&&y.imageSrcSet?void 0:d,as:p},y),Zo.set(L,d),b.querySelector(_)!==null||p==="style"&&b.querySelector(Lv(L))||p==="script"&&b.querySelector(Bv(L))||(p=b.createElement("link"),zi(p,"link",d),gr(p),b.head.appendChild(p)))}}function txe(d,p){Xc.m(d,p);var y=w0;if(y&&d){var b=p&&typeof p.as=="string"?p.as:"script",_='link[rel="modulepreload"][as="'+Go(b)+'"][href="'+Go(d)+'"]',L=_;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=S0(d)}if(!Zo.has(L)&&(d=f({rel:"modulepreload",href:d},p),Zo.set(L,d),y.querySelector(_)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(Bv(L)))return}b=y.createElement("link"),zi(b,"link",d),gr(b),y.head.appendChild(b)}}}function nxe(d,p,y){Xc.S(d,p,y);var b=w0;if(b&&d){var _=po(b).hoistableStyles,L=E0(d);p=p||"default";var ne=_.get(L);if(!ne){var de={loading:0,preload:null};if(ne=b.querySelector(Lv(L)))de.loading=5;else{d=f({rel:"stylesheet",href:d,"data-precedence":p},y),(y=Zo.get(L))&&t_(d,y);var we=ne=b.createElement("link");gr(we),zi(we,"link",d),we._p=new Promise(function(Le,Ge){we.onload=Le,we.onerror=Ge}),we.addEventListener("load",function(){de.loading|=1}),we.addEventListener("error",function(){de.loading|=2}),de.loading|=4,dS(ne,p,b)}ne={type:"stylesheet",instance:ne,count:1,state:de},_.set(L,ne)}}}function rxe(d,p){Xc.X(d,p);var y=w0;if(y&&d){var b=po(y).hoistableScripts,_=S0(d),L=b.get(_);L||(L=y.querySelector(Bv(_)),L||(d=f({src:d,async:!0},p),(p=Zo.get(_))&&n_(d,p),L=y.createElement("script"),gr(L),zi(L,"link",d),y.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},b.set(_,L))}}function ixe(d,p){Xc.M(d,p);var y=w0;if(y&&d){var b=po(y).hoistableScripts,_=S0(d),L=b.get(_);L||(L=y.querySelector(Bv(_)),L||(d=f({src:d,async:!0,type:"module"},p),(p=Zo.get(_))&&n_(d,p),L=y.createElement("script"),gr(L),zi(L,"link",d),y.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},b.set(_,L))}}function N9(d,p,y,b){var _=(_=re.current)?uS(_):null;if(!_)throw Error(r(446));switch(d){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(p=E0(y.href),y=po(_).hoistableStyles,b=y.get(p),b||(b={type:"style",instance:null,count:0,state:null},y.set(p,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){d=E0(y.href);var L=po(_).hoistableStyles,ne=L.get(d);if(ne||(_=_.ownerDocument||_,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(d,ne),(L=_.querySelector(Lv(d)))&&!L._p&&(ne.instance=L,ne.state.loading=5),Zo.has(d)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},Zo.set(d,y),L||sxe(_,d,y,ne.state))),p&&b===null)throw Error(r(528,""));return ne}if(p&&b!==null)throw Error(r(529,""));return null;case"script":return p=y.async,y=y.src,typeof y=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=S0(y),y=po(_).hoistableScripts,b=y.get(p),b||(b={type:"script",instance:null,count:0,state:null},y.set(p,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,d))}}function E0(d){return'href="'+Go(d)+'"'}function Lv(d){return'link[rel="stylesheet"]['+d+"]"}function I9(d){return f({},d,{"data-precedence":d.precedence,precedence:null})}function sxe(d,p,y,b){d.querySelector('link[rel="preload"][as="style"]['+p+"]")?b.loading=1:(p=d.createElement("link"),b.preload=p,p.addEventListener("load",function(){return b.loading|=1}),p.addEventListener("error",function(){return b.loading|=2}),zi(p,"link",y),gr(p),d.head.appendChild(p))}function S0(d){return'[src="'+Go(d)+'"]'}function Bv(d){return"script[async]"+d}function P9(d,p,y){if(p.count++,p.instance===null)switch(p.type){case"style":var b=d.querySelector('style[data-href~="'+Go(y.href)+'"]');if(b)return p.instance=b,gr(b),b;var _=f({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return b=(d.ownerDocument||d).createElement("style"),gr(b),zi(b,"style",_),dS(b,y.precedence,d),p.instance=b;case"stylesheet":_=E0(y.href);var L=d.querySelector(Lv(_));if(L)return p.state.loading|=4,p.instance=L,gr(L),L;b=I9(y),(_=Zo.get(_))&&t_(b,_),L=(d.ownerDocument||d).createElement("link"),gr(L);var ne=L;return ne._p=new Promise(function(de,we){ne.onload=de,ne.onerror=we}),zi(L,"link",b),p.state.loading|=4,dS(L,y.precedence,d),p.instance=L;case"script":return L=S0(y.src),(_=d.querySelector(Bv(L)))?(p.instance=_,gr(_),_):(b=y,(_=Zo.get(L))&&(b=f({},y),n_(b,_)),d=d.ownerDocument||d,_=d.createElement("script"),gr(_),zi(_,"link",b),d.head.appendChild(_),p.instance=_);case"void":return null;default:throw Error(r(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(b=p.instance,p.state.loading|=4,dS(b,y.precedence,d));return p.instance}function dS(d,p,y){for(var b=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=b.length?b[b.length-1]:null,L=_,ne=0;ne<b.length;ne++){var de=b[ne];if(de.dataset.precedence===p)L=de;else if(L!==_)break}L?L.parentNode.insertBefore(d,L.nextSibling):(p=y.nodeType===9?y.head:y,p.insertBefore(d,p.firstChild))}function t_(d,p){d.crossOrigin==null&&(d.crossOrigin=p.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=p.referrerPolicy),d.title==null&&(d.title=p.title)}function n_(d,p){d.crossOrigin==null&&(d.crossOrigin=p.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=p.referrerPolicy),d.integrity==null&&(d.integrity=p.integrity)}var fS=null;function _9(d,p,y){if(fS===null){var b=new Map,_=fS=new Map;_.set(y,b)}else _=fS,b=_.get(y),b||(b=new Map,_.set(y,b));if(b.has(d))return b;for(b.set(d,null),y=y.getElementsByTagName(d),_=0;_<y.length;_++){var L=y[_];if(!(L[$o]||L[mt]||d==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=L.getAttribute(p)||"";ne=d+ne;var de=b.get(ne);de?de.push(L):b.set(ne,[L])}}return b}function R9(d,p,y){d=d.ownerDocument||d,d.head.insertBefore(y,p==="title"?d.querySelector("head > title"):null)}function oxe(d,p,y){if(y===1||p.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return d=p.disabled,typeof p.precedence=="string"&&d==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function O9(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function axe(d,p,y,b){if(y.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(y.state.loading&4)===0){if(y.instance===null){var _=E0(b.href),L=p.querySelector(Lv(_));if(L){p=L._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(d.count++,d=hS.bind(d),p.then(d,d)),y.state.loading|=4,y.instance=L,gr(L);return}L=p.ownerDocument||p,b=I9(b),(_=Zo.get(_))&&t_(b,_),L=L.createElement("link"),gr(L);var ne=L;ne._p=new Promise(function(de,we){ne.onload=de,ne.onerror=we}),zi(L,"link",b),y.instance=L}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(y,p),(p=y.state.preload)&&(y.state.loading&3)===0&&(d.count++,y=hS.bind(d),p.addEventListener("load",y),p.addEventListener("error",y))}}var r_=0;function lxe(d,p){return d.stylesheets&&d.count===0&&mS(d,d.stylesheets),0<d.count||0<d.imgCount?function(y){var b=setTimeout(function(){if(d.stylesheets&&mS(d,d.stylesheets),d.unsuspend){var L=d.unsuspend;d.unsuspend=null,L()}},6e4+p);0<d.imgBytes&&r_===0&&(r_=62500*$ye());var _=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&mS(d,d.stylesheets),d.unsuspend)){var L=d.unsuspend;d.unsuspend=null,L()}},(d.imgBytes>r_?50:800)+p);return d.unsuspend=y,function(){d.unsuspend=null,clearTimeout(b),clearTimeout(_)}}:null}function hS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mS(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var pS=null;function mS(d,p){d.stylesheets=null,d.unsuspend!==null&&(d.count++,pS=new Map,p.forEach(cxe,d),pS=null,hS.call(d))}function cxe(d,p){if(!(p.state.loading&4)){var y=pS.get(d);if(y)var b=y.get(null);else{y=new Map,pS.set(d,y);for(var _=d.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<_.length;L++){var ne=_[L];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(y.set(ne.dataset.precedence,ne),b=ne)}b&&y.set(null,b)}_=p.instance,ne=_.getAttribute("data-precedence"),L=y.get(ne)||b,L===b&&y.set(null,_),y.set(ne,_),this.count++,b=hS.bind(this),_.addEventListener("load",b),_.addEventListener("error",b),L?L.parentNode.insertBefore(_,L.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(_,d.firstChild)),p.state.loading|=4}}var jv={$$typeof:I,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function uxe(d,p,y,b,_,L,ne,de,we){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=le(0),this.hiddenUpdates=le(null),this.identifierPrefix=b,this.onUncaughtError=_,this.onCaughtError=L,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=we,this.incompleteTransitions=new Map}function M9(d,p,y,b,_,L,ne,de,we,Le,Ge,Qe){return d=new uxe(d,p,y,ne,we,Le,Ge,Qe,de),p=1,L===!0&&(p|=24),L=go(3,null,null,p),d.current=L,L.stateNode=d,p=LI(),p.refCount++,d.pooledCache=p,p.refCount++,L.memoizedState={element:b,isDehydrated:y,cache:p},FI(L),d}function D9(d){return d?(d=e0,d):e0}function L9(d,p,y,b,_,L){_=D9(_),b.context===null?b.context=_:b.pendingContext=_,b=Ld(p),b.payload={element:y},L=L===void 0?null:L,L!==null&&(b.callback=L),y=Bd(d,b,p),y!==null&&(Js(y,d,p),gv(y,d,p))}function B9(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var y=d.retryLane;d.retryLane=y!==0&&y<p?y:p}}function i_(d,p){B9(d,p),(d=d.alternate)&&B9(d,p)}function j9(d){if(d.tag===13||d.tag===31){var p=Ph(d,67108864);p!==null&&Js(p,d,67108864),i_(d,67108864)}}function U9(d){if(d.tag===13||d.tag===31){var p=wo();p=ze(p);var y=Ph(d,p);y!==null&&Js(y,d,p),i_(d,p)}}var gS=!0;function dxe(d,p,y,b){var _=R.T;R.T=null;var L=$.p;try{$.p=2,s_(d,p,y,b)}finally{$.p=L,R.T=_}}function fxe(d,p,y,b){var _=R.T;R.T=null;var L=$.p;try{$.p=8,s_(d,p,y,b)}finally{$.p=L,R.T=_}}function s_(d,p,y,b){if(gS){var _=o_(b);if(_===null)GP(d,p,b,yS,y),z9(d,b);else if(pxe(_,d,p,y,b))b.stopPropagation();else if(z9(d,b),p&4&&-1<hxe.indexOf(d)){for(;_!==null;){var L=ho(_);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var ne=nn(L.pendingLanes);if(ne!==0){var de=L;for(de.pendingLanes|=2,de.entangledLanes|=2;ne;){var we=1<<31-ye(ne);de.entanglements[1]|=we,ne&=~we}_l(L),(Fn&6)===0&&(ZE=At()+500,Rv(0))}}break;case 31:case 13:de=Ph(L,2),de!==null&&Js(de,L,2),tS(),i_(L,2)}if(L=o_(b),L===null&&GP(d,p,b,yS,y),L===_)break;_=L}_!==null&&b.stopPropagation()}else GP(d,p,b,null,y)}}function o_(d){return d=lI(d),a_(d)}var yS=null;function a_(d){if(yS=null,d=fo(d),d!==null){var p=s(d);if(p===null)d=null;else{var y=p.tag;if(y===13){if(d=o(p),d!==null)return d;d=null}else if(y===31){if(d=a(p),d!==null)return d;d=null}else if(y===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null)}}return yS=d,null}function F9(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(an()){case _e:return 2;case Ve:return 8;case ft:case lt:return 32;case se:return 268435456;default:return 32}default:return 32}}var l_=!1,Wd=null,Yd=null,Jd=null,Uv=new Map,Fv=new Map,Xd=[],hxe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z9(d,p){switch(d){case"focusin":case"focusout":Wd=null;break;case"dragenter":case"dragleave":Yd=null;break;case"mouseover":case"mouseout":Jd=null;break;case"pointerover":case"pointerout":Uv.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fv.delete(p.pointerId)}}function zv(d,p,y,b,_,L){return d===null||d.nativeEvent!==L?(d={blockedOn:p,domEventName:y,eventSystemFlags:b,nativeEvent:L,targetContainers:[_]},p!==null&&(p=ho(p),p!==null&&j9(p)),d):(d.eventSystemFlags|=b,p=d.targetContainers,_!==null&&p.indexOf(_)===-1&&p.push(_),d)}function pxe(d,p,y,b,_){switch(p){case"focusin":return Wd=zv(Wd,d,p,y,b,_),!0;case"dragenter":return Yd=zv(Yd,d,p,y,b,_),!0;case"mouseover":return Jd=zv(Jd,d,p,y,b,_),!0;case"pointerover":var L=_.pointerId;return Uv.set(L,zv(Uv.get(L)||null,d,p,y,b,_)),!0;case"gotpointercapture":return L=_.pointerId,Fv.set(L,zv(Fv.get(L)||null,d,p,y,b,_)),!0}return!1}function $9(d){var p=fo(d.target);if(p!==null){var y=s(p);if(y!==null){if(p=y.tag,p===13){if(p=o(y),p!==null){d.blockedOn=p,Ht(d.priority,function(){U9(y)});return}}else if(p===31){if(p=a(y),p!==null){d.blockedOn=p,Ht(d.priority,function(){U9(y)});return}}else if(p===3&&y.stateNode.current.memoizedState.isDehydrated){d.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}d.blockedOn=null}function xS(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var y=o_(d.nativeEvent);if(y===null){y=d.nativeEvent;var b=new y.constructor(y.type,y);aI=b,y.target.dispatchEvent(b),aI=null}else return p=ho(y),p!==null&&j9(p),d.blockedOn=y,!1;p.shift()}return!0}function H9(d,p,y){xS(d)&&y.delete(p)}function mxe(){l_=!1,Wd!==null&&xS(Wd)&&(Wd=null),Yd!==null&&xS(Yd)&&(Yd=null),Jd!==null&&xS(Jd)&&(Jd=null),Uv.forEach(H9),Fv.forEach(H9)}function vS(d,p){d.blockedOn===p&&(d.blockedOn=null,l_||(l_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mxe)))}var bS=null;function V9(d){bS!==d&&(bS=d,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bS===d&&(bS=null);for(var p=0;p<d.length;p+=3){var y=d[p],b=d[p+1],_=d[p+2];if(typeof b!="function"){if(a_(b||y)===null)continue;break}var L=ho(y);L!==null&&(d.splice(p,3),p-=3,oP(L,{pending:!0,data:_,method:y.method,action:b},b,_))}}))}function A0(d){function p(we){return vS(we,d)}Wd!==null&&vS(Wd,d),Yd!==null&&vS(Yd,d),Jd!==null&&vS(Jd,d),Uv.forEach(p),Fv.forEach(p);for(var y=0;y<Xd.length;y++){var b=Xd[y];b.blockedOn===d&&(b.blockedOn=null)}for(;0<Xd.length&&(y=Xd[0],y.blockedOn===null);)$9(y),y.blockedOn===null&&Xd.shift();if(y=(d.ownerDocument||d).$$reactFormReplay,y!=null)for(b=0;b<y.length;b+=3){var _=y[b],L=y[b+1],ne=_[ct]||null;if(typeof L=="function")ne||V9(y);else if(ne){var de=null;if(L&&L.hasAttribute("formAction")){if(_=L,ne=L[ct]||null)de=ne.formAction;else if(a_(_)!==null)continue}else de=ne.action;typeof de=="function"?y[b+1]=de:(y.splice(b,3),b-=3),V9(y)}}}function G9(){function d(L){L.canIntercept&&L.info==="react-transition"&&L.intercept({handler:function(){return new Promise(function(ne){return _=ne})},focusReset:"manual",scroll:"manual"})}function p(){_!==null&&(_(),_=null),b||setTimeout(y,20)}function y(){if(!b&&!navigation.transition){var L=navigation.currentEntry;L&&L.url!=null&&navigation.navigate(L.url,{state:L.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,_=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(y,100),function(){b=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),_!==null&&(_(),_=null)}}}function c_(d){this._internalRoot=d}wS.prototype.render=c_.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(r(409));var y=p.current,b=wo();L9(y,b,d,p,null,null)},wS.prototype.unmount=c_.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;L9(d.current,2,null,d,null,null),tS(),p[Vs]=null}};function wS(d){this._internalRoot=d}wS.prototype.unstable_scheduleHydration=function(d){if(d){var p=qt();d={blockedOn:null,target:d,priority:p};for(var y=0;y<Xd.length&&p!==0&&p<Xd[y].priority;y++);Xd.splice(y,0,d),y===0&&$9(d)}};var q9=e.version;if(q9!=="19.2.3")throw Error(r(527,q9,"19.2.3"));$.findDOMNode=function(d){var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=c(p),d=d!==null?u(d):null,d=d===null?null:d.stateNode,d};var gxe={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ES=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ES.isDisabled&&ES.supportsFiber)try{fe=ES.inject(gxe),be=ES}catch{}}return Vv.createRoot=function(d,p){if(!i(d))throw Error(r(299));var y=!1,b="",_=ZU,L=eF,ne=tF;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(b=p.identifierPrefix),p.onUncaughtError!==void 0&&(_=p.onUncaughtError),p.onCaughtError!==void 0&&(L=p.onCaughtError),p.onRecoverableError!==void 0&&(ne=p.onRecoverableError)),p=M9(d,1,!1,null,null,y,b,null,_,L,ne,G9),d[Vs]=p.current,VP(d),new c_(p)},Vv.hydrateRoot=function(d,p,y){if(!i(d))throw Error(r(299));var b=!1,_="",L=ZU,ne=eF,de=tF,we=null;return y!=null&&(y.unstable_strictMode===!0&&(b=!0),y.identifierPrefix!==void 0&&(_=y.identifierPrefix),y.onUncaughtError!==void 0&&(L=y.onUncaughtError),y.onCaughtError!==void 0&&(ne=y.onCaughtError),y.onRecoverableError!==void 0&&(de=y.onRecoverableError),y.formState!==void 0&&(we=y.formState)),p=M9(d,1,!0,p,y??null,b,_,we,L,ne,de,G9),p.context=D9(null),y=p.current,b=wo(),b=ze(b),_=Ld(b),_.callback=null,Bd(y,_,b),y=b,p.current.lanes=y,Q(p,y),_l(p),d[Vs]=p.current,VP(d),new wS(p)},Vv.version="19.2.3",Vv}var rz;function Fxe(){if(rz)return p_.exports;rz=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),p_.exports=Uxe(),p_.exports}var zxe=Fxe();const $xe=ts(zxe),Hxe=()=>{};var iz={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vxe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(m=64)),r.push(n[u],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mee(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vxe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new Gxe;const m=s<<2|a>>4;if(r.push(m),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const x=c<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Gxe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qxe=function(t){const e=mee(t);return gee.encodeByteArray(e,!0)},yee=function(t){return qxe(t).replace(/\./g,"")},xee=function(t){try{return gee.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kxe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wxe=()=>Kxe().__FIREBASE_DEFAULTS__,Yxe=()=>{if(typeof Gf>"u"||typeof iz>"u")return;const t=iz.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Jxe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xee(t[1]);return e&&JSON.parse(e)},dL=()=>{try{return Hxe()||Wxe()||Yxe()||Jxe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xxe=t=>{var e,n;return(n=(e=dL())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},vee=()=>{var t;return(t=dL())==null?void 0:t.config},bee=t=>{var e;return(e=dL())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qxe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zxe(t){return(await fetch(t,{credentials:"include"})).ok}const Ob={};function eve(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ob))Ob[e]?t.emulator.push(e):t.prod.push(e);return t}function tve(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sz=!1;function nve(t,e){if(typeof window>"u"||typeof document>"u"||!H2(window.location.host)||Ob[t]===e||Ob[t]||sz)return;Ob[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=eve().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{sz=!0,o()},m}function u(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=tve(r),g=n("text"),x=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),w=document.getElementById(v)||document.createElement("a"),E=n("preprendIcon"),k=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const I=m.element;a(I),u(w,v);const D=c();l(k,E),I.append(k,x,w,D),document.body.appendChild(I)}s?(x.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(js())}function ive(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sve(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ove(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ave(){const t=js();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lve(){try{return typeof indexedDB=="object"}catch{return!1}}function cve(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uve="FirebaseError";class uh extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uve,Object.setPrototypeOf(this,uh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lw.prototype.create)}}class lw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?dve(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new uh(i,a,r)}}function dve(t,e){return t.replace(fve,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fve=/\{\$([^}]+)}/g;function hve(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(oz(s)&&oz(o)){if(!jy(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oz(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gb(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function yb(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pve(t,e){const n=new mve(t,e);return n.subscribe.bind(n)}class mve{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gve(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=x_),i.error===void 0&&(i.error=x_),i.complete===void 0&&(i.complete=x_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gve(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function x_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){return t&&t._delegate?t._delegate:t}class Uy{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yve=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qxe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vve(e))try{this.getOrInitializeService({instanceIdentifier:Jh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jh){return this.instances.has(e)}getOptions(e=Jh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xve(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jh){return this.component?this.component.multipleInstances?e:Jh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xve(t){return t===Jh?void 0:t}function vve(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bve{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yve(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(sr||(sr={}));const wve={debug:sr.DEBUG,verbose:sr.VERBOSE,info:sr.INFO,warn:sr.WARN,error:sr.ERROR,silent:sr.SILENT},Eve=sr.INFO,Sve={[sr.DEBUG]:"log",[sr.VERBOSE]:"log",[sr.INFO]:"info",[sr.WARN]:"warn",[sr.ERROR]:"error"},Ave=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Sve[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wee{constructor(e){this.name=e,this._logLevel=Eve,this._logHandler=Ave,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in sr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wve[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,sr.DEBUG,...e),this._logHandler(this,sr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,sr.VERBOSE,...e),this._logHandler(this,sr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,sr.INFO,...e),this._logHandler(this,sr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,sr.WARN,...e),this._logHandler(this,sr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,sr.ERROR,...e),this._logHandler(this,sr.ERROR,...e)}}const Tve=(t,e)=>e.some(n=>t instanceof n);let az,lz;function Cve(){return az||(az=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kve(){return lz||(lz=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Eee=new WeakMap,UO=new WeakMap,See=new WeakMap,v_=new WeakMap,fL=new WeakMap;function Nve(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qf(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Eee.set(n,t)}).catch(()=>{}),fL.set(e,t),e}function Ive(t){if(UO.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});UO.set(t,e)}let FO={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return UO.get(t);if(e==="objectStoreNames")return t.objectStoreNames||See.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qf(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pve(t){FO=t(FO)}function _ve(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(b_(this),e,...n);return See.set(r,e.sort?e.sort():[e]),qf(r)}:kve().includes(t)?function(...e){return t.apply(b_(this),e),qf(Eee.get(this))}:function(...e){return qf(t.apply(b_(this),e))}}function Rve(t){return typeof t=="function"?_ve(t):(t instanceof IDBTransaction&&Ive(t),Tve(t,Cve())?new Proxy(t,FO):t)}function qf(t){if(t instanceof IDBRequest)return Nve(t);if(v_.has(t))return v_.get(t);const e=Rve(t);return e!==t&&(v_.set(t,e),fL.set(e,t)),e}const b_=t=>fL.get(t);function Ove(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qf(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qf(o.result),l.oldVersion,l.newVersion,qf(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Mve=["get","getKey","getAll","getAllKeys","count"],Dve=["put","add","delete","clear"],w_=new Map;function cz(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(w_.get(e))return w_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Dve.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Mve.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return w_.set(e,s),s}Pve(t=>({...t,get:(e,n,r)=>cz(e,n)||t.get(e,n,r),has:(e,n)=>!!cz(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lve{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bve(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Bve(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zO="@firebase/app",uz="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new wee("@firebase/app"),jve="@firebase/app-compat",Uve="@firebase/analytics-compat",Fve="@firebase/analytics",zve="@firebase/app-check-compat",$ve="@firebase/app-check",Hve="@firebase/auth",Vve="@firebase/auth-compat",Gve="@firebase/database",qve="@firebase/data-connect",Kve="@firebase/database-compat",Wve="@firebase/functions",Yve="@firebase/functions-compat",Jve="@firebase/installations",Xve="@firebase/installations-compat",Qve="@firebase/messaging",Zve="@firebase/messaging-compat",ebe="@firebase/performance",tbe="@firebase/performance-compat",nbe="@firebase/remote-config",rbe="@firebase/remote-config-compat",ibe="@firebase/storage",sbe="@firebase/storage-compat",obe="@firebase/firestore",abe="@firebase/ai",lbe="@firebase/firestore-compat",cbe="firebase",ube="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="[DEFAULT]",dbe={[zO]:"fire-core",[jve]:"fire-core-compat",[Fve]:"fire-analytics",[Uve]:"fire-analytics-compat",[$ve]:"fire-app-check",[zve]:"fire-app-check-compat",[Hve]:"fire-auth",[Vve]:"fire-auth-compat",[Gve]:"fire-rtdb",[qve]:"fire-data-connect",[Kve]:"fire-rtdb-compat",[Wve]:"fire-fn",[Yve]:"fire-fn-compat",[Jve]:"fire-iid",[Xve]:"fire-iid-compat",[Qve]:"fire-fcm",[Zve]:"fire-fcm-compat",[ebe]:"fire-perf",[tbe]:"fire-perf-compat",[nbe]:"fire-rc",[rbe]:"fire-rc-compat",[ibe]:"fire-gcs",[sbe]:"fire-gcs-compat",[obe]:"fire-fst",[lbe]:"fire-fst-compat",[abe]:"fire-vertex","fire-js":"fire-js",[cbe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map,fbe=new Map,HO=new Map;function dz(t,e){try{t.container.addComponent(e)}catch(n){qu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wb(t){const e=t.name;if(HO.has(e))return qu.debug(`There were multiple attempts to register component ${e}.`),!1;HO.set(e,t);for(const n of ST.values())dz(n,t);for(const n of fbe.values())dz(n,t);return!0}function Aee(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sa(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hbe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kf=new lw("app","Firebase",hbe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pbe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Uy("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=ube;function Tee(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:$O,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Kf.create("bad-app-name",{appName:String(i)});if(n||(n=vee()),!n)throw Kf.create("no-options");const s=ST.get(i);if(s){if(jy(n,s.options)&&jy(r,s.config))return s;throw Kf.create("duplicate-app",{appName:i})}const o=new bve(i);for(const l of HO.values())o.addComponent(l);const a=new pbe(n,r,o);return ST.set(i,a),a}function mbe(t=$O){const e=ST.get(t);if(!e&&t===$O&&vee())return Tee();if(!e)throw Kf.create("no-app",{appName:t});return e}function wg(t,e,n){let r=dbe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qu.warn(o.join(" "));return}Wb(new Uy(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gbe="firebase-heartbeat-database",ybe=1,Yb="firebase-heartbeat-store";let E_=null;function Cee(){return E_||(E_=Ove(gbe,ybe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yb)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kf.create("idb-open",{originalErrorMessage:t.message})})),E_}async function xbe(t){try{const n=(await Cee()).transaction(Yb),r=await n.objectStore(Yb).get(kee(t));return await n.done,r}catch(e){if(e instanceof uh)qu.warn(e.message);else{const n=Kf.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qu.warn(n.message)}}}async function fz(t,e){try{const r=(await Cee()).transaction(Yb,"readwrite");await r.objectStore(Yb).put(e,kee(t)),await r.done}catch(n){if(n instanceof uh)qu.warn(n.message);else{const r=Kf.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qu.warn(r.message)}}}function kee(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vbe=1024,bbe=30;class wbe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sbe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hz();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>bbe){const o=Abe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hz(),{heartbeatsToSend:r,unsentEntries:i}=Ebe(this._heartbeatsCache.heartbeats),s=yee(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return qu.warn(n),""}}}function hz(){return new Date().toISOString().substring(0,10)}function Ebe(t,e=vbe){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pz(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pz(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Sbe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lve()?cve().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xbe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fz(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fz(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pz(t){return yee(JSON.stringify({version:2,heartbeats:t})).length}function Abe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tbe(t){Wb(new Uy("platform-logger",e=>new Lve(e),"PRIVATE")),Wb(new Uy("heartbeat",e=>new wbe(e),"PRIVATE")),wg(zO,uz,t),wg(zO,uz,"esm2020"),wg("fire-js","")}Tbe("");function Nee(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cbe=Nee,Iee=new lw("auth","Firebase",Nee());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new wee("@firebase/auth");function kbe(t,...e){AT.logLevel<=sr.WARN&&AT.warn(`Auth (${uw}): ${t}`,...e)}function UA(t,...e){AT.logLevel<=sr.ERROR&&AT.error(`Auth (${uw}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t,...e){throw pL(t,...e)}function cl(t,...e){return pL(t,...e)}function hL(t,e,n){const r={...Cbe(),[e]:n};return new lw("auth","Firebase",r).create(e,{appName:t.name})}function ju(t){return hL(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nbe(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pa(t,"argument-error"),hL(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pL(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Iee.create(t,...e)}function Wt(t,e,...n){if(!t)throw pL(e,...n)}function _u(t){const e="INTERNAL ASSERTION FAILED: "+t;throw UA(e),new Error(e)}function Ku(t,e){t||_u(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Ibe(){return mz()==="http:"||mz()==="https:"}function mz(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pbe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ibe()||sve()||"connection"in navigator)?navigator.onLine:!0}function _be(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ku(n>e,"Short delay should be less than long delay!"),this.isMobile=rve()||ove()}get(){return Pbe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t,e){Ku(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_u("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_u("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_u("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rbe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Obe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Mbe=new dw(3e4,6e4);function dh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fh(t,e,n,r,i={}){return _ee(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=cw({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return ive()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&H2(t.emulatorConfig.host)&&(c.credentials="include"),Pee.fetch()(await Ree(t,t.config.apiHost,n,a),c)})}async function _ee(t,e,n){t._canInitEmulator=!1;const r={...Rbe,...e};try{const i=new Lbe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw SS(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw SS(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw SS(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw SS(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hL(t,u,c);Pa(t,u)}}catch(i){if(i instanceof uh)throw i;Pa(t,"network-request-failed",{message:String(i)})}}async function fw(t,e,n,r,i={}){const s=await fh(t,e,n,r,i);return"mfaPendingCredential"in s&&Pa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Ree(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?mL(t.config,i):`${t.config.apiScheme}://${i}`;return Obe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Dbe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Lbe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cl(this.auth,"network-request-failed")),Mbe.get())})}}function SS(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cl(t,e,r);return i.customData._tokenResponse=n,i}function gz(t){return t!==void 0&&t.enterprise!==void 0}class Bbe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Dbe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jbe(t,e){return fh(t,"GET","/v2/recaptchaConfig",dh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ube(t,e){return fh(t,"POST","/v1/accounts:delete",e)}async function TT(t,e){return fh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Fbe(t,e=!1){const n=gd(t),r=await n.getIdToken(e),i=gL(r);Wt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Mb(S_(i.auth_time)),issuedAtTime:Mb(S_(i.iat)),expirationTime:Mb(S_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function S_(t){return Number(t)*1e3}function gL(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return UA("JWT malformed, contained fewer than 3 sections"),null;try{const i=xee(n);return i?JSON.parse(i):(UA("Failed to decode base64 JWT payload"),null)}catch(i){return UA("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yz(t){const e=gL(t);return Wt(e,"internal-error"),Wt(typeof e.exp<"u","internal-error"),Wt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof uh&&zbe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zbe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $be{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mb(this.lastLoginAt),this.creationTime=Mb(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Jb(t,TT(e,{idToken:n}));Wt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?Oee(i.providerUserInfo):[],o=Vbe(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new GO(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function Hbe(t){const e=gd(t);await CT(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vbe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Oee(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gbe(t,e){const n=await _ee(t,{},async()=>{const r=cw({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Ree(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&H2(t.emulatorConfig.host)&&(l.credentials="include"),Pee.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qbe(t,e){return fh(t,"POST","/v2/accounts:revokeToken",dh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Wt(e.idToken,"internal-error"),Wt(typeof e.idToken<"u","internal-error"),Wt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yz(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Wt(e.length!==0,"internal-error");const n=yz(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Wt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Gbe(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Eg;return r&&(Wt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Wt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Wt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eg,this.toJSON())}_performRefresh(){return _u("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t,e){Wt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ol{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new $be(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new GO(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Jb(this,this.stsTokenManager.getToken(this.auth,e));return Wt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Fbe(this,e)}reload(){return Hbe(this)}_assign(e){this!==e&&(Wt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ol({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await CT(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sa(this.auth.app))return Promise.reject(ju(this.auth));const e=await this.getIdToken();return await Jb(this,Ube(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:g,providerData:x,stsTokenManager:v}=n;Wt(f&&v,e,"internal-error");const w=Eg.fromJSON(this.name,v);Wt(typeof f=="string",e,"internal-error"),Zd(r,e.name),Zd(i,e.name),Wt(typeof m=="boolean",e,"internal-error"),Wt(typeof g=="boolean",e,"internal-error"),Zd(s,e.name),Zd(o,e.name),Zd(a,e.name),Zd(l,e.name),Zd(c,e.name),Zd(u,e.name);const E=new ol({uid:f,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:w,createdAt:c,lastLoginAt:u});return x&&Array.isArray(x)&&(E.providerData=x.map(k=>({...k}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new Eg;i.updateFromServerResponse(n);const s=new ol({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await CT(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Wt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Oee(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Eg;a.updateFromIdToken(r);const l=new ol({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new GO(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=new Map;function Ru(t){Ku(t instanceof Function,"Expected a class definition");let e=xz.get(t);return e?(Ku(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xz.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mee{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Mee.type="NONE";const vz=Mee;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t,e,n){return`firebase:${t}:${e}:${n}`}class Sg{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=FA(this.userKey,i.apiKey,s),this.fullPersistenceKey=FA("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await TT(this.auth,{idToken:e}).catch(()=>{});return n?ol._fromGetAccountInfoResponse(this.auth,n,e):null}return ol._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sg(Ru(vz),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ru(vz);const o=FA(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let f;if(typeof u=="string"){const m=await TT(e,{idToken:u}).catch(()=>{});if(!m)break;f=await ol._fromGetAccountInfoResponse(e,m,u)}else f=ol._fromJSON(e,u);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Sg(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Sg(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jee(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dee(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fee(e))return"Blackberry";if(zee(e))return"Webos";if(Lee(e))return"Safari";if((e.includes("chrome/")||Bee(e))&&!e.includes("edge/"))return"Chrome";if(Uee(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Dee(t=js()){return/firefox\//i.test(t)}function Lee(t=js()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bee(t=js()){return/crios\//i.test(t)}function jee(t=js()){return/iemobile/i.test(t)}function Uee(t=js()){return/android/i.test(t)}function Fee(t=js()){return/blackberry/i.test(t)}function zee(t=js()){return/webos/i.test(t)}function yL(t=js()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Kbe(t=js()){var e;return yL(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Wbe(){return ave()&&document.documentMode===10}function $ee(t=js()){return yL(t)||Uee(t)||zee(t)||Fee(t)||/windows phone/i.test(t)||jee(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hee(t,e=[]){let n;switch(t){case"Browser":n=bz(js());break;case"Worker":n=`${bz(js())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uw}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ybe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jbe(t,e={}){return fh(t,"GET","/v2/passwordPolicy",dh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xbe=6;class Qbe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Xbe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zbe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wz(this),this.idTokenSubscription=new wz(this),this.beforeStateQueue=new Ybe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iee,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ru(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Sg.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await TT(this,{idToken:e}),r=await ol._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Sa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await CT(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_be()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sa(this.app))return Promise.reject(ju(this));const n=e?gd(e):null;return n&&Wt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Wt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sa(this.app)?Promise.reject(ju(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sa(this.app)?Promise.reject(ju(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ru(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Jbe(this),n=new Qbe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lw("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qbe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ru(e)||this._popupRedirectResolver;Wt(n,this,"argument-error"),this.redirectPersistenceManager=await Sg.create(this,[Ru(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hee(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Sa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&kbe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function hh(t){return gd(t)}class wz{constructor(e){this.auth=e,this.observer=null,this.addObserver=pve(n=>this.observer=n)}get next(){return Wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e1e(t){V2=t}function Vee(t){return V2.loadJS(t)}function t1e(){return V2.recaptchaEnterpriseScript}function n1e(){return V2.gapiScript}function r1e(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class i1e{constructor(){this.enterprise=new s1e}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class s1e{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const o1e="recaptcha-enterprise",Gee="NO_RECAPTCHA";class a1e{constructor(e){this.type=o1e,this.auth=hh(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{jbe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Bbe(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;gz(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Gee)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i1e().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&gz(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=t1e();l.length!==0&&(l+=a),Vee(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Ez(t,e,n,r=!1,i=!1){const s=new a1e(t);let o;if(i)o=Gee;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function qO(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ez(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ez(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1e(t,e){const n=Aee(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jy(s,e??{}))return i;Pa(i,"already-initialized")}return n.initialize({options:e})}function c1e(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ru);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u1e(t,e,n){const r=hh(t);Wt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=qee(e),{host:o,port:a}=d1e(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Wt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Wt(jy(c,r.config.emulator)&&jy(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,H2(o)?(Zxe(`${s}//${o}${l}`),nve("Auth",!0)):f1e()}function qee(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function d1e(t){const e=qee(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Sz(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Sz(o)}}}function Sz(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function f1e(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _u("not implemented")}_getIdTokenResponse(e){return _u("not implemented")}_linkToIdToken(e,n){return _u("not implemented")}_getReauthenticationResolver(e){return _u("not implemented")}}async function h1e(t,e){return fh(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1e(t,e){return fw(t,"POST","/v1/accounts:signInWithPassword",dh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1e(t,e){return fw(t,"POST","/v1/accounts:signInWithEmailLink",dh(t,e))}async function g1e(t,e){return fw(t,"POST","/v1/accounts:signInWithEmailLink",dh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb extends xL{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xb(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xb(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qO(e,n,"signInWithPassword",p1e);case"emailLink":return m1e(e,{email:this._email,oobCode:this._password});default:Pa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qO(e,r,"signUpPassword",h1e);case"emailLink":return g1e(e,{idToken:n,email:this._email,oobCode:this._password});default:Pa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ag(t,e){return fw(t,"POST","/v1/accounts:signInWithIdp",dh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1e="http://localhost";class rm extends xL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new rm(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ag(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ag(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ag(e,n)}buildRequest(){const e={requestUri:y1e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cw(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1e(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v1e(t){const e=gb(yb(t)).link,n=e?gb(yb(e)).deep_link_id:null,r=gb(yb(t)).deep_link_id;return(r?gb(yb(r)).link:null)||r||n||e||t}class vL{constructor(e){const n=gb(yb(e)),r=n.apiKey??null,i=n.oobCode??null,s=x1e(n.mode??null);Wt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=v1e(e);try{return new vL(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.providerId=yx.PROVIDER_ID}static credential(e,n){return Xb._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vL.parseLink(n);return Wt(r,"argument-error"),Xb._fromEmailAndCode(e,r.code,r.tenantId)}}yx.PROVIDER_ID="password";yx.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yx.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw extends bL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends hw{constructor(){super("facebook.com")}static credential(e){return rm._fromParams({providerId:wf.PROVIDER_ID,signInMethod:wf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wf.credentialFromTaggedObject(e)}static credentialFromError(e){return wf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wf.credential(e.oauthAccessToken)}catch{return null}}}wf.FACEBOOK_SIGN_IN_METHOD="facebook.com";wf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends hw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rm._fromParams({providerId:Au.PROVIDER_ID,signInMethod:Au.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Au.credentialFromTaggedObject(e)}static credentialFromError(e){return Au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Au.credential(n,r)}catch{return null}}}Au.GOOGLE_SIGN_IN_METHOD="google.com";Au.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends hw{constructor(){super("github.com")}static credential(e){return rm._fromParams({providerId:Ef.PROVIDER_ID,signInMethod:Ef.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ef.credentialFromTaggedObject(e)}static credentialFromError(e){return Ef.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ef.credential(e.oauthAccessToken)}catch{return null}}}Ef.GITHUB_SIGN_IN_METHOD="github.com";Ef.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends hw{constructor(){super("twitter.com")}static credential(e,n){return rm._fromParams({providerId:Sf.PROVIDER_ID,signInMethod:Sf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sf.credentialFromTaggedObject(e)}static credentialFromError(e){return Sf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Sf.credential(n,r)}catch{return null}}}Sf.TWITTER_SIGN_IN_METHOD="twitter.com";Sf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1e(t,e){return fw(t,"POST","/v1/accounts:signUp",dh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ol._fromIdTokenResponse(e,r,i),o=Az(r);return new im({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Az(r);return new im({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Az(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends uh{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kT.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kT(e,n,r,i)}}function Kee(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?kT._fromErrorAndOperation(t,s,e,r):s})}async function w1e(t,e,n=!1){const r=await Jb(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return im._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1e(t,e,n=!1){const{auth:r}=t;if(Sa(r.app))return Promise.reject(ju(r));const i="reauthenticate";try{const s=await Jb(t,Kee(r,i,e,t),n);Wt(s.idToken,r,"internal-error");const o=gL(s.idToken);Wt(o,r,"internal-error");const{sub:a}=o;return Wt(t.uid===a,r,"user-mismatch"),im._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wee(t,e,n=!1){if(Sa(t.app))return Promise.reject(ju(t));const r="signIn",i=await Kee(t,r,e),s=await im._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function S1e(t,e){return Wee(hh(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yee(t){const e=hh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A1e(t,e,n){if(Sa(t.app))return Promise.reject(ju(t));const r=hh(t),o=await qO(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b1e).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Yee(t),l}),a=await im._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function T1e(t,e,n){return Sa(t.app)?Promise.reject(ju(t)):S1e(gd(t),yx.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Yee(t),r})}function C1e(t,e,n,r){return gd(t).onIdTokenChanged(e,n,r)}function k1e(t,e,n){return gd(t).beforeAuthStateChanged(e,n)}function N1e(t,e,n,r){return gd(t).onAuthStateChanged(e,n,r)}function I1e(t){return gd(t).signOut()}const NT="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(NT,"1"),this.storage.removeItem(NT),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1e=1e3,_1e=10;class Xee extends Jee{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$ee(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Wbe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_1e):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P1e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xee.type="LOCAL";const R1e=Xee;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee extends Jee{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Qee.type="SESSION";const Zee=Qee;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new G2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await O1e(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}G2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=wL("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(){return window}function D1e(t){lc().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ete(){return typeof lc().WorkerGlobalScope<"u"&&typeof lc().importScripts=="function"}async function L1e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B1e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function j1e(){return ete()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tte="firebaseLocalStorageDb",U1e=1,IT="firebaseLocalStorage",nte="fbase_key";class pw{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function q2(t,e){return t.transaction([IT],e?"readwrite":"readonly").objectStore(IT)}function F1e(){const t=indexedDB.deleteDatabase(tte);return new pw(t).toPromise()}function KO(){const t=indexedDB.open(tte,U1e);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(IT,{keyPath:nte})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(IT)?e(r):(r.close(),await F1e(),e(await KO()))})})}async function Tz(t,e,n){const r=q2(t,!0).put({[nte]:e,value:n});return new pw(r).toPromise()}async function z1e(t,e){const n=q2(t,!1).get(e),r=await new pw(n).toPromise();return r===void 0?null:r.value}function Cz(t,e){const n=q2(t,!0).delete(e);return new pw(n).toPromise()}const $1e=800,H1e=3;class rte{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await KO(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H1e)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ete()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=G2._getInstance(j1e()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await L1e(),!this.activeServiceWorker)return;this.sender=new M1e(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B1e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await KO();return await Tz(e,NT,"1"),await Cz(e,NT),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tz(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z1e(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cz(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=q2(i,!1).getAll();return new pw(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$1e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rte.type="LOCAL";const V1e=rte;new dw(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ite(t,e){return e?Ru(e):(Wt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL extends xL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ag(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ag(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ag(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G1e(t){return Wee(t.auth,new EL(t),t.bypassAuthState)}function q1e(t){const{auth:e,user:n}=t;return Wt(n,e,"internal-error"),E1e(n,new EL(t),t.bypassAuthState)}async function K1e(t){const{auth:e,user:n}=t;return Wt(n,e,"internal-error"),w1e(n,new EL(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G1e;case"linkViaPopup":case"linkViaRedirect":return K1e;case"reauthViaPopup":case"reauthViaRedirect":return q1e;default:Pa(this.auth,"internal-error")}}resolve(e){Ku(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ku(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1e=new dw(2e3,1e4);async function Y1e(t,e,n){if(Sa(t.app))return Promise.reject(cl(t,"operation-not-supported-in-this-environment"));const r=hh(t);Nbe(t,e,bL);const i=ite(r,n);return new dp(r,"signInViaPopup",e,i).executeNotNull()}class dp extends ste{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,dp.currentPopupAction&&dp.currentPopupAction.cancel(),dp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Wt(e,this.auth,"internal-error"),e}async onExecution(){Ku(this.filter.length===1,"Popup operations only handle one event");const e=wL();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(cl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W1e.get())};e()}}dp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1e="pendingRedirect",zA=new Map;class X1e extends ste{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zA.get(this.auth._key());if(!e){try{const r=await Q1e(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zA.set(this.auth._key(),e)}return this.bypassAuthState||zA.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q1e(t,e){const n=twe(e),r=ewe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Z1e(t,e){zA.set(t._key(),e)}function ewe(t){return Ru(t._redirectPersistence)}function twe(t){return FA(J1e,t.config.apiKey,t.name)}async function nwe(t,e,n=!1){if(Sa(t.app))return Promise.reject(ju(t));const r=hh(t),i=ite(r,e),o=await new X1e(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rwe=600*1e3;class iwe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!swe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ote(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(cl(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rwe&&this.cachedEventUids.clear(),this.cachedEventUids.has(kz(e))}saveEventToCache(e){this.cachedEventUids.add(kz(e)),this.lastProcessedEventTime=Date.now()}}function kz(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ote({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function swe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ote(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function owe(t,e={}){return fh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const awe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lwe=/^https?/;async function cwe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await owe(t);for(const n of e)try{if(uwe(n))return}catch{}Pa(t,"unauthorized-domain")}function uwe(t){const e=VO(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!lwe.test(n))return!1;if(awe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dwe=new dw(3e4,6e4);function Nz(){const t=lc().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fwe(t){return new Promise((e,n)=>{var i,s,o;function r(){Nz(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nz(),n(cl(t,"network-request-failed"))},timeout:dwe.get()})}if((s=(i=lc().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=lc().gapi)!=null&&o.load)r();else{const a=r1e("iframefcb");return lc()[a]=()=>{gapi.load?r():n(cl(t,"network-request-failed"))},Vee(`${n1e()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $A=null,e})}let $A=null;function hwe(t){return $A=$A||fwe(t),$A}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pwe=new dw(5e3,15e3),mwe="__/auth/iframe",gwe="emulator/auth/iframe",ywe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xwe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vwe(t){const e=t.config;Wt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mL(e,gwe):`https://${t.config.authDomain}/${mwe}`,r={apiKey:e.apiKey,appName:t.name,v:uw},i=xwe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cw(r).slice(1)}`}async function bwe(t){const e=await hwe(t),n=lc().gapi;return Wt(n,t,"internal-error"),e.open({where:document.body,url:vwe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ywe,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=cl(t,"network-request-failed"),a=lc().setTimeout(()=>{s(o)},pwe.get());function l(){lc().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wwe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ewe=500,Swe=600,Awe="_blank",Twe="http://localhost";class Iz{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cwe(t,e,n,r=Ewe,i=Swe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...wwe,width:r.toString(),height:i.toString(),top:s,left:o},c=js().toLowerCase();n&&(a=Bee(c)?Awe:n),Dee(c)&&(e=e||Twe,l.scrollbars="yes");const u=Object.entries(l).reduce((m,[g,x])=>`${m}${g}=${x},`,"");if(Kbe(c)&&a!=="_self")return kwe(e||"",a),new Iz(null);const f=window.open(e||"",a,u);Wt(f,t,"popup-blocked");try{f.focus()}catch{}return new Iz(f)}function kwe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nwe="__/auth/handler",Iwe="emulator/auth/handler",Pwe=encodeURIComponent("fac");async function Pz(t,e,n,r,i,s){Wt(t.config.authDomain,t,"auth-domain-config-required"),Wt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:uw,eventId:i};if(e instanceof bL){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hve(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof hw){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Pwe}=${encodeURIComponent(l)}`:"";return`${_we(t)}?${cw(a).slice(1)}${c}`}function _we({config:t}){return t.emulator?mL(t,Iwe):`https://${t.authDomain}/${Nwe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="webStorageSupport";class Rwe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zee,this._completeRedirectFn=nwe,this._overrideRedirectResult=Z1e}async _openPopup(e,n,r,i){var o;Ku((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Pz(e,n,r,VO(),i);return Cwe(e,s,wL())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Pz(e,n,r,VO(),i);return D1e(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ku(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bwe(e),r=new iwe(e);return n.register("authEvent",i=>(Wt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(A_,{type:A_},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[A_];s!==void 0&&n(!!s),Pa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cwe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $ee()||Lee()||yL()}}const Owe=Rwe;var _z="@firebase/auth",Rz="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mwe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dwe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lwe(t){Wb(new Uy("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Wt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hee(t)},c=new Zbe(r,i,s,l);return c1e(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wb(new Uy("auth-internal",e=>{const n=hh(e.getProvider("auth").getImmediate());return(r=>new Mwe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wg(_z,Rz,Dwe(t)),wg(_z,Rz,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bwe=300,jwe=bee("authIdTokenMaxAge")||Bwe;let Oz=null;const Uwe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jwe)return;const i=n==null?void 0:n.token;Oz!==i&&(Oz=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Fwe(t=mbe()){const e=Aee(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l1e(t,{popupRedirectResolver:Owe,persistence:[V1e,R1e,Zee]}),r=bee("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Uwe(s.toString());k1e(n,o,()=>o(n.currentUser)),C1e(n,a=>o(a))}}const i=Xxe("auth");return i&&u1e(n,`http://${i}`),n}function zwe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}e1e({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=cl("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",zwe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lwe("Browser");var $we="firebase",Hwe="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wg($we,Hwe,"app");const Vwe={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},Gwe=Tee(Vwe),Gv=Fwe(Gwe),qwe=new Au;function Im(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Kwe(t,e){let n;const r=()=>{if(n)return n;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),n=Im(i),n.then(s=>{s.onclose=()=>n=void 0},()=>{}),n};return(i,s)=>r().then(o=>s(o.transaction(e,i).objectStore(e)))}let T_;function mw(){return T_||(T_=Kwe("keyval-store","keyval")),T_}function C_(t,e=mw()){return e("readonly",n=>Im(n.get(t)))}function k_(t,e,n=mw()){return n("readwrite",r=>(r.put(e,t),Im(r.transaction)))}function N_(t,e=mw()){return e("readwrite",n=>(n.delete(t),Im(n.transaction)))}function Wwe(t=mw()){return t("readwrite",e=>(e.clear(),Im(e.transaction)))}function Ywe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Im(t.transaction)}function Mz(t=mw()){return t("readonly",e=>{if(e.getAllKeys)return Im(e.getAllKeys());const n=[];return Ywe(e,r=>n.push(r.key)).then(()=>n)})}const tj=class tj{static setUserId(e){console.log(`[StorageService] User context set to: ${e?e.substring(0,8)+"...":"null"}`),this.currentUserId=e}static getUserId(){return this.currentUserId}static getUserKey(e){return this.currentUserId?`${e}_${this.currentUserId}`:(console.warn(`[StorageService] No user context set! Using global key for: ${e}`),e)}static async getItem(e){try{return await C_(e)}catch(n){return console.error(`[StorageService] Failed to get item ${e}:`,n),null}}static async setItem(e,n){try{await k_(e,n)}catch(r){console.error(`[StorageService] Failed to set item ${e}:`,r)}}static async removeItem(e){try{await N_(e)}catch(n){console.error(`[StorageService] Failed to remove item ${e}:`,n)}}static async clear(){try{await Wwe()}catch(e){console.error("[StorageService] Failed to clear storage:",e)}}static async clearUserData(e){try{const n=await Mz(),r=`_${e}`,i=n.filter(s=>typeof s=="string"&&s.endsWith(r));console.log(`[StorageService] Clearing ${i.length} keys for user ${e.substring(0,8)}...`);for(const s of i)await N_(s);console.log("[StorageService] User data cleared.")}catch(n){console.error("[StorageService] Failed to clear user data:",n)}}static async migrateFromLocalStorage(){console.log("[StorageService] Checking for legacy localStorage data...");const e=["agent_vault_pubkey","agent_vault_enc","agent_owner_pubkey","agent_hl_vault_pubkey","agent_hl_vault_enc","agent_hl_owner_pubkey","agent_pm_vault_pubkey","agent_pm_vault_enc","agent_pm_owner_pubkey","agent_chat_history","agent_chat_sessions","vault_dealer_strategy","agent_activity_log","agent_scheduler_tasks","agent_dealer_settings"];let n=0;for(const r of e){const i=localStorage.getItem(r);if(i)try{await k_(r,i),console.log(`[StorageService] Migrated key: ${r}`),n++}catch(s){console.error(`[StorageService] Failed to migrate key ${r}:`,s)}}if(n>0){console.log(`[StorageService] Migration complete. Moved ${n} items.`);for(const r of e)localStorage.removeItem(r);console.log("[StorageService] Legacy localStorage keys cleared.")}else console.log("[StorageService] No legacy data found to migrate.")}static async migrateToUserScoped(){if(!this.currentUserId){console.warn("[StorageService] Cannot migrate to user-scoped: no userId set");return}console.log("[StorageService] Checking for unscoped IndexedDB data to migrate...");const e=["agent_vault_pubkey","agent_vault_enc","agent_owner_pubkey","agent_hl_vault_pubkey","agent_hl_vault_enc","agent_hl_owner_pubkey","agent_pm_vault_pubkey","agent_pm_vault_enc","agent_pm_owner_pubkey","vault_dealer_strategy","agent_activity_log","agent_scheduler_tasks","agent_conversations_metadata","vault_dealer_storage","vault_polymarket_storage","ai_config_store","vault_balance_history","token_usage_store"],r=(await Mz()).filter(o=>typeof o=="string"&&o.startsWith("agent_conversation_")&&!o.includes("_"+this.currentUserId)),i=[...e,...r];let s=0;for(const o of i)try{const a=await C_(o);if(a){const l=`${o}_${this.currentUserId}`;await C_(l)||(await k_(l,a),console.log(`[StorageService] Migrated to user-scoped: ${o} -> ${l}`),s++),await N_(o)}}catch(a){console.error(`[StorageService] Failed to migrate key ${o}:`,a)}s>0?console.log(`[StorageService] User-scoped migration complete. Moved ${s} items.`):console.log("[StorageService] No unscoped data found to migrate.")}};tj.currentUserId=null;let Pe=tj;const Jwe={gemini:[{id:"gemini-3-flash-preview",name:"Gemini 3 Flash Preview",description:"Next generation (Preview)",inputPricePerMillion:.1,outputPricePerMillion:.4},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",description:"Fast & balanced",inputPricePerMillion:.15,outputPricePerMillion:.6},{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",description:"Most capable",inputPricePerMillion:1.25,outputPricePerMillion:10},{id:"gemini-2.5-flash-lite",name:"Gemini 2.5 Flash-Lite",description:"Lightweight",inputPricePerMillion:.075,outputPricePerMillion:.3},{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",description:"Stable",inputPricePerMillion:.1,outputPricePerMillion:.4}],openai:[{id:"gpt-4o",name:"GPT-4o",description:"Most capable",inputPricePerMillion:2.5,outputPricePerMillion:10},{id:"gpt-4o-mini",name:"GPT-4o Mini",description:"Fast & affordable",inputPricePerMillion:.15,outputPricePerMillion:.6},{id:"gpt-4-turbo",name:"GPT-4 Turbo",description:"Stable",inputPricePerMillion:10,outputPricePerMillion:30},{id:"o1-mini",name:"o1-mini",description:"Reasoning model",inputPricePerMillion:3,outputPricePerMillion:12}],claude:[{id:"claude-sonnet-4-20250514",name:"Claude Sonnet 4",description:"Latest & fastest",inputPricePerMillion:3,outputPricePerMillion:15},{id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",description:"Previous gen",inputPricePerMillion:3,outputPricePerMillion:15},{id:"claude-3-opus-20240229",name:"Claude 3 Opus",description:"Most capable",inputPricePerMillion:15,outputPricePerMillion:75},{id:"claude-3-haiku-20240307",name:"Claude 3 Haiku",description:"Economy",inputPricePerMillion:.25,outputPricePerMillion:1.25}]},ate={gemini:{providerType:"gemini",apiKey:"",isConfigured:!1},openai:{providerType:"openai",apiKey:"",isConfigured:!1},claude:{providerType:"claude",apiKey:"",isConfigured:!1}},lte={operator:{providerType:"gemini",modelId:"gemini-2.5-flash"},hyperliquidDealer:{providerType:"gemini",modelId:"gemini-2.5-flash"},polymarketDealer:{providerType:"gemini",modelId:"gemini-2.5-flash"}},I_={credentials:ate,componentConfigs:lte},Dz="ai_config_store";class Xwe{constructor(){this.isInitialized=!1,this.initPromise=null,this.state=I_,this.listeners=new Set,this.initPromise=this.initialize()}async initialize(){if(!this.isInitialized){if(!Pe.getUserId()){console.log("[AIConfigStore] No user context yet, skipping initial load"),this.isInitialized=!0;return}await this.loadFromStorage(),this.isInitialized=!0,this.notifyListeners()}}async reload(){console.log("[AIConfigStore] Reloading from storage..."),await this.loadFromStorage(),this.notifyListeners()}reset(){console.log("[AIConfigStore] Resetting to initial state..."),this.state={...I_},this.notifyListeners()}async loadFromStorage(){try{const e=await Pe.getItem(Pe.getUserKey(Dz));if(e){const n=JSON.parse(e);this.state={...I_,...n,credentials:{...ate,...n.credentials},componentConfigs:{...lte,...n.componentConfigs}},console.log("[AIConfigStore] Loaded credentials from storage")}}catch(e){console.error("Failed to load AI config state:",e)}}async waitForInit(){this.initPromise&&await this.initPromise}async saveState(){try{await Pe.setItem(Pe.getUserKey(Dz),JSON.stringify(this.state))}catch(e){console.error("Failed to save AI config state:",e)}}notifyListeners(){this.listeners.forEach(e=>e())}notify(){this.notifyListeners(),this.saveState()}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}getSnapshot(){return this.state}setApiKey(e,n){this.state={...this.state,credentials:{...this.state.credentials,[e]:{providerType:e,apiKey:n,isConfigured:n.trim().length>0}}},this.notify()}getApiKey(e){return this.state.credentials[e].apiKey}clearApiKey(e){this.setApiKey(e,"")}isProviderConfigured(e){return this.state.credentials[e].isConfigured}getConfiguredProviders(){return Object.entries(this.state.credentials).filter(([e,n])=>n.isConfigured).map(([e,n])=>e)}setComponentConfig(e,n){return this.state.credentials[n.providerType].isConfigured?Jwe[n.providerType].find(i=>i.id===n.modelId)?(this.state={...this.state,componentConfigs:{...this.state.componentConfigs,[e]:n}},this.notify(),!0):(console.warn(`Invalid model ${n.modelId} for provider ${n.providerType}`),!1):(console.warn(`Cannot set ${e} to use ${n.providerType}: API key not configured`),!1)}getComponentConfig(e){return this.state.componentConfigs[e]}getComponentProvider(e){return this.state.componentConfigs[e].providerType}getComponentModel(e){return this.state.componentConfigs[e].modelId}getComponentApiKey(e){const n=this.getComponentProvider(e);return this.getApiKey(n)}isComponentConfigValid(e){const n=this.state.componentConfigs[e];return this.state.credentials[n.providerType].isConfigured}getInvalidComponents(){return Object.keys(this.state.componentConfigs).filter(e=>!this.isComponentConfigValid(e))}}const or=new Xwe,K2={trend:{name:"Trend / Structure",color:"purple",icon:"TrendingUp",maxIndicators:2,indicators:["ema","sma","adx","ichimoku"],description:"Market direction and trend strength"},momentum:{name:"Momentum",color:"blue",icon:"Activity",maxIndicators:2,indicators:["rsi","macd","stoch"],description:"Entry/exit timing and divergences"},volume:{name:"Volume",color:"green",icon:"BarChart2",maxIndicators:1,indicators:["obv","vwap"],description:"Move confirmation with participation"},volatility:{name:"Volatility / Risk",color:"orange",icon:"Zap",maxIndicators:1,indicators:["atr","bollinger"],description:"Risk context and market regime"}},cte=5,Uu={balanced:{name:"Balanced",description:"Trend + Momentum + Timing + Risk",emoji:"",indicators:["ema","rsi","macd","atr"],marketCondition:"uncertain or mixed signals"},scalp:{name:"Scalp Momentum",description:"Fast entries, frequent trades (5m-15m)",emoji:"",indicators:["ema","rsi","stoch","vwap"],marketCondition:"high volatility with quick reversals"},trendFollowing:{name:"Trend Following",description:"Sustained movements (15m-1h)",emoji:"",indicators:["ema","sma","adx","macd"],marketCondition:"strong directional trend"},meanReversion:{name:"Mean Reversion",description:"Range / Lateral markets",emoji:"",indicators:["bollinger","rsi","stoch","vwap"],marketCondition:"ranging or sideways market"},volumeConfirm:{name:"Volume Confirmation",description:"Avoid fake breakouts",emoji:"",indicators:["ema","rsi","obv","vwap"],marketCondition:"breakout scenarios or unusual volume"},custom:{name:"Custom",description:"Your custom configuration",emoji:"",indicators:[],marketCondition:"user-defined"}},WO={balanced:`You are Hyperliquid Dealer, an autonomous trading engine.
Your goal is to identify balanced trading opportunities using a combination of indicators.

RULES:
1. Use EMA for trend confirmation, RSI for timing, MACD for momentum, and ATR for risk management.
2. Enter LONG when: EMA points UP + RSI < 40 + MACD histogram positive.
3. Enter SHORT when: EMA points DOWN + RSI > 60 + MACD histogram negative.
4. Stop Loss: Position at 1.5x ATR from entry price.
5. Take Profit: Target 2x risk (1:2 ratio).
6. HOLD if indicators give conflicting signals.`,scalp:`You are Hyperliquid Dealer, a high-frequency scalping engine.
Your goal is to capture quick price movements (5m-15m) in volatile markets.

RULES:
1. Use EMA(9) for immediate direction, RSI for entry, Stoch for confirmation, VWAP as support/resistance.
2. LONG: Price above VWAP + RSI < 35 + Stoch crossing up.
3. SHORT: Price below VWAP + RSI > 65 + Stoch crossing down.
4. Quick trades: Target 0.3-0.5% profit per trade.
5. Tight stop: 0.5% maximum.
6. AVOID trades during low volatility.`,trendFollowing:`You are Hyperliquid Dealer, specialized in following strong trends.
Your goal is to ride sustained directional movements (15m-1h).

RULES:
1. Use EMA/SMA to confirm trend, ADX for strength, MACD for timing.
2. ONLY enter when ADX > 25 (strong trend).
3. LONG: EMA(20) > SMA(50) + ADX > 25 + MACD positive.
4. SHORT: EMA(20) < SMA(50) + ADX > 25 + MACD negative.
5. Let profits run: Trailing stop at 2x ATR.
6. HOLD in sideways markets (ADX < 20).`,meanReversion:`You are Hyperliquid Dealer, specialized in mean reversion.
Your goal is to trade ranging/sideways markets, buying dips and selling tops.

RULES:
1. Use Bollinger Bands for extremes, RSI for oversold/overbought, Stoch for confirmation, VWAP as anchor.
2. LONG: Price touches lower Bollinger + RSI < 30 + Stoch < 20.
3. SHORT: Price touches upper Bollinger + RSI > 70 + Stoch > 80.
4. Target: Return to mean (Bollinger middle or VWAP).
5. Stop: Outside the opposite band.
6. AVOID trading when Bollinger expands (breakout).`,volumeConfirm:`You are Hyperliquid Dealer with focus on volume confirmation.
Your goal is to avoid false breakouts by only trading with volume confirmation.

RULES:
1. Use EMA for trend, RSI for timing, OBV for volume flow, VWAP for institutional levels.
2. LONG: EMA up + RSI < 45 + OBV making higher highs + price above VWAP.
3. SHORT: EMA down + RSI > 55 + OBV making lower lows + price below VWAP.
4. Volume is KING: No OBV confirmation = no trade.
5. Breakouts: Only enter if volume > 1.5x average.
6. HOLD if OBV diverges from price (possible reversal signal).`,custom:`// Write your custom strategy instructions here...
// Example:
// You are a conservative trader focused on mean reversion.
// 1. Only trade when RSI is above 70 or below 30.
// 2. Prioritize high volume tokens.
// 3. Never risk more than 1% of equity per trade.`},Tg={rsi:{enabled:!0,params:{period:14},weight:1},macd:{enabled:!0,params:{fast:12,slow:26,signal:9},weight:1},bollinger:{enabled:!1,params:{period:20,stdDev:2},weight:1},atr:{enabled:!0,params:{period:14},weight:1},adx:{enabled:!1,params:{period:14},weight:1},obv:{enabled:!1,params:{},weight:1},vwap:{enabled:!1,params:{},weight:1},ichimoku:{enabled:!1,params:{conversion:9,base:26,spanB:52,displacement:26},weight:1},ema:{enabled:!0,params:{period:20},weight:1},sma:{enabled:!1,params:{period:20},weight:1},stoch:{enabled:!1,params:{period:14,signalPeriod:3},weight:1}},Qwe=WO.balanced,ute={strategyPrompt:Qwe,aggressiveMode:!1,maxLeverage:5,maxPositionSizeUSDC:50,maxOpenPositions:3,bankrollType:"MANUAL",manualBankroll:100,tradingPairs:["BTC","ETH","SOL"],checkIntervalSeconds:300,analysisTimeframe:"60",historyCandles:30,macroTimeframeEnabled:!1,macroTimeframe:"240",macroEnabledIndicators:["rsi","macd","ema"],indicatorSettings:Tg,autonomousIndicators:!1,selectedPreset:"balanced",promptMode:"preset",stopLossEnabled:!1,stopLossPercent:null,takeProfitEnabled:!1,takeProfitPercent:null},P_={isOn:!1,isAnalyzing:!1,statusMessage:"Ready",statusDetail:"Awaiting activation",currentTask:null,currentSignal:null,trendAssessment:"Waiting for data...",pendingExecution:!1,currentExposure:0,activePositions:[],portfolioValue:0,lastSyncTimestamp:0,settings:ute,logs:[],operationHistory:[]};class Zwe{constructor(){this.isInitialized=!1,this.initPromise=null,this.state=P_,this.listeners=new Set,this.initPromise=this.initialize()}async initialize(){this.isInitialized||(await this.loadState(),this.isInitialized=!0,this.notifyListeners())}async waitForInit(){this.initPromise&&await this.initPromise}async reloadFromStorage(){console.log("[DealerStore] Reloading from storage..."),await this.loadState(),this.notifyListeners()}reset(){console.log("[DealerStore] Resetting to initial state..."),this.state={...P_},this.notifyListeners()}async loadState(){var e,n;try{const r=await Pe.getItem(Pe.getUserKey("vault_dealer_storage"));if(r){const i=JSON.parse(r);let s=((e=i.settings)==null?void 0:e.indicatorSettings)||Tg;const o={};for(const a of Object.keys(Tg)){const l=s[a],c=Tg[a];o[a]={enabled:(l==null?void 0:l.enabled)??c.enabled,params:(l==null?void 0:l.params)??c.params,weight:(l==null?void 0:l.weight)??1}}this.state={...P_,...i,settings:{...ute,...i.settings||{},indicatorSettings:o,selectedPreset:((n=i.settings)==null?void 0:n.selectedPreset)||"balanced"},isAnalyzing:!1,pendingExecution:!1,logs:i.logs||[]}}}catch(r){console.error("Failed to load dealer state:",r)}}async saveState(){try{await Pe.setItem(Pe.getUserKey("vault_dealer_storage"),JSON.stringify(this.state))}catch(e){console.error("Failed to save dealer state:",e)}}notifyListeners(){this.listeners.forEach(e=>e())}notify(){this.notifyListeners(),this.saveState()}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}getSnapshot(){return this.state}toggleDealer(e){this.state={...this.state,isOn:e,statusMessage:e?"Dealer Activated":"Dealer Stopped"},this.addLog("INFO",`Dealer turned ${e?"ON":"OFF"}`),this.notify()}updateSettings(e){this.state={...this.state,settings:{...this.state.settings,...e}},this.addLog("INFO","Settings updated"),this.notify()}setStrategyPrompt(e){this.updateSettings({strategyPrompt:e})}setAnalyzing(e){this.state={...this.state,isAnalyzing:e},this.notify()}updateStatus(e,n,r,i,s){this.state={...this.state,currentTask:e!==void 0?e:this.state.currentTask,currentSignal:n!==void 0?n:this.state.currentSignal,trendAssessment:r!==void 0?r:this.state.trendAssessment,currentExposure:i!==void 0?i:this.state.currentExposure,statusDetail:s!==void 0?s:this.state.statusDetail},this.notify()}updatePortfolioState(e,n,r){this.state={...this.state,activePositions:e,portfolioValue:n,currentExposure:r,lastSyncTimestamp:Date.now()},this.notify()}addLog(e,n,r){const s=[{id:Date.now().toString()+Math.random().toString().slice(2,5),timestamp:Date.now(),type:e,message:n,details:r},...this.state.logs].slice(0,100);this.state={...this.state,logs:s},this.notify()}clearLogs(){this.state={...this.state,logs:[]},this.notify()}reload(){this.state={...this.state,isAnalyzing:!1,currentTask:null,currentSignal:null,pendingExecution:!1,trendAssessment:"Reset by user",statusMessage:"Settings Applied"},this.addLog("INFO","System reloaded manually"),this.notify()}addOperationRecord(e){const r=[{...e,id:Date.now().toString()+Math.random().toString().slice(2,5)},...this.state.operationHistory].slice(0,50);this.state={...this.state,operationHistory:r},this.notify()}updateOperationStatus(e,n){const r=this.state.operationHistory.map(i=>i.cloid===e?{...i,...n}:i);this.state={...this.state,operationHistory:r},this.notify()}getTradeHistory(e,n=10,r=!0){let i=this.state.operationHistory;e&&(i=i.filter(a=>a.coin.toUpperCase()===e.toUpperCase()));const s=r?this.state.logs.filter(a=>a.type==="REASONING"||a.type==="TRADE"||a.type==="SIGNAL"):[];return{operations:i.slice(0,n).map(a=>{var c,u;const l=s.find(f=>f.message.includes(a.coin)&&Math.abs(f.timestamp-a.timestamp)<6e4);return{...a,fullReasoning:((c=l==null?void 0:l.details)==null?void 0:c.fullReason)||a.reasoning,analysisContext:(u=l==null?void 0:l.details)==null?void 0:u.context}}),totalOperations:i.length,recentLogs:s.slice(0,5)}}}const Nt=new Zwe,eEe=[{value:"politics",label:"Politics",icon:""},{value:"crypto",label:"Crypto",icon:""},{value:"sports",label:"Sports",icon:""},{value:"pop-culture",label:"Pop Culture",icon:""},{value:"science",label:"Science",icon:""},{value:"business",label:"Business",icon:""},{value:"other",label:"Other",icon:""}],Db={balanced:{name:"Balanced",description:"Trade across all categories with balanced risk",emoji:"",categories:["politics","crypto","business","science"],marketCondition:"diverse markets with good liquidity"},highVolume:{name:"High Volume",description:"Focus on most liquid markets",emoji:"",categories:["politics","crypto","sports"],marketCondition:"high volume markets with tight spreads"},crypto:{name:"Crypto Focus",description:"Only cryptocurrency-related markets",emoji:"",categories:["crypto"],marketCondition:"crypto market events and predictions"},conservative:{name:"Conservative",description:"Low risk, high confidence trades only",emoji:"",categories:["politics","business"],marketCondition:"stable markets with clear probable outcomes"},custom:{name:"Custom",description:"Your custom configuration",emoji:"",categories:[],marketCondition:"user-defined"}},PT={balanced:`You are Polymarket Dealer, an autonomous prediction market trading engine.
Your goal is to identify high-probability trading opportunities across diverse markets.

RULES:
1. Analyze market question, current probability, volume, and time to resolution.
2. BUY YES when probability is undervalued (market < 40% but your analysis suggests > 60%).
3. BUY NO when probability is overvalued (market > 60% but your analysis suggests < 40%).
4. SELL positions when probability has moved 15%+ in your favor OR if new information changes thesis.
5. AVOID markets with < $10k liquidity or < 7 days to resolution (unless very high confidence).
6. Max position: 5% of bankroll per market.
7. HOLD if confidence < 65%.`,highVolume:`You are Polymarket Dealer, focused on liquid markets with high volume.
Your goal is to trade actively in markets with the best liquidity and tightest spreads.

RULES:
1. Only trade markets with > $50k volume in 24h.
2. Target spreads < 5% for entries and exits.
3. Look for momentum: price moving in a direction with increasing volume.
4. Use smaller positions (2% max) but trade more frequently.
5. Take profits quickly: exit at 10%+ gain.
6. Cut losses at 8%.
7. AVOID low-liquidity markets even if edge seems large.`,crypto:`You are Polymarket Dealer, specialized in cryptocurrency prediction markets.
Your goal is to leverage crypto market knowledge for prediction market alpha.

RULES:
1. Trade only crypto-related markets (price predictions, ETF approvals, protocol events).
2. Use your understanding of crypto market dynamics and sentiment.
3. BUY YES on bullish crypto catalysts you believe are underpriced.
4. BUY NO when crypto hype seems overextended.
5. Watch for correlation with actual crypto prices.
6. Higher conviction trades allowed (up to 8% of bankroll).
7. AVOID markets about specific coins you lack knowledge of.`,conservative:`You are Polymarket Dealer, taking a conservative low-risk approach.
Your goal is to identify very high probability trades with minimal downside.

RULES:
1. Only trade when confidence > 80%.
2. Focus on markets where outcome seems nearly certain (price > 85% or < 15%).
3. Look for arbitrage opportunities and mispriced markets.
4. Small position sizes (max 3% of bankroll).
5. AVOID volatile markets or those with incoming news catalysts.
6. Prefer longer time horizons (> 30 days to resolution).
7. HOLD cash if no clear opportunities.`,custom:`// Write your custom strategy instructions here...
// Example:
// You are a specialized Polymarket trader.
// 1. Focus on political markets only.
// 2. Trade based on polling data and historical patterns.
// 3. Never risk more than 2% per trade.`},tEe=PT.balanced,dte={strategyPrompt:tEe,marketSelectionMode:"AI_DISCOVERY",selectedMarkets:[],allowedCategories:["politics","crypto","business","science"],maxPositionSizeUSDC:50,maxOpenPositions:5,minLiquidity:1e4,minVolume24h:5e3,minVolumeThreshold:5e3,minLiquidityThreshold:1e4,minSpreadThreshold:.02,confidenceThreshold:.6,bankrollType:"MANUAL",manualBankroll:100,checkIntervalSeconds:300,promptMode:"preset",selectedPreset:"balanced"},__={isOn:!1,isAnalyzing:!1,statusMessage:"Ready",statusDetail:"Awaiting activation",currentTask:null,currentSignal:null,analysisNote:"Waiting for data...",pendingExecution:!1,currentExposure:0,activePositions:[],portfolioValue:0,lastSyncTimestamp:0,settings:dte,logs:[],operationHistory:[]};class nEe{constructor(){this.isInitialized=!1,this.initPromise=null,this.state=__,this.listeners=new Set,this.initPromise=this.initialize()}async initialize(){this.isInitialized||(await this.loadState(),this.isInitialized=!0,this.notifyListeners())}async waitForInit(){this.initPromise&&await this.initPromise}async reloadFromStorage(){console.log("[PolymarketStore] Reloading from storage..."),await this.loadState(),this.notifyListeners()}reset(){console.log("[PolymarketStore] Resetting to initial state..."),this.state={...__},this.notifyListeners()}async loadState(){try{const e=Pe.getUserKey("vault_polymarket_storage");console.log("[PolymarketStore] Loading from key:",e);const n=await Pe.getItem(e);if(n){const r=JSON.parse(n);console.log("[PolymarketStore] Loaded settings:",r.settings),this.state={...__,...r,settings:{...dte,...r.settings||{}},isAnalyzing:!1,pendingExecution:!1,logs:r.logs||[]}}else console.log("[PolymarketStore] No saved data found")}catch(e){console.error("Failed to load Polymarket state:",e)}}async saveState(){try{await Pe.setItem(Pe.getUserKey("vault_polymarket_storage"),JSON.stringify(this.state))}catch(e){console.error("Failed to save Polymarket state:",e)}}notifyListeners(){this.listeners.forEach(e=>e())}notify(){this.notifyListeners(),this.saveState()}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}getSnapshot(){return this.state}toggleDealer(e){this.state={...this.state,isOn:e,statusMessage:e?"Polymarket Dealer Activated":"Polymarket Dealer Stopped"},this.addLog("INFO",`Polymarket Dealer turned ${e?"ON":"OFF"}`),this.notify()}updateSettings(e){this.state={...this.state,settings:{...this.state.settings,...e}},this.addLog("INFO","Polymarket settings updated"),this.notify()}setStrategyPrompt(e){this.updateSettings({strategyPrompt:e})}setAnalyzing(e){this.state={...this.state,isAnalyzing:e},this.notify()}setCurrentTask(e){this.state={...this.state,currentTask:e},this.notify()}setStatusMessage(e){this.state={...this.state,statusMessage:e},this.notify()}setStatusDetail(e){this.state={...this.state,statusDetail:e},this.notify()}setAnalysisNote(e){this.state={...this.state,analysisNote:e},this.notify()}setCurrentSignal(e){this.state={...this.state,currentSignal:e},this.notify()}updateStatus(e,n,r,i,s){this.state={...this.state,currentTask:e!==void 0?e:this.state.currentTask,currentSignal:n!==void 0?n:this.state.currentSignal,analysisNote:r!==void 0?r:this.state.analysisNote,currentExposure:i!==void 0?i:this.state.currentExposure,statusDetail:s!==void 0?s:this.state.statusDetail},this.notify()}updatePortfolioState(e,n,r){this.state={...this.state,activePositions:e,portfolioValue:n,currentExposure:r,lastSyncTimestamp:Date.now()},this.notify()}addLog(e,n,r){const s=[{id:Date.now().toString()+Math.random().toString().slice(2,5),timestamp:Date.now(),type:e,message:n,details:r},...this.state.logs].slice(0,100);this.state={...this.state,logs:s},this.notify()}clearLogs(){this.state={...this.state,logs:[]},this.notify()}reload(){this.state={...this.state,isAnalyzing:!1,currentTask:null,currentSignal:null,pendingExecution:!1,analysisNote:"Reset by user",statusMessage:"Settings Applied"},this.addLog("INFO","Polymarket system reloaded manually"),this.notify()}addOperationRecord(e){const r=[{...e,id:Date.now().toString()+Math.random().toString().slice(2,5)},...this.state.operationHistory].slice(0,50);this.state={...this.state,operationHistory:r},this.notify()}updateOperationStatus(e,n){const r=this.state.operationHistory.map(i=>i.id===e?{...i,...n}:i);this.state={...this.state,operationHistory:r},this.notify()}getTradeHistory(e=10,n=!0){let r=this.state.operationHistory;const i=n?this.state.logs.filter(o=>o.type==="REASONING"||o.type==="TRADE"||o.type==="SIGNAL"):[];return{operations:r.slice(0,e).map(o=>{var l,c;const a=i.find(u=>u.message.includes(o.question.slice(0,30))&&Math.abs(u.timestamp-o.timestamp)<6e4);return{...o,fullReasoning:((l=a==null?void 0:a.details)==null?void 0:l.fullReason)||o.reasoning,analysisContext:(c=a==null?void 0:a.details)==null?void 0:c.context}}),totalOperations:r.length,recentLogs:i.slice(0,5)}}}const at=new nEe,fte=T.createContext(void 0);function gw(){const t=T.useContext(fte);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function rEe({children:t}){const[e,n]=T.useState(null),[r,i]=T.useState(!0);T.useEffect(()=>{const u=N1e(Gv,async f=>{n(f),Pe.setUserId((f==null?void 0:f.uid)||null),f!=null&&f.uid?(await Pe.migrateToUserScoped(),await or.reload(),await Nt.reloadFromStorage(),await at.reloadFromStorage()):(Nt.reset(),at.reset()),i(!1)});return()=>u()},[]);const c={user:e,loading:r,signInWithGoogle:async()=>{try{await Y1e(Gv,qwe)}catch(u){throw console.error("Google sign-in error:",u),u}},signInWithEmail:async(u,f)=>{try{await T1e(Gv,u,f)}catch(m){throw console.error("Email sign-in error:",m),m}},signUp:async(u,f)=>{try{await A1e(Gv,u,f)}catch(m){throw console.error("Sign-up error:",m),m}},logout:async()=>{try{await I1e(Gv)}catch(u){throw console.error("Logout error:",u),u}}};return h.jsx(fte.Provider,{value:c,children:t})}var ke=(t=>(t.DASHBOARD="dashboard",t.VAULT="vault",t.AGENT="agent",t.SCHEDULER="scheduler",t.HYPERLIQUID="hyperliquid",t.VAULT_DEALER="vault_dealer",t.DEALER_DASHBOARD="dealer_dashboard",t.DEALER_THINKING="dealer_thinking",t.DEALER_CONFIG="dealer_config",t.DEALER_PROMPT="dealer_prompt",t.CONFIGURATION="configuration",t.SETTINGS="settings",t.HISTORY="history",t.TOKEN_COSTS="token_costs",t.POLYMARKET_DEALER="polymarket_dealer",t.POLYMARKET_DASHBOARD="polymarket_dashboard",t.POLYMARKET_THINKING="polymarket_thinking",t.POLYMARKET_CONFIG="polymarket_config",t.POLYMARKET_PROMPT="polymarket_prompt",t.PRIVACY="privacy",t.TERMS="terms",t))(ke||{});const SL=T.createContext({});function AL(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const TL=typeof window<"u",hte=TL?T.useLayoutEffect:T.useEffect,W2=T.createContext(null);function CL(t,e){t.indexOf(e)===-1&&t.push(e)}function kL(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Wu=(t,e,n)=>n>e?e:n<t?t:n;let NL=()=>{};const Yu={},pte=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mte(t){return typeof t=="object"&&t!==null}const gte=t=>/^0[^.\s]+$/u.test(t);function IL(t){let e;return()=>(e===void 0&&(e=t()),e)}const Na=t=>t,iEe=(t,e)=>n=>e(t(n)),yw=(...t)=>t.reduce(iEe),Qb=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class PL{constructor(){this.subscriptions=[]}add(e){return CL(this.subscriptions,e),()=>kL(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cc=t=>t*1e3,Ca=t=>t/1e3;function yte(t,e){return e?t*(1e3/e):0}const xte=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,sEe=1e-7,oEe=12;function aEe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=xte(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>sEe&&++a<oEe);return o}function xw(t,e,n,r){if(t===e&&n===r)return Na;const i=s=>aEe(s,0,1,t,n);return s=>s===0||s===1?s:xte(i(s),e,r)}const vte=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bte=t=>e=>1-t(1-e),wte=xw(.33,1.53,.69,.99),_L=bte(wte),Ete=vte(_L),Ste=t=>(t*=2)<1?.5*_L(t):.5*(2-Math.pow(2,-10*(t-1))),RL=t=>1-Math.sin(Math.acos(t)),Ate=bte(RL),Tte=vte(RL),lEe=xw(.42,0,1,1),cEe=xw(0,0,.58,1),Cte=xw(.42,0,.58,1),uEe=t=>Array.isArray(t)&&typeof t[0]!="number",kte=t=>Array.isArray(t)&&typeof t[0]=="number",dEe={linear:Na,easeIn:lEe,easeInOut:Cte,easeOut:cEe,circIn:RL,circInOut:Tte,circOut:Ate,backIn:_L,backInOut:Ete,backOut:wte,anticipate:Ste},fEe=t=>typeof t=="string",Lz=t=>{if(kte(t)){NL(t.length===4);const[e,n,r,i]=t;return xw(e,n,r,i)}else if(fEe(t))return dEe[t];return t},AS=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function hEe(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,f=!1,m=!1)=>{const x=m&&i?n:r;return f&&o.add(u),x.has(u)||x.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const pEe=40;function Nte(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=AS.reduce((I,D)=>(I[D]=hEe(s),I),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:m,render:g,postRender:x}=o,v=()=>{const I=Yu.useManualTiming?i.timestamp:performance.now();n=!1,Yu.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(I-i.timestamp,pEe),1)),i.timestamp=I,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),f.process(i),m.process(i),g.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(v))},w=()=>{n=!0,r=!0,i.isProcessing||t(v)};return{schedule:AS.reduce((I,D)=>{const j=o[D];return I[D]=(M,U=!1,V=!1)=>(n||w(),j.schedule(M,U,V)),I},{}),cancel:I=>{for(let D=0;D<AS.length;D++)o[AS[D]].cancel(I)},state:i,steps:o}}const{schedule:Ar,cancel:eh,state:qi,steps:R_}=Nte(typeof requestAnimationFrame<"u"?requestAnimationFrame:Na,!0);let HA;function mEe(){HA=void 0}const io={now:()=>(HA===void 0&&io.set(qi.isProcessing||Yu.useManualTiming?qi.timestamp:performance.now()),HA),set:t=>{HA=t,queueMicrotask(mEe)}},Ite=t=>e=>typeof e=="string"&&e.startsWith(t),Pte=Ite("--"),gEe=Ite("var(--"),OL=t=>gEe(t)?yEe.test(t.split("/*")[0].trim()):!1,yEe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xx={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zb={...xx,transform:t=>Wu(0,1,t)},TS={...xx,default:1},Lb=t=>Math.round(t*1e5)/1e5,ML=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xEe(t){return t==null}const vEe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,DL=(t,e)=>n=>!!(typeof n=="string"&&vEe.test(n)&&n.startsWith(t)||e&&!xEe(n)&&Object.prototype.hasOwnProperty.call(n,e)),_te=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(ML);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},bEe=t=>Wu(0,255,t),O_={...xx,transform:t=>Math.round(bEe(t))},fp={test:DL("rgb","red"),parse:_te("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+O_.transform(t)+", "+O_.transform(e)+", "+O_.transform(n)+", "+Lb(Zb.transform(r))+")"};function wEe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const YO={test:DL("#"),parse:wEe,transform:fp.transform},vw=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pf=vw("deg"),uc=vw("%"),Yt=vw("px"),EEe=vw("vh"),SEe=vw("vw"),Bz={...uc,parse:t=>uc.parse(t)/100,transform:t=>uc.transform(t*100)},tg={test:DL("hsl","hue"),parse:_te("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+uc.transform(Lb(e))+", "+uc.transform(Lb(n))+", "+Lb(Zb.transform(r))+")"},oi={test:t=>fp.test(t)||YO.test(t)||tg.test(t),parse:t=>fp.test(t)?fp.parse(t):tg.test(t)?tg.parse(t):YO.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?fp.transform(t):tg.transform(t),getAnimatableNone:t=>{const e=oi.parse(t);return e.alpha=0,oi.transform(e)}},AEe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TEe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ML))==null?void 0:e.length)||0)+(((n=t.match(AEe))==null?void 0:n.length)||0)>0}const Rte="number",Ote="color",CEe="var",kEe="var(",jz="${}",NEe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function e1(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(NEe,l=>(oi.test(l)?(r.color.push(s),i.push(Ote),n.push(oi.parse(l))):l.startsWith(kEe)?(r.var.push(s),i.push(CEe),n.push(l)):(r.number.push(s),i.push(Rte),n.push(parseFloat(l))),++s,jz)).split(jz);return{values:n,split:a,indexes:r,types:i}}function Mte(t){return e1(t).values}function Dte(t){const{split:e,types:n}=e1(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Rte?s+=Lb(i[o]):a===Ote?s+=oi.transform(i[o]):s+=i[o]}return s}}const IEe=t=>typeof t=="number"?0:oi.test(t)?oi.getAnimatableNone(t):t;function PEe(t){const e=Mte(t);return Dte(t)(e.map(IEe))}const th={test:TEe,parse:Mte,createTransformer:Dte,getAnimatableNone:PEe};function M_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _Ee({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=M_(l,a,t+1/3),s=M_(l,a,t),o=M_(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function _T(t,e){return n=>n>0?e:t}const Rr=(t,e,n)=>t+(e-t)*n,D_=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},REe=[YO,fp,tg],OEe=t=>REe.find(e=>e.test(t));function Uz(t){const e=OEe(t);if(!e)return!1;let n=e.parse(t);return e===tg&&(n=_Ee(n)),n}const Fz=(t,e)=>{const n=Uz(t),r=Uz(e);if(!n||!r)return _T(t,e);const i={...n};return s=>(i.red=D_(n.red,r.red,s),i.green=D_(n.green,r.green,s),i.blue=D_(n.blue,r.blue,s),i.alpha=Rr(n.alpha,r.alpha,s),fp.transform(i))},JO=new Set(["none","hidden"]);function MEe(t,e){return JO.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function DEe(t,e){return n=>Rr(t,e,n)}function LL(t){return typeof t=="number"?DEe:typeof t=="string"?OL(t)?_T:oi.test(t)?Fz:jEe:Array.isArray(t)?Lte:typeof t=="object"?oi.test(t)?Fz:LEe:_T}function Lte(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>LL(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function LEe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=LL(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function BEe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const jEe=(t,e)=>{const n=th.createTransformer(e),r=e1(t),i=e1(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?JO.has(t)&&!i.values.length||JO.has(e)&&!r.values.length?MEe(t,e):yw(Lte(BEe(r,i),i.values),n):_T(t,e)};function Bte(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Rr(t,e,n):LL(t)(t,e)}const UEe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ar.update(e,n),stop:()=>eh(e),now:()=>qi.isProcessing?qi.timestamp:io.now()}},jte=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},RT=2e4;function BL(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<RT;)e+=n,r=t.next(e);return e>=RT?1/0:e}function FEe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(BL(r),RT);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ca(i)}}const zEe=5;function Ute(t,e,n){const r=Math.max(e-zEe,0);return yte(n-t(r),e-r)}const Ur={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},L_=.001;function $Ee({duration:t=Ur.duration,bounce:e=Ur.bounce,velocity:n=Ur.velocity,mass:r=Ur.mass}){let i,s,o=1-e;o=Wu(Ur.minDamping,Ur.maxDamping,o),t=Wu(Ur.minDuration,Ur.maxDuration,Ca(t)),o<1?(i=c=>{const u=c*o,f=u*t,m=u-n,g=XO(c,o),x=Math.exp(-f);return L_-m/g*x},s=c=>{const f=c*o*t,m=f*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,x=Math.exp(-f),v=XO(Math.pow(c,2),o);return(-i(c)+L_>0?-1:1)*((m-g)*x)/v}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-L_+u*f},s=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=VEe(i,s,a);if(t=cc(t),isNaN(l))return{stiffness:Ur.stiffness,damping:Ur.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const HEe=12;function VEe(t,e,n){let r=n;for(let i=1;i<HEe;i++)r=r-t(r)/e(r);return r}function XO(t,e){return t*Math.sqrt(1-e*e)}const GEe=["duration","bounce"],qEe=["stiffness","damping","mass"];function zz(t,e){return e.some(n=>t[n]!==void 0)}function KEe(t){let e={velocity:Ur.velocity,stiffness:Ur.stiffness,damping:Ur.damping,mass:Ur.mass,isResolvedFromDuration:!1,...t};if(!zz(t,qEe)&&zz(t,GEe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Wu(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ur.mass,stiffness:i,damping:s}}else{const n=$Ee(t);e={...e,...n,mass:Ur.mass},e.isResolvedFromDuration=!0}return e}function OT(t=Ur.visualDuration,e=Ur.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:m,isResolvedFromDuration:g}=KEe({...n,velocity:-Ca(n.velocity||0)}),x=m||0,v=c/(2*Math.sqrt(l*u)),w=o-s,E=Ca(Math.sqrt(l/u)),k=Math.abs(w)<5;r||(r=k?Ur.restSpeed.granular:Ur.restSpeed.default),i||(i=k?Ur.restDelta.granular:Ur.restDelta.default);let I;if(v<1){const j=XO(E,v);I=M=>{const U=Math.exp(-v*E*M);return o-U*((x+v*E*w)/j*Math.sin(j*M)+w*Math.cos(j*M))}}else if(v===1)I=j=>o-Math.exp(-E*j)*(w+(x+E*w)*j);else{const j=E*Math.sqrt(v*v-1);I=M=>{const U=Math.exp(-v*E*M),V=Math.min(j*M,300);return o-U*((x+v*E*w)*Math.sinh(V)+j*w*Math.cosh(V))/j}}const D={calculatedDuration:g&&f||null,next:j=>{const M=I(j);if(g)a.done=j>=f;else{let U=j===0?x:0;v<1&&(U=j===0?cc(x):Ute(I,j,M));const V=Math.abs(U)<=r,F=Math.abs(o-M)<=i;a.done=V&&F}return a.value=a.done?o:M,a},toString:()=>{const j=Math.min(BL(D),RT),M=jte(U=>D.next(j*U).value,j,30);return j+"ms "+M},toTransition:()=>{}};return D}OT.applyToOptions=t=>{const e=FEe(t,100,OT);return t.ease=e.ease,t.duration=cc(e.duration),t.type="keyframes",t};function QO({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],m={done:!1,value:f},g=V=>a!==void 0&&V<a||l!==void 0&&V>l,x=V=>a===void 0?l:l===void 0||Math.abs(a-V)<Math.abs(l-V)?a:l;let v=n*e;const w=f+v,E=o===void 0?w:o(w);E!==w&&(v=E-f);const k=V=>-v*Math.exp(-V/r),I=V=>E+k(V),D=V=>{const F=k(V),z=I(V);m.done=Math.abs(F)<=c,m.value=m.done?E:z};let j,M;const U=V=>{g(m.value)&&(j=V,M=OT({keyframes:[m.value,x(m.value)],velocity:Ute(I,V,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return U(0),{calculatedDuration:null,next:V=>{let F=!1;return!M&&j===void 0&&(F=!0,D(V),U(V)),j!==void 0&&V>=j?M.next(V-j):(!F&&D(V),m)}}}function WEe(t,e,n){const r=[],i=n||Yu.mix||Bte,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Na:e;a=yw(l,a)}r.push(a)}return r}function YEe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(NL(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=WEe(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const m=Qb(t[f],t[f+1],u);return a[f](m)};return n?u=>c(Wu(t[0],t[s-1],u)):c}function JEe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Qb(0,e,r);t.push(Rr(n,1,i))}}function XEe(t){const e=[0];return JEe(e,t.length-1),e}function QEe(t,e){return t.map(n=>n*e)}function ZEe(t,e){return t.map(()=>e||Cte).splice(0,t.length-1)}function Bb({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=uEe(r)?r.map(Lz):Lz(r),s={done:!1,value:e[0]},o=QEe(n&&n.length===e.length?n:XEe(e),t),a=YEe(o,e,{ease:Array.isArray(i)?i:ZEe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const eSe=t=>t!==null;function jL(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(eSe),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const tSe={decay:QO,inertia:QO,tween:Bb,keyframes:Bb,spring:OT};function Fte(t){typeof t.type=="string"&&(t.type=tSe[t.type])}class UL{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const nSe=t=>t/100;class FL extends UL{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==io.now()&&this.tick(io.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Fte(e);const{type:n=Bb,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Bb;l!==Bb&&typeof a[0]!="number"&&(this.mixKeyframes=yw(nSe,Bte(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=BL(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:m,repeatDelay:g,type:x,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const E=this.currentTime-c*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let I=this.currentTime,D=r;if(f){const V=Math.min(this.currentTime,i)/a;let F=Math.floor(V),z=V%1;!z&&V>=1&&(z=1),z===1&&F--,F=Math.min(F,f+1),!!(F%2)&&(m==="reverse"?(z=1-z,g&&(z-=g/a)):m==="mirror"&&(D=o)),I=Wu(0,1,z)*a}const j=k?{done:!1,value:u[0]}:D.next(I);s&&(j.value=s(j.value));let{done:M}=j;!k&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return U&&x!==QO&&(j.value=jL(u,this.options,w,this.speed)),v&&v(j.value),U&&this.finish(),j}then(e,n){return this.finished.then(e,n)}get duration(){return Ca(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ca(e)}get time(){return Ca(this.currentTime)}set time(e){var n;e=cc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(io.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ca(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=UEe,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(io.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function rSe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const hp=t=>t*180/Math.PI,ZO=t=>{const e=hp(Math.atan2(t[1],t[0]));return eM(e)},iSe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ZO,rotateZ:ZO,skewX:t=>hp(Math.atan(t[1])),skewY:t=>hp(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},eM=t=>(t=t%360,t<0&&(t+=360),t),$z=ZO,Hz=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Vz=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),sSe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hz,scaleY:Vz,scale:t=>(Hz(t)+Vz(t))/2,rotateX:t=>eM(hp(Math.atan2(t[6],t[5]))),rotateY:t=>eM(hp(Math.atan2(-t[2],t[0]))),rotateZ:$z,rotate:$z,skewX:t=>hp(Math.atan(t[4])),skewY:t=>hp(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function tM(t){return t.includes("scale")?1:0}function nM(t,e){if(!t||t==="none")return tM(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=sSe,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=iSe,i=a}if(!i)return tM(e);const s=r[e],o=i[1].split(",").map(aSe);return typeof s=="function"?s(o):o[s]}const oSe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return nM(n,e)};function aSe(t){return parseFloat(t.trim())}const vx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bx=new Set(vx),Gz=t=>t===xx||t===Yt,lSe=new Set(["x","y","z"]),cSe=vx.filter(t=>!lSe.has(t));function uSe(t){const e=[];return cSe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Kp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>nM(e,"x"),y:(t,{transform:e})=>nM(e,"y")};Kp.translateX=Kp.x;Kp.translateY=Kp.y;const Wp=new Set;let rM=!1,iM=!1,sM=!1;function zte(){if(iM){const t=Array.from(Wp).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=uSe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}iM=!1,rM=!1,Wp.forEach(t=>t.complete(sM)),Wp.clear()}function $te(){Wp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(iM=!0)})}function dSe(){sM=!0,$te(),zte(),sM=!1}class zL{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Wp.add(this),rM||(rM=!0,Ar.read($te),Ar.resolveKeyframes(zte))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}rSe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Wp.delete(this)}cancel(){this.state==="scheduled"&&(Wp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fSe=t=>t.startsWith("--");function hSe(t,e,n){fSe(e)?t.style.setProperty(e,n):t.style[e]=n}const pSe=IL(()=>window.ScrollTimeline!==void 0),mSe={};function gSe(t,e){const n=IL(t);return()=>mSe[e]??n()}const Hte=gSe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xb=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,qz={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xb([0,.65,.55,1]),circOut:xb([.55,0,1,.45]),backIn:xb([.31,.01,.66,-.59]),backOut:xb([.33,1.53,.69,.99])};function Vte(t,e){if(t)return typeof t=="function"?Hte()?jte(t,e):"ease-out":kte(t)?xb(t):Array.isArray(t)?t.map(n=>Vte(n,e)||qz.easeOut):qz[t]}function ySe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const f=Vte(a,i);Array.isArray(f)&&(u.easing=f);const m={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),t.animate(u,m)}function Gte(t){return typeof t=="function"&&"applyToOptions"in t}function xSe({type:t,...e}){return Gte(t)&&Hte()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class vSe extends UL{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,NL(typeof e.type!="string");const c=xSe(e);this.animation=ySe(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=jL(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):hSe(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ca(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ca(e)}get time(){return Ca(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=cc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&pSe()?(this.animation.timeline=e,Na):n(this)}}const qte={anticipate:Ste,backInOut:Ete,circInOut:Tte};function bSe(t){return t in qte}function wSe(t){typeof t.ease=="string"&&bSe(t.ease)&&(t.ease=qte[t.ease])}const Kz=10;class ESe extends vSe{constructor(e){wSe(e),Fte(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new FL({...o,autoplay:!1}),l=cc(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Kz).value,a.sample(l).value,Kz),a.stop()}}const Wz=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(th.test(t)||t==="0")&&!t.startsWith("url("));function SSe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ASe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Wz(i,e),a=Wz(s,e);return!o||!a?!1:SSe(t)||(n==="spring"||Gte(n))&&r}function oM(t){t.duration=0,t.type="keyframes"}const TSe=new Set(["opacity","clipPath","filter","transform"]),CSe=IL(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kSe(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return CSe()&&n&&TSe.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const NSe=40;class ISe extends UL{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...f}){var x;super(),this.stop=()=>{var v,w;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=io.now();const m={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...f},g=(u==null?void 0:u.KeyframeResolver)||zL;this.keyframeResolver=new g(a,(v,w,E)=>this.onKeyframesResolved(v,w,m,!E),l,c,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=io.now(),ASe(e,s,o,a)||((Yu.instantAnimations||!l)&&(u==null||u(jL(e,r,n))),e[0]=e[e.length-1],oM(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>NSe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&kSe(m)?new ESe({...m,element:m.motionValue.owner.current}):new FL(m);g.finished.then(()=>this.notifyFinished()).catch(Na),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),dSe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const PSe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _Se(t){const e=PSe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Kte(t,e,n=1){const[r,i]=_Se(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return pte(o)?parseFloat(o):o}return OL(i)?Kte(i,e,n+1):i}function $L(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Wte=new Set(["width","height","top","left","right","bottom",...vx]),RSe={test:t=>t==="auto",parse:t=>t},Yte=t=>e=>e.test(t),Jte=[xx,Yt,uc,pf,SEe,EEe,RSe],Yz=t=>Jte.find(Yte(t));function OSe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gte(t):!0}const MSe=new Set(["brightness","contrast","saturate","opacity"]);function DSe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ML)||[];if(!r)return t;const i=n.replace(r,"");let s=MSe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const LSe=/\b([a-z-]*)\(.*?\)/gu,aM={...th,getAnimatableNone:t=>{const e=t.match(LSe);return e?e.map(DSe).join(" "):t}},Jz={...xx,transform:Math.round},BSe={rotate:pf,rotateX:pf,rotateY:pf,rotateZ:pf,scale:TS,scaleX:TS,scaleY:TS,scaleZ:TS,skew:pf,skewX:pf,skewY:pf,distance:Yt,translateX:Yt,translateY:Yt,translateZ:Yt,x:Yt,y:Yt,z:Yt,perspective:Yt,transformPerspective:Yt,opacity:Zb,originX:Bz,originY:Bz,originZ:Yt},HL={borderWidth:Yt,borderTopWidth:Yt,borderRightWidth:Yt,borderBottomWidth:Yt,borderLeftWidth:Yt,borderRadius:Yt,radius:Yt,borderTopLeftRadius:Yt,borderTopRightRadius:Yt,borderBottomRightRadius:Yt,borderBottomLeftRadius:Yt,width:Yt,maxWidth:Yt,height:Yt,maxHeight:Yt,top:Yt,right:Yt,bottom:Yt,left:Yt,padding:Yt,paddingTop:Yt,paddingRight:Yt,paddingBottom:Yt,paddingLeft:Yt,margin:Yt,marginTop:Yt,marginRight:Yt,marginBottom:Yt,marginLeft:Yt,backgroundPositionX:Yt,backgroundPositionY:Yt,...BSe,zIndex:Jz,fillOpacity:Zb,strokeOpacity:Zb,numOctaves:Jz},jSe={...HL,color:oi,backgroundColor:oi,outlineColor:oi,fill:oi,stroke:oi,borderColor:oi,borderTopColor:oi,borderRightColor:oi,borderBottomColor:oi,borderLeftColor:oi,filter:aM,WebkitFilter:aM},Xte=t=>jSe[t];function Qte(t,e){let n=Xte(t);return n!==aM&&(n=th),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const USe=new Set(["auto","none","0"]);function FSe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!USe.has(s)&&e1(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Qte(n,i)}class zSe extends zL{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),OL(c))){const u=Kte(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Wte.has(r)||e.length!==2)return;const[i,s]=e,o=Yz(i),a=Yz(s);if(o!==a)if(Gz(o)&&Gz(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Kp[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||OSe(e[i]))&&r.push(i);r.length&&FSe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Kp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function $Se(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Zte=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ene(t){return mte(t)&&"offsetHeight"in t}const Xz=30,HSe=t=>!isNaN(parseFloat(t));class VSe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=io.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=io.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=HSe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new PL);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ar.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=io.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Xz)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Xz);return yte(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fy(t,e){return new VSe(t,e)}const{schedule:VL}=Nte(queueMicrotask,!1),Ha={x:!1,y:!1};function tne(){return Ha.x||Ha.y}function GSe(t){return t==="x"||t==="y"?Ha[t]?null:(Ha[t]=!0,()=>{Ha[t]=!1}):Ha.x||Ha.y?null:(Ha.x=Ha.y=!0,()=>{Ha.x=Ha.y=!1})}function nne(t,e){const n=$Se(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Qz(t){return!(t.pointerType==="touch"||tne())}function qSe(t,e,n={}){const[r,i,s]=nne(t,n),o=a=>{if(!Qz(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=f=>{Qz(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const rne=(t,e)=>e?t===e?!0:rne(t,e.parentElement):!1,GL=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,KSe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WSe(t){return KSe.has(t.tagName)||t.tabIndex!==-1}const VA=new WeakSet;function Zz(t){return e=>{e.key==="Enter"&&t(e)}}function B_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YSe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Zz(()=>{if(VA.has(n))return;B_(n,"down");const i=Zz(()=>{B_(n,"up")}),s=()=>B_(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function e$(t){return GL(t)&&!tne()}function JSe(t,e,n={}){const[r,i,s]=nne(t,n),o=a=>{const l=a.currentTarget;if(!e$(a))return;VA.add(l);const c=e(l,a),u=(g,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),VA.has(l)&&VA.delete(l),e$(g)&&typeof c=="function"&&c(g,{success:x})},f=g=>{u(g,l===window||l===document||n.useGlobalTarget||rne(l,g.target))},m=g=>{u(g,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),ene(a)&&(a.addEventListener("focus",c=>YSe(c,i)),!WSe(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function ine(t){return mte(t)&&"ownerSVGElement"in t}function XSe(t){return ine(t)&&t.tagName==="svg"}const ys=t=>!!(t&&t.getVelocity),QSe=[...Jte,oi,th],ZSe=t=>QSe.find(Yte(t)),qL=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function t$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function eAe(...t){return e=>{let n=!1;const r=t.map(i=>{const s=t$(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():t$(t[i],null)}}}}function tAe(...t){return T.useCallback(eAe(...t),t)}class nAe extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=ene(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function rAe({children:t,isPresent:e,anchorX:n,root:r}){const i=T.useId(),s=T.useRef(null),o=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=T.useContext(qL),l=tAe(s,t==null?void 0:t.ref);return T.useInsertionEffect(()=>{const{width:c,height:u,top:f,left:m,right:g}=o.current;if(e||!s.current||!c||!u)return;const x=n==="left"?`left: ${m}`:`right: ${g}`;s.current.dataset.motionPopId=i;const v=document.createElement("style");a&&(v.nonce=a);const w=r??document.head;return w.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{w.contains(v)&&w.removeChild(v)}},[e]),h.jsx(nAe,{isPresent:e,childRef:s,sizeRef:o,children:T.cloneElement(t,{ref:l})})}const iAe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const c=AL(sAe),u=T.useId();let f=!0,m=T.useMemo(()=>(f=!1,{id:u,initial:e,isPresent:n,custom:i,onExitComplete:g=>{c.set(g,!0);for(const x of c.values())if(!x)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,r]);return s&&f&&(m={...m}),T.useMemo(()=>{c.forEach((g,x)=>c.set(x,!1))},[n]),T.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=h.jsx(rAe,{isPresent:n,anchorX:a,root:l,children:t})),h.jsx(W2.Provider,{value:m,children:t})};function sAe(){return new Map}function sne(t=!0){const e=T.useContext(W2);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=T.useId();T.useEffect(()=>{if(t)return i(s)},[t]);const o=T.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const CS=t=>t.key||"";function n$(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const Lo=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,u]=sne(o),f=T.useMemo(()=>n$(t),[t]),m=o&&!c?[]:f.map(CS),g=T.useRef(!0),x=T.useRef(f),v=AL(()=>new Map),[w,E]=T.useState(f),[k,I]=T.useState(f);hte(()=>{g.current=!1,x.current=f;for(let M=0;M<k.length;M++){const U=CS(k[M]);m.includes(U)?v.delete(U):v.get(U)!==!0&&v.set(U,!1)}},[k,m.length,m.join("-")]);const D=[];if(f!==w){let M=[...f];for(let U=0;U<k.length;U++){const V=k[U],F=CS(V);m.includes(F)||(M.splice(U,0,V),D.push(V))}return s==="wait"&&D.length&&(M=D),I(n$(M)),E(f),null}const{forceRender:j}=T.useContext(SL);return h.jsx(h.Fragment,{children:k.map(M=>{const U=CS(M),V=o&&!c?!1:f===k||m.includes(U),F=()=>{if(v.has(U))v.set(U,!0);else return;let z=!0;v.forEach(K=>{K||(z=!1)}),z&&(j==null||j(),I(x.current),o&&(u==null||u()),r&&r())};return h.jsx(iAe,{isPresent:V,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:V?void 0:F,anchorX:a,children:M},U)})})},one=T.createContext({strict:!1}),r$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zy={};for(const t in r$)zy[t]={isEnabled:e=>r$[t].some(n=>!!e[n])};function oAe(t){for(const e in t)zy[e]={...zy[e],...t[e]}}const aAe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function MT(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aAe.has(t)}let ane=t=>!MT(t);function lAe(t){typeof t=="function"&&(ane=e=>e.startsWith("on")?!MT(e):t(e))}try{lAe(require("@emotion/is-prop-valid").default)}catch{}function cAe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(ane(i)||n===!0&&MT(i)||!e&&!MT(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Y2=T.createContext({});function J2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function t1(t){return typeof t=="string"||Array.isArray(t)}const KL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],WL=["initial",...KL];function X2(t){return J2(t.animate)||WL.some(e=>t1(t[e]))}function lne(t){return!!(X2(t)||t.variants)}function uAe(t,e){if(X2(t)){const{initial:n,animate:r}=t;return{initial:n===!1||t1(n)?n:void 0,animate:t1(r)?r:void 0}}return t.inherit!==!1?e:{}}function dAe(t){const{initial:e,animate:n}=uAe(t,T.useContext(Y2));return T.useMemo(()=>({initial:e,animate:n}),[i$(e),i$(n)])}function i$(t){return Array.isArray(t)?t.join(" "):t}function s$(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qv={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Yt.test(t))t=parseFloat(t);else return t;const n=s$(t,e.target.x),r=s$(t,e.target.y);return`${n}% ${r}%`}},fAe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=th.parse(t);if(i.length>5)return r;const s=th.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Rr(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},lM={borderRadius:{...qv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qv,borderTopRightRadius:qv,borderBottomLeftRadius:qv,borderBottomRightRadius:qv,boxShadow:fAe};function cne(t,{layout:e,layoutId:n}){return bx.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lM[t]||t==="opacity")}const hAe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pAe=vx.length;function mAe(t,e,n){let r="",i=!0;for(let s=0;s<pAe;s++){const o=vx[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Zte(a,HL[o]);if(!l){i=!1;const u=hAe[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function YL(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(bx.has(l)){o=!0;continue}else if(Pte(l)){i[l]=c;continue}else{const u=Zte(c,HL[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=mAe(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const JL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function une(t,e,n){for(const r in e)!ys(e[r])&&!cne(r,n)&&(t[r]=e[r])}function gAe({transformTemplate:t},e){return T.useMemo(()=>{const n=JL();return YL(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yAe(t,e){const n=t.style||{},r={};return une(r,n,t),Object.assign(r,gAe(t,e)),r}function xAe(t,e){const n={},r=yAe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const vAe={offset:"stroke-dashoffset",array:"stroke-dasharray"},bAe={offset:"strokeDashoffset",array:"strokeDasharray"};function wAe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?vAe:bAe;t[s.offset]=Yt.transform(-r);const o=Yt.transform(e),a=Yt.transform(n);t[s.array]=`${o} ${a}`}function dne(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(YL(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m}=t;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&wAe(f,i,s,o,!1)}const fne=()=>({...JL(),attrs:{}}),hne=t=>typeof t=="string"&&t.toLowerCase()==="svg";function EAe(t,e,n,r){const i=T.useMemo(()=>{const s=fne();return dne(s,e,hne(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};une(s,t.style,t),i.style={...s,...i.style}}return i}const SAe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XL(t){return typeof t!="string"||t.includes("-")?!1:!!(SAe.indexOf(t)>-1||/[A-Z]/u.test(t))}function AAe(t,e,n,{latestValues:r},i,s=!1){const a=(XL(t)?EAe:xAe)(e,r,i,t),l=cAe(e,typeof t=="string",s),c=t!==T.Fragment?{...l,...a,ref:n}:{},{children:u}=e,f=T.useMemo(()=>ys(u)?u.get():u,[u]);return T.createElement(t,{...c,children:f})}function o$(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function QL(t,e,n,r){if(typeof e=="function"){const[i,s]=o$(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=o$(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function GA(t){return ys(t)?t.get():t}function TAe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:CAe(n,r,i,t),renderState:e()}}function CAe(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=GA(s[m]);let{initial:o,animate:a}=t;const l=X2(t),c=lne(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?a:o;if(f&&typeof f!="boolean"&&!J2(f)){const m=Array.isArray(f)?f:[f];for(let g=0;g<m.length;g++){const x=QL(t,m[g]);if(x){const{transitionEnd:v,transition:w,...E}=x;for(const k in E){let I=E[k];if(Array.isArray(I)){const D=u?I.length-1:0;I=I[D]}I!==null&&(i[k]=I)}for(const k in v)i[k]=v[k]}}}return i}const pne=t=>(e,n)=>{const r=T.useContext(Y2),i=T.useContext(W2),s=()=>TAe(t,e,r,i);return n?s():AL(s)};function ZL(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(ys(r[o])||e.style&&ys(e.style[o])||cne(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const kAe=pne({scrapeMotionValuesFromProps:ZL,createRenderState:JL});function mne(t,e,n){const r=ZL(t,e,n);for(const i in t)if(ys(t[i])||ys(e[i])){const s=vx.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const NAe=pne({scrapeMotionValuesFromProps:mne,createRenderState:fne}),IAe=Symbol.for("motionComponentSymbol");function ng(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function PAe(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ng(n)&&(n.current=r))},[e])}const e8=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_Ae="framerAppearId",gne="data-"+e8(_Ae),yne=T.createContext({});function RAe(t,e,n,r,i){var v,w;const{visualElement:s}=T.useContext(Y2),o=T.useContext(one),a=T.useContext(W2),l=T.useContext(qL).reducedMotion,c=T.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=T.useContext(yne);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&OAe(c.current,n,i,f);const m=T.useRef(!1);T.useInsertionEffect(()=>{u&&m.current&&u.update(n,a)});const g=n[gne],x=T.useRef(!!g&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,g))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,g)));return hte(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),x.current&&u.animationState&&u.animationState.animateChanges())}),T.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,g)}),x.current=!1),u.enteringChildren=void 0)}),u}function OAe(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xne(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ng(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function xne(t){if(t)return t.options.allowProjection!==!1?t.projection:xne(t.parent)}function j_(t,{forwardMotionProps:e=!1}={},n,r){n&&oAe(n);const i=XL(t)?NAe:kAe;function s(a,l){let c;const u={...T.useContext(qL),...a,layoutId:MAe(a)},{isStatic:f}=u,m=dAe(a),g=i(a,f);if(!f&&TL){DAe();const x=LAe(u);c=x.MeasureLayout,m.visualElement=RAe(t,g,u,r,x.ProjectionNode)}return h.jsxs(Y2.Provider,{value:m,children:[c&&m.visualElement?h.jsx(c,{visualElement:m.visualElement,...u}):null,AAe(t,a,PAe(g,m.visualElement,l),g,f,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=T.forwardRef(s);return o[IAe]=t,o}function MAe({layoutId:t}){const e=T.useContext(SL).id;return e&&t!==void 0?e+"-"+t:t}function DAe(t,e){T.useContext(one).strict}function LAe(t){const{drag:e,layout:n}=zy;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function BAe(t,e){if(typeof Proxy>"u")return j_;const n=new Map,r=(s,o)=>j_(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,j_(o,void 0,t,e)),n.get(o))})}function vne({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function jAe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function UAe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function U_(t){return t===void 0||t===1}function cM({scale:t,scaleX:e,scaleY:n}){return!U_(t)||!U_(e)||!U_(n)}function Xh(t){return cM(t)||bne(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bne(t){return a$(t.x)||a$(t.y)}function a$(t){return t&&t!=="0%"}function DT(t,e,n){const r=t-n,i=e*r;return n+i}function l$(t,e,n,r,i){return i!==void 0&&(t=DT(t,i,r)),DT(t,n,r)+e}function uM(t,e=0,n=1,r,i){t.min=l$(t.min,e,n,r,i),t.max=l$(t.max,e,n,r,i)}function wne(t,{x:e,y:n}){uM(t.x,e.translate,e.scale,e.originPoint),uM(t.y,n.translate,n.scale,n.originPoint)}const c$=.999999999999,u$=1.0000000000001;function FAe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ig(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,wne(t,o)),r&&Xh(s.latestValues)&&ig(t,s.latestValues))}e.x<u$&&e.x>c$&&(e.x=1),e.y<u$&&e.y>c$&&(e.y=1)}function rg(t,e){t.min=t.min+e,t.max=t.max+e}function d$(t,e,n,r,i=.5){const s=Rr(t.min,t.max,i);uM(t,e,n,s,r)}function ig(t,e){d$(t.x,e.x,e.scaleX,e.scale,e.originX),d$(t.y,e.y,e.scaleY,e.scale,e.originY)}function Ene(t,e){return vne(UAe(t.getBoundingClientRect(),e))}function zAe(t,e,n){const r=Ene(t,n),{scroll:i}=e;return i&&(rg(r.x,i.offset.x),rg(r.y,i.offset.y)),r}const f$=()=>({translate:0,scale:1,origin:0,originPoint:0}),sg=()=>({x:f$(),y:f$()}),h$=()=>({min:0,max:0}),mi=()=>({x:h$(),y:h$()}),dM={current:null},Sne={current:!1};function $Ae(){if(Sne.current=!0,!!TL)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dM.current=t.matches;t.addEventListener("change",e),e()}else dM.current=!1}const HAe=new WeakMap;function VAe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ys(i))t.addValue(r,i);else if(ys(s))t.addValue(r,Fy(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Fy(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const p$=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GAe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zL,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=io.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ar.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=X2(n),this.isVariantNode=lne(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const g=f[m];l[m]!==void 0&&ys(g)&&g.set(l[m])}}mount(e){var n;this.current=e,HAe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Sne.current||$Ae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dM.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),eh(this.notifyUpdate),eh(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=bx.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ar.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zy){const n=zy[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<p$.length;r++){const i=p$[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=VAe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Fy(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(pte(r)||gte(r))?r=parseFloat(r):!ZSe(r)&&th.test(n)&&(r=Qte(e,n)),this.setBaseTarget(e,ys(r)?r.get():r)),ys(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=QL(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ys(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new PL),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){VL.render(this.render)}}class Ane extends GAe{constructor(){super(...arguments),this.KeyframeResolver=zSe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ys(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Tne(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function qAe(t){return window.getComputedStyle(t)}class KAe extends Ane{constructor(){super(...arguments),this.type="html",this.renderInstance=Tne}readValueFromInstance(e,n){var r;if(bx.has(n))return(r=this.projection)!=null&&r.isProjecting?tM(n):oSe(e,n);{const i=qAe(e),s=(Pte(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ene(e,n)}build(e,n,r){YL(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ZL(e,n,r)}}const Cne=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WAe(t,e,n,r){Tne(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Cne.has(i)?i:e8(i),e.attrs[i])}class YAe extends Ane{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mi}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bx.has(n)){const r=Xte(n);return r&&r.default||0}return n=Cne.has(n)?n:e8(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return mne(e,n,r)}build(e,n,r){dne(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){WAe(e,n,r,i)}mount(e){this.isSVGTag=hne(e.tagName),super.mount(e)}}const JAe=(t,e)=>XL(t)?new YAe(e):new KAe(e,{allowProjection:t!==T.Fragment});function Cg(t,e,n){const r=t.getProps();return QL(r,e,n!==void 0?n:r.custom,t)}const fM=t=>Array.isArray(t);function XAe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Fy(n))}function QAe(t){return fM(t)?t[t.length-1]||0:t}function ZAe(t,e){const n=Cg(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=QAe(s[o]);XAe(t,o,a)}}function eTe(t){return!!(ys(t)&&t.add)}function hM(t,e){const n=t.getValue("willChange");if(eTe(n))return n.add(e);if(!n&&Yu.WillChange){const r=new Yu.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function kne(t){return t.props[gne]}const tTe=t=>t!==null;function nTe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(tTe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const rTe={type:"spring",stiffness:500,damping:25,restSpeed:10},iTe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sTe={type:"keyframes",duration:.8},oTe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aTe=(t,{keyframes:e})=>e.length>2?sTe:bx.has(t)?t.startsWith("scale")?iTe(e[1]):rTe:oTe;function lTe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const t8=(t,e,n,r={},i,s)=>o=>{const a=$L(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-cc(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};lTe(a)||Object.assign(u,aTe(t,u)),u.duration&&(u.duration=cc(u.duration)),u.repeatDelay&&(u.repeatDelay=cc(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(oM(u),u.delay===0&&(f=!0)),(Yu.instantAnimations||Yu.skipAnimations)&&(f=!0,oM(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const m=nTe(u.keyframes,a);if(m!==void 0){Ar.update(()=>{u.onUpdate(m),u.onComplete()});return}}return a.isSync?new FL(u):new ISe(u)};function cTe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Nne(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const f=t.getValue(u,t.latestValues[u]??null),m=a[u];if(m===void 0||c&&cTe(c,u))continue;const g={delay:n,...$L(s||{},u)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===x&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const E=kne(t);if(E){const k=window.MotionHandoffAnimation(E,u,Ar);k!==null&&(g.startTime=k,v=!0)}}hM(t,u),f.start(t8(u,f,m,t.shouldReduceMotion&&Wte.has(u)?{type:!1}:g,t,v));const w=f.animation;w&&l.push(w)}return o&&Promise.all(l).then(()=>{Ar.update(()=>{o&&ZAe(t,o)})}),l}function Ine(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function pM(t,e,n={}){var l;const r=Cg(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Nne(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:m}=i;return uTe(t,e,c,u,f,m,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function uTe(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(pM(l,e,{...o,delay:n+(typeof r=="function"?0:r)+Ine(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function dTe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>pM(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=pM(t,e,n);else{const i=typeof e=="function"?Cg(t,e,n.custom):e;r=Promise.all(Nne(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Pne(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const fTe=WL.length;function _ne(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_ne(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fTe;n++){const r=WL[n],i=t.props[r];(t1(i)||i===!1)&&(e[r]=i)}return e}const hTe=[...KL].reverse(),pTe=KL.length;function mTe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dTe(t,n,r)))}function gTe(t){let e=mTe(t),n=m$(),r=!0;const i=l=>(c,u)=>{var m;const f=Cg(t,u,l==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:g,transitionEnd:x,...v}=f;c={...c,...v,...x}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=_ne(t.parent)||{},f=[],m=new Set;let g={},x=1/0;for(let w=0;w<pTe;w++){const E=hTe[w],k=n[E],I=c[E]!==void 0?c[E]:u[E],D=t1(I),j=E===l?k.isActive:null;j===!1&&(x=w);let M=I===u[E]&&I!==c[E]&&D;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),k.protectedKeys={...g},!k.isActive&&j===null||!I&&!k.prevProp||J2(I)||typeof I=="boolean")continue;const U=yTe(k.prevProp,I);let V=U||E===l&&k.isActive&&!M&&D||w>x&&D,F=!1;const z=Array.isArray(I)?I:[I];let K=z.reduce(i(E),{});j===!1&&(K={});const{prevResolvedValues:H={}}=k,B={...H,...K},A=$=>{V=!0,m.has($)&&(F=!0,m.delete($)),k.needsAnimating[$]=!0;const q=t.getValue($);q&&(q.liveStyle=!1)};for(const $ in B){const q=K[$],te=H[$];if(g.hasOwnProperty($))continue;let Y=!1;fM(q)&&fM(te)?Y=!Pne(q,te):Y=q!==te,Y?q!=null?A($):m.add($):q!==void 0&&m.has($)?A($):k.protectedKeys[$]=!0}k.prevProp=I,k.prevResolvedValues=K,k.isActive&&(g={...g,...K}),r&&t.blockInitialAnimation&&(V=!1);const P=M&&U;V&&(!P||F)&&f.push(...z.map($=>{const q={type:E};if(typeof $=="string"&&r&&!P&&t.manuallyAnimateOnMount&&t.parent){const{parent:te}=t,Y=Cg(te,$);if(te.enteringChildren&&Y){const{delayChildren:G}=Y.transition||{};q.delay=Ine(te.enteringChildren,t,G)}}return{animation:$,options:q}}))}if(m.size){const w={};if(typeof c.initial!="boolean"){const E=Cg(t,Array.isArray(c.initial)?c.initial[0]:c.initial);E&&E.transition&&(w.transition=E.transition)}m.forEach(E=>{const k=t.getBaseTarget(E),I=t.getValue(E);I&&(I.liveStyle=!0),w[E]=k??null}),f.push({animation:w})}let v=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const m in n)n[m].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=m$()}}}function yTe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Pne(e,t):!1}function Hh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function m$(){return{animate:Hh(!0),whileInView:Hh(),whileHover:Hh(),whileTap:Hh(),whileDrag:Hh(),whileFocus:Hh(),exit:Hh()}}class ph{constructor(e){this.isMounted=!1,this.node=e}update(){}}class xTe extends ph{constructor(e){super(e),e.animationState||(e.animationState=gTe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();J2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let vTe=0;class bTe extends ph{constructor(){super(...arguments),this.id=vTe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const wTe={animation:{Feature:xTe},exit:{Feature:bTe}};function n1(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function bw(t){return{point:{x:t.pageX,y:t.pageY}}}const ETe=t=>e=>GL(e)&&t(e,bw(e));function jb(t,e,n,r){return n1(t,e,ETe(n),r)}const Rne=1e-4,STe=1-Rne,ATe=1+Rne,One=.01,TTe=0-One,CTe=0+One;function Os(t){return t.max-t.min}function kTe(t,e,n){return Math.abs(t-e)<=n}function g$(t,e,n,r=.5){t.origin=r,t.originPoint=Rr(e.min,e.max,t.origin),t.scale=Os(n)/Os(e),t.translate=Rr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=STe&&t.scale<=ATe||isNaN(t.scale))&&(t.scale=1),(t.translate>=TTe&&t.translate<=CTe||isNaN(t.translate))&&(t.translate=0)}function Ub(t,e,n,r){g$(t.x,e.x,n.x,r?r.originX:void 0),g$(t.y,e.y,n.y,r?r.originY:void 0)}function y$(t,e,n){t.min=n.min+e.min,t.max=t.min+Os(e)}function NTe(t,e,n){y$(t.x,e.x,n.x),y$(t.y,e.y,n.y)}function x$(t,e,n){t.min=e.min-n.min,t.max=t.min+Os(e)}function LT(t,e,n){x$(t.x,e.x,n.x),x$(t.y,e.y,n.y)}function ca(t){return[t("x"),t("y")]}const Mne=({current:t})=>t?t.ownerDocument.defaultView:null,v$=(t,e)=>Math.abs(t-e);function ITe(t,e){const n=v$(t.x,e.x),r=v$(t.y,e.y);return Math.sqrt(n**2+r**2)}class Dne{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=z_(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=ITe(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:v}=m,{timestamp:w}=qi;this.history.push({...v,timestamp:w});const{onStart:E,onMove:k}=this.handlers;g||(E&&E(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=F_(g,this.transformPagePoint),Ar.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=z_(m.type==="pointercancel"?this.lastMoveEventInfo:F_(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,E),v&&v(m,E)},!GL(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=bw(e),l=F_(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=qi;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=n;f&&f(e,z_(l,this.history)),this.removeListeners=yw(jb(this.contextWindow,"pointermove",this.handlePointerMove),jb(this.contextWindow,"pointerup",this.handlePointerUp),jb(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),eh(this.updatePoint)}}function F_(t,e){return e?{point:e(t.point)}:t}function b$(t,e){return{x:t.x-e.x,y:t.y-e.y}}function z_({point:t},e){return{point:t,delta:b$(t,Lne(e)),offset:b$(t,PTe(e)),velocity:_Te(e,.1)}}function PTe(t){return t[0]}function Lne(t){return t[t.length-1]}function _Te(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Lne(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>cc(e)));)n--;if(!r)return{x:0,y:0};const s=Ca(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function RTe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Rr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Rr(n,t,r.max):Math.min(t,n)),t}function w$(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function OTe(t,{top:e,left:n,bottom:r,right:i}){return{x:w$(t.x,n,i),y:w$(t.y,e,r)}}function E$(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function MTe(t,e){return{x:E$(t.x,e.x),y:E$(t.y,e.y)}}function DTe(t,e){let n=.5;const r=Os(t),i=Os(e);return i>r?n=Qb(e.min,e.max-r,t.min):r>i&&(n=Qb(t.min,t.max-i,e.min)),Wu(0,1,n)}function LTe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mM=.35;function BTe(t=mM){return t===!1?t=0:t===!0&&(t=mM),{x:S$(t,"left","right"),y:S$(t,"top","bottom")}}function S$(t,e,n){return{min:A$(t,e),max:A$(t,n)}}function A$(t,e){return typeof t=="number"?t:t[e]||0}const jTe=new WeakMap;class UTe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bw(f).point)},o=(f,m)=>{const{drag:g,dragPropagation:x,onDragStart:v}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GSe(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ca(E=>{let k=this.getAxisMotionValue(E).get()||0;if(uc.test(k)){const{projection:I}=this.visualElement;if(I&&I.layout){const D=I.layout.layoutBox[E];D&&(k=Os(D)*(parseFloat(k)/100))}}this.originPoint[E]=k}),v&&Ar.postRender(()=>v(f,m)),hM(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:v,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:E}=m;if(x&&this.currentDirection===null){this.currentDirection=FTe(E),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",m.point,E),this.updateAxis("y",m.point,E),this.visualElement.render(),w&&w(f,m)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ca(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Dne(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:Mne(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ar.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!kS(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=RTe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&ng(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=OTe(r.layoutBox,e):this.constraints=!1,this.elastic=BTe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ca(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=LTe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ng(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=zAe(r,i.root,this.visualElement.getTransformPagePoint());let o=MTe(i.layout.layoutBox,s);if(n){const a=n(jAe(o));this.hasMutatedConstraints=!!a,a&&(o=vne(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ca(u=>{if(!kS(u,n,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,x={type:"inertia",velocity:r?e[u]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,x)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return hM(this.visualElement,e),r.start(t8(e,r,0,n,this.visualElement,!1))}stopAnimation(){ca(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ca(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ca(n=>{const{drag:r}=this.getProps();if(!kS(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Rr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ng(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ca(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=DTe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ca(o=>{if(!kS(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Rr(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;jTe.set(this.visualElement,this);const e=this.visualElement.current,n=jb(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ng(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ar.read(r);const o=n1(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ca(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=mM,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function kS(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FTe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class zTe extends ph{constructor(e){super(e),this.removeGroupControls=Na,this.removeListeners=Na,this.controls=new UTe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Na}unmount(){this.removeGroupControls(),this.removeListeners()}}const T$=t=>(e,n)=>{t&&Ar.postRender(()=>t(e,n))};class $Te extends ph{constructor(){super(...arguments),this.removePointerDownListener=Na}onPointerDown(e){this.session=new Dne(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mne(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:T$(e),onStart:T$(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ar.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=jb(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let $_=!1;class HTe extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),$_&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),qA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,$_=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ar.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),VL.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;$_=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Bne(t){const[e,n]=sne(),r=T.useContext(SL);return h.jsx(HTe,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(yne),isPresent:e,safeToRemove:n})}function VTe(t,e,n){const r=ys(t)?t:Fy(t);return r.start(t8("",r,e,n)),r.animation}const GTe=(t,e)=>t.depth-e.depth;class qTe{constructor(){this.children=[],this.isDirty=!1}add(e){CL(this.children,e),this.isDirty=!0}remove(e){kL(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GTe),this.isDirty=!1,this.children.forEach(e)}}function KTe(t,e){const n=io.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(eh(r),t(s-e))};return Ar.setup(r,!0),()=>eh(r)}const jne=["TopLeft","TopRight","BottomLeft","BottomRight"],WTe=jne.length,C$=t=>typeof t=="string"?parseFloat(t):t,k$=t=>typeof t=="number"||Yt.test(t);function YTe(t,e,n,r,i,s){i?(t.opacity=Rr(0,n.opacity??1,JTe(r)),t.opacityExit=Rr(e.opacity??1,0,XTe(r))):s&&(t.opacity=Rr(e.opacity??1,n.opacity??1,r));for(let o=0;o<WTe;o++){const a=`border${jne[o]}Radius`;let l=N$(e,a),c=N$(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||k$(l)===k$(c)?(t[a]=Math.max(Rr(C$(l),C$(c),r),0),(uc.test(c)||uc.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Rr(e.rotate||0,n.rotate||0,r))}function N$(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const JTe=Une(0,.5,Ate),XTe=Une(.5,.95,Na);function Une(t,e,n){return r=>r<t?0:r>e?1:n(Qb(t,e,r))}function I$(t,e){t.min=e.min,t.max=e.max}function $a(t,e){I$(t.x,e.x),I$(t.y,e.y)}function P$(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _$(t,e,n,r,i){return t-=e,t=DT(t,1/n,r),i!==void 0&&(t=DT(t,1/i,r)),t}function QTe(t,e=0,n=1,r=.5,i,s=t,o=t){if(uc.test(e)&&(e=parseFloat(e),e=Rr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Rr(s.min,s.max,r);t===s&&(a-=e),t.min=_$(t.min,e,n,a,i),t.max=_$(t.max,e,n,a,i)}function R$(t,e,[n,r,i],s,o){QTe(t,e[n],e[r],e[i],e.scale,s,o)}const ZTe=["x","scaleX","originX"],eCe=["y","scaleY","originY"];function O$(t,e,n,r){R$(t.x,e,ZTe,n?n.x:void 0,r?r.x:void 0),R$(t.y,e,eCe,n?n.y:void 0,r?r.y:void 0)}function M$(t){return t.translate===0&&t.scale===1}function Fne(t){return M$(t.x)&&M$(t.y)}function D$(t,e){return t.min===e.min&&t.max===e.max}function tCe(t,e){return D$(t.x,e.x)&&D$(t.y,e.y)}function L$(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zne(t,e){return L$(t.x,e.x)&&L$(t.y,e.y)}function B$(t){return Os(t.x)/Os(t.y)}function j$(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class nCe{constructor(){this.members=[]}add(e){CL(this.members,e),e.scheduleRender()}remove(e){if(kL(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rCe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:m,skewX:g,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const H_=["","X","Y","Z"],iCe=1e3;let sCe=0;function V_(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function $ne(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=kne(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ar,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&$ne(r)}function Hne({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=sCe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lCe),this.nodes.forEach(fCe),this.nodes.forEach(hCe),this.nodes.forEach(cCe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qTe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new PL),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=ine(o)&&!XSe(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,f=0;const m=()=>this.root.updateBlockedByResize=!1;Ar.read(()=>{f=window.innerWidth}),t(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,u&&u(),u=KTe(m,250),qA.hasAnimatedSinceResize&&(qA.hasAnimatedSinceResize=!1,this.nodes.forEach(z$)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||xCe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=c.getProps(),E=!this.targetLayout||!zne(this.targetLayout,g),k=!f&&m;if(this.options.layoutRoot||this.resumeFrom||k||f&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...$L(x,"layout"),onPlay:v,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(u,k)}else f||z$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),eh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pCe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$ne(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(U$);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(F$);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dCe),this.nodes.forEach(oCe),this.nodes.forEach(aCe)):this.nodes.forEach(F$),this.clearAllSnapshots();const a=io.now();qi.delta=Wu(0,1e3/60,a-qi.timestamp),qi.timestamp=a,qi.isProcessing=!0,R_.update.process(qi),R_.preRender.process(qi),R_.render.process(qi),qi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,VL.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uCe),this.sharedNodes.forEach(mCe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ar.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ar.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Os(this.snapshot.measuredBox.x)&&!Os(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=mi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Fne(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Xh(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),vCe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return mi();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(bCe))){const{scroll:u}=this.root;u&&(rg(a.x,u.offset.x),rg(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=mi();if($a(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:m}=u;u!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&$a(a,o),rg(a.x,f.offset.x),rg(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=mi();$a(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ig(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Xh(u.latestValues)&&ig(l,u.latestValues)}return Xh(this.latestValues)&&ig(l,this.latestValues),l}removeTransform(o){const a=mi();$a(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Xh(c.latestValues))continue;cM(c.latestValues)&&c.updateSnapshot();const u=mi(),f=c.measurePageBox();$a(u,f),O$(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Xh(this.latestValues)&&O$(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!this.layout||!(u||f))return;this.resolvedRelativeTargetAt=qi.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mi(),this.targetWithTransforms=mi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NTe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$a(this.target,this.layout.layoutBox),wne(this.target,this.targetDelta)):$a(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||cM(this.parent.latestValues)||bne(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mi(),this.relativeTargetOrigin=mi(),LT(this.relativeTargetOrigin,a,l),$a(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===qi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;$a(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;FAe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=mi());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(P$(this.prevProjectionDelta.x,this.projectionDelta.x),P$(this.prevProjectionDelta.y,this.projectionDelta.y)),Ub(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!j$(this.projectionDelta.x,this.prevProjectionDelta.x)||!j$(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sg(),this.projectionDelta=sg(),this.projectionDeltaWithTransform=sg()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=sg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=mi(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,w=this.getStack(),E=!w||w.members.length<=1,k=!!(v&&!E&&this.options.crossfade===!0&&!this.path.some(yCe));this.animationProgress=0;let I;this.mixTargetDelta=D=>{const j=D/1e3;$$(f.x,o.x,j),$$(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(LT(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gCe(this.relativeTarget,this.relativeTargetOrigin,m,j),I&&tCe(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=mi()),$a(I,this.relativeTarget)),v&&(this.animationValues=u,YTe(u,c,this.latestValues,j,k,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(eh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ar.update(()=>{qA.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fy(0)),this.currentAnimation=VTe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iCe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Vne(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||mi();const f=Os(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const m=Os(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}$a(a,l),ig(a,u),Ub(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nCe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&V_("z",o,c,this.animationValues);for(let u=0;u<H_.length;u++)V_(`rotate${H_[u]}`,o,c,this.animationValues),V_(`skew${H_[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=GA(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=GA(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Xh(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=rCe(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),o.transform=f;const{x:m,y:g}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in lM){if(u[x]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:E}=lM[x],k=f==="none"?u[x]:v(u[x],c);if(w){const I=w.length;for(let D=0;D<I;D++)o[w[D]]=k}else E?this.options.visualElement.renderState.vars[x]=k:o[x]=k}this.options.layoutId&&(o.pointerEvents=c===this?GA(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(U$),this.root.sharedNodes.clear()}}}function oCe(t){t.updateLayout()}function aCe(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?ca(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],g=Os(m);m.min=r[f].min,m.max=m.min+g}):Vne(s,e.layoutBox,r)&&ca(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],g=Os(r[f]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=sg();Ub(a,r,e.layoutBox);const l=sg();o?Ub(l,t.applyTransform(i,!0),e.measuredBox):Ub(l,r,e.layoutBox);const c=!Fne(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const x=mi();LT(x,e.layoutBox,m.layoutBox);const v=mi();LT(v,r,g.layoutBox),zne(x,v)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function lCe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cCe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uCe(t){t.clearSnapshot()}function U$(t){t.clearMeasurements()}function F$(t){t.isLayoutDirty=!1}function dCe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function z$(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fCe(t){t.resolveTargetDelta()}function hCe(t){t.calcProjection()}function pCe(t){t.resetSkewAndRotation()}function mCe(t){t.removeLeadSnapshot()}function $$(t,e,n){t.translate=Rr(e.translate,0,n),t.scale=Rr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function H$(t,e,n,r){t.min=Rr(e.min,n.min,r),t.max=Rr(e.max,n.max,r)}function gCe(t,e,n,r){H$(t.x,e.x,n.x,r),H$(t.y,e.y,n.y,r)}function yCe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xCe={duration:.45,ease:[.4,0,.1,1]},V$=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),G$=V$("applewebkit/")&&!V$("chrome/")?Math.round:Na;function q$(t){t.min=G$(t.min),t.max=G$(t.max)}function vCe(t){q$(t.x),q$(t.y)}function Vne(t,e,n){return t==="position"||t==="preserve-aspect"&&!kTe(B$(e),B$(n),.2)}function bCe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const wCe=Hne({attachResizeListener:(t,e)=>n1(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),G_={current:void 0},Gne=Hne({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!G_.current){const t=new wCe({});t.mount(window),t.setOptions({layoutScroll:!0}),G_.current=t}return G_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ECe={pan:{Feature:$Te},drag:{Feature:zTe,ProjectionNode:Gne,MeasureLayout:Bne}};function K$(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ar.postRender(()=>s(e,bw(e)))}class SCe extends ph{mount(){const{current:e}=this.node;e&&(this.unmount=qSe(e,(n,r)=>(K$(this.node,r,"Start"),i=>K$(this.node,i,"End"))))}unmount(){}}class ACe extends ph{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yw(n1(this.node.current,"focus",()=>this.onFocus()),n1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function W$(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ar.postRender(()=>s(e,bw(e)))}class TCe extends ph{mount(){const{current:e}=this.node;e&&(this.unmount=JSe(e,(n,r)=>(W$(this.node,r,"Start"),(i,{success:s})=>W$(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gM=new WeakMap,q_=new WeakMap,CCe=t=>{const e=gM.get(t.target);e&&e(t)},kCe=t=>{t.forEach(CCe)};function NCe({root:t,...e}){const n=t||document;q_.has(n)||q_.set(n,{});const r=q_.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(kCe,{root:t,...e})),r[i]}function ICe(t,e,n){const r=NCe(e);return gM.set(t,n),r.observe(t),()=>{gM.delete(t),r.unobserve(t)}}const PCe={some:0,all:1};class _Ce extends ph{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:PCe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),m=c?u:f;m&&m(l)};return ICe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(RCe(e,n))&&this.startObserver()}unmount(){}}function RCe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const OCe={inView:{Feature:_Ce},tap:{Feature:TCe},focus:{Feature:ACe},hover:{Feature:SCe}},MCe={layout:{ProjectionNode:Gne,MeasureLayout:Bne}},DCe={...wTe,...OCe,...ECe,...MCe},tn=BAe(DCe,JAe);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LCe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BCe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Y$=t=>{const e=BCe(t);return e.charAt(0).toUpperCase()+e.slice(1)},qne=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),jCe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UCe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FCe=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...UCe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:qne("lucide",i),...!s&&!jCe(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>T.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(FCe,{ref:s,iconNode:e,className:qne(`lucide-${LCe(Y$(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Y$(t),n};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zCe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ao=Et("activity",zCe);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Ce=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],HCe=Et("arrow-down-left",$Ce);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VCe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Kne=Et("arrow-left",VCe);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GCe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Wne=Et("arrow-right",GCe);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qCe=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Yne=Et("arrow-up-right",qCe);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KCe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],og=Et("bot",KCe);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WCe=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],dc=Et("brain",WCe);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YCe=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],n8=Et("calendar-clock",YCe);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JCe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],XCe=Et("chart-bar",JCe);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QCe=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],al=Et("chart-no-axes-column",QCe);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZCe=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],r1=Et("chart-pie",ZCe);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2e=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ou=Et("check",e2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2e=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pl=Et("chevron-down",t2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2e=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BT=Et("chevron-left",n2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2e=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sm=Et("chevron-right",r2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2e=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],om=Et("chevron-up",i2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Q2=Et("circle-alert",s2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2e=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yM=Et("circle-check-big",o2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2e=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_a=Et("clock",a2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2e=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Jne=Et("coins",l2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2e=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],kg=Et("copy",c2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2e=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Xne=Et("cpu",u2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2e=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],f2e=Et("database",d2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2e=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ww=Et("dollar-sign",h2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2e=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Io=Et("download",p2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2e=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$y=Et("external-link",m2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2e=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],r8=Et("eye-off",g2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2e=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qne=Et("eye",y2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],v2e=Et("file-braces",x2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],w2e=Et("file-text",b2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2e=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],S2e=Et("funnel",E2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],KA=Et("globe",A2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],C2e=Et("info",T2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2e=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Zne=Et("key",k2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2e=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],J$=Et("layers",N2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2e=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],P2e=Et("lock-keyhole",I2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2e=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],ere=Et("lock-open",_2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2e=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],i1=Et("lock",R2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2e=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],X$=Et("log-out",O2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2e=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],D2e=Et("mail",M2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2e=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Q$=Et("menu",L2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2e=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],j2e=Et("message-square",B2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2e=[["path",{d:"M5 12h14",key:"1ays0h"}]],xM=Et("minus",U2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2e=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cu=Et("plus",F2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2e=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xc=Et("refresh-cw",z2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2e=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],H2e=Et("rotate-ccw",$2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2e=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tre=Et("save",V2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2e=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],q2e=Et("scale",G2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2e=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],nre=Et("scroll-text",K2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2e=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rre=Et("search",W2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2e=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],J2e=Et("send",Y2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2e=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jT=Et("settings",X2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2e=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ju=Et("shield-check",Q2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2e=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ire=Et("shield",Z2e);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eke=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],s1=Et("sparkles",eke);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tke=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ng=Et("target",tke);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nke=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],i8=Et("terminal",nke);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rke=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],am=Et("trash-2",rke);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ike=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Z2=Et("trending-down",ike);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ske=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Pn=Et("trending-up",ske);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oke=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xu=Et("triangle-alert",oke);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ake=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],UT=Et("upload",ake);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lke=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cke=Et("user",lke);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uke=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Hy=Et("wallet",uke);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dke=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],sre=Et("wand-sparkles",dke);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fke=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ek=Et("x",fke);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hke=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qu=Et("zap",hke),ore="6.16.0";function pke(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function ps(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function Mt(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&pke(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function ag(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>ag(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return ag(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${ag(r,e)}: ${ag(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Xi(t,e){return t&&t.code===e}function s8(t){return Xi(t,"CALL_EXCEPTION")}function Ir(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${ag(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];s.push(o+"="+ag(a))}}s.push(`code=${e}`),s.push(`version=${ore}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Mt(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&Mt(i,{shortMessage:r}),i}function Ke(t,e,n,r){if(!t)throw Ir(e,n,r)}function xe(t,e,n,r){Ke(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function are(t,e,n){n==null&&(n=""),n&&(n=": "+n),Ke(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Ke(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const mke=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function lre(t){Ke(mke.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function mh(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),Ke(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function cre(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.length%2===0&&t.match(/^0x[0-9a-f]*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}xe(!1,"invalid BytesLike value",e||"value",t)}function ht(t,e){return cre(t,e,!1)}function Qi(t,e){return cre(t,e,!0)}function pr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function tk(t){return pr(t,!0)||t instanceof Uint8Array}const Z$="0123456789abcdef";function rt(t){const e=ht(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=Z$[(i&240)>>4]+Z$[i&15]}return n}function _n(t){return"0x"+t.map(e=>rt(e).substring(2)).join("")}function Ig(t){return pr(t,!0)?(t.length-2)/2:ht(t).length}function hr(t,e,n){const r=ht(t);return n!=null&&n>r.length&&Ke(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),rt(r.slice(e??0,n??r.length))}function dgt(t){let e=rt(t).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function ure(t,e,n){const r=ht(t);Ke(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),rt(i)}function Zu(t,e){return ure(t,e,!0)}function gke(t,e){return ure(t,e,!1)}const Ew=BigInt(0),nl=BigInt(1),lg=9007199254740991;function FT(t,e){const n=nk(t,"value"),r=BigInt(Jt(e,"width"));if(Ke(n>>r===Ew,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-nl){const i=(nl<<r)-nl;return-((~n&i)+nl)}return n}function dre(t,e){let n=wt(t,"value");const r=BigInt(Jt(e,"width")),i=nl<<r-nl;if(n<Ew){n=-n,Ke(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(nl<<r)-nl;return(~n&s)+nl}else Ke(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function pp(t,e){const n=nk(t,"value"),r=BigInt(Jt(e,"bits"));return n&(nl<<r)-nl}function wt(t,e){switch(typeof t){case"bigint":return t;case"number":return xe(Number.isInteger(t),"underflow",e||"value",t),xe(t>=-lg&&t<=lg,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){xe(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}xe(!1,"invalid BigNumberish value",e||"value",t)}function nk(t,e){const n=wt(t,e);return Ke(n>=Ew,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const eH="0123456789abcdef";function Sw(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=eH[n>>4],e+=eH[n&15];return BigInt(e)}return wt(t)}function Jt(t,e){switch(typeof t){case"bigint":return xe(t>=-lg&&t<=lg,"overflow",e||"value",t),Number(t);case"number":return xe(Number.isInteger(t),"underflow",e||"value",t),xe(t>=-lg&&t<=lg,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Jt(BigInt(t),e)}catch(n){xe(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}xe(!1,"invalid numeric value",e||"value",t)}function yke(t){return Jt(Sw(t))}function ed(t,e){const n=nk(t,"value");let r=n.toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Jt(e,"width");if(i===0&&n===Ew)return"0x";for(Ke(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function Or(t,e){const n=nk(t,"value");if(n===Ew){const s=e!=null?Jt(e,"width"):0;return new Uint8Array(s)}let r=n.toString(16);if(r.length%2&&(r="0"+r),e!=null){const s=Jt(e,"width");for(;r.length<s*2;)r="00"+r;Ke(s*2===r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:t})}const i=new Uint8Array(r.length/2);for(let s=0;s<i.length;s++){const o=s*2;i[s]=parseInt(r.substring(o,o+2),16)}return i}function tl(t){let e=rt(tk(t)?t:Or(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const zT="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let NS=null;function xke(t){if(NS==null){NS={};for(let n=0;n<zT.length;n++)NS[zT[n]]=BigInt(n)}const e=NS[t];return xe(e!=null,"invalid base58 value","letter",t),e}const vke=BigInt(0),vM=BigInt(58);function fre(t){const e=ht(t);let n=Sw(e),r="";for(;n;)r=zT[Number(n%vM)]+r,n/=vM;for(let i=0;i<e.length&&!e[i];i++)r=zT[0]+r;return r}function bke(t){let e=vke;for(let n=0;n<t.length;n++)e*=vM,e+=xke(t[n]);return e}function wke(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return ht(e)}function Eke(t){const e=ht(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var Yg;class hre{constructor(e,n,r){Se(this,"filter");Se(this,"emitter");je(this,Yg);ge(this,Yg,n),Mt(this,{emitter:e,filter:r})}async removeListener(){ie(this,Yg)!=null&&await this.emitter.off(this.filter,ie(this,Yg))}}Yg=new WeakMap;function Ske(t,e,n,r,i){xe(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function pre(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function Ake(t,e,n,r,i){return t==="OVERLONG"?(xe(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),pre(t,e,n))}const Tke=Object.freeze({error:Ske,ignore:pre,replace:Ake});function mre(t,e){e==null&&(e=Tke.error);const n=ht(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(s>>7===0){r.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+o>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=s&(1<<8-o-1)-1;for(let c=0;c<o;c++){let u=n[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|u&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-o,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-o,n,r,l);continue}if(l<=a){i+=e("OVERLONG",i-1-o,n,r,l);continue}r.push(l)}}return r}function ci(t,e){xe(typeof t=="string","invalid string value","str",t),e!=null&&(lre(e),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);xe(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function Cke(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function $T(t,e){return Cke(mre(t,e))}function fgt(t,e){return mre(ci(t,e))}function gre(t){async function e(n,r){Ke(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();Ke(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),Ke(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const o=new AbortController,a=setTimeout(()=>{s=Ir("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{s=Ir("request cancelled","CANCELLED"),o.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let c;try{c=await fetch(n.url,l)}catch(g){throw clearTimeout(a),s||g}clearTimeout(a);const u={};c.headers.forEach((g,x)=>{u[x.toLowerCase()]=g});const f=await c.arrayBuffer(),m=f==null?null:new Uint8Array(f);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:m}}return e}const kke=12,Nke=250;let tH=gre();const Ike=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Pke=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let K_=!1;async function yre(t,e){try{const n=t.match(Ike);if(!n)throw new Error("invalid data");return new Wf(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?wke(n[3]):Rke(n[3]))}catch{return new Wf(599,"BAD REQUEST (invalid data: URI)",{},null,new td(t))}}function xre(t){async function e(n,r){try{const i=n.match(Pke);if(!i)throw new Error("invalid link");return new td(`${t}${i[2]}`)}catch{return new Wf(599,"BAD REQUEST (invalid IPFS URI)",{},null,new td(n))}}return e}const IS={data:yre,ipfs:xre("https://gateway.ipfs.io/ipfs/")},vre=new WeakMap;var Tp,Tf;class _ke{constructor(e){je(this,Tp);je(this,Tf);ge(this,Tp,[]),ge(this,Tf,!1),vre.set(e,()=>{if(!ie(this,Tf)){ge(this,Tf,!0);for(const n of ie(this,Tp))setTimeout(()=>{n()},0);ge(this,Tp,[])}})}addListener(e){Ke(!ie(this,Tf),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),ie(this,Tp).push(e)}get cancelled(){return ie(this,Tf)}checkSignal(){Ke(!this.cancelled,"cancelled","CANCELLED",{})}}Tp=new WeakMap,Tf=new WeakMap;function PS(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Jg,Xg,Ya,hu,Qg,Zg,Ai,To,pu,Cp,kp,Np,$l,Ja,Cf,Ip,vb;const M2=class M2{constructor(e){je(this,Ip);je(this,Jg);je(this,Xg);je(this,Ya);je(this,hu);je(this,Qg);je(this,Zg);je(this,Ai);je(this,To);je(this,pu);je(this,Cp);je(this,kp);je(this,Np);je(this,$l);je(this,Ja);je(this,Cf);ge(this,Zg,String(e)),ge(this,Jg,!1),ge(this,Xg,!0),ge(this,Ya,{}),ge(this,hu,""),ge(this,Qg,3e5),ge(this,Ja,{slotInterval:Nke,maxAttempts:kke}),ge(this,Cf,null)}get url(){return ie(this,Zg)}set url(e){ge(this,Zg,String(e))}get body(){return ie(this,Ai)==null?null:new Uint8Array(ie(this,Ai))}set body(e){if(e==null)ge(this,Ai,void 0),ge(this,To,void 0);else if(typeof e=="string")ge(this,Ai,ci(e)),ge(this,To,"text/plain");else if(e instanceof Uint8Array)ge(this,Ai,e),ge(this,To,"application/octet-stream");else if(typeof e=="object")ge(this,Ai,ci(JSON.stringify(e))),ge(this,To,"application/json");else throw new Error("invalid body")}hasBody(){return ie(this,Ai)!=null}get method(){return ie(this,hu)?ie(this,hu):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),ge(this,hu,String(e).toUpperCase())}get headers(){const e=Object.assign({},ie(this,Ya));return ie(this,pu)&&(e.authorization=`Basic ${Eke(ci(ie(this,pu)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&ie(this,To)&&(e["content-type"]=ie(this,To)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){ie(this,Ya)[String(e).toLowerCase()]=String(n)}clearHeaders(){ge(this,Ya,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return ie(this,pu)||null}setCredentials(e,n){xe(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),ge(this,pu,`${e}:${n}`)}get allowGzip(){return ie(this,Xg)}set allowGzip(e){ge(this,Xg,!!e)}get allowInsecureAuthentication(){return!!ie(this,Jg)}set allowInsecureAuthentication(e){ge(this,Jg,!!e)}get timeout(){return ie(this,Qg)}set timeout(e){xe(e>=0,"timeout must be non-zero","timeout",e),ge(this,Qg,e)}get preflightFunc(){return ie(this,Cp)||null}set preflightFunc(e){ge(this,Cp,e)}get processFunc(){return ie(this,kp)||null}set processFunc(e){ge(this,kp,e)}get retryFunc(){return ie(this,Np)||null}set retryFunc(e){ge(this,Np,e)}get getUrlFunc(){return ie(this,Cf)||tH}set getUrlFunc(e){ge(this,Cf,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${ie(this,Ai)?rt(ie(this,Ai)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(ie(this,Ja).slotInterval=e.slotInterval),e.maxAttempts!=null&&(ie(this,Ja).maxAttempts=e.maxAttempts)}send(){return Ke(ie(this,$l)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),ge(this,$l,new _ke(this)),tt(this,Ip,vb).call(this,0,nH()+this.timeout,0,this,new Wf(0,"",{},null,this))}cancel(){Ke(ie(this,$l)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=vre.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();Ke(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new M2(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,ge(i,Ya,Object.assign({},ie(this,Ya))),ie(this,Ai)&&ge(i,Ai,new Uint8Array(ie(this,Ai))),ge(i,To,ie(this,To)),i}clone(){const e=new M2(this.url);return ge(e,hu,ie(this,hu)),ie(this,Ai)&&ge(e,Ai,ie(this,Ai)),ge(e,To,ie(this,To)),ge(e,Ya,Object.assign({},ie(this,Ya))),ge(e,pu,ie(this,pu)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),ge(e,Cp,ie(this,Cp)),ge(e,kp,ie(this,kp)),ge(e,Np,ie(this,Np)),ge(e,Ja,Object.assign({},ie(this,Ja))),ge(e,Cf,ie(this,Cf)),e}static lockConfig(){K_=!0}static getGateway(e){return IS[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(K_)throw new Error("gateways locked");IS[e]=n}static registerGetUrl(e){if(K_)throw new Error("gateways locked");tH=e}static createGetUrlFunc(e){return gre(e)}static createDataGateway(){return yre}static createIpfsGatewayFunc(e){return xre(e)}};Jg=new WeakMap,Xg=new WeakMap,Ya=new WeakMap,hu=new WeakMap,Qg=new WeakMap,Zg=new WeakMap,Ai=new WeakMap,To=new WeakMap,pu=new WeakMap,Cp=new WeakMap,kp=new WeakMap,Np=new WeakMap,$l=new WeakMap,Ja=new WeakMap,Cf=new WeakMap,Ip=new WeakSet,vb=async function(e,n,r,i,s){var u,f,m;if(e>=ie(this,Ja).maxAttempts)return s.makeServerError("exceeded maximum retry limit");Ke(nH()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await Oke(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in IS){const g=await IS[a](o.url,PS(ie(i,$l)));if(g instanceof Wf){let x=g;if(this.processFunc){PS(ie(i,$l));try{x=await this.processFunc(o,x)}catch(v){(v.throttle==null||typeof v.stall!="number")&&x.makeServerError("error in post-processing function",v).assertOk()}}return x}o=g}this.preflightFunc&&(o=await this.preflightFunc(o));const l=await this.getUrlFunc(o,PS(ie(i,$l)));let c=new Wf(l.statusCode,l.statusMessage,l.headers,l.body,i);if(c.statusCode===301||c.statusCode===302){try{const g=c.headers.location||"";return tt(u=o.redirect(g),Ip,vb).call(u,e+1,n,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,c,e))){const g=c.headers["retry-after"];let x=ie(this,Ja).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof g=="string"&&g.match(/^[1-9][0-9]*$/)&&(x=parseInt(g)),tt(f=o.clone(),Ip,vb).call(f,e+1,n,x,i,c)}if(this.processFunc){PS(ie(i,$l));try{c=await this.processFunc(o,c)}catch(g){(g.throttle==null||typeof g.stall!="number")&&c.makeServerError("error in post-processing function",g).assertOk();let x=ie(this,Ja).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return g.stall>=0&&(x=g.stall),tt(m=o.clone(),Ip,vb).call(m,e+1,n,x,i,c)}}return c};let td=M2;var q1,K1,W1,Co,ey,Pp;const nj=class nj{constructor(e,n,r,i,s){je(this,q1);je(this,K1);je(this,W1);je(this,Co);je(this,ey);je(this,Pp);ge(this,q1,e),ge(this,K1,n),ge(this,W1,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),ge(this,Co,i==null?null:new Uint8Array(i)),ge(this,ey,s||null),ge(this,Pp,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${ie(this,Co)?rt(ie(this,Co)):"null"}>`}get statusCode(){return ie(this,q1)}get statusMessage(){return ie(this,K1)}get headers(){return Object.assign({},ie(this,W1))}get body(){return ie(this,Co)==null?null:new Uint8Array(ie(this,Co))}get bodyText(){try{return ie(this,Co)==null?"":$T(ie(this,Co))}catch{Ke(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Ke(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new nj(599,r,this.headers,this.body,ie(this,ey)||void 0);return ge(i,Pp,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:xe(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Mt(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return ie(this,Co)!=null}get request(){return ie(this,ey)}ok(){return ie(this,Pp).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=ie(this,Pp);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{ie(this,Co)&&(i=$T(ie(this,Co)))}catch{}Ke(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};q1=new WeakMap,K1=new WeakMap,W1=new WeakMap,Co=new WeakMap,ey=new WeakMap,Pp=new WeakMap;let Wf=nj;function nH(){return new Date().getTime()}function Rke(t){return ci(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function Oke(t){return new Promise(e=>setTimeout(e,t))}const Mke=BigInt(-1),Va=BigInt(0),cg=BigInt(1),Dke=BigInt(5),C0={};let Pg="0000";for(;Pg.length<80;)Pg+=Pg;function Vh(t){let e=Pg;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Kv(t,e,n){const r=BigInt(e.width);if(e.signed){const i=cg<<r-cg;Ke(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Va?t=FT(pp(t,r),r):t=-FT(pp(-t,r),r)}else{const i=cg<<r;Ke(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-cg}return t}function W_(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);xe(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,o=(a,l,c)=>s[a]==null?c:(xe(typeof s[a]===l,"invalid fixed format ("+a+" not "+l+")","format."+a,s[a]),s[a]);e=o("signed","boolean",e),n=o("width","number",n),r=o("decimals","number",r)}xe(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),xe(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function Lke(t,e){let n="";t<Va&&(n="-",t*=Mke);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=Pg+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Xa,tr,Cs,Vn,Qh,nu,bM,wM,EM,SM;const vf=class vf{constructor(e,n,r){je(this,Vn);Se(this,"format");je(this,Xa);je(this,tr);je(this,Cs);Se(this,"_value");mh(e,C0,"FixedNumber"),ge(this,tr,n),ge(this,Xa,r);const i=Lke(n,r.decimals);Mt(this,{format:r.name,_value:i}),ge(this,Cs,Vh(r.decimals))}get signed(){return ie(this,Xa).signed}get width(){return ie(this,Xa).width}get decimals(){return ie(this,Xa).decimals}get value(){return ie(this,tr)}addUnsafe(e){return tt(this,Vn,bM).call(this,e)}add(e){return tt(this,Vn,bM).call(this,e,"add")}subUnsafe(e){return tt(this,Vn,wM).call(this,e)}sub(e){return tt(this,Vn,wM).call(this,e,"sub")}mulUnsafe(e){return tt(this,Vn,EM).call(this,e)}mul(e){return tt(this,Vn,EM).call(this,e,"mul")}mulSignal(e){tt(this,Vn,Qh).call(this,e);const n=ie(this,tr)*ie(e,tr);return Ke(n%ie(this,Cs)===Va,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),tt(this,Vn,nu).call(this,n/ie(this,Cs),"mulSignal")}divUnsafe(e){return tt(this,Vn,SM).call(this,e)}div(e){return tt(this,Vn,SM).call(this,e,"div")}divSignal(e){Ke(ie(e,tr)!==Va,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),tt(this,Vn,Qh).call(this,e);const n=ie(this,tr)*ie(this,Cs);return Ke(n%ie(e,tr)===Va,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),tt(this,Vn,nu).call(this,n/ie(e,tr),"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=Vh(i):i<0&&(n*=Vh(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=ie(this,tr);return ie(this,tr)<Va&&(e-=ie(this,Cs)-cg),e=ie(this,tr)/ie(this,Cs)*ie(this,Cs),tt(this,Vn,nu).call(this,e,"floor")}ceiling(){let e=ie(this,tr);return ie(this,tr)>Va&&(e+=ie(this,Cs)-cg),e=ie(this,tr)/ie(this,Cs)*ie(this,Cs),tt(this,Vn,nu).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=Dke*Vh(n-1);let i=this.value+r;const s=Vh(n);return i=i/s*s,Kv(i,ie(this,Xa),"round"),new vf(C0,i,ie(this,Xa))}isZero(){return ie(this,tr)===Va}isNegative(){return ie(this,tr)<Va}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return vf.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:Jt(n),s=W_(r);let o=wt(e,"value");const a=i-s.decimals;if(a>0){const l=Vh(a);Ke(o%l===Va,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=l}else a<0&&(o*=Vh(-a));return Kv(o,s,"fromValue"),new vf(C0,o,s)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);xe(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=W_(n);let s=r[2]||"0",o=r[3]||"";for(;o.length<i.decimals;)o+=Pg;Ke(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(r[1]+s+o);return Kv(a,i,"fromString"),new vf(C0,a,i)}static fromBytes(e,n){let r=Sw(ht(e,"value"));const i=W_(n);return i.signed&&(r=FT(r,i.width)),Kv(r,i,"fromBytes"),new vf(C0,r,i)}};Xa=new WeakMap,tr=new WeakMap,Cs=new WeakMap,Vn=new WeakSet,Qh=function(e){xe(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},nu=function(e,n){return e=Kv(e,ie(this,Xa),n),new vf(C0,e,ie(this,Xa))},bM=function(e,n){return tt(this,Vn,Qh).call(this,e),tt(this,Vn,nu).call(this,ie(this,tr)+ie(e,tr),n)},wM=function(e,n){return tt(this,Vn,Qh).call(this,e),tt(this,Vn,nu).call(this,ie(this,tr)-ie(e,tr),n)},EM=function(e,n){return tt(this,Vn,Qh).call(this,e),tt(this,Vn,nu).call(this,ie(this,tr)*ie(e,tr)/ie(this,Cs),n)},SM=function(e,n){return Ke(ie(e,tr)!==Va,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),tt(this,Vn,Qh).call(this,e),tt(this,Vn,nu).call(this,ie(this,tr)*ie(this,Cs)/ie(e,tr),n)};let HT=vf;function Bke(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function rH(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function iH(t,e,n,r){const i=[];for(;n<e+1+r;){const s=bre(t,n);i.push(s.result),n+=s.consumed,Ke(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function bre(t,e){Ke(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{Ke(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=rH(t,e+1,r);return n(e+1+r+i),iH(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),iH(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=rH(t,e+1,r);n(e+1+r+i);const s=rt(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=rt(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:Bke(t[e])}}function Aw(t){const e=ht(t,"data"),n=bre(e,0);return xe(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function sH(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function wre(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(wre(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=sH(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(ht(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=sH(e.length);return n.unshift(183+n.length),n.concat(e)}const oH="0123456789abcdef";function fc(t){let e="0x";for(const n of wre(t))e+=oH[n>>4],e+=oH[n&15];return e}const Ere=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Sre(t,e){let n=18;if(typeof e=="string"){const r=Ere.indexOf(e);xe(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Jt(e,"unit"));return HT.fromValue(t,n,{decimals:n,width:512}).toString()}function jke(t,e){xe(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){const r=Ere.indexOf(e);xe(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Jt(e,"unit"));return HT.fromString(t,{decimals:n,width:512}).value}function hgt(t){return Sre(t,18)}function pgt(t){return jke(t,18)}function Uke(t){const e=ht(t,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const n=rt(e);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")}const Ms=32,AM=new Uint8Array(Ms),Fke=["then"],_S={},Are=new WeakMap;function sp(t){return Are.get(t)}function aH(t,e){Are.set(t,e)}function Wv(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function TM(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof Vy?TM(sp(r),r,n):r):t.reduce((r,i,s)=>{let o=e.getValue(i);return i in r||(n&&o instanceof Vy&&(o=TM(sp(o),o,n)),r[i]=o),r},{})}var ty;const yg=class yg extends Array{constructor(...n){const r=n[0];let i=n[1],s=(n[2]||[]).slice(),o=!0;r!==_S&&(i=n,s=[],o=!1);super(i.length);je(this,ty);i.forEach((c,u)=>{this[u]=c});const a=s.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(aH(this,Object.freeze(i.map((c,u)=>{const f=s[u];return f!=null&&a.get(f)===1?f:null}))),ge(this,ty,[]),ie(this,ty)==null&&ie(this,ty),!o)return;Object.freeze(this);const l=new Proxy(this,{get:(c,u,f)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const g=Jt(u,"%index");if(g<0||g>=this.length)throw new RangeError("out of result range");const x=c[g];return x instanceof Error&&Wv(`index ${g}`,x),x}if(Fke.indexOf(u)>=0)return Reflect.get(c,u,f);const m=c[u];if(m instanceof Function)return function(...g){return m.apply(this===f?c:this,g)};if(!(u in c))return c.getValue.apply(this===f?c:this,[u])}return Reflect.get(c,u,f)}});return aH(l,sp(this)),l}toArray(n){const r=[];return this.forEach((i,s)=>{i instanceof Error&&Wv(`index ${s}`,i),n&&i instanceof yg&&(i=i.toArray(n)),r.push(i)}),r}toObject(n){const r=sp(this);return r.reduce((i,s,o)=>(Ke(s!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),TM(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=sp(this),s=[],o=[];for(let a=n;a<r;a++)s.push(this[a]),o.push(i[a]);return new yg(_S,s,o)}filter(n,r){const i=sp(this),s=[],o=[];for(let a=0;a<this.length;a++){const l=this[a];l instanceof Error&&Wv(`index ${a}`,l),n.call(r,l,a,this)&&(s.push(l),o.push(i[a]))}return new yg(_S,s,o)}map(n,r){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&Wv(`index ${s}`,o),i.push(n.call(r,o,s,this))}return i}getValue(n){const r=sp(this).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&Wv(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new yg(_S,n,r)}};ty=new WeakMap;let Vy=yg;function mgt(t){const e=[],n=function(r,i){if(Array.isArray(i))for(let s in i){const o=r.slice();o.push(s);try{n(o,i[s])}catch(a){e.push({path:o,error:a})}}};return n([],t),e}function lH(t){let e=Or(t);return Ke(e.length<=Ms,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Ms,offset:e.length}),e.length!==Ms&&(e=Qi(_n([AM.slice(e.length%Ms),e]))),e}class yd{constructor(e,n,r,i){Se(this,"name");Se(this,"type");Se(this,"localName");Se(this,"dynamic");Mt(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){xe(!1,e,this.localName,n)}}var mu,_p,ny,WA;class CM{constructor(){je(this,ny);je(this,mu);je(this,_p);ge(this,mu,[]),ge(this,_p,0)}get data(){return _n(ie(this,mu))}get length(){return ie(this,_p)}appendWriter(e){return tt(this,ny,WA).call(this,Qi(e.data))}writeBytes(e){let n=Qi(e);const r=n.length%Ms;return r&&(n=Qi(_n([n,AM.slice(r)]))),tt(this,ny,WA).call(this,n)}writeValue(e){return tt(this,ny,WA).call(this,lH(e))}writeUpdatableValue(){const e=ie(this,mu).length;return ie(this,mu).push(AM),ge(this,_p,ie(this,_p)+Ms),n=>{ie(this,mu)[e]=lH(n)}}}mu=new WeakMap,_p=new WeakMap,ny=new WeakSet,WA=function(e){return ie(this,mu).push(e),ge(this,_p,ie(this,_p)+e.length),e.length};var Qs,ko,Rp,Op,kf,Nm,NM,Tre;const rj=class rj{constructor(e,n,r){je(this,Nm);Se(this,"allowLoose");je(this,Qs);je(this,ko);je(this,Rp);je(this,Op);je(this,kf);Mt(this,{allowLoose:!!n}),ge(this,Qs,Qi(e)),ge(this,Rp,0),ge(this,Op,null),ge(this,kf,r??1024),ge(this,ko,0)}get data(){return rt(ie(this,Qs))}get dataLength(){return ie(this,Qs).length}get consumed(){return ie(this,ko)}get bytes(){return new Uint8Array(ie(this,Qs))}subReader(e){const n=new rj(ie(this,Qs).slice(ie(this,ko)+e),this.allowLoose,ie(this,kf));return ge(n,Op,this),n}readBytes(e,n){let r=tt(this,Nm,Tre).call(this,0,e,!!n);return tt(this,Nm,NM).call(this,e),ge(this,ko,ie(this,ko)+r.length),r.slice(0,e)}readValue(){return Sw(this.readBytes(Ms))}readIndex(){return yke(this.readBytes(Ms))}};Qs=new WeakMap,ko=new WeakMap,Rp=new WeakMap,Op=new WeakMap,kf=new WeakMap,Nm=new WeakSet,NM=function(e){var n;if(ie(this,Op))return tt(n=ie(this,Op),Nm,NM).call(n,e);ge(this,Rp,ie(this,Rp)+e),Ke(ie(this,kf)<1||ie(this,Rp)<=ie(this,kf)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${ie(this,kf)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Qi(ie(this,Qs)),offset:ie(this,ko),length:e,info:{bytesRead:ie(this,Rp),dataLength:this.dataLength}})},Tre=function(e,n,r){let i=Math.ceil(n/Ms)*Ms;return ie(this,ko)+i>ie(this,Qs).length&&(this.allowLoose&&r&&ie(this,ko)+n<=ie(this,Qs).length?i=n:Ke(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Qi(ie(this,Qs)),length:ie(this,Qs).length,offset:ie(this,ko)+i})),ie(this,Qs).slice(ie(this,ko),ie(this,ko)+i)};let kM=rj;function Ro(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function o8(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Cre(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ro(t.outputLen),Ro(t.blockLen)}function Gy(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function kre(t,e){o8(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Y_=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nre=t=>t instanceof Uint8Array,YA=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),JA=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Rl=(t,e)=>t<<32-e|t>>>e,zke=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!zke)throw new Error("Non little-endian hardware is not supported");const $ke=async()=>{};async function cH(t,e,n){let r=Date.now();for(let i=0;i<t;i++){n(i);const s=Date.now()-r;s>=0&&s<e||(await $ke(),r+=s)}}function Hke(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function qy(t){if(typeof t=="string"&&(t=Hke(t)),!Nre(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Vke(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!Nre(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}let a8=class{clone(){return this._cloneInto()}};const Gke={}.toString;function Ire(t,e){if(e!==void 0&&Gke.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function rk(t){const e=r=>t().update(qy(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function qke(t=32){if(Y_&&typeof Y_.getRandomValues=="function")return Y_.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}let Pre=class extends a8{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Cre(e);const r=qy(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Gy(this),this.iHash.update(e),this}digestInto(e){Gy(this),o8(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ik=(t,e,n)=>new Pre(t,e).update(n).digest();ik.create=(t,e)=>new Pre(t,e);function Kke(t,e,n,r){Cre(t);const i=Ire({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Ro(s),Ro(o),Ro(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=qy(e),c=qy(n),u=new Uint8Array(o),f=ik.create(t,l),m=f._cloneInto().update(c);return{c:s,dkLen:o,asyncTick:a,DK:u,PRF:f,PRFSalt:m}}function Wke(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function l8(t,e,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:l}=Kke(t,e,n,r);let c;const u=new Uint8Array(4),f=JA(u),m=new Uint8Array(a.outputLen);for(let g=1,x=0;x<s;g++,x+=a.outputLen){const v=o.subarray(x,x+a.outputLen);f.setInt32(0,g,!1),(c=l._cloneInto(c)).update(u).digestInto(m),v.set(m.subarray(0,v.length));for(let w=1;w<i;w++){a._cloneInto(c).update(m).digestInto(m);for(let E=0;E<v.length;E++)v[E]^=m[E]}}return Wke(a,l,o,c,m)}function Yke(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}class c8 extends a8{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=JA(this.buffer)}update(e){Gy(this);const{view:n,buffer:r,blockLen:i}=this;e=qy(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=JA(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Gy(this),kre(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;Yke(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=JA(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const Jke=(t,e,n)=>t&e^~t&n,Xke=(t,e,n)=>t&e^t&n^e&n,Qke=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ef=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tf=new Uint32Array(64);let Zke=class extends c8{constructor(){super(64,32,8,!1),this.A=ef[0]|0,this.B=ef[1]|0,this.C=ef[2]|0,this.D=ef[3]|0,this.E=ef[4]|0,this.F=ef[5]|0,this.G=ef[6]|0,this.H=ef[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)tf[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const m=tf[f-15],g=tf[f-2],x=Rl(m,7)^Rl(m,18)^m>>>3,v=Rl(g,17)^Rl(g,19)^g>>>10;tf[f]=v+tf[f-7]+x+tf[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const m=Rl(a,6)^Rl(a,11)^Rl(a,25),g=u+m+Jke(a,l,c)+Qke[f]+tf[f]|0,v=(Rl(r,2)^Rl(r,13)^Rl(r,22))+Xke(r,i,s)|0;u=c,c=l,l=a,a=o+g|0,o=s,s=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){tf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const wx=rk(()=>new Zke),RS=BigInt(2**32-1),IM=BigInt(32);function _re(t,e=!1){return e?{h:Number(t&RS),l:Number(t>>IM&RS)}:{h:Number(t>>IM&RS)|0,l:Number(t&RS)|0}}function Rre(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=_re(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const eNe=(t,e)=>BigInt(t>>>0)<<IM|BigInt(e>>>0),tNe=(t,e,n)=>t>>>n,nNe=(t,e,n)=>t<<32-n|e>>>n,rNe=(t,e,n)=>t>>>n|e<<32-n,iNe=(t,e,n)=>t<<32-n|e>>>n,sNe=(t,e,n)=>t<<64-n|e>>>n-32,oNe=(t,e,n)=>t>>>n-32|e<<64-n,aNe=(t,e)=>e,lNe=(t,e)=>t,Ore=(t,e,n)=>t<<n|e>>>32-n,Mre=(t,e,n)=>e<<n|t>>>32-n,Dre=(t,e,n)=>e<<n-32|t>>>64-n,Lre=(t,e,n)=>t<<n-32|e>>>64-n;function cNe(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const uNe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),dNe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,fNe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),hNe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,pNe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),mNe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,un={fromBig:_re,split:Rre,toBig:eNe,shrSH:tNe,shrSL:nNe,rotrSH:rNe,rotrSL:iNe,rotrBH:sNe,rotrBL:oNe,rotr32H:aNe,rotr32L:lNe,rotlSH:Ore,rotlSL:Mre,rotlBH:Dre,rotlBL:Lre,add:cNe,add3L:uNe,add3H:dNe,add4L:fNe,add4H:hNe,add5H:mNe,add5L:pNe},[gNe,yNe]=un.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),nf=new Uint32Array(80),rf=new Uint32Array(80);let xNe=class extends c8{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:f,Fl:m,Gh:g,Gl:x,Hh:v,Hl:w}=this;return[e,n,r,i,s,o,a,l,c,u,f,m,g,x,v,w]}set(e,n,r,i,s,o,a,l,c,u,f,m,g,x,v,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=f|0,this.Fl=m|0,this.Gh=g|0,this.Gl=x|0,this.Hh=v|0,this.Hl=w|0}process(e,n){for(let I=0;I<16;I++,n+=4)nf[I]=e.getUint32(n),rf[I]=e.getUint32(n+=4);for(let I=16;I<80;I++){const D=nf[I-15]|0,j=rf[I-15]|0,M=un.rotrSH(D,j,1)^un.rotrSH(D,j,8)^un.shrSH(D,j,7),U=un.rotrSL(D,j,1)^un.rotrSL(D,j,8)^un.shrSL(D,j,7),V=nf[I-2]|0,F=rf[I-2]|0,z=un.rotrSH(V,F,19)^un.rotrBH(V,F,61)^un.shrSH(V,F,6),K=un.rotrSL(V,F,19)^un.rotrBL(V,F,61)^un.shrSL(V,F,6),H=un.add4L(U,K,rf[I-7],rf[I-16]),B=un.add4H(H,M,z,nf[I-7],nf[I-16]);nf[I]=B|0,rf[I]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:f,El:m,Fh:g,Fl:x,Gh:v,Gl:w,Hh:E,Hl:k}=this;for(let I=0;I<80;I++){const D=un.rotrSH(f,m,14)^un.rotrSH(f,m,18)^un.rotrBH(f,m,41),j=un.rotrSL(f,m,14)^un.rotrSL(f,m,18)^un.rotrBL(f,m,41),M=f&g^~f&v,U=m&x^~m&w,V=un.add5L(k,j,U,yNe[I],rf[I]),F=un.add5H(V,E,D,M,gNe[I],nf[I]),z=V|0,K=un.rotrSH(r,i,28)^un.rotrBH(r,i,34)^un.rotrBH(r,i,39),H=un.rotrSL(r,i,28)^un.rotrBL(r,i,34)^un.rotrBL(r,i,39),B=r&s^r&a^s&a,A=i&o^i&l^o&l;E=v|0,k=w|0,v=g|0,w=x|0,g=f|0,x=m|0,{h:f,l:m}=un.add(c|0,u|0,F|0,z|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const P=un.add3L(z,H,A);r=un.add3H(P,F,K,B),i=P|0}({h:r,l:i}=un.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=un.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=un.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=un.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:f,l:m}=un.add(this.Eh|0,this.El|0,f|0,m|0),{h:g,l:x}=un.add(this.Fh|0,this.Fl|0,g|0,x|0),{h:v,l:w}=un.add(this.Gh|0,this.Gl|0,v|0,w|0),{h:E,l:k}=un.add(this.Hh|0,this.Hl|0,E|0,k|0),this.set(r,i,s,o,a,l,c,u,f,m,g,x,v,w,E,k)}roundClean(){nf.fill(0),rf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const u8=rk(()=>new xNe);function vNe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const uH=vNe(),dH=uH.crypto||uH.msCrypto;function Bre(t){switch(t){case"sha256":return wx.create();case"sha512":return u8.create()}xe(!1,"invalid hashing algorithm name","algorithm",t)}function bNe(t,e){const n={sha256:wx,sha512:u8}[t];return xe(n!=null,"invalid hmac algorithm","algorithm",t),ik.create(n,e)}function wNe(t,e,n,r,i){const s={sha256:wx,sha512:u8}[i];return xe(s!=null,"invalid pbkdf2 algorithm","algorithm",i),l8(s,t,e,{c:n,dkLen:r})}function ENe(t){Ke(dH!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),xe(Number.isInteger(t)&&t>0&&t<=1024,"invalid length","length",t);const e=new Uint8Array(t);return dH.getRandomValues(e),e}let jre=!1;const Ure=function(t,e,n){return bNe(t,e).update(n).digest()};let Fre=Ure;function Ex(t,e,n){const r=ht(e,"key"),i=ht(n,"data");return rt(Fre(t,r,i))}Ex._=Ure;Ex.lock=function(){jre=!0};Ex.register=function(t){if(jre)throw new Error("computeHmac is locked");Fre=t};Object.freeze(Ex);const[zre,$re,Hre]=[[],[],[]],SNe=BigInt(0),Yv=BigInt(1),ANe=BigInt(2),TNe=BigInt(7),CNe=BigInt(256),kNe=BigInt(113);for(let t=0,e=Yv,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],zre.push(2*(5*r+n)),$re.push((t+1)*(t+2)/2%64);let i=SNe;for(let s=0;s<7;s++)e=(e<<Yv^(e>>TNe)*kNe)%CNe,e&ANe&&(i^=Yv<<(Yv<<BigInt(s))-Yv);Hre.push(i)}const[NNe,INe]=Rre(Hre,!0),fH=(t,e,n)=>n>32?Dre(t,e,n):Ore(t,e,n),hH=(t,e,n)=>n>32?Lre(t,e,n):Mre(t,e,n);function PNe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],f=fH(c,u,1)^n[a],m=hH(c,u,1)^n[a+1];for(let g=0;g<50;g+=10)t[o+g]^=f,t[o+g+1]^=m}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=$re[o],l=fH(i,s,a),c=hH(i,s,a),u=zre[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=NNe[r],t[1]^=INe[r]}n.fill(0)}class d8 extends a8{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ro(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=YA(this.state)}keccak(){PNe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Gy(this);const{blockLen:n,state:r}=this;e=qy(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Gy(this,!1),o8(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ro(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(kre(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new d8(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const _Ne=(t,e,n)=>rk(()=>new d8(e,t,n)),RNe=_Ne(1,136,256/8);let Vre=!1;const Gre=function(t){return RNe(t)};let qre=Gre;function Gn(t){const e=ht(t,"data");return rt(qre(e))}Gn._=Gre;Gn.lock=function(){Vre=!0};Gn.register=function(t){if(Vre)throw new TypeError("keccak256 is locked");qre=t};Object.freeze(Gn);const ONe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Kre=Uint8Array.from({length:16},(t,e)=>e),MNe=Kre.map(t=>(9*t+5)%16);let f8=[Kre],h8=[MNe];for(let t=0;t<4;t++)for(let e of[f8,h8])e.push(e[t].map(n=>ONe[n]));const Wre=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),DNe=f8.map((t,e)=>t.map(n=>Wre[e][n])),LNe=h8.map((t,e)=>t.map(n=>Wre[e][n])),BNe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),jNe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),OS=(t,e)=>t<<e|t>>>32-e;function pH(t,e,n,r){return t===0?e^n^r:t===1?e&n|~e&r:t===2?(e|~n)^r:t===3?e&r|n&~r:e^(n|~r)}const MS=new Uint32Array(16);class UNe extends c8{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:n,h2:r,h3:i,h4:s}=this;return[e,n,r,i,s]}set(e,n,r,i,s){this.h0=e|0,this.h1=n|0,this.h2=r|0,this.h3=i|0,this.h4=s|0}process(e,n){for(let g=0;g<16;g++,n+=4)MS[g]=e.getUint32(n,!0);let r=this.h0|0,i=r,s=this.h1|0,o=s,a=this.h2|0,l=a,c=this.h3|0,u=c,f=this.h4|0,m=f;for(let g=0;g<5;g++){const x=4-g,v=BNe[g],w=jNe[g],E=f8[g],k=h8[g],I=DNe[g],D=LNe[g];for(let j=0;j<16;j++){const M=OS(r+pH(g,s,a,c)+MS[E[j]]+v,I[j])+f|0;r=f,f=c,c=OS(a,10)|0,a=s,s=M}for(let j=0;j<16;j++){const M=OS(i+pH(x,o,l,u)+MS[k[j]]+w,D[j])+m|0;i=m,m=u,u=OS(l,10)|0,l=o,o=M}}this.set(this.h1+a+u|0,this.h2+c+m|0,this.h3+f+i|0,this.h4+r+o|0,this.h0+s+l|0)}roundClean(){MS.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const FNe=rk(()=>new UNe);let Yre=!1;const Jre=function(t){return FNe(t)};let Xre=Jre;function Sx(t){const e=ht(t,"data");return rt(Xre(e))}Sx._=Jre;Sx.lock=function(){Yre=!0};Sx.register=function(t){if(Yre)throw new TypeError("ripemd160 is locked");Xre=t};Object.freeze(Sx);let Qre=!1;const Zre=function(t,e,n,r,i){return wNe(t,e,n,r,i)};let eie=Zre;function gh(t,e,n,r,i){const s=ht(t,"password"),o=ht(e,"salt");return rt(eie(s,o,n,r,i))}gh._=Zre;gh.lock=function(){Qre=!0};gh.register=function(t){if(Qre)throw new Error("pbkdf2 is locked");eie=t};Object.freeze(gh);let tie=!1;const nie=function(t){return new Uint8Array(ENe(t))};let rie=nie;function Fu(t){return rie(t)}Fu._=nie;Fu.lock=function(){tie=!0};Fu.register=function(t){if(tie)throw new Error("randomBytes is locked");rie=t};Object.freeze(Fu);const Dn=(t,e)=>t<<e|t>>>32-e;function mH(t,e,n,r,i,s){let o=t[e++]^n[r++],a=t[e++]^n[r++],l=t[e++]^n[r++],c=t[e++]^n[r++],u=t[e++]^n[r++],f=t[e++]^n[r++],m=t[e++]^n[r++],g=t[e++]^n[r++],x=t[e++]^n[r++],v=t[e++]^n[r++],w=t[e++]^n[r++],E=t[e++]^n[r++],k=t[e++]^n[r++],I=t[e++]^n[r++],D=t[e++]^n[r++],j=t[e++]^n[r++],M=o,U=a,V=l,F=c,z=u,K=f,H=m,B=g,A=x,P=v,R=w,$=E,q=k,te=I,Y=D,G=j;for(let O=0;O<8;O+=2)z^=Dn(M+q|0,7),A^=Dn(z+M|0,9),q^=Dn(A+z|0,13),M^=Dn(q+A|0,18),P^=Dn(K+U|0,7),te^=Dn(P+K|0,9),U^=Dn(te+P|0,13),K^=Dn(U+te|0,18),Y^=Dn(R+H|0,7),V^=Dn(Y+R|0,9),H^=Dn(V+Y|0,13),R^=Dn(H+V|0,18),F^=Dn(G+$|0,7),B^=Dn(F+G|0,9),$^=Dn(B+F|0,13),G^=Dn($+B|0,18),U^=Dn(M+F|0,7),V^=Dn(U+M|0,9),F^=Dn(V+U|0,13),M^=Dn(F+V|0,18),H^=Dn(K+z|0,7),B^=Dn(H+K|0,9),z^=Dn(B+H|0,13),K^=Dn(z+B|0,18),$^=Dn(R+P|0,7),A^=Dn($+R|0,9),P^=Dn(A+$|0,13),R^=Dn(P+A|0,18),q^=Dn(G+Y|0,7),te^=Dn(q+G|0,9),Y^=Dn(te+q|0,13),G^=Dn(Y+te|0,18);i[s++]=o+M|0,i[s++]=a+U|0,i[s++]=l+V|0,i[s++]=c+F|0,i[s++]=u+z|0,i[s++]=f+K|0,i[s++]=m+H|0,i[s++]=g+B|0,i[s++]=x+A|0,i[s++]=v+P|0,i[s++]=w+R|0,i[s++]=E+$|0,i[s++]=k+q|0,i[s++]=I+te|0,i[s++]=D+Y|0,i[s++]=j+G|0}function _g(t,e,n,r,i){let s=r+0,o=r+16*i;for(let a=0;a<16;a++)n[o+a]=t[e+(2*i-1)*16+a];for(let a=0;a<i;a++,s+=16,e+=16)mH(n,o,t,e,n,s),a>0&&(o+=16),mH(n,s,t,e+=16,n,o)}function iie(t,e,n){const r=Ire({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:i,r:s,p:o,dkLen:a,asyncTick:l,maxmem:c,onProgress:u}=r;if(Ro(i),Ro(s),Ro(o),Ro(a),Ro(l),Ro(c),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");const f=128*s,m=f/4;if(i<=1||(i&i-1)!==0||i>=2**(f/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/f)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const g=f*(i+o);if(g>c)throw new Error(`Scrypt: parameters too large, ${g} (128 * r * (N + p)) > ${c} (maxmem)`);const x=l8(wx,t,e,{c:1,dkLen:f*o}),v=YA(x),w=YA(new Uint8Array(f*i)),E=YA(new Uint8Array(f));let k=()=>{};if(u){const I=2*i*o,D=Math.max(Math.floor(I/1e4),1);let j=0;k=()=>{j++,u&&(!(j%D)||j===I)&&u(j/I)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:m,V:w,B32:v,B:x,tmp:E,blockMixCb:k,asyncTick:l}}function sie(t,e,n,r,i){const s=l8(wx,t,n,{c:1,dkLen:e});return n.fill(0),r.fill(0),i.fill(0),s}function zNe(t,e,n){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:l,B32:c,B:u,tmp:f,blockMixCb:m}=iie(t,e,n);for(let g=0;g<s;g++){const x=a*g;for(let v=0;v<a;v++)l[v]=c[x+v];for(let v=0,w=0;v<r-1;v++)_g(l,w,l,w+=a,i),m();_g(l,(r-1)*a,c,x,i),m();for(let v=0;v<r;v++){const w=c[x+a-16]%r;for(let E=0;E<a;E++)f[E]=c[x+E]^l[w*a+E];_g(f,0,c,x,i),m()}}return sie(t,o,u,l,f)}async function $Ne(t,e,n){const{N:r,r:i,p:s,dkLen:o,blockSize32:a,V:l,B32:c,B:u,tmp:f,blockMixCb:m,asyncTick:g}=iie(t,e,n);for(let x=0;x<s;x++){const v=a*x;for(let E=0;E<a;E++)l[E]=c[v+E];let w=0;await cH(r-1,g,()=>{_g(l,w,l,w+=a,i),m()}),_g(l,(r-1)*a,c,v,i),m(),await cH(r,g,()=>{const E=c[v+a-16]%r;for(let k=0;k<a;k++)f[k]=c[v+k]^l[E*a+k];_g(f,0,c,v,i),m()})}return sie(t,o,u,l,f)}let oie=!1,aie=!1;const lie=async function(t,e,n,r,i,s,o){return await $Ne(t,e,{N:n,r,p:i,dkLen:s,onProgress:o})},cie=function(t,e,n,r,i,s){return zNe(t,e,{N:n,r,p:i,dkLen:s})};let uie=lie,die=cie;async function Ax(t,e,n,r,i,s,o){const a=ht(t,"passwd"),l=ht(e,"salt");return rt(await uie(a,l,n,r,i,s,o))}Ax._=lie;Ax.lock=function(){aie=!0};Ax.register=function(t){if(aie)throw new Error("scrypt is locked");uie=t};Object.freeze(Ax);function Tx(t,e,n,r,i,s){const o=ht(t,"passwd"),a=ht(e,"salt");return rt(die(o,a,n,r,i,s))}Tx._=cie;Tx.lock=function(){oie=!0};Tx.register=function(t){if(oie)throw new Error("scryptSync is locked");die=t};Object.freeze(Tx);const fie=function(t){return Bre("sha256").update(t).digest()},hie=function(t){return Bre("sha512").update(t).digest()};let pie=fie,mie=hie,gie=!1,yie=!1;function Ra(t){const e=ht(t,"data");return rt(pie(e))}Ra._=fie;Ra.lock=function(){gie=!0};Ra.register=function(t){if(gie)throw new Error("sha256 is locked");pie=t};Object.freeze(Ra);function p8(t){const e=ht(t,"data");return rt(mie(e))}p8._=hie;p8.lock=function(){yie=!0};p8.register=function(t){if(yie)throw new Error("sha512 is locked");mie=t};Object.freeze(Ra);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xie=BigInt(0),sk=BigInt(1),HNe=BigInt(2),ok=t=>t instanceof Uint8Array,VNe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ky(t){if(!ok(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=VNe[t[n]];return e}function vie(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function m8(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Wy(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Yp(t){return m8(Ky(t))}function g8(t){if(!ok(t))throw new Error("Uint8Array expected");return m8(Ky(Uint8Array.from(t).reverse()))}function Yy(t,e){return Wy(t.toString(16).padStart(e*2,"0"))}function y8(t,e){return Yy(t,e).reverse()}function GNe(t){return Wy(vie(t))}function Wa(t,e,n){let r;if(typeof e=="string")try{r=Wy(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(ok(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function o1(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!ok(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function qNe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function KNe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function WNe(t){let e;for(e=0;t>xie;t>>=sk,e+=1);return e}function YNe(t,e){return t>>BigInt(e)&sk}const JNe=(t,e,n)=>t|(n?sk:xie)<<BigInt(e),x8=t=>(HNe<<BigInt(t-1))-sk,J_=t=>new Uint8Array(t),gH=t=>Uint8Array.from(t);function bie(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=J_(t),i=J_(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...f)=>n(i,r,...f),l=(f=J_())=>{i=a(gH([0]),f),r=a(),f.length!==0&&(i=a(gH([1]),f),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const m=[];for(;f<e;){r=a();const g=r.slice();m.push(g),f+=r.length}return o1(...m)};return(f,m)=>{o(),l(f);let g;for(;!(g=m(c()));)l();return o(),g}}const XNe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Tw(t,e,n={}){const r=(i,s,o)=>{const a=XNe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const QNe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:YNe,bitLen:WNe,bitMask:x8,bitSet:JNe,bytesToHex:Ky,bytesToNumberBE:Yp,bytesToNumberLE:g8,concatBytes:o1,createHmacDrbg:bie,ensureBytes:Wa,equalBytes:qNe,hexToBytes:Wy,hexToNumber:m8,numberToBytesBE:Yy,numberToBytesLE:y8,numberToHexUnpadded:vie,numberToVarBytesBE:GNe,utf8ToBytes:KNe,validateObject:Tw},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pi=BigInt(0),Qr=BigInt(1),op=BigInt(2),ZNe=BigInt(3),PM=BigInt(4),yH=BigInt(5),xH=BigInt(8);BigInt(9);BigInt(16);function eo(t,e){const n=t%e;return n>=Pi?n:e+n}function eIe(t,e,n){if(n<=Pi||e<Pi)throw new Error("Expected power/modulo > 0");if(n===Qr)return Pi;let r=Qr;for(;e>Pi;)e&Qr&&(r=r*t%n),t=t*t%n,e>>=Qr;return r}function ea(t,e,n){let r=t;for(;e-- >Pi;)r*=r,r%=n;return r}function _M(t,e){if(t===Pi||e<=Pi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=eo(t,e),r=e,i=Pi,s=Qr;for(;n!==Pi;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==Qr)throw new Error("invert: does not exist");return eo(i,e)}function tIe(t){const e=(t-Qr)/op;let n,r,i;for(n=t-Qr,r=0;n%op===Pi;n/=op,r++);for(i=op;i<t&&eIe(i,e,t)!==t-Qr;i++);if(r===1){const o=(t+Qr)/PM;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+Qr)/op;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,i),n),f=a.pow(l,s),m=a.pow(l,n);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let g=1;for(let v=a.sqr(m);g<c&&!a.eql(v,a.ONE);g++)v=a.sqr(v);const x=a.pow(u,Qr<<BigInt(c-g-1));u=a.sqr(x),f=a.mul(f,x),m=a.mul(m,u),c=g}return f}}function nIe(t){if(t%PM===ZNe){const e=(t+Qr)/PM;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%xH===yH){const e=(t-yH)/xH;return function(r,i){const s=r.mul(i,op),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,op),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return tIe(t)}const rIe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function iIe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=rIe.reduce((r,i)=>(r[i]="function",r),e);return Tw(t,n)}function sIe(t,e,n){if(n<Pi)throw new Error("Expected power > 0");if(n===Pi)return t.ONE;if(n===Qr)return e;let r=t.ONE,i=e;for(;n>Pi;)n&Qr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Qr;return r}function oIe(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function wie(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function aIe(t,e,n=!1,r={}){if(t<=Pi)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=wie(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=nIe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:x8(i),ZERO:Pi,ONE:Qr,create:l=>eo(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Pi<=l&&l<t},is0:l=>l===Pi,isOdd:l=>(l&Qr)===Qr,neg:l=>eo(-l,t),eql:(l,c)=>l===c,sqr:l=>eo(l*l,t),add:(l,c)=>eo(l+c,t),sub:(l,c)=>eo(l-c,t),mul:(l,c)=>eo(l*c,t),pow:(l,c)=>sIe(a,l,c),div:(l,c)=>eo(l*_M(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>_M(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>oIe(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?y8(l,s):Yy(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?g8(l):Yp(l)}});return Object.freeze(a)}function Eie(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Sie(t){const e=Eie(t);return e+Math.ceil(e/2)}function lIe(t,e,n=!1){const r=t.length,i=Eie(e),s=Sie(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?Yp(t):g8(t),a=eo(o,e-Qr)+Qr;return n?y8(a,i):Yy(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cIe=BigInt(0),X_=BigInt(1);function uIe(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>cIe;)s&X_&&(o=o.add(a)),a=a.double(),s>>=X_;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let c=i,u=c;for(let f=0;f<o;f++){u=c,l.push(u);for(let m=1;m<a;m++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let c=t.ZERO,u=t.BASE;const f=BigInt(2**i-1),m=2**i,g=BigInt(i);for(let x=0;x<a;x++){const v=x*l;let w=Number(o&f);o>>=g,w>l&&(w-=m,o+=X_);const E=v,k=v+Math.abs(w)-1,I=x%2!==0,D=w<0;w===0?u=u.add(n(I,s[E])):c=c.add(n(D,s[k]))}return{p:c,f:u}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&s.set(i,a(c))),this.wNAF(l,c,o)}}}function Aie(t){return iIe(t.Fp),Tw(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wie(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function dIe(t){const e=Aie(t);Tw(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:fIe,hexToBytes:hIe}=QNe,mp={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=mp;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:fIe(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=mp,n=typeof t=="string"?hIe(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=mp._parseInt(n.subarray(2)),{d:o,l:a}=mp._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},Tu=BigInt(0),xa=BigInt(1);BigInt(2);const vH=BigInt(3);BigInt(4);function pIe(t){const e=dIe(t),{Fp:n}=e,r=e.toBytes||((x,v,w)=>{const E=v.toAffine();return o1(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),i=e.fromBytes||(x=>{const v=x.subarray(1),w=n.fromBytes(v.subarray(0,n.BYTES)),E=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:w,y:E}});function s(x){const{a:v,b:w}=e,E=n.sqr(x),k=n.mul(E,x);return n.add(n.add(k,n.mul(x,v)),w)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(x){return typeof x=="bigint"&&Tu<x&&x<e.n}function a(x){if(!o(x))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(x){const{allowedPrivateKeyLengths:v,nByteLength:w,wrapPrivateKey:E,n:k}=e;if(v&&typeof x!="bigint"){if(x instanceof Uint8Array&&(x=Ky(x)),typeof x!="string"||!v.includes(x.length))throw new Error("Invalid key");x=x.padStart(w*2,"0")}let I;try{I=typeof x=="bigint"?x:Yp(Wa("private key",x,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof x}`)}return E&&(I=eo(I,k)),a(I),I}const c=new Map;function u(x){if(!(x instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(v,w,E){if(this.px=v,this.py=w,this.pz=E,v==null||!n.isValid(v))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required")}static fromAffine(v){const{x:w,y:E}=v||{};if(!v||!n.isValid(w)||!n.isValid(E))throw new Error("invalid affine point");if(v instanceof f)throw new Error("projective point not allowed");const k=I=>n.eql(I,n.ZERO);return k(w)&&k(E)?f.ZERO:new f(w,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const w=n.invertBatch(v.map(E=>E.pz));return v.map((E,k)=>E.toAffine(w[k])).map(f.fromAffine)}static fromHex(v){const w=f.fromAffine(i(Wa("pointHex",v)));return w.assertValidity(),w}static fromPrivateKey(v){return f.BASE.multiply(l(v))}_setWindowSize(v){this._WINDOW_SIZE=v,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:w}=this.toAffine();if(!n.isValid(v)||!n.isValid(w))throw new Error("bad point: x or y not FE");const E=n.sqr(w),k=s(v);if(!n.eql(E,k))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){u(v);const{px:w,py:E,pz:k}=this,{px:I,py:D,pz:j}=v,M=n.eql(n.mul(w,j),n.mul(I,k)),U=n.eql(n.mul(E,j),n.mul(D,k));return M&&U}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:w}=e,E=n.mul(w,vH),{px:k,py:I,pz:D}=this;let j=n.ZERO,M=n.ZERO,U=n.ZERO,V=n.mul(k,k),F=n.mul(I,I),z=n.mul(D,D),K=n.mul(k,I);return K=n.add(K,K),U=n.mul(k,D),U=n.add(U,U),j=n.mul(v,U),M=n.mul(E,z),M=n.add(j,M),j=n.sub(F,M),M=n.add(F,M),M=n.mul(j,M),j=n.mul(K,j),U=n.mul(E,U),z=n.mul(v,z),K=n.sub(V,z),K=n.mul(v,K),K=n.add(K,U),U=n.add(V,V),V=n.add(U,V),V=n.add(V,z),V=n.mul(V,K),M=n.add(M,V),z=n.mul(I,D),z=n.add(z,z),V=n.mul(z,K),j=n.sub(j,V),U=n.mul(z,F),U=n.add(U,U),U=n.add(U,U),new f(j,M,U)}add(v){u(v);const{px:w,py:E,pz:k}=this,{px:I,py:D,pz:j}=v;let M=n.ZERO,U=n.ZERO,V=n.ZERO;const F=e.a,z=n.mul(e.b,vH);let K=n.mul(w,I),H=n.mul(E,D),B=n.mul(k,j),A=n.add(w,E),P=n.add(I,D);A=n.mul(A,P),P=n.add(K,H),A=n.sub(A,P),P=n.add(w,k);let R=n.add(I,j);return P=n.mul(P,R),R=n.add(K,B),P=n.sub(P,R),R=n.add(E,k),M=n.add(D,j),R=n.mul(R,M),M=n.add(H,B),R=n.sub(R,M),V=n.mul(F,P),M=n.mul(z,B),V=n.add(M,V),M=n.sub(H,V),V=n.add(H,V),U=n.mul(M,V),H=n.add(K,K),H=n.add(H,K),B=n.mul(F,B),P=n.mul(z,P),H=n.add(H,B),B=n.sub(K,B),B=n.mul(F,B),P=n.add(P,B),K=n.mul(H,P),U=n.add(U,K),K=n.mul(R,P),M=n.mul(A,M),M=n.sub(M,K),K=n.mul(A,H),V=n.mul(R,V),V=n.add(V,K),new f(M,U,V)}subtract(v){return this.add(v.negate())}is0(){return this.equals(f.ZERO)}wNAF(v){return g.wNAFCached(this,c,v,w=>{const E=n.invertBatch(w.map(k=>k.pz));return w.map((k,I)=>k.toAffine(E[I])).map(f.fromAffine)})}multiplyUnsafe(v){const w=f.ZERO;if(v===Tu)return w;if(a(v),v===xa)return this;const{endo:E}=e;if(!E)return g.unsafeLadder(this,v);let{k1neg:k,k1:I,k2neg:D,k2:j}=E.splitScalar(v),M=w,U=w,V=this;for(;I>Tu||j>Tu;)I&xa&&(M=M.add(V)),j&xa&&(U=U.add(V)),V=V.double(),I>>=xa,j>>=xa;return k&&(M=M.negate()),D&&(U=U.negate()),U=new f(n.mul(U.px,E.beta),U.py,U.pz),M.add(U)}multiply(v){a(v);let w=v,E,k;const{endo:I}=e;if(I){const{k1neg:D,k1:j,k2neg:M,k2:U}=I.splitScalar(w);let{p:V,f:F}=this.wNAF(j),{p:z,f:K}=this.wNAF(U);V=g.constTimeNegate(D,V),z=g.constTimeNegate(M,z),z=new f(n.mul(z.px,I.beta),z.py,z.pz),E=V.add(z),k=F.add(K)}else{const{p:D,f:j}=this.wNAF(w);E=D,k=j}return f.normalizeZ([E,k])[0]}multiplyAndAddUnsafe(v,w,E){const k=f.BASE,I=(j,M)=>M===Tu||M===xa||!j.equals(k)?j.multiplyUnsafe(M):j.multiply(M),D=I(this,w).add(I(v,E));return D.is0()?void 0:D}toAffine(v){const{px:w,py:E,pz:k}=this,I=this.is0();v==null&&(v=I?n.ONE:n.inv(k));const D=n.mul(w,v),j=n.mul(E,v),M=n.mul(k,v);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:D,y:j}}isTorsionFree(){const{h:v,isTorsionFree:w}=e;if(v===xa)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:w}=e;return v===xa?this:w?w(f,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return this.assertValidity(),r(f,this,v)}toHex(v=!0){return Ky(this.toRawBytes(v))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const m=e.nBitLength,g=uIe(f,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function mIe(t){const e=Aie(t);return Tw(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function gIe(t){const e=mIe(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(P){return Tu<P&&P<n.ORDER}function a(P){return eo(P,r)}function l(P){return _M(P,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:m}=pIe({...e,toBytes(P,R,$){const q=R.toAffine(),te=n.toBytes(q.x),Y=o1;return $?Y(Uint8Array.from([R.hasEvenY()?2:3]),te):Y(Uint8Array.from([4]),te,n.toBytes(q.y))},fromBytes(P){const R=P.length,$=P[0],q=P.subarray(1);if(R===i&&($===2||$===3)){const te=Yp(q);if(!o(te))throw new Error("Point is not on curve");const Y=f(te);let G=n.sqrt(Y);const O=(G&xa)===xa;return($&1)===1!==O&&(G=n.neg(G)),{x:te,y:G}}else if(R===s&&$===4){const te=n.fromBytes(q.subarray(0,n.BYTES)),Y=n.fromBytes(q.subarray(n.BYTES,2*n.BYTES));return{x:te,y:Y}}else throw new Error(`Point of length ${R} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),g=P=>Ky(Yy(P,e.nByteLength));function x(P){const R=r>>xa;return P>R}function v(P){return x(P)?a(-P):P}const w=(P,R,$)=>Yp(P.slice(R,$));class E{constructor(R,$,q){this.r=R,this.s=$,this.recovery=q,this.assertValidity()}static fromCompact(R){const $=e.nByteLength;return R=Wa("compactSignature",R,$*2),new E(w(R,0,$),w(R,$,2*$))}static fromDER(R){const{r:$,s:q}=mp.toSig(Wa("DER",R));return new E($,q)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new E(this.r,this.s,R)}recoverPublicKey(R){const{r:$,s:q,recovery:te}=this,Y=U(Wa("msgHash",R));if(te==null||![0,1,2,3].includes(te))throw new Error("recovery id invalid");const G=te===2||te===3?$+e.n:$;if(G>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const O=(te&1)===0?"02":"03",N=c.fromHex(O+g(G)),W=l(G),X=a(-Y*W),re=a(q*W),ae=c.BASE.multiplyAndAddUnsafe(N,X,re);if(!ae)throw new Error("point at infinify");return ae.assertValidity(),ae}hasHighS(){return x(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Wy(this.toDERHex())}toDERHex(){return mp.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Wy(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const k={isValidPrivateKey(P){try{return u(P),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const P=Sie(e.n);return lIe(e.randomBytes(P),e.n)},precompute(P=8,R=c.BASE){return R._setWindowSize(P),R.multiply(BigInt(3)),R}};function I(P,R=!0){return c.fromPrivateKey(P).toRawBytes(R)}function D(P){const R=P instanceof Uint8Array,$=typeof P=="string",q=(R||$)&&P.length;return R?q===i||q===s:$?q===2*i||q===2*s:P instanceof c}function j(P,R,$=!0){if(D(P))throw new Error("first arg must be private key");if(!D(R))throw new Error("second arg must be public key");return c.fromHex(R).multiply(u(P)).toRawBytes($)}const M=e.bits2int||function(P){const R=Yp(P),$=P.length*8-e.nBitLength;return $>0?R>>BigInt($):R},U=e.bits2int_modN||function(P){return a(M(P))},V=x8(e.nBitLength);function F(P){if(typeof P!="bigint")throw new Error("bigint expected");if(!(Tu<=P&&P<V))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Yy(P,e.nByteLength)}function z(P,R,$=K){if(["recovered","canonical"].some(ue=>ue in $))throw new Error("sign() legacy options not supported");const{hash:q,randomBytes:te}=e;let{lowS:Y,prehash:G,extraEntropy:O}=$;Y==null&&(Y=!0),P=Wa("msgHash",P),G&&(P=Wa("prehashed msgHash",q(P)));const N=U(P),W=u(R),X=[F(W),F(N)];if(O!=null){const ue=O===!0?te(n.BYTES):O;X.push(Wa("extraEntropy",ue))}const re=o1(...X),ae=N;function Ee(ue){const me=M(ue);if(!m(me))return;const ce=l(me),oe=c.BASE.multiply(me).toAffine(),Ce=a(oe.x);if(Ce===Tu)return;const Ne=a(ce*a(ae+Ce*W));if(Ne===Tu)return;let $e=(oe.x===Ce?0:2)|Number(oe.y&xa),Ze=Ne;return Y&&x(Ne)&&(Ze=v(Ne),$e^=1),new E(Ce,Ze,$e)}return{seed:re,k2sig:Ee}}const K={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function B(P,R,$=K){const{seed:q,k2sig:te}=z(P,R,$),Y=e;return bie(Y.hash.outputLen,Y.nByteLength,Y.hmac)(q,te)}c.BASE._setWindowSize(8);function A(P,R,$,q=H){var oe;const te=P;if(R=Wa("msgHash",R),$=Wa("publicKey",$),"strict"in q)throw new Error("options.strict was renamed to lowS");const{lowS:Y,prehash:G}=q;let O,N;try{if(typeof te=="string"||te instanceof Uint8Array)try{O=E.fromDER(te)}catch(Ce){if(!(Ce instanceof mp.Err))throw Ce;O=E.fromCompact(te)}else if(typeof te=="object"&&typeof te.r=="bigint"&&typeof te.s=="bigint"){const{r:Ce,s:Ne}=te;O=new E(Ce,Ne)}else throw new Error("PARSE");N=c.fromHex($)}catch(Ce){if(Ce.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Y&&O.hasHighS())return!1;G&&(R=e.hash(R));const{r:W,s:X}=O,re=U(R),ae=l(X),Ee=a(re*ae),ue=a(W*ae),me=(oe=c.BASE.multiplyAndAddUnsafe(N,Ee,ue))==null?void 0:oe.toAffine();return me?a(me.x)===W:!1}return{CURVE:e,getPublicKey:I,getSharedSecret:j,sign:B,verify:A,ProjectivePoint:c,Signature:E,utils:k}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yIe(t){return{hash:t,hmac:(e,...n)=>ik(t,e,Vke(...n)),randomBytes:qke}}function xIe(t,e){const n=r=>gIe({...t,...yIe(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tie=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),bH=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vIe=BigInt(1),RM=BigInt(2),wH=(t,e)=>(t+e/RM)/e;function bIe(t){const e=Tie,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,f=ea(u,n,e)*u%e,m=ea(f,n,e)*u%e,g=ea(m,RM,e)*c%e,x=ea(g,i,e)*g%e,v=ea(x,s,e)*x%e,w=ea(v,a,e)*v%e,E=ea(w,l,e)*w%e,k=ea(E,a,e)*v%e,I=ea(k,n,e)*u%e,D=ea(I,o,e)*x%e,j=ea(D,r,e)*c%e,M=ea(j,RM,e);if(!OM.eql(OM.sqr(M),t))throw new Error("Cannot find square root");return M}const OM=aIe(Tie,void 0,void 0,{sqrt:bIe}),mf=xIe({a:BigInt(0),b:BigInt(7),Fp:OM,n:bH,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=bH,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-vIe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=wH(s*t,e),l=wH(-r*t,e);let c=eo(t-a*n-l*i,e),u=eo(-a*r-l*s,e);const f=c>o,m=u>o;if(f&&(c=e-c),m&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:m,k2:u}}}},wx);BigInt(0);mf.ProjectivePoint;const a1="0x0000000000000000000000000000000000000000",EH="0x0000000000000000000000000000000000000000000000000000000000000000",wgt="",wIe=`Ethereum Signed Message:
`,SH=BigInt(0),AH=BigInt(1),MM=BigInt(2),TH=BigInt(27),CH=BigInt(28),DS=BigInt(35),Cie=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),EIe=Cie/MM,SIe=Symbol.for("nodejs.util.inspect.custom"),Gh={};function Q_(t){return Zu(Or(t),32)}var ry,Hl,iy,Nf;const ua=class ua{constructor(e,n,r,i){je(this,ry);je(this,Hl);je(this,iy);je(this,Nf);mh(e,Gh,"Signature"),ge(this,ry,n),ge(this,Hl,r),ge(this,iy,i),ge(this,Nf,null)}get r(){return ie(this,ry)}set r(e){xe(Ig(e)===32,"invalid r","value",e),ge(this,ry,rt(e))}get s(){return xe(parseInt(ie(this,Hl).substring(0,3))<8,"non-canonical s; use ._s","s",ie(this,Hl)),ie(this,Hl)}set s(e){xe(Ig(e)===32,"invalid s","value",e),ge(this,Hl,rt(e))}get _s(){return ie(this,Hl)}isValid(){return BigInt(ie(this,Hl))<=EIe}get v(){return ie(this,iy)}set v(e){const n=Jt(e,"value");xe(n===27||n===28,"invalid v","v",e),ge(this,iy,n)}get networkV(){return ie(this,Nf)}get legacyChainId(){const e=this.networkV;return e==null?null:ua.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ht(this.s);return this.yParity&&(e[0]|=128),rt(e)}get compactSerialized(){return _n([this.r,this.yParityAndS])}get serialized(){return _n([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=Cie-BigInt(this._s),n=55-this.v,r=new ua(Gh,this.r,Q_(e),n);return this.networkV&&ge(r,Nf,this.networkV),r}clone(){const e=new ua(Gh,this.r,this._s,this.v);return this.networkV&&ge(e,Nf,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[SIe](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const n=wt(e,"v");return n==TH||n==CH?SH:(xe(n>=DS,"invalid EIP-155 v","v",e),(n-DS)/MM)}static getChainIdV(e,n){return wt(e)*MM+BigInt(35+n-27)}static getNormalizedV(e){const n=wt(e);return n===SH||n===TH?27:n===AH||n===CH?28:(xe(n>=DS,"invalid v","v",e),n&AH?27:28)}static from(e){function n(c,u){xe(c,u,"signature",e)}if(e==null)return new ua(Gh,EH,EH,27);if(typeof e=="string"){const c=ht(e,"signature");if(c.length===64){const u=rt(c.slice(0,32)),f=c.slice(32,64),m=f[0]&128?28:27;return f[0]&=127,new ua(Gh,u,rt(f),m)}if(c.length===65){const u=rt(c.slice(0,32)),f=rt(c.slice(32,64)),m=ua.getNormalizedV(c[64]);return new ua(Gh,u,f,m)}n(!1,"invalid raw signature length")}if(e instanceof ua)return e.clone();const r=e.r;n(r!=null,"missing r");const i=Q_(r),s=(function(c,u){if(c!=null)return Q_(c);if(u!=null){n(pr(u,32),"invalid yParityAndS");const f=ht(u);return f[0]&=127,rt(f)}n(!1,"missing s")})(e.s,e.yParityAndS),{networkV:o,v:a}=(function(c,u,f){if(c!=null){const m=wt(c);return{networkV:m>=DS?m:void 0,v:ua.getNormalizedV(m)}}if(u!=null)return n(pr(u,32),"invalid yParityAndS"),{v:ht(u)[0]&128?28:27};if(f!=null){switch(Jt(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),l=new ua(Gh,i,s,a);return o&&ge(l,Nf,o),n(e.yParity==null||Jt(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};ry=new WeakMap,Hl=new WeakMap,iy=new WeakMap,Nf=new WeakMap;let Bs=ua;var gu;const ap=class ap{constructor(e){je(this,gu);xe(Ig(e)===32,"invalid private key","privateKey","[REDACTED]"),ge(this,gu,rt(e))}get privateKey(){return ie(this,gu)}get publicKey(){return ap.computePublicKey(ie(this,gu))}get compressedPublicKey(){return ap.computePublicKey(ie(this,gu),!0)}sign(e){xe(Ig(e)===32,"invalid digest length","digest",e);const n=mf.sign(Qi(e),Qi(ie(this,gu)),{lowS:!0});return Bs.from({r:ed(n.r,32),s:ed(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=ap.computePublicKey(e);return rt(mf.getSharedSecret(Qi(ie(this,gu)),ht(n),!1))}static computePublicKey(e,n){let r=ht(e,"key");if(r.length===32){const s=mf.getPublicKey(r,!!n);return rt(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=mf.ProjectivePoint.fromHex(r);return rt(i.toRawBytes(n))}static recoverPublicKey(e,n){xe(Ig(e)===32,"invalid digest length","digest",e);const r=Bs.from(n);let i=mf.Signature.fromCompact(Qi(_n([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(Qi(e));return xe(s!=null,"invalid signature for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=mf.ProjectivePoint.fromHex(ap.computePublicKey(e).substring(2)),s=mf.ProjectivePoint.fromHex(ap.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}};gu=new WeakMap;let hc=ap;const AIe=BigInt(0),TIe=BigInt(36);function kH(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=ht(Gn(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const v8={};for(let t=0;t<10;t++)v8[String(t)]=String(t);for(let t=0;t<26;t++)v8[String.fromCharCode(65+t)]=String(10+t);const NH=15;function kie(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>v8[r]).join("");for(;e.length>=NH;){let r=e.substring(0,NH);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const CIe=(function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t})();function kIe(t){t=t.toLowerCase();let e=AIe;for(let n=0;n<t.length;n++)e=e*TIe+CIe[t[n]];return e}function gn(t){if(xe(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=kH(t);return xe(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){xe(t.substring(2,4)===kie(t),"bad icap checksum","address",t);let e=kIe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return kH("0x"+e)}xe(!1,"invalid address","address",t)}function Egt(t){let e=BigInt(gn(t)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+kie("XE00"+e)+e}function NIe(t){const e=gn(t.from);let r=wt(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,gn(hr(Gn(fc([e,r])),12))}function Sgt(t,e,n){const r=gn(t),i=ht(e,"salt"),s=ht(n,"initCodeHash");return xe(i.length===32,"salt must be 32 bytes","salt",e),xe(s.length===32,"initCodeHash must be 32 bytes","initCodeHash",n),gn(hr(Gn(_n(["0xff",r,i,s])),12))}function Nie(t){return t&&typeof t.getAddress=="function"}function Agt(t){try{return gn(t),!0}catch{}return!1}async function Z_(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(Ke(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),xe(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),gn(n)}function _i(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?gn(t):(Ke(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Z_(t,e.resolveName(t)));if(Nie(t))return Z_(t,t.getAddress());if(t&&typeof t.then=="function")return Z_(t,t);xe(!1,"unsupported addressable value","target",t)}const au={};function Tt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new bs(au,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Ln(t,e){return new bs(au,`bytes${e||""}`,t,{size:e})}const IH=Symbol.for("_ethers_typed");var Mp;const lu=class lu{constructor(e,n,r,i){Se(this,"type");Se(this,"value");je(this,Mp);Se(this,"_typedSymbol");i==null&&(i=null),mh(au,e,"Typed"),Mt(this,{_typedSymbol:IH,type:n,value:r}),ge(this,Mp,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return ie(this,Mp)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return ie(this,Mp)===!0?-1:ie(this,Mp)===!1?this.value.length:null}static from(e,n){return new lu(au,e,n)}static uint8(e){return Tt(e,8)}static uint16(e){return Tt(e,16)}static uint24(e){return Tt(e,24)}static uint32(e){return Tt(e,32)}static uint40(e){return Tt(e,40)}static uint48(e){return Tt(e,48)}static uint56(e){return Tt(e,56)}static uint64(e){return Tt(e,64)}static uint72(e){return Tt(e,72)}static uint80(e){return Tt(e,80)}static uint88(e){return Tt(e,88)}static uint96(e){return Tt(e,96)}static uint104(e){return Tt(e,104)}static uint112(e){return Tt(e,112)}static uint120(e){return Tt(e,120)}static uint128(e){return Tt(e,128)}static uint136(e){return Tt(e,136)}static uint144(e){return Tt(e,144)}static uint152(e){return Tt(e,152)}static uint160(e){return Tt(e,160)}static uint168(e){return Tt(e,168)}static uint176(e){return Tt(e,176)}static uint184(e){return Tt(e,184)}static uint192(e){return Tt(e,192)}static uint200(e){return Tt(e,200)}static uint208(e){return Tt(e,208)}static uint216(e){return Tt(e,216)}static uint224(e){return Tt(e,224)}static uint232(e){return Tt(e,232)}static uint240(e){return Tt(e,240)}static uint248(e){return Tt(e,248)}static uint256(e){return Tt(e,256)}static uint(e){return Tt(e,256)}static int8(e){return Tt(e,-8)}static int16(e){return Tt(e,-16)}static int24(e){return Tt(e,-24)}static int32(e){return Tt(e,-32)}static int40(e){return Tt(e,-40)}static int48(e){return Tt(e,-48)}static int56(e){return Tt(e,-56)}static int64(e){return Tt(e,-64)}static int72(e){return Tt(e,-72)}static int80(e){return Tt(e,-80)}static int88(e){return Tt(e,-88)}static int96(e){return Tt(e,-96)}static int104(e){return Tt(e,-104)}static int112(e){return Tt(e,-112)}static int120(e){return Tt(e,-120)}static int128(e){return Tt(e,-128)}static int136(e){return Tt(e,-136)}static int144(e){return Tt(e,-144)}static int152(e){return Tt(e,-152)}static int160(e){return Tt(e,-160)}static int168(e){return Tt(e,-168)}static int176(e){return Tt(e,-176)}static int184(e){return Tt(e,-184)}static int192(e){return Tt(e,-192)}static int200(e){return Tt(e,-200)}static int208(e){return Tt(e,-208)}static int216(e){return Tt(e,-216)}static int224(e){return Tt(e,-224)}static int232(e){return Tt(e,-232)}static int240(e){return Tt(e,-240)}static int248(e){return Tt(e,-248)}static int256(e){return Tt(e,-256)}static int(e){return Tt(e,-256)}static bytes1(e){return Ln(e,1)}static bytes2(e){return Ln(e,2)}static bytes3(e){return Ln(e,3)}static bytes4(e){return Ln(e,4)}static bytes5(e){return Ln(e,5)}static bytes6(e){return Ln(e,6)}static bytes7(e){return Ln(e,7)}static bytes8(e){return Ln(e,8)}static bytes9(e){return Ln(e,9)}static bytes10(e){return Ln(e,10)}static bytes11(e){return Ln(e,11)}static bytes12(e){return Ln(e,12)}static bytes13(e){return Ln(e,13)}static bytes14(e){return Ln(e,14)}static bytes15(e){return Ln(e,15)}static bytes16(e){return Ln(e,16)}static bytes17(e){return Ln(e,17)}static bytes18(e){return Ln(e,18)}static bytes19(e){return Ln(e,19)}static bytes20(e){return Ln(e,20)}static bytes21(e){return Ln(e,21)}static bytes22(e){return Ln(e,22)}static bytes23(e){return Ln(e,23)}static bytes24(e){return Ln(e,24)}static bytes25(e){return Ln(e,25)}static bytes26(e){return Ln(e,26)}static bytes27(e){return Ln(e,27)}static bytes28(e){return Ln(e,28)}static bytes29(e){return Ln(e,29)}static bytes30(e){return Ln(e,30)}static bytes31(e){return Ln(e,31)}static bytes32(e){return Ln(e,32)}static address(e){return new lu(au,"address",e)}static bool(e){return new lu(au,"bool",!!e)}static bytes(e){return new lu(au,"bytes",e)}static string(e){return new lu(au,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new lu(au,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===IH}static dereference(e,n){if(lu.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};Mp=new WeakMap;let bs=lu;class IIe extends yd{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=bs.dereference(n,"string");try{r=gn(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return gn(ed(e.readValue(),20))}}class PIe extends yd{constructor(n){super(n.name,n.type,"_",n.dynamic);Se(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function Iie(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(c=>{const u=c.localName;return Ke(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),Ke(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),l[u]=!0,n[u]})}else xe(!1,"invalid tuple value","tuple",n);xe(e.length===r.length,"types/value length mismatch","tuple",n);let i=new CM,s=new CM,o=[];e.forEach((l,c)=>{let u=r[c];if(l.dynamic){let f=s.length;l.encode(s,u);let m=i.writeUpdatableValue();o.push(g=>{m(g+f)})}else l.encode(i,u)}),o.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function Pie(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),l=i.subReader(a);try{o=s.decode(l)}catch(c){if(Xi(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(Xi(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");n.push(o),r.push(s.localName||null)}),Vy.fromItems(n,r)}class _Ie extends yd{constructor(n,r,i){const s=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",s,i,o);Se(this,"coder");Se(this,"length");Mt(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=bs.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,n.writeValue(i.length)),are(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<i.length;a++)o.push(this.coder);return Iie(n,o,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),Ke(r*Ms<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*Ms,length:n.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new PIe(this.coder));return Pie(n,i)}}class RIe extends yd{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=bs.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class _ie extends yd{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Qi(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class OIe extends _ie{constructor(e){super("bytes",e)}decode(e){return rt(super.decode(e))}}class MIe extends yd{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);Se(this,"size");Mt(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=Qi(bs.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return rt(n.readBytes(this.size))}}const DIe=new Uint8Array([]);class LIe extends yd{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(DIe)}decode(e){return e.readBytes(0),null}}const BIe=BigInt(0),jIe=BigInt(1),UIe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class FIe extends yd{constructor(n,r,i){const s=(r?"int":"uint")+n*8;super(s,s,i,!1);Se(this,"size");Se(this,"signed");Mt(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=wt(bs.dereference(r,this.type)),s=pp(UIe,Ms*8);if(this.signed){let o=pp(s,this.size*8-1);(i>o||i<-(o+jIe))&&this._throwError("value out-of-bounds",r),i=dre(i,8*Ms)}else(i<BIe||i>pp(s,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=pp(n.readValue(),this.size*8);return this.signed&&(r=FT(r,this.size*8)),r}}class zIe extends _ie{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,ci(bs.dereference(n,"string")))}decode(e){return $T(super.decode(e))}}class LS extends yd{constructor(n,r){let i=!1;const s=[];n.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const o="tuple("+s.join(",")+")";super("tuple",o,r,i);Se(this,"coders");Mt(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[s]))}),Object.freeze(n)}encode(n,r){const i=bs.dereference(r,"tuple");return Iie(n,this.coders,i)}decode(n){return Pie(n,this.coders)}}function eR(t,e){return{address:gn(t),storageKeys:e.map((n,r)=>(xe(pr(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Pm(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(xe(n.length===2,"invalid slot set",`value[${r}]`,n),eR(n[0],n[1])):(xe(n!=null&&typeof n=="object","invalid address-slot set","value",t),eR(n.address,n.storageKeys)));xe(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return eR(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function Rie(t){return{address:gn(t.address),nonce:wt(t.nonce!=null?t.nonce:0),chainId:wt(t.chainId!=null?t.chainId:0),signature:Bs.from(t.signature)}}function Cw(t){let e;return typeof t=="string"?e=hc.computePublicKey(t,!1):e=t.publicKey,gn(Gn("0x"+e.substring(4)).substring(26))}function ak(t,e){return Cw(hc.recoverPublicKey(t,e))}const Ii=BigInt(0),$Ie=BigInt(2),HIe=BigInt(27),VIe=BigInt(28),GIe=BigInt(35),qIe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),KIe=Symbol.for("nodejs.util.inspect.custom"),tR=4096*32,XA=128;function WIe(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return ht(t.blobToKzgCommitment(rt(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return ht(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return ht(t.blobToKZGCommitment(rt(r)));xe(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return ht(t.computeBlobProof(rt(r),rt(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return ht(t.computeBlobKZGProof(rt(r),rt(i)));xe(!1,"unsupported KZG library","kzg",t)}}}function PH(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Ra(e).substring(4),"0x"+n}function Cx(t){return t==="0x"?null:gn(t)}function lk(t,e){try{return Pm(t)}catch(n){xe(!1,n.message,e,t)}}function YIe(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:Cx(i[1]),nonce:nr(i[2],"nonce"),chainId:nr(i[0],"chainId"),signature:Bs.from({yParity:_m(i[3],"yParity"),r:Zu(i[4],32),s:Zu(i[5],32)})})}return n}catch(n){xe(!1,n.message,e,t)}}function _m(t,e){return t==="0x"?0:Jt(t,e)}function nr(t,e){if(t==="0x")return Ii;const n=wt(t,e);return xe(n<=qIe,"value exceeds uint size",e,n),n}function kn(t,e){const n=wt(t,"value"),r=Or(n);return xe(r.length<=32,"value too large",`tx.${e}`,n),r}function ck(t){return Pm(t).map(e=>[e.address,e.storageKeys])}function JIe(t){return t.map(e=>[kn(e.chainId,"chainId"),e.address,kn(e.nonce,"nonce"),kn(e.signature.yParity,"yParity"),Or(e.signature.r),Or(e.signature._s)])}function XIe(t,e){xe(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)xe(pr(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function QIe(t){const e=Aw(t);xe(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:_m(e[0],"nonce"),gasPrice:nr(e[1],"gasPrice"),gasLimit:nr(e[2],"gasLimit"),to:Cx(e[3]),value:nr(e[4],"value"),data:rt(e[5]),chainId:Ii};if(e.length===6)return n;const r=nr(e[6],"v"),i=nr(e[7],"r"),s=nr(e[8],"s");if(i===Ii&&s===Ii)n.chainId=r;else{let o=(r-GIe)/$Ie;o<Ii&&(o=Ii),n.chainId=o,xe(o!==Ii||r===HIe||r===VIe,"non-canonical legacy v","v",e[6]),n.signature=Bs.from({r:Zu(e[7],32),s:Zu(e[8],32),v:r})}return n}function ZIe(t,e){const n=[kn(t.nonce,"nonce"),kn(t.gasPrice||0,"gasPrice"),kn(t.gasLimit,"gasLimit"),t.to||"0x",kn(t.value,"value"),t.data];let r=Ii;if(t.chainId!=Ii)r=wt(t.chainId,"tx.chainId"),xe(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==Ii&&(n.push(Or(r)),n.push("0x"),n.push("0x")),fc(n);let i=BigInt(27+e.yParity);return r!==Ii?i=Bs.getChainIdV(r,e.v):BigInt(e.v)!==i&&xe(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Or(i)),n.push(Or(e.r)),n.push(Or(e._s)),fc(n)}function uk(t,e){let n;try{if(n=_m(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{xe(!1,"invalid yParity","yParity",e[0])}const r=Zu(e[1],32),i=Zu(e[2],32),s=Bs.from({r,s:i,yParity:n});t.signature=s}function ePe(t){const e=Aw(ht(t).slice(1));xe(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",rt(t));const n={type:2,chainId:nr(e[0],"chainId"),nonce:_m(e[1],"nonce"),maxPriorityFeePerGas:nr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:nr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:nr(e[4],"gasLimit"),to:Cx(e[5]),value:nr(e[6],"value"),data:rt(e[7]),accessList:lk(e[8],"accessList")};return e.length===9||uk(n,e.slice(9)),n}function tPe(t,e){const n=[kn(t.chainId,"chainId"),kn(t.nonce,"nonce"),kn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),kn(t.maxFeePerGas||0,"maxFeePerGas"),kn(t.gasLimit,"gasLimit"),t.to||"0x",kn(t.value,"value"),t.data,ck(t.accessList||[])];return e&&(n.push(kn(e.yParity,"yParity")),n.push(Or(e.r)),n.push(Or(e.s))),_n(["0x02",fc(n)])}function nPe(t){const e=Aw(ht(t).slice(1));xe(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",rt(t));const n={type:1,chainId:nr(e[0],"chainId"),nonce:_m(e[1],"nonce"),gasPrice:nr(e[2],"gasPrice"),gasLimit:nr(e[3],"gasLimit"),to:Cx(e[4]),value:nr(e[5],"value"),data:rt(e[6]),accessList:lk(e[7],"accessList")};return e.length===8||uk(n,e.slice(8)),n}function rPe(t,e){const n=[kn(t.chainId,"chainId"),kn(t.nonce,"nonce"),kn(t.gasPrice||0,"gasPrice"),kn(t.gasLimit,"gasLimit"),t.to||"0x",kn(t.value,"value"),t.data,ck(t.accessList||[])];return e&&(n.push(kn(e.yParity,"recoveryParam")),n.push(Or(e.r)),n.push(Or(e.s))),_n(["0x01",fc(n)])}function iPe(t){let e=Aw(ht(t).slice(1)),n="3",r=null,i=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const o=e[1],a=e[2],l=e[3];xe(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),xe(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),xe(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),xe(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),xe(o.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let c=0;c<e[1].length;c++)i.push({data:o[c],commitment:a[c],proof:l[c]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){n="3 (EIP-7594 network format)",r=Jt(e[1]);const o=e[2],a=e[3],l=e[4];xe(r===1,`unsupported EIP-7594 network format version: ${r}`,"fields[1]",r),xe(Array.isArray(o),"invalid EIP-7594 network format: blobs not an array","fields[2]",o),xe(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),xe(Array.isArray(l),"invalid EIP-7594 network format: proofs not an array","fields[4]",l),xe(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),xe(o.length*XA===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let c=0;c<o.length;c++){const u=[];for(let f=0;f<XA;f++)u.push(l[c*XA+f]);i.push({data:o[c],commitment:a[c],proof:_n(u)})}e=e[0]}xe(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",rt(t));const s={type:3,chainId:nr(e[0],"chainId"),nonce:_m(e[1],"nonce"),maxPriorityFeePerGas:nr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:nr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:nr(e[4],"gasLimit"),to:Cx(e[5]),value:nr(e[6],"value"),data:rt(e[7]),accessList:lk(e[8],"accessList"),maxFeePerBlobGas:nr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:r};i&&(s.blobs=i),xe(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),xe(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let o=0;o<s.blobVersionedHashes.length;o++)xe(pr(s.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",t);return e.length===11||uk(s,e.slice(11)),s}function sPe(t,e,n){const r=[kn(t.chainId,"chainId"),kn(t.nonce,"nonce"),kn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),kn(t.maxFeePerGas||0,"maxFeePerGas"),kn(t.gasLimit,"gasLimit"),t.to||a1,kn(t.value,"value"),t.data,ck(t.accessList||[]),kn(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),XIe(t.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(r.push(kn(e.yParity,"yParity")),r.push(Or(e.r)),r.push(Or(e.s)),n)){if(t.blobWrapperVersion!=null){const i=Or(t.blobWrapperVersion),s=[];for(const{proof:o}of n){const a=ht(o),l=a.length/XA;for(let c=0;c<a.length;c+=l)s.push(a.subarray(c,c+l))}return _n(["0x03",fc([r,i,n.map(o=>o.data),n.map(o=>o.commitment),s])])}return _n(["0x03",fc([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])])}return _n(["0x03",fc(r)])}function oPe(t){const e=Aw(ht(t).slice(1));xe(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",rt(t));const n={type:4,chainId:nr(e[0],"chainId"),nonce:_m(e[1],"nonce"),maxPriorityFeePerGas:nr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:nr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:nr(e[4],"gasLimit"),to:Cx(e[5]),value:nr(e[6],"value"),data:rt(e[7]),accessList:lk(e[8],"accessList"),authorizationList:YIe(e[9],"authorizationList")};return e.length===10||uk(n,e.slice(10)),n}function aPe(t,e){const n=[kn(t.chainId,"chainId"),kn(t.nonce,"nonce"),kn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),kn(t.maxFeePerGas||0,"maxFeePerGas"),kn(t.gasLimit,"gasLimit"),t.to||"0x",kn(t.value,"value"),t.data,ck(t.accessList||[]),JIe(t.authorizationList||[])];return e&&(n.push(kn(e.yParity,"yParity")),n.push(Or(e.r)),n.push(Or(e.s))),_n(["0x04",fc(n)])}var Qa,sy,oy,ay,ly,cy,uy,dy,fy,hy,py,my,Dp,If,Vl,Pf,gy,yy,xy,QA,Po;let b8=(Po=class{constructor(){je(this,xy);je(this,Qa);je(this,sy);je(this,oy);je(this,ay);je(this,ly);je(this,cy);je(this,uy);je(this,dy);je(this,fy);je(this,hy);je(this,py);je(this,my);je(this,Dp);je(this,If);je(this,Vl);je(this,Pf);je(this,gy);je(this,yy);ge(this,Qa,null),ge(this,sy,null),ge(this,ay,0),ge(this,ly,Ii),ge(this,cy,null),ge(this,uy,null),ge(this,dy,null),ge(this,oy,"0x"),ge(this,fy,Ii),ge(this,hy,Ii),ge(this,py,null),ge(this,my,null),ge(this,Dp,null),ge(this,If,null),ge(this,Vl,null),ge(this,Pf,null),ge(this,gy,null),ge(this,yy,null)}get type(){return ie(this,Qa)}set type(e){switch(e){case null:ge(this,Qa,null);break;case 0:case"legacy":ge(this,Qa,0);break;case 1:case"berlin":case"eip-2930":ge(this,Qa,1);break;case 2:case"london":case"eip-1559":ge(this,Qa,2);break;case 3:case"cancun":case"eip-4844":ge(this,Qa,3);break;case 4:case"pectra":case"eip-7702":ge(this,Qa,4);break;default:xe(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=ie(this,sy);return e==null&&this.type===3?a1:e}set to(e){ge(this,sy,e==null?null:gn(e))}get nonce(){return ie(this,ay)}set nonce(e){ge(this,ay,Jt(e,"value"))}get gasLimit(){return ie(this,ly)}set gasLimit(e){ge(this,ly,wt(e))}get gasPrice(){const e=ie(this,cy);return e==null&&(this.type===0||this.type===1)?Ii:e}set gasPrice(e){ge(this,cy,e==null?null:wt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=ie(this,uy);return e??(this.type===2||this.type===3?Ii:null)}set maxPriorityFeePerGas(e){ge(this,uy,e==null?null:wt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=ie(this,dy);return e??(this.type===2||this.type===3?Ii:null)}set maxFeePerGas(e){ge(this,dy,e==null?null:wt(e,"maxFeePerGas"))}get data(){return ie(this,oy)}set data(e){ge(this,oy,rt(e))}get value(){return ie(this,fy)}set value(e){ge(this,fy,wt(e,"value"))}get chainId(){return ie(this,hy)}set chainId(e){ge(this,hy,wt(e))}get signature(){return ie(this,py)||null}set signature(e){ge(this,py,e==null?null:Bs.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const n=this.authorizationList;if(n){for(const r of n)if(!r.signature.isValid())return!1}return!0}get accessList(){const e=ie(this,my)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){ge(this,my,e==null?null:Pm(e))}get authorizationList(){const e=ie(this,gy)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){ge(this,gy,e==null?null:e.map(n=>Rie(n)))}get maxFeePerBlobGas(){const e=ie(this,Dp);return e==null&&this.type===3?Ii:e}set maxFeePerBlobGas(e){ge(this,Dp,e==null?null:wt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=ie(this,If);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){xe(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)xe(pr(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}ge(this,If,e)}get blobs(){return ie(this,Pf)==null?null:ie(this,Pf).map(e=>Object.assign({},e))}set blobs(e){if(e==null){ge(this,Pf,null);return}const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(tk(s)){Ke(ie(this,Vl),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=ht(s);if(xe(o.length<=tR,"blob is too large",`blobs[${i}]`,s),o.length!==tR){const c=new Uint8Array(tR);c.set(o),o=c}const a=ie(this,Vl).blobToKzgCommitment(o),l=rt(ie(this,Vl).computeBlobKzgProof(o,a));n.push({data:rt(o),commitment:rt(a),proof:l}),r.push(PH(1,a))}else{const o=rt(s.data),a=rt(s.commitment),l=rt(s.proof);n.push({data:o,commitment:a,proof:l}),r.push(PH(1,a))}}ge(this,Pf,n),ge(this,If,r)}get kzg(){return ie(this,Vl)}set kzg(e){e==null?ge(this,Vl,null):ge(this,Vl,WIe(e))}get blobWrapperVersion(){return ie(this,yy)}set blobWrapperVersion(e){ge(this,yy,e)}get hash(){return this.signature==null?null:Gn(tt(this,xy,QA).call(this,!0,!1))}get unsignedHash(){return Gn(this.unsignedSerialized)}get from(){return this.signature==null?null:ak(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:hc.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return tt(this,xy,QA).call(this,!0,!0)}get unsignedSerialized(){return tt(this,xy,QA).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=ie(this,Dp)!=null||ie(this,If);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Ke(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Ke(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Ke(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):n?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Po.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[KIe](){return this.toString()}toString(){const e=[],n=i=>{let s=this[i];typeof s=="string"&&(s=JSON.stringify(s)),e.push(`${i}: ${s}`)};this.type&&n("type"),n("to"),n("data"),n("nonce"),n("gasLimit"),n("value"),this.chainId!=null&&n("chainId"),this.signature&&(n("from"),e.push(`signature: ${this.signature.toString()}`));const r=this.authorizationList;if(r){const i=[];for(const s of r){const o=[];o.push(`address: ${JSON.stringify(s.address)}`),s.nonce!=null&&o.push(`nonce: ${s.nonce}`),s.chainId!=null&&o.push(`chainId: ${s.chainId}`),s.signature&&o.push(`signature: ${s.signature.toString()}`),i.push(`Authorization { ${o.join(", ")} }`)}e.push(`authorizations: [ ${i.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new Po;if(typeof e=="string"){const r=ht(e);if(r[0]>=127)return Po.from(QIe(r));switch(r[0]){case 1:return Po.from(nPe(r));case 2:return Po.from(ePe(r));case 3:return Po.from(iPe(r));case 4:return Po.from(oPe(r))}Ke(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Po;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Bs.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobWrapperVersion!=null&&(n.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(xe(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),xe(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(xe(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),xe(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}},Qa=new WeakMap,sy=new WeakMap,oy=new WeakMap,ay=new WeakMap,ly=new WeakMap,cy=new WeakMap,uy=new WeakMap,dy=new WeakMap,fy=new WeakMap,hy=new WeakMap,py=new WeakMap,my=new WeakMap,Dp=new WeakMap,If=new WeakMap,Vl=new WeakMap,Pf=new WeakMap,gy=new WeakMap,yy=new WeakMap,xy=new WeakSet,QA=function(e,n){Ke(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return ZIe(this,r);case 1:return rPe(this,r);case 2:return tPe(this,r);case 3:return sPe(this,r,n?this.blobs:null);case 4:return aPe(this,r)}Ke(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})},Po);function Oie(t){return xe(typeof t.address=="string","invalid address for hashAuthorization","auth.address",t),Gn(_n(["0x05",fc([t.chainId!=null?Or(t.chainId):"0x",gn(t.address),t.nonce!=null?Or(t.nonce):"0x"])]))}function Tgt(t,e){return ak(Oie(t),e)}function nd(t){return Gn(ci(t))}var lPe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const _H=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),RH=4;function cPe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let j=1;j<r;j++)s.push(i+=n());let o=n(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const f=31,m=2**f,g=m>>>1,x=g>>1,v=m-1;let w=0;for(let j=0;j<f;j++)w=w<<1|u();let E=[],k=0,I=m;for(;;){let j=Math.floor(((w-k+1)*i-1)/I),M=0,U=r;for(;U-M>1;){let z=M+U>>>1;j<s[z]?U=z:M=z}if(M==0)break;E.push(M);let V=k+Math.floor(I*s[M]/i),F=k+Math.floor(I*s[M+1]/i)-1;for(;((V^F)&g)==0;)w=w<<1&v|u(),V=V<<1&v,F=F<<1&v|1;for(;V&~F&x;)w=w&g|w<<1&v>>>1|u(),V=V<<1^g,F=(F^g)<<1|g|1;k=V,I=1+F-V}let D=r-4;return E.map(j=>{switch(j-D){case 3:return D+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return D+256+(t[a++]<<8|t[a++]);case 1:return D+t[a++];default:return j-1}})}function uPe(t){let e=0;return()=>t[e++]}function Mie(t){return uPe(cPe(dPe(t)))}function dPe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function fPe(t){return t&1?~t>>1:t>>1}function hPe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=fPe(e());return n}function l1(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function Die(t){return c1(()=>{let e=l1(t);if(e.length)return e})}function Lie(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(pPe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(mPe(n,t))}return e.flat()}function c1(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function Bie(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)hPe(t,n).forEach((s,o)=>r[o].push(s));return r}function pPe(t,e){let n=1+e(),r=e(),i=c1(e);return Bie(i.length,1+t,e).flatMap((o,a)=>{let[l,...c]=o;return Array(i[a]).fill().map((u,f)=>{let m=f*r;return[l+f*n,c.map(g=>g+m)]})})}function mPe(t,e){let n=1+e();return Bie(n,1+t,e).map(i=>[i[0],i.slice(1)])}function gPe(t){let e=[],n=l1(t);return i(r([]),[]),e;function r(s){let o=t(),a=c1(()=>{let l=l1(t).map(c=>n[c]);if(l.length)return r(l)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,l){if(!(s&4&&l===a[a.length-1])){s&2&&(l=a[a.length-1]),s&1&&e.push(a);for(let c of o)for(let u of c.Q)i(c,[...a,u],l)}}}function yPe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function jie(t){return`{${yPe(t)}}`}function xPe(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Jy(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function vPe(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var bPe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const u1=44032,VT=4352,GT=4449,qT=4519,Uie=19,Fie=21,Xy=28,KT=Fie*Xy,wPe=Uie*KT,EPe=u1+wPe,SPe=VT+Uie,APe=GT+Fie,TPe=qT+Xy;function bb(t){return t>>24&255}function zie(t){return t&16777215}let DM,OH,LM,ZA;function CPe(){let t=Mie(bPe);DM=new Map(Die(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),OH=new Set(l1(t)),LM=new Map,ZA=new Map;for(let[e,n]of Lie(t)){if(!OH.has(e)&&n.length==2){let[r,i]=n,s=ZA.get(r);s||(s=new Map,ZA.set(r,s)),s.set(i,e)}LM.set(e,n.reverse())}}function $ie(t){return t>=u1&&t<EPe}function kPe(t,e){if(t>=VT&&t<SPe&&e>=GT&&e<APe)return u1+(t-VT)*KT+(e-GT)*Xy;if($ie(t)&&e>qT&&e<TPe&&(t-u1)%Xy==0)return t+(e-qT);{let n=ZA.get(t);return n&&(n=n.get(e),n)?n:-1}}function Hie(t){DM||CPe();let e=[],n=[],r=!1;function i(s){let o=DM.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if($ie(s)){let o=s-u1,a=o/KT|0,l=o%KT/Xy|0,c=o%Xy;i(VT+a),i(GT+l),c>0&&i(qT+c)}else{let o=LM.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=bb(e[0]);for(let o=1;o<e.length;o++){let a=bb(e[o]);if(a==0||s<=a){s=a;continue}let l=o-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(s=bb(e[--l]),s<=a))break}s=bb(e[o])}}return e}function NPe(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=bb(s),a=zie(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let l=kPe(r,a);l>=0?r=l:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function Vie(t){return Hie(t).map(zie)}function IPe(t){return NPe(Hie(t))}const MH=45,Gie=".",qie=65039,Kie=1,WT=t=>Array.from(t);function d1(t,e){return t.P.has(e)||t.Q.has(e)}class PPe extends Array{get is_emoji(){return!0}}let BM,Wie,gp,jM,Yie,Rg,nR,W0,Zh,DH,UM;function w8(){if(BM)return;let t=Mie(lPe);const e=()=>l1(t),n=()=>new Set(e()),r=(u,f)=>f.forEach(m=>u.add(m));BM=new Map(Lie(t)),Wie=n(),gp=e(),jM=new Set(e().map(u=>gp[u])),gp=new Set(gp),Yie=n(),n();let i=Die(t),s=t();const o=()=>{let u=new Set;return e().forEach(f=>r(u,i[f])),r(u,e()),u};Rg=c1(u=>{let f=c1(t).map(m=>m+96);if(f.length){let m=u>=s;f[0]-=32,f=Jy(f),m&&(f=`Restricted[${f}]`);let g=o(),x=o(),v=!t();return{N:f,P:g,Q:x,M:v,R:m}}}),nR=n(),W0=new Map;let a=e().concat(WT(nR)).sort((u,f)=>u-f);a.forEach((u,f)=>{let m=t(),g=a[f]=m?a[f-m]:{V:[],M:new Map};g.V.push(u),nR.has(u)||W0.set(u,g)});for(let{V:u,M:f}of new Set(W0.values())){let m=[];for(let x of u){let v=Rg.filter(E=>d1(E,x)),w=m.find(({G:E})=>v.some(k=>E.has(k)));w||(w={G:new Set,V:[]},m.push(w)),w.V.push(x),r(w.G,v)}let g=m.flatMap(x=>WT(x.G));for(let{G:x,V:v}of m){let w=new Set(g.filter(E=>!x.has(E)));for(let E of v)f.set(E,w)}}Zh=new Set;let l=new Set;const c=u=>Zh.has(u)?l.add(u):Zh.add(u);for(let u of Rg){for(let f of u.P)c(f);for(let f of u.Q)c(f)}for(let u of Zh)!W0.has(u)&&!l.has(u)&&W0.set(u,Kie);r(Zh,Vie(Zh)),DH=gPe(t).map(u=>PPe.from(u)).sort(vPe),UM=new Map;for(let u of DH){let f=[UM];for(let m of u){let g=f.map(x=>{let v=x.get(m);return v||(v=new Map,x.set(m,v)),v});m===qie?f.push(...g):f=g}for(let m of f)m.V=u}}function E8(t){return(Jie(t)?"":`${S8(dk([t]))} `)+jie(t)}function S8(t){return`"${t}"`}function _Pe(t){if(t.length>=4&&t[2]==MH&&t[3]==MH)throw new Error(`invalid label extension: "${Jy(t.slice(0,4))}"`)}function RPe(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function OPe(t){let e=t[0],n=_H.get(e);if(n)throw Fb(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=_H.get(e);if(o){if(i==s)throw Fb(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw Fb(`trailing ${n}`)}function dk(t,e=1/0,n=jie){let r=[];MPe(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];Jie(a)&&(r.push(Jy(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(Jy(t.slice(i,s))),r.join("")}function MPe(t){return w8(),gp.has(t)}function Jie(t){return w8(),Yie.has(t)}function DPe(t){return UPe(LPe(t,IPe,$Pe))}function LPe(t,e,n){if(!t)return[];w8();let r=0;return t.split(Gie).map(i=>{let s=xPe(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=zPe(s,e,n),l=a.length,c;if(!l)throw new Error("empty label");let u=o.output=a.flat();if(RPe(u),!(o.emoji=l>1||a[0].is_emoji)&&u.every(m=>m<128))_Pe(u),c="ASCII";else{let m=a.flatMap(g=>g.is_emoji?[]:g);if(!m.length)c="Emoji";else{if(gp.has(u[0]))throw Fb("leading combining mark");for(let v=1;v<l;v++){let w=a[v];if(!w.is_emoji&&gp.has(w[0]))throw Fb(`emoji + combining mark: "${Jy(a[v-1])} + ${dk([w[0]])}"`)}OPe(u);let g=WT(new Set(m)),[x]=jPe(g);FPe(x,m),BPe(x,g),c=x.N}}o.type=c}catch(a){o.error=a}return o})}function BPe(t,e){let n,r=[];for(let i of e){let s=W0.get(i);if(s===Kie)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):WT(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>d1(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function jPe(t){let e=Rg;for(let n of t){let r=e.filter(i=>d1(i,n));if(!r.length)throw Rg.some(i=>d1(i,n))?Qie(e[0],n):Xie(n);if(e=r,r.length==1)break}return e}function UPe(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${S8(dk(e,63))}: ${i}`)}return Jy(r)}).join(Gie)}function Xie(t){return new Error(`disallowed character: ${E8(t)}`)}function Qie(t,e){let n=E8(e),r=Rg.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Fb(t){return new Error(`illegal placement: ${t}`)}function FPe(t,e){for(let n of e)if(!d1(t,n))throw Qie(t,n);if(t.M){let n=Vie(e);for(let r=1,i=n.length;r<i;r++)if(jM.has(n[r])){let s=r+1;for(let o;s<i&&jM.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${E8(o)}`);if(s-r>RH)throw new Error(`excessive non-spacing marks: ${S8(dk(n.slice(r-1,s)))} (${s-r}/${RH})`);r=s}}}function zPe(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=HPe(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(Zh.has(o))i.push(o);else{let a=BM.get(o);if(a)i.push(...a);else if(!Wie.has(o))throw Xie(o)}}}return i.length&&r.push(e(i)),r}function $Pe(t){return t.filter(e=>e!=qie)}function HPe(t,e){let n=UM,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}const Zie=new Uint8Array(32);Zie.fill(0);function LH(t){return xe(t.length!==0,"invalid ENS name; empty component","comp",t),t}function A8(t){const e=ci(VPe(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(LH(e.slice(r,i))),r=i+1);return xe(r<e.length,"invalid ENS name; empty component","name",t),n.push(LH(e.slice(r))),n}function VPe(t){try{if(t.length===0)throw new Error("empty label");return DPe(t)}catch(e){xe(!1,`invalid ENS name (${e.message})`,"name",t)}}function Cgt(t){try{return A8(t).length!==0}catch{}return!1}function FM(t){xe(typeof t=="string","invalid ENS name; not a string","name",t),xe(t.length,"invalid ENS name (empty label)","name",t);let e=Zie;const n=A8(t);for(;n.length;)e=Gn(_n([e,Gn(n.pop())]));return rt(e)}function GPe(t,e){const n=e??63;return xe(n<=255,"DNS encoded label cannot exceed 255","length",n),rt(_n(A8(t).map(r=>{xe(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}function ese(t){return typeof t=="string"&&(t=ci(t)),Gn(_n([ci(wIe),ci(String(t.length)),t]))}function kgt(t,e){const n=ese(t);return ak(n,e)}const tse=new Uint8Array(32);tse.fill(0);const qPe=BigInt(-1),nse=BigInt(0),rse=BigInt(1),KPe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function WPe(t){const e=ht(t),n=e.length%32;return n?_n([e,tse.slice(n)]):rt(e)}const YPe=ed(rse,32),JPe=ed(nse,32),BH={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},rR=["name","version","chainId","verifyingContract","salt"];function jH(t){return function(e){return xe(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const XPe={name:jH("name"),version:jH("version"),chainId:function(t){const e=wt(t,"domain.chainId");return xe(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):tl(e)},verifyingContract:function(t){try{return gn(t).toLowerCase()}catch{}xe(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=ht(t,"domain.salt");return xe(e.length===32,'invalid domain value "salt"',"domain.salt",t),rt(e)}};function iR(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);xe(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=pp(KPe,n?r-1:r),s=n?(i+rse)*qPe:nse;return function(o){const a=wt(o,"value");return xe(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),ed(n?dre(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return xe(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=ht(r);return xe(i.length===n,`invalid length for ${t}`,"value",r),WPe(r)}}}switch(t){case"address":return function(e){return Zu(gn(e),32)};case"bool":return function(e){return e?YPe:JPe};case"bytes":return function(e){return Gn(e)};case"string":return function(e){return nd(e)}}return null}function UH(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function BS(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Y1,yu,vy,D2,ise;const da=class da{constructor(e){je(this,D2);Se(this,"primaryType");je(this,Y1);je(this,yu);je(this,vy);ge(this,yu,new Map),ge(this,vy,new Map);const n=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(l=>{s[l]=e[l].map(({name:c,type:u})=>{let{base:f,index:m}=BS(u);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:c,type:f+(m||"")}}),n.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),ge(this,Y1,JSON.stringify(s));for(const l in s){const c=new Set;for(const u of s[l]){xe(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const f=BS(u.type).base;xe(f!==l,`circular type reference to ${JSON.stringify(f)}`,"types",e),!iR(f)&&(xe(r.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),r.get(f).push(l),n.get(l).add(f))}}const o=Array.from(r.keys()).filter(l=>r.get(l).length===0);xe(o.length!==0,"missing primary type","types",e),xe(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),Mt(this,{primaryType:o[0]});function a(l,c){xe(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of n.get(l))if(r.has(u)){a(u,c);for(const f of c)i.get(f).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of i){const u=Array.from(c);u.sort(),ie(this,yu).set(l,UH(l,s[l])+u.map(f=>UH(f,s[f])).join(""))}}get types(){return JSON.parse(ie(this,Y1))}getEncoder(e){let n=ie(this,vy).get(e);return n||(n=tt(this,D2,ise).call(this,e),ie(this,vy).set(e,n)),n}encodeType(e){const n=ie(this,yu).get(e);return xe(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Gn(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(iR(e))return r(e,n);const i=BS(e).array;if(i)return xe(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(o=>this._visit(i.prefix,o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,n[a],r),o),{});xe(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new da(e)}static getPrimaryType(e){return da.from(e).primaryType}static hashStruct(e,n,r){return da.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=BH[r];xe(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>rR.indexOf(r.name)-rR.indexOf(i.name)),da.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return _n(["0x1901",da.hashDomain(e),da.from(n).hash(r)])}static hash(e,n,r){return Gn(da.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!pr(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=da.from(n);o.visit(r,(a,l)=>(a==="address"&&!pr(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}}static getPayload(e,n,r){da.hashDomain(e);const i={},s=[];rR.forEach(l=>{const c=e[l];c!=null&&(i[l]=XPe[l](c),s.push({name:l,type:BH[l]}))});const o=da.from(n);n=o.types;const a=Object.assign({},n);return xe(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return rt(ht(c));if(l.match(/^u?int/))return wt(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return xe(typeof c=="string","invalid string","value",c),c}xe(!1,"unsupported type","type",l)})}}};Y1=new WeakMap,yu=new WeakMap,vy=new WeakMap,D2=new WeakSet,ise=function(e){{const i=iR(e);if(i)return i}const n=BS(e).array;if(n){const i=n.prefix,s=this.getEncoder(i);return o=>{xe(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(s);return ie(this,yu).has(i)&&(a=a.map(Gn)),Gn(_n(a))}}const r=this.types[e];if(r){const i=nd(ie(this,yu).get(e));return s=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return ie(this,yu).has(l)?Gn(c):c});return o.unshift(i),_n(o)}}xe(!1,`unknown type: ${e}`,"type",e)};let lm=da;function Ngt(t,e,n,r){return ak(lm.hash(t,e,n),r)}function Ds(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const QPe="external public payable override",ZPe=Ds(QPe.split(" ")),sse="constant external internal payable private public pure view override",e_e=Ds(sse.split(" ")),ose="constructor error event fallback function receive struct",ase=Ds(ose.split(" ")),lse="calldata memory storage payable indexed",t_e=Ds(lse.split(" ")),n_e="tuple returns",r_e=[ose,lse,n_e,sse].join(" "),i_e=Ds(r_e.split(" ")),s_e={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},o_e=new RegExp("^(\\s*)"),a_e=new RegExp("^([0-9]+)"),l_e=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),cse=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),use=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Vi,Za,J1,zM;const L2=class L2{constructor(e){je(this,J1);je(this,Vi);je(this,Za);ge(this,Vi,0),ge(this,Za,e.slice())}get offset(){return ie(this,Vi)}get length(){return ie(this,Za).length-ie(this,Vi)}clone(){return new L2(ie(this,Za))}reset(){ge(this,Vi,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=tt(this,J1,zM).call(this,ie(this,Vi)+1,e.match+1);return ge(this,Vi,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;ie(this,Vi)<e.match-1;){const r=this.peek().linkNext;n.push(tt(this,J1,zM).call(this,ie(this,Vi)+1,r)),ge(this,Vi,r)}return ge(this,Vi,e.match+1),n}peek(){if(ie(this,Vi)>=ie(this,Za).length)throw new Error("out-of-bounds");return ie(this,Za)[ie(this,Vi)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return $v(this,Vi)._++,e}toString(){const e=[];for(let n=ie(this,Vi);n<ie(this,Za).length;n++){const r=ie(this,Za)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Vi=new WeakMap,Za=new WeakMap,J1=new WeakSet,zM=function(e=0,n=0){return new L2(ie(this,Za).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let ml=L2;function yh(t){const e=[],n=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let r=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(o_e);a&&(s+=a[1].length,o=t.substring(s));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(l);let c=s_e[o[0]]||"";if(c){if(l.type=c,l.text=o[0],s++,c==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;u=f+u,e[e.length-1].value=Jt(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(l_e),a){if(l.text=a[1],s+=l.text.length,i_e.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(use)){l.type="TYPE";continue}l.type="ID";continue}if(a=o.match(a_e),a){l.text=a[1],l.type="NUMBER",s+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new ml(e.map(o=>Object.freeze(o)))}function FH(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function fk(t,e){if(e.peekKeyword(ase)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function rd(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function dse(t){let e=rd(t,e_e);return FH(e,Ds("constant payable nonpayable".split(" "))),FH(e,Ds("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function zu(t,e){return t.popParams().map(n=>Zi.from(n,e))}function fse(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return wt(t.pop().text);throw new Error("invalid gas")}return null}function cm(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const c_e=new RegExp(/^(.*)\[([0-9]*)\]$/);function zH(t){const e=t.match(use);if(xe(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);xe(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);xe(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const _r={},lo=Symbol.for("_ethers_internal"),$H="_ParamTypeInternal",HH="_ErrorInternal",VH="_EventInternal",GH="_ConstructorInternal",qH="_FallbackInternal",KH="_FunctionInternal",WH="_StructInternal";var by,eT;const fa=class fa{constructor(e,n,r,i,s,o,a,l){je(this,by);Se(this,"name");Se(this,"type");Se(this,"baseType");Se(this,"indexed");Se(this,"components");Se(this,"arrayLength");Se(this,"arrayChildren");if(mh(e,_r,"ParamType"),Object.defineProperty(this,lo,{value:$H}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Mt(this,{name:n,type:r,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return tt(this,by,eT).call(this,r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(fa.isParamType(e))return e;if(typeof e=="string")try{return fa.from(yh(e),n)}catch{xe(!1,"invalid param type","obj",e)}else if(e instanceof ml){let a="",l="",c=null;rd(e,Ds(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(v=>fa.from(v)),a=`tuple(${c.map(v=>v.format()).join(",")})`):(a=zH(e.popType("TYPE")),l=a);let u=null,f=null;for(;e.length&&e.peekType("BRACKET");){const v=e.pop();u=new fa(_r,"",a,l,null,c,f,u),f=v.value,a+=v.text,l="array",c=null}let m=null;if(rd(e,t_e).has("indexed")){if(!n)throw new Error("");m=!0}const x=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new fa(_r,x,a,l,m,c,f,u)}const r=e.name;xe(!r||typeof r=="string"&&r.match(cse),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(xe(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(c_e);if(o){const a=parseInt(o[2]||"-1"),l=fa.from({type:o[1],components:e.components});return new fa(_r,r||"",s,"array",i,null,a,l)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(c=>fa.from(c)):null;return new fa(_r,r||"",s,"tuple",i,a,null,null)}return s=zH(e.type),new fa(_r,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[lo]===$H}};by=new WeakSet,eT=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((l,c)=>{var u;tt(u=o,by,eT).call(u,e,l,r,f=>{a[c]=f})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{var u;tt(u=o[c],by,eT).call(u,e,l,r,f=>{a[c]=f})}),i(a);return}const s=r(this.type,n);s.then?e.push((async function(){i(await s)})()):i(s)};let Zi=fa;class um{constructor(e,n,r){Se(this,"type");Se(this,"inputs");mh(e,_r,"Fragment"),r=Object.freeze(r.slice()),Mt(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{um.from(JSON.parse(e))}catch{}return um.from(yh(e))}if(e instanceof ml)switch(e.peekKeyword(ase)){case"constructor":return Ou.from(e);case"error":return to.from(e);case"event":return ec.from(e);case"fallback":case"receive":return uu.from(e);case"function":return tc.from(e);case"struct":return Jp.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ou.from(e);case"error":return to.from(e);case"event":return ec.from(e);case"fallback":case"receive":return uu.from(e);case"function":return tc.from(e);case"struct":return Jp.from(e)}Ke(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}xe(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ou.isFragment(e)}static isError(e){return to.isFragment(e)}static isEvent(e){return ec.isFragment(e)}static isFunction(e){return tc.isFragment(e)}static isStruct(e){return Jp.isFragment(e)}}class hk extends um{constructor(n,r,i,s){super(n,r,s);Se(this,"name");xe(typeof i=="string"&&i.match(cse),"invalid identifier","name",i),s=Object.freeze(s.slice()),Mt(this,{name:i})}}function f1(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class to extends hk{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,lo,{value:HH})}get selector(){return nd(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+f1(e,this.inputs)),n.join(" ")}static from(e){if(to.isFragment(e))return e;if(typeof e=="string")return to.from(yh(e));if(e instanceof ml){const n=fk("error",e),r=zu(e);return cm(e),new to(_r,n,r)}return new to(_r,e.name,e.inputs?e.inputs.map(Zi.from):[])}static isFragment(e){return e&&e[lo]===HH}}class ec extends hk{constructor(n,r,i,s){super(n,"event",r,i);Se(this,"anonymous");Object.defineProperty(this,lo,{value:VH}),Mt(this,{anonymous:s})}get topicHash(){return nd(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+f1(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(s=>Zi.from(s)),new ec(_r,n,r,!1).topicHash}static from(n){if(ec.isFragment(n))return n;if(typeof n=="string")try{return ec.from(yh(n))}catch{xe(!1,"invalid event fragment","obj",n)}else if(n instanceof ml){const r=fk("event",n),i=zu(n,!0),s=!!rd(n,Ds(["anonymous"])).has("anonymous");return cm(n),new ec(_r,r,i,s)}return new ec(_r,n.name,n.inputs?n.inputs.map(r=>Zi.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[lo]===VH}}class Ou extends um{constructor(n,r,i,s,o){super(n,r,i);Se(this,"payable");Se(this,"gas");Object.defineProperty(this,lo,{value:GH}),Mt(this,{payable:s,gas:o})}format(n){if(Ke(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${f1(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(Ou.isFragment(n))return n;if(typeof n=="string")try{return Ou.from(yh(n))}catch{xe(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof ml){rd(n,Ds(["constructor"]));const r=zu(n),i=!!rd(n,ZPe).has("payable"),s=fse(n);return cm(n),new Ou(_r,"constructor",r,i,s)}return new Ou(_r,"constructor",n.inputs?n.inputs.map(Zi.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[lo]===GH}}class uu extends um{constructor(n,r,i){super(n,"fallback",r);Se(this,"payable");Object.defineProperty(this,lo,{value:qH}),Mt(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(uu.isFragment(n))return n;if(typeof n=="string")try{return uu.from(yh(n))}catch{xe(!1,"invalid fallback fragment","obj",n)}else if(n instanceof ml){const r=n.toString(),i=n.peekKeyword(Ds(["fallback","receive"]));if(xe(i,"type must be fallback or receive","obj",r),n.popKeyword(Ds(["fallback","receive"]))==="receive"){const l=zu(n);return xe(l.length===0,"receive cannot have arguments","obj.inputs",l),rd(n,Ds(["payable"])),cm(n),new uu(_r,[],!0)}let o=zu(n);o.length?xe(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(l=>l.format("minimal")).join(", ")):o=[Zi.from("bytes")];const a=dse(n);if(xe(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),rd(n,Ds(["returns"])).has("returns")){const l=zu(n);xe(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(c=>c.format("minimal")).join(", "))}return cm(n),new uu(_r,o,a==="payable")}if(n.type==="receive")return new uu(_r,[],!0);if(n.type==="fallback"){const r=[Zi.from("bytes")],i=n.stateMutability==="payable";return new uu(_r,r,i)}xe(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[lo]===qH}}class tc extends hk{constructor(n,r,i,s,o,a){super(n,"function",r,s);Se(this,"constant");Se(this,"outputs");Se(this,"stateMutability");Se(this,"payable");Se(this,"gas");Object.defineProperty(this,lo,{value:KH}),o=Object.freeze(o.slice()),Mt(this,{constant:i==="view"||i==="pure",gas:a,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return nd(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+f1(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(f1(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(s=>Zi.from(s)),new tc(_r,n,"view",r,[],null).selector}static from(n){if(tc.isFragment(n))return n;if(typeof n=="string")try{return tc.from(yh(n))}catch{xe(!1,"invalid function fragment","obj",n)}else if(n instanceof ml){const i=fk("function",n),s=zu(n),o=dse(n);let a=[];rd(n,Ds(["returns"])).has("returns")&&(a=zu(n));const l=fse(n);return cm(n),new tc(_r,i,o,s,a,l)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new tc(_r,n.name,r,n.inputs?n.inputs.map(Zi.from):[],n.outputs?n.outputs.map(Zi.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[lo]===KH}}class Jp extends hk{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,lo,{value:WH})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Jp.from(yh(e))}catch{xe(!1,"invalid struct fragment","obj",e)}else if(e instanceof ml){const n=fk("struct",e),r=zu(e);return cm(e),new Jp(_r,n,r)}return new Jp(_r,e.name,e.inputs?e.inputs.map(Zi.from):[])}static isFragment(e){return e&&e[lo]===WH}}const El=new Map;El.set(0,"GENERIC_PANIC");El.set(1,"ASSERT_FALSE");El.set(17,"OVERFLOW");El.set(18,"DIVIDE_BY_ZERO");El.set(33,"ENUM_RANGE_ERROR");El.set(34,"BAD_STORAGE_DATA");El.set(49,"STACK_UNDERFLOW");El.set(50,"ARRAY_RANGE_ERROR");El.set(65,"OUT_OF_MEMORY");El.set(81,"UNINITIALIZED_FUNCTION_CALL");const u_e=new RegExp(/^bytes([0-9]*)$/),d_e=new RegExp(/^(u?int)([0-9]*)$/);let sR=null,YH=1024;function f_e(t,e,n,r){let i="missing revert data",s=null;const o=null;let a=null;if(n){i="execution reverted";const c=ht(n);if(n=rt(n),c.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(rt(c.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(rt(c.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},s=`Panic due to ${El.get(u)||"UNKNOWN"}(${u})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?gn(e.to):null,data:e.data||"0x"};return e.from&&(l.from=gn(e.from)),Ir(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:l,invocation:o,revert:a})}var _f,Y0;const B2=class B2{constructor(){je(this,_f)}getDefaultValue(e){const n=e.map(i=>tt(this,_f,Y0).call(this,Zi.from(i)));return new LS(n,"_").defaultValue()}encode(e,n){are(n.length,e.length,"types/values length mismatch");const r=e.map(o=>tt(this,_f,Y0).call(this,Zi.from(o))),i=new LS(r,"_"),s=new CM;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(o=>tt(this,_f,Y0).call(this,Zi.from(o)));return new LS(i,"_").decode(new kM(n,r,YH))}static _setDefaultMaxInflation(e){xe(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),YH=e}static defaultAbiCoder(){return sR==null&&(sR=new B2),sR}static getBuiltinCallException(e,n,r){return f_e(e,n,r,B2.defaultAbiCoder())}};_f=new WeakSet,Y0=function(e){if(e.isArray())return new _Ie(tt(this,_f,Y0).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new LS(e.components.map(r=>tt(this,_f,Y0).call(this,r)),e.name);switch(e.baseType){case"address":return new IIe(e.name);case"bool":return new RIe(e.name);case"string":return new zIe(e.name);case"bytes":return new OIe(e.name);case"":return new LIe(e.name)}let n=e.type.match(d_e);if(n){let r=parseInt(n[2]||"256");return xe(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new FIe(r/8,n[1]==="int",e.name)}if(n=e.type.match(u_e),n){let r=parseInt(n[1]);return xe(r!==0&&r<=32,"invalid bytes length","param",e),new MIe(r,e.name)}xe(!1,"invalid type","type",e.type)};let h1=B2;class h_e{constructor(e,n,r){Se(this,"fragment");Se(this,"name");Se(this,"signature");Se(this,"topic");Se(this,"args");const i=e.name,s=e.format();Mt(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class p_e{constructor(e,n,r,i){Se(this,"fragment");Se(this,"name");Se(this,"args");Se(this,"signature");Se(this,"selector");Se(this,"value");const s=e.name,o=e.format();Mt(this,{fragment:e,name:s,args:r,signature:o,selector:n,value:i})}}class m_e{constructor(e,n,r){Se(this,"fragment");Se(this,"name");Se(this,"args");Se(this,"signature");Se(this,"selector");const i=e.name,s=e.format();Mt(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class JH{constructor(e){Se(this,"hash");Se(this,"_isIndexed");Mt(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const XH={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},QH={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&XH[t.toString()]&&(e=XH[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Gl,ql,Kl,cs,yc,tT,nT;const lp=class lp{constructor(e){je(this,yc);Se(this,"fragments");Se(this,"deploy");Se(this,"fallback");Se(this,"receive");je(this,Gl);je(this,ql);je(this,Kl);je(this,cs);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,ge(this,Kl,new Map),ge(this,Gl,new Map),ge(this,ql,new Map);const r=[];for(const o of n)try{r.push(um.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Mt(this,{fragments:Object.freeze(r)});let i=null,s=!1;ge(this,cs,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let l;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Mt(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(xe(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":l=ie(this,Kl);break;case"event":l=ie(this,ql);break;case"error":l=ie(this,Gl);break;default:return}const c=o.format();l.has(c)||l.set(c,o)}),this.deploy||Mt(this,{deploy:Ou.from("constructor()")}),Mt(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return h1.defaultAbiCoder()}getFunctionName(e){const n=tt(this,yc,tT).call(this,e,null,!1);return xe(n,"no matching function","key",e),n.name}hasFunction(e){return!!tt(this,yc,tT).call(this,e,null,!1)}getFunction(e,n){return tt(this,yc,tT).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(ie(this,Kl).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(ie(this,Kl).get(i),r)}}getEventName(e){const n=tt(this,yc,nT).call(this,e,null,!1);return xe(n,"no matching event","key",e),n.name}hasEvent(e){return!!tt(this,yc,nT).call(this,e,null,!1)}getEvent(e,n){return tt(this,yc,nT).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(ie(this,ql).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(ie(this,ql).get(i),r)}}getError(e,n){if(pr(e)){const i=e.toLowerCase();if(QH[i])return to.from(QH[i].signature);for(const s of ie(this,Gl).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of ie(this,Gl))s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?to.from("error Error(string)"):e==="Panic"?to.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");xe(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=to.from(e).format(),e==="Error(string)")return to.from("error Error(string)");if(e==="Panic(uint256)")return to.from("error Panic(uint256)");const r=ie(this,Gl).get(e);return r||null}forEachError(e){const n=Array.from(ie(this,Gl).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(ie(this,Gl).get(i),r)}}_decodeParams(e,n){return ie(this,cs).decode(e,n)}_encodeParams(e,n){return ie(this,cs).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);xe(r,"unknown error","fragment",e),e=r}return xe(hr(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,hr(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);xe(r,"unknown error","fragment",e),e=r}return _n([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);xe(r,"unknown function","fragment",e),e=r}return xe(hr(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,hr(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);xe(r,"unknown function","fragment",e),e=r}return _n([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);xe(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=Qi(n);if(i.length%32===0)try{return ie(this,cs).decode(e.outputs,i)}catch{r="could not decode result data"}Ke(!1,r,"BAD_DATA",{value:rt(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=ht(e,"data"),i=h1.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=rt(r.slice(0,4)),l=this.getError(a);if(l)try{const c=ie(this,cs).decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);xe(r,"unknown function","fragment",e),e=r}return rt(ie(this,cs).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);xe(s,"unknown event","eventFragment",e),e=s}Ke(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,o)=>s.type==="string"?nd(o):s.type==="bytes"?Gn(rt(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=ed(o):s.type.match(/^bytes/)?o=gke(o,32):s.type==="address"&&ie(this,cs).encode(["address"],[o]),Zu(rt(o),32));for(n.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){xe(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?xe(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(l=>i(a,l))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);xe(o,"unknown event","eventFragment",e),e=o}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),xe(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const l=n[a];if(o.indexed)if(o.type==="string")r.push(nd(l));else if(o.type==="bytes")r.push(Gn(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(ie(this,cs).encode([o.type],[l]))}else i.push(o),s.push(l)}),{data:ie(this,cs).encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const g=this.getEvent(e);xe(g,"unknown event","eventFragment",e),e=g}if(r!=null&&!e.anonymous){const g=e.topicHash;xe(pr(r[0],32)&&r[0].toLowerCase()===g,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((g,x)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(i.push(Zi.from({type:"bytes32",name:g.name})),o.push(!0)):(i.push(g),o.push(!1)):(s.push(g),o.push(!1))});const a=r!=null?ie(this,cs).decode(i,_n(r)):null,l=ie(this,cs).decode(s,n,!0),c=[],u=[];let f=0,m=0;return e.inputs.forEach((g,x)=>{let v=null;if(g.indexed)if(a==null)v=new JH(null);else if(o[x])v=new JH(a[m++]);else try{v=a[m++]}catch(w){v=w}else try{v=l[f++]}catch(w){v=w}c.push(v),u.push(g.name||null)}),Vy.fromItems(c,u)}parseTransaction(e){const n=ht(e.data,"tx.data"),r=wt(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(rt(n.slice(0,4)));if(!i)return null;const s=ie(this,cs).decode(i.inputs,n.slice(4));return new p_e(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new h_e(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=rt(e),r=this.getError(hr(n,0,4));if(!r)return null;const i=ie(this,cs).decode(r.inputs,hr(n,4));return new m_e(r,r.selector,i)}static from(e){return e instanceof lp?e:typeof e=="string"?new lp(JSON.parse(e)):typeof e.formatJson=="function"?new lp(e.formatJson()):typeof e.format=="function"?new lp(e.format("json")):new lp(e)}};Gl=new WeakMap,ql=new WeakMap,Kl=new WeakMap,cs=new WeakMap,yc=new WeakSet,tT=function(e,n,r){if(pr(e)){const s=e.toLowerCase();for(const o of ie(this,Kl).values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of ie(this,Kl))o.split("(")[0]===e&&s.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,l=!0;bs.isTyped(o)&&o.type==="overrides"&&(l=!1,a--);for(let c=s.length-1;c>=0;c--){const u=s[c].inputs.length;u!==a&&(!l||u!==a-1)&&s.splice(c,1)}for(let c=s.length-1;c>=0;c--){const u=s[c].inputs;for(let f=0;f<n.length;f++)if(bs.isTyped(n[f])){if(f>=u.length){if(n[f].type==="overrides")continue;s.splice(c,1);break}if(n[f].type!==u[f].baseType){s.splice(c,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");xe(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=ie(this,Kl).get(tc.from(e).format());return i||null},nT=function(e,n,r){if(pr(e)){const s=e.toLowerCase();for(const o of ie(this,ql).values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of ie(this,ql))o.split("(")[0]===e&&s.push(a);if(n){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<n.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let l=0;l<n.length;l++)if(bs.isTyped(n[l])&&n[l].type!==a[l].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");xe(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=ie(this,ql).get(ec.from(e).format());return i||null};let $M=lp;const hse=BigInt(0);function Og(t){return t??null}function Xr(t){return t==null?null:t.toString()}class ZH{constructor(e,n,r){Se(this,"gasPrice");Se(this,"maxFeePerGas");Se(this,"maxPriorityFeePerGas");Mt(this,{gasPrice:Og(e),maxFeePerGas:Og(n),maxPriorityFeePerGas:Og(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Xr(e),maxFeePerGas:Xr(n),maxPriorityFeePerGas:Xr(r)}}}function p1(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=rt(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=wt(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Jt(t[i],`request.${i}`));return t.accessList&&(e.accessList=Pm(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobWrapperVersion"in t&&(e.blobWrapperVersion=t.blobWrapperVersion),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>tk(i)?rt(i):Object.assign({},i))),e}var xu;class g_e{constructor(e,n){Se(this,"provider");Se(this,"number");Se(this,"hash");Se(this,"timestamp");Se(this,"parentHash");Se(this,"parentBeaconBlockRoot");Se(this,"nonce");Se(this,"difficulty");Se(this,"gasLimit");Se(this,"gasUsed");Se(this,"stateRoot");Se(this,"receiptsRoot");Se(this,"blobGasUsed");Se(this,"excessBlobGas");Se(this,"miner");Se(this,"prevRandao");Se(this,"extraData");Se(this,"baseFeePerGas");je(this,xu);ge(this,xu,e.transactions.map(r=>typeof r!="string"?new m1(r,n):r)),Mt(this,{provider:n,hash:Og(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Og(e.prevRandao),extraData:e.extraData,baseFeePerGas:Og(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return ie(this,xu).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=ie(this,xu).slice();return e.length===0?[]:(Ke(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:f,parentBeaconBlockRoot:m,stateRoot:g,receiptsRoot:x,timestamp:v,transactions:w}=this;return{_type:"Block",baseFeePerGas:Xr(e),difficulty:Xr(n),extraData:r,gasLimit:Xr(i),gasUsed:Xr(s),blobGasUsed:Xr(this.blobGasUsed),excessBlobGas:Xr(this.excessBlobGas),hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:f,timestamp:v,parentBeaconBlockRoot:m,stateRoot:g,receiptsRoot:x,transactions:w}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return ie(this,xu).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=ie(this,xu)[e];else{const r=e.toLowerCase();for(const i of ie(this,xu))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;xe(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return y_e(this)}}xu=new WeakMap;class kw{constructor(e,n){Se(this,"provider");Se(this,"transactionHash");Se(this,"blockHash");Se(this,"blockNumber");Se(this,"removed");Se(this,"address");Se(this,"data");Se(this,"topics");Se(this,"index");Se(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());Mt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Ke(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Ke(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Ke(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return x_e(this)}}var X1;class pse{constructor(e,n){Se(this,"provider");Se(this,"to");Se(this,"from");Se(this,"contractAddress");Se(this,"hash");Se(this,"index");Se(this,"blockHash");Se(this,"blockNumber");Se(this,"logsBloom");Se(this,"gasUsed");Se(this,"blobGasUsed");Se(this,"cumulativeGasUsed");Se(this,"gasPrice");Se(this,"blobGasPrice");Se(this,"type");Se(this,"status");Se(this,"root");je(this,X1);ge(this,X1,Object.freeze(e.logs.map(i=>new kw(i,n))));let r=hse;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Mt(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return ie(this,X1)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:l,logs:c,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:Xr(this.cumulativeGasUsed),from:n,gasPrice:Xr(this.gasPrice),blobGasUsed:Xr(this.blobGasUsed),blobGasPrice:Xr(this.blobGasPrice),gasUsed:Xr(this.gasUsed),hash:i,index:s,logs:c,logsBloom:l,root:f,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return gse(this)}reorderedEvent(e){return Ke(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),mse(this,e)}}X1=new WeakMap;var Rf;const ij=class ij{constructor(e,n){Se(this,"provider");Se(this,"blockNumber");Se(this,"blockHash");Se(this,"index");Se(this,"hash");Se(this,"type");Se(this,"to");Se(this,"from");Se(this,"nonce");Se(this,"gasLimit");Se(this,"gasPrice");Se(this,"maxPriorityFeePerGas");Se(this,"maxFeePerGas");Se(this,"maxFeePerBlobGas");Se(this,"data");Se(this,"value");Se(this,"chainId");Se(this,"signature");Se(this,"accessList");Se(this,"blobVersionedHashes");Se(this,"authorizationList");je(this,Rf);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,ge(this,Rf,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:o,from:a,nonce:l,data:c,signature:u,accessList:f,blobVersionedHashes:m}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:n,blobVersionedHashes:m,chainId:Xr(this.chainId),data:c,from:a,gasLimit:Xr(this.gasLimit),gasPrice:Xr(this.gasPrice),hash:i,maxFeePerGas:Xr(this.maxFeePerGas),maxPriorityFeePerGas:Xr(this.maxPriorityFeePerGas),maxFeePerBlobGas:Xr(this.maxFeePerBlobGas),nonce:l,signature:u,to:o,index:r,type:s,value:Xr(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await ps({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=ie(this,Rf),o=-1,a=s===-1;const l=async()=>{if(a)return null;const{blockNumber:m,nonce:g}=await ps({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(g<this.nonce){s=m;return}if(a)return null;const x=await this.getTransaction();if(!(x&&x.blockNumber!=null))for(o===-1&&(o=s-3,o<ie(this,Rf)&&(o=ie(this,Rf)));o<=m;){if(a)return null;const v=await this.provider.getBlock(o,!0);if(v==null)return;for(const w of v)if(w===this.hash)return;for(let w=0;w<v.length;w++){const E=await v.getTransaction(w);if(E.from===this.from&&E.nonce===this.nonce){if(a)return null;const k=await this.provider.getTransactionReceipt(E.hash);if(k==null||m-k.blockNumber+1<r)return;let I="replaced";E.data===this.data&&E.to===this.to&&E.value===this.value?I="repriced":E.data==="0x"&&E.from===E.to&&E.value===hse&&(I="cancelled"),Ke(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:I==="replaced"||I==="cancelled",reason:I,replacement:E.replaceableTransaction(s),hash:E.hash,receipt:k})}}o++}},c=m=>{if(m==null||m.status!==0)return m;Ke(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:m.to,from:m.from,data:""},receipt:m})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(u);if(u){if(r===1||await u.confirmations()>=r)return c(u)}else if(await l(),r===0)return null;return await new Promise((m,g)=>{const x=[],v=()=>{x.forEach(E=>E())};if(x.push(()=>{a=!0}),i>0){const E=setTimeout(()=>{v(),g(Ir("wait for transaction timeout","TIMEOUT"))},i);x.push(()=>{clearTimeout(E)})}const w=async E=>{if(await E.confirmations()>=r){v();try{m(c(E))}catch(k){g(k)}}};if(x.push(()=>{this.provider.off(this.hash,w)}),this.provider.on(this.hash,w),s>=0){const E=async()=>{try{await l()}catch(k){if(Xi(k,"TRANSACTION_REPLACED")){v(),g(k);return}}a||this.provider.once("block",E)};x.push(()=>{this.provider.off("block",E)}),this.provider.once("block",E)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Ke(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),gse(this)}reorderedEvent(e){return Ke(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ke(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),mse(this,e)}replaceableTransaction(e){xe(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new ij(this,this.provider);return ge(n,Rf,e),n}};Rf=new WeakMap;let m1=ij;function y_e(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function mse(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function gse(t){return{orphan:"drop-transaction",tx:t}}function x_e(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class T8 extends kw{constructor(n,r,i){super(n,n.provider);Se(this,"interface");Se(this,"fragment");Se(this,"args");const s=r.decodeEventLog(i,n.data,n.topics);Mt(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class yse extends kw{constructor(n,r){super(n,n.provider);Se(this,"error");Mt(this,{error:r})}}var wy;class v_e extends pse{constructor(n,r,i){super(i,r);je(this,wy);ge(this,wy,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?ie(this,wy).getEvent(n.topics[0]):null;if(r)try{return new T8(n,ie(this,wy),r)}catch(i){return new yse(n,i)}return n})}}wy=new WeakMap;var Q1;class C8 extends m1{constructor(n,r,i){super(i,r);je(this,Q1);ge(this,Q1,n)}async wait(n,r){const i=await super.wait(n,r);return i==null?null:new v_e(ie(this,Q1),this.provider,i)}}Q1=new WeakMap;class xse extends hre{constructor(n,r,i,s){super(n,r,i);Se(this,"log");Mt(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class b_e extends xse{constructor(e,n,r,i,s){super(e,n,r,new T8(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Mt(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const eV=BigInt(0);function vse(t){return t&&typeof t.call=="function"}function bse(t){return t&&typeof t.estimateGas=="function"}function pk(t){return t&&typeof t.resolveName=="function"}function wse(t){return t&&typeof t.sendTransaction=="function"}function Ese(t){if(t!=null){if(pk(t))return t;if(t.provider)return t.provider}}var Z1;class w_e{constructor(e,n,r){je(this,Z1);Se(this,"fragment");if(Mt(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=dm(e.runner,"resolveName"),s=pk(i)?i:null;ge(this,Z1,(async function(){const o=await Promise.all(n.inputs.map((a,l)=>r[l]==null?null:a.walkAsync(r[l],(u,f)=>u==="address"?Array.isArray(f)?Promise.all(f.map(m=>_i(m,s))):_i(f,s):f)));return e.interface.encodeFilterTopics(n,o)})())}getTopicFilter(){return ie(this,Z1)}}Z1=new WeakMap;function dm(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function yp(t){return t==null?null:t.provider||null}async function Sse(t,e){const n=bs.dereference(t,"overrides");xe(typeof n=="object","invalid overrides parameter","overrides",t);const r=p1(n);return xe(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),xe(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function E_e(t,e,n){const r=dm(t,"resolveName"),i=pk(r)?r:null;return await Promise.all(e.map((s,o)=>s.walkAsync(n[o],(a,l)=>(l=bs.dereference(l,a),a==="address"?_i(l,i):l))))}function S_e(t){const e=async function(o){const a=await Sse(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await _i(a.from,Ese(t.runner)));const l=t.interface,c=wt(a.value||eV,"overrides.value")===eV,u=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!u&&!c&&xe(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),xe(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const f=l.receive||l.fallback&&l.fallback.payable;return xe(f||c,"cannot send value to non-payable fallback","overrides.value",a.value),xe(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=dm(t.runner,"call");Ke(vse(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(o);try{return await a.call(l)}catch(c){throw s8(c)&&c.data?t.interface.makeError(c.data,l):c}},r=async function(o){const a=t.runner;Ke(wse(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(o)),c=yp(t.runner);return new C8(t.interface,c,l)},i=async function(o){const a=dm(t.runner,"estimateGas");return Ke(bse(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await r(o);return Mt(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function A_e(t,e){const n=function(...c){const u=t.interface.getFunction(e,c);return Ke(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},r=async function(...c){const u=n(...c);let f={};if(u.inputs.length+1===c.length&&(f=await Sse(c.pop()),f.from&&(f.from=await _i(f.from,Ese(t.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const m=await E_e(t.runner,u.inputs,c);return Object.assign({},f,await ps({to:t.getAddress(),data:t.interface.encodeFunctionData(u,m)}))},i=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},s=async function(...c){const u=t.runner;Ke(wse(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await r(...c)),m=yp(t.runner);return new C8(t.interface,m,f)},o=async function(...c){const u=dm(t.runner,"estimateGas");return Ke(bse(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...c))},a=async function(...c){const u=dm(t.runner,"call");Ke(vse(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await r(...c);let m="0x";try{m=await u.call(f)}catch(x){throw s8(x)&&x.data?t.interface.makeError(x.data,f):x}const g=n(...c);return t.interface.decodeFunctionResult(g,m)},l=async(...c)=>n(...c).constant?await i(...c):await s(...c);return Mt(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return Ke(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function T_e(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return Ke(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new w_e(t,n(...i),i)};return Mt(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return Ke(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const YT=Symbol.for("_ethersInternal_contract"),Ase=new WeakMap;function C_e(t,e){Ase.set(t[YT],e)}function Ao(t){return Ase.get(t[YT])}function k_e(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function k8(t,e){let n,r=null;if(Array.isArray(e)){const s=function(o){if(pr(o,32))return o;const a=t.interface.getEvent(o);return xe(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?n=[null]:typeof e=="string"?pr(e,32)?n=[e]:(r=t.interface.getEvent(e),xe(r,"unknown fragment","event",e),n=[r.topicHash]):k_e(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):xe(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function wb(t,e){const{subs:n}=Ao(t);return n.get((await k8(t,e)).tag)||null}async function tV(t,e,n){const r=yp(t.runner);Ke(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await k8(t,n),{addr:a,subs:l}=Ao(t);let c=l.get(s);if(!c){const f={address:a||t,topics:o},m=w=>{let E=i;if(E==null)try{E=t.interface.getEvent(w.topics[0])}catch{}if(E){const k=E,I=i?t.interface.decodeEventLog(i,w.data,w.topics):[];VM(t,n,I,D=>new b_e(t,D,n,k,w))}else VM(t,n,[],k=>new xse(t,k,n,w))};let g=[];c={tag:s,listeners:[],start:()=>{g.length||g.push(r.on(f,m))},stop:async()=>{if(g.length==0)return;let w=g;g=[],await Promise.all(w),r.off(f,m)}},l.set(s,c)}return c}let HM=Promise.resolve();async function N_e(t,e,n,r){await HM;const i=await wb(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const l=Array.from(n);r&&l.push(r(a?null:o));try{o.call(t,...l)}catch{}return!a}),i.listeners.length===0&&(i.stop(),Ao(t).subs.delete(i.tag)),s>0}async function VM(t,e,n,r){try{await HM}catch{}const i=N_e(t,e,n,r);return HM=i,await i}const jS=["then"];var aee;aee=YT;const Kb=class Kb{constructor(e,n,r,i){Se(this,"target");Se(this,"interface");Se(this,"runner");Se(this,"filters");Se(this,aee);Se(this,"fallback");xe(typeof e=="string"||Nie(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=$M.from(n);Mt(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,YT,{value:{}});let o,a=null,l=null;if(i){const f=yp(r);l=new C8(this.interface,f,i)}let c=new Map;if(typeof e=="string")if(pr(e))a=e,o=Promise.resolve(e);else{const f=dm(r,"resolveName");if(!pk(f))throw Ir("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(e).then(m=>{if(m==null)throw Ir("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ao(this).addr=m,m})}else o=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Ao(this).addr=f,f});C_e(this,{addrPromise:o,addr:a,deployTx:l,subs:c});const u=new Proxy({},{get:(f,m,g)=>{if(typeof m=="symbol"||jS.indexOf(m)>=0)return Reflect.get(f,m,g);try{return this.getEvent(m)}catch(x){if(!Xi(x,"INVALID_ARGUMENT")||x.argument!=="key")throw x}},has:(f,m)=>jS.indexOf(m)>=0?Reflect.has(f,m):Reflect.has(f,m)||this.interface.hasEvent(String(m))});return Mt(this,{filters:u}),Mt(this,{fallback:s.receive||s.fallback?S_e(this):null}),new Proxy(this,{get:(f,m,g)=>{if(typeof m=="symbol"||m in f||jS.indexOf(m)>=0)return Reflect.get(f,m,g);try{return f.getFunction(m)}catch(x){if(!Xi(x,"INVALID_ARGUMENT")||x.argument!=="key")throw x}},has:(f,m)=>typeof m=="symbol"||m in f||jS.indexOf(m)>=0?Reflect.has(f,m):f.interface.hasFunction(m)})}connect(e){return new Kb(this.target,this.interface,e)}attach(e){return new Kb(e,this.interface,this.runner)}async getAddress(){return await Ao(this).addrPromise}async getDeployedCode(){const e=yp(this.runner);Ke(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=yp(this.runner);return Ke(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return Ao(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),A_e(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),T_e(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=Ao(this),o=i||await s,{fragment:a,topics:l}=await k8(this,e),c={address:o,topics:l,fromBlock:n,toBlock:r},u=yp(this.runner);return Ke(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(f=>{let m=a;if(m==null)try{m=this.interface.getEvent(f.topics[0])}catch{}if(m)try{return new T8(f,this.interface,m)}catch(g){return new yse(f,g)}return new kw(f,u)})}async on(e,n){const r=await tV(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await tV(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await VM(this,e,n,null)}async listenerCount(e){if(e){const i=await wb(this,e);return i?i.listeners.length:0}const{subs:n}=Ao(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await wb(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=Ao(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await wb(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Ao(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await wb(this,e);if(!n)return this;n.stop(),Ao(this).subs.delete(n.tag)}else{const{subs:n}=Ao(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Kb{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let GM=Kb;function I_e(){return GM}class Mg extends I_e(){}function oR(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):xe(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class P_e{constructor(e){Se(this,"name");Mt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const Tse=new RegExp("^(ipfs)://(.*)$","i"),nV=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Tse,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Of,Lp,Mf,J0,j2,Cse;const xg=class xg{constructor(e,n,r){je(this,Mf);Se(this,"provider");Se(this,"address");Se(this,"name");je(this,Of);je(this,Lp);Mt(this,{provider:e,address:n,name:r}),ge(this,Of,null),ge(this,Lp,new Mg(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return ie(this,Of)==null&&ge(this,Of,(async()=>{try{return await ie(this,Lp).supportsInterface("0x9061b923")}catch(e){if(Xi(e,"CALL_EXCEPTION"))return!1;throw ge(this,Of,null),e}})()),await ie(this,Of)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await tt(this,Mf,J0).call(this,"addr(bytes32)");return s==null||s===a1?null:s}catch(s){if(Xi(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await tt(this,Mf,J0).call(this,"addr(bytes32,uint)",[s]);if(pr(o,20))return gn(o)}let n=null;for(const s of this.provider.plugins)if(s instanceof P_e&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await tt(this,Mf,J0).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;Ke(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await tt(this,Mf,J0).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await tt(this,Mf,J0).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${fre("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;Ke(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<nV.length;r++){const i=n.match(nV[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=oR(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const c=l[1],u=new Mg(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const v=await u.ownerOf(c);if(a!==v)return e.push({type:"!owner",value:v}),{url:null,linkage:e};e.push({type:"owner",value:v})}else if(s==="erc1155"){const v=await u.balanceOf(a,c);if(!v)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:v.toString()})}let f=await u[o](c);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),s==="erc1155"&&(f=f.replace("{id}",ed(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=oR(f)),e.push({type:"metadata-url",value:f});let m={};const g=await new td(f).send();g.assertOk();try{m=g.bodyJson}catch{try{e.push({type:"!metadata",value:g.bodyText})}catch{const E=g.body;return E&&e.push({type:"!metadata",value:rt(E)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!m)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(m)});let x=m.image;if(typeof x!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!x.match(/^(https:\/\/|data:)/i)){if(x.match(Tse)==null)return e.push({type:"!imageUrl-ipfs",value:x}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:x}),x=oR(x)}return e.push({type:"url",value:x}),{linkage:e,url:x}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return Ke(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const s=await tt(i=xg,j2,Cse).call(i,e,r);if(s!=null){const o=new xg(e,s,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};Of=new WeakMap,Lp=new WeakMap,Mf=new WeakSet,J0=async function(e,n){n=(n||[]).slice();const r=ie(this,Lp).interface;n.unshift(FM(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),Ke(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[GPe(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await ie(this,Lp)[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!Xi(s,"CALL_EXCEPTION"))throw s}return null},j2=new WeakSet,Cse=async function(e,n){const r=await xg.getEnsAddress(e);try{const s=await new Mg(r,["function resolver(bytes32) view returns (address)"],e).resolver(FM(n),{enableCcipRead:!0});return s===a1?null:s}catch(i){throw i}return null},je(xg,j2);let JT=xg;const rV=BigInt(0);function Cn(t,e){return(function(n){return n==null?e:t(n)})}function g1(t,e){return(n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))})}function Nw(t,e){return(n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const o of e[i])if(o in n){s=o;break}}try{const o=t[i](n[s]);o!==void 0&&(r[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";Ke(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r})}function __e(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}xe(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Qy(t){return xe(pr(t,!0),"invalid data","value",t),t}function Yi(t){return xe(pr(t,32),"invalid hash","value",t),t}const R_e=Nw({address:gn,blockHash:Yi,blockNumber:Jt,data:Qy,index:Jt,removed:Cn(__e,!1),topics:g1(Yi),transactionHash:Yi,transactionIndex:Jt},{index:["logIndex"]});function O_e(t){return R_e(t)}const M_e=Nw({hash:Cn(Yi),parentHash:Yi,parentBeaconBlockRoot:Cn(Yi,null),number:Jt,timestamp:Jt,nonce:Cn(Qy),difficulty:wt,gasLimit:wt,gasUsed:wt,stateRoot:Cn(Yi,null),receiptsRoot:Cn(Yi,null),blobGasUsed:Cn(wt,null),excessBlobGas:Cn(wt,null),miner:Cn(gn),prevRandao:Cn(Yi,null),extraData:Qy,baseFeePerGas:Cn(wt)},{prevRandao:["mixHash"]});function D_e(t){const e=M_e(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:kse(n)),e}const L_e=Nw({transactionIndex:Jt,blockNumber:Jt,transactionHash:Yi,address:gn,topics:g1(Yi),data:Qy,index:Jt,blockHash:Yi},{index:["logIndex"]});function B_e(t){return L_e(t)}const j_e=Nw({to:Cn(gn,null),from:Cn(gn,null),contractAddress:Cn(gn,null),index:Jt,root:Cn(rt),gasUsed:wt,blobGasUsed:Cn(wt,null),logsBloom:Cn(Qy),blockHash:Yi,hash:Yi,logs:g1(B_e),blockNumber:Jt,cumulativeGasUsed:wt,effectiveGasPrice:Cn(wt),blobGasPrice:Cn(wt,null),status:Cn(Jt),type:Cn(Jt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function U_e(t){return j_e(t)}function kse(t){t.to&&wt(t.to)===rV&&(t.to="0x0000000000000000000000000000000000000000");const e=Nw({hash:Yi,index:Cn(Jt,void 0),type:n=>n==="0x"||n==null?0:Jt(n),accessList:Cn(Pm,null),blobVersionedHashes:Cn(g1(Yi,!0),null),authorizationList:Cn(g1(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:gn(n.address),chainId:wt(n.chainId),nonce:wt(n.nonce),signature:Bs.from(r)}},!1),null),blockHash:Cn(Yi,null),blockNumber:Cn(Jt,null),transactionIndex:Cn(Jt,null),from:gn,gasPrice:Cn(wt),maxPriorityFeePerGas:Cn(wt),maxFeePerGas:Cn(wt),maxFeePerBlobGas:Cn(wt,null),gasLimit:wt,to:Cn(gn,null),value:wt,nonce:Jt,data:Qy,creates:Cn(gn,null),chainId:Cn(wt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=NIe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Bs.from(t.signature):e.signature=Bs.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&wt(e.blockHash)===rV&&(e.blockHash=null),e}const F_e="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class kx{constructor(e){Se(this,"name");Mt(this,{name:e})}clone(){return new kx(this.name)}}class mk extends kx{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);Se(this,"effectiveBlock");Se(this,"txBase");Se(this,"txCreate");Se(this,"txDataZero");Se(this,"txDataNonzero");Se(this,"txAccessListStorageKey");Se(this,"txAccessListAddress");const i={effectiveBlock:n};function s(o,a){let l=(r||{})[o];l==null&&(l=a),xe(typeof l=="number",`invalud value for ${o}`,"costs",r),i[o]=l}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Mt(this,i)}clone(){return new mk(this.effectiveBlock,this)}}class gk extends kx{constructor(n,r){super("org.ethers.plugins.network.Ens");Se(this,"address");Se(this,"targetNetwork");Mt(this,{address:n||F_e,targetNetwork:r??1})}clone(){return new gk(this.address,this.targetNetwork)}}var Bp;const sj=class sj extends kx{constructor(n){super("org.ethers.plugins.network.FeeData");je(this,Bp);ge(this,Bp,n)}get feeDataFunc(){return ie(this,Bp)}async getFeeData(n){return await ie(this,Bp).call(this,n)}clone(){return new sj(ie(this,Bp))}};Bp=new WeakMap;let iV=sj;var ew,tw;class z_e extends kx{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");je(this,ew);je(this,tw);ge(this,ew,n),ge(this,tw,r)}get url(){return ie(this,ew)}get processFunc(){return ie(this,tw)}clone(){return this}}ew=new WeakMap,tw=new WeakMap;const aR=new Map;var Ey,Sy,Df;const vg=class vg{constructor(e,n){je(this,Ey);je(this,Sy);je(this,Df);ge(this,Ey,e),ge(this,Sy,wt(n)),ge(this,Df,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return ie(this,Ey)}set name(e){ge(this,Ey,e)}get chainId(){return ie(this,Sy)}set chainId(e){ge(this,Sy,wt(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===wt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===wt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===wt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(ie(this,Df).values())}attachPlugin(e){if(ie(this,Df).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return ie(this,Df).set(e.name,e.clone()),this}getPlugin(e){return ie(this,Df).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new vg(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new mk;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Pm(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if($_e(),e==null)return vg.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=aR.get(e);if(n)return n();if(typeof e=="bigint")return new vg("unknown",e);xe(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){xe(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new vg(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new gk(e.ensAddress,e.ensNetwork)),n}xe(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=aR.get(e);r&&xe(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),aR.set(e,n)}};Ey=new WeakMap,Sy=new WeakMap,Df=new WeakMap;let sc=vg;function sV(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function oV(t){return new z_e(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([r.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:sV(a.maxFee,9),maxPriorityFeePerGas:sV(a.maxPriorityFee,9)}}catch(s){Ke(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let aV=!1;function $_e(){if(aV)return;aV=!0;function t(e,n,r){const i=function(){const s=new sc(e,n);return r.ensNetwork!=null&&s.attachPlugin(new gk(null,r.ensNetwork)),s.attachPlugin(new mk),(r.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};sc.register(e,i),sc.register(n,i),r.altNames&&r.altNames.forEach(s=>{sc.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("filecoin",314,{}),t("filecoin-calibration",314159,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[oV("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[oV("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function qM(t){return JSON.parse(JSON.stringify(t))}var vu,pa,Lf,Wl,Ay,rT;class H_e{constructor(e){je(this,Ay);je(this,vu);je(this,pa);je(this,Lf);je(this,Wl);ge(this,vu,e),ge(this,pa,null),ge(this,Lf,4e3),ge(this,Wl,-2)}get pollingInterval(){return ie(this,Lf)}set pollingInterval(e){ge(this,Lf,e)}start(){ie(this,pa)||(ge(this,pa,ie(this,vu)._setTimeout(tt(this,Ay,rT).bind(this),ie(this,Lf))),tt(this,Ay,rT).call(this))}stop(){ie(this,pa)&&(ie(this,vu)._clearTimeout(ie(this,pa)),ge(this,pa,null))}pause(e){this.stop(),e&&ge(this,Wl,-2)}resume(){this.start()}}vu=new WeakMap,pa=new WeakMap,Lf=new WeakMap,Wl=new WeakMap,Ay=new WeakSet,rT=async function(){try{const e=await ie(this,vu).getBlockNumber();if(ie(this,Wl)===-2){ge(this,Wl,e);return}if(e!==ie(this,Wl)){for(let n=ie(this,Wl)+1;n<=e;n++){if(ie(this,pa)==null)return;await ie(this,vu).emit("block",n)}ge(this,Wl,e)}}catch{}ie(this,pa)!=null&&ge(this,pa,ie(this,vu)._setTimeout(tt(this,Ay,rT).bind(this),ie(this,Lf)))};var jp,Up,Bf;class N8{constructor(e){je(this,jp);je(this,Up);je(this,Bf);ge(this,jp,e),ge(this,Bf,!1),ge(this,Up,n=>{this._poll(n,ie(this,jp))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){ie(this,Bf)||(ge(this,Bf,!0),ie(this,Up).call(this,-2),ie(this,jp).on("block",ie(this,Up)))}stop(){ie(this,Bf)&&(ge(this,Bf,!1),ie(this,jp).off("block",ie(this,Up)))}pause(e){this.stop()}resume(){this.start()}}jp=new WeakMap,Up=new WeakMap,Bf=new WeakMap;var Ty,bu;class V_e extends N8{constructor(n,r){super(n);je(this,Ty);je(this,bu);ge(this,Ty,r),ge(this,bu,-2)}pause(n){n&&ge(this,bu,-2),super.pause(n)}async _poll(n,r){const i=await r.getBlock(ie(this,Ty));i!=null&&(ie(this,bu)===-2?ge(this,bu,i.number):i.number>ie(this,bu)&&(r.emit(ie(this,Ty),i.number),ge(this,bu,i.number)))}}Ty=new WeakMap,bu=new WeakMap;var U2;class G_e extends N8{constructor(n,r){super(n);je(this,U2);ge(this,U2,qM(r))}async _poll(n,r){throw new Error("@TODO")}}U2=new WeakMap;var Cy;class q_e extends N8{constructor(n,r){super(n);je(this,Cy);ge(this,Cy,r)}async _poll(n,r){const i=await r.getTransactionReceipt(ie(this,Cy));i&&r.emit(ie(this,Cy),i)}}Cy=new WeakMap;var wu,ky,Ny,jf,ma,F2,Nse;class I8{constructor(e,n){je(this,F2);je(this,wu);je(this,ky);je(this,Ny);je(this,jf);je(this,ma);ge(this,wu,e),ge(this,ky,qM(n)),ge(this,Ny,tt(this,F2,Nse).bind(this)),ge(this,jf,!1),ge(this,ma,-2)}start(){ie(this,jf)||(ge(this,jf,!0),ie(this,ma)===-2&&ie(this,wu).getBlockNumber().then(e=>{ge(this,ma,e)}),ie(this,wu).on("block",ie(this,Ny)))}stop(){ie(this,jf)&&(ge(this,jf,!1),ie(this,wu).off("block",ie(this,Ny)))}pause(e){this.stop(),e&&ge(this,ma,-2)}resume(){this.start()}}wu=new WeakMap,ky=new WeakMap,Ny=new WeakMap,jf=new WeakMap,ma=new WeakMap,F2=new WeakSet,Nse=async function(e){if(ie(this,ma)===-2)return;const n=qM(ie(this,ky));n.fromBlock=ie(this,ma)+1,n.toBlock=e;const r=await ie(this,wu).getLogs(n);if(r.length===0){ie(this,ma)<e-60&&ge(this,ma,e-60);return}for(const i of r)ie(this,wu).emit(ie(this,ky),i),ge(this,ma,i.blockNumber)};const K_e=BigInt(2),W_e=10;function US(t){return t&&typeof t.then=="function"}function iT(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,o)=>(s[o]=r[o],s),{})}return r})}class Ise{constructor(e){Se(this,"name");Mt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Y_e(t){return JSON.parse(JSON.stringify(t))}function KM(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function lR(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(pr(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:iT("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:iT("orphan",n),filter:Y_e(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?KM(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],o=a=>{pr(a)?i.push(a):s.push((async()=>{i.push(await _i(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),s.length&&await Promise.all(s),r.address=KM(i.map(a=>a.toLowerCase()))}return{filter:r,tag:iT("event",r),type:"event"}}xe(!1,"unknown ProviderEvent","event",t)}function cR(){return new Date().getTime()}const J_e={cacheTimeout:250,pollingInterval:4e3};var us,Uf,ds,Iy,No,Fp,Ff,Eu,nw,ga,Py,_y,yn,Eo,WM,YM,Eb,JM,Sb,sT;class X_e{constructor(e,n){je(this,yn);je(this,us);je(this,Uf);je(this,ds);je(this,Iy);je(this,No);je(this,Fp);je(this,Ff);je(this,Eu);je(this,nw);je(this,ga);je(this,Py);je(this,_y);if(ge(this,_y,Object.assign({},J_e,n||{})),e==="any")ge(this,Fp,!0),ge(this,No,null);else if(e){const r=sc.from(e);ge(this,Fp,!1),ge(this,No,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else ge(this,Fp,!1),ge(this,No,null);ge(this,Eu,-1),ge(this,Ff,new Map),ge(this,us,new Map),ge(this,Uf,new Map),ge(this,ds,null),ge(this,Iy,!1),ge(this,nw,1),ge(this,ga,new Map),ge(this,Py,!1)}get pollingInterval(){return ie(this,_y).pollingInterval}get provider(){return this}get plugins(){return Array.from(ie(this,Uf).values())}attachPlugin(e){if(ie(this,Uf).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return ie(this,Uf).set(e.name,e.connect(this)),this}getPlugin(e){return ie(this,Uf).get(e)||null}get disableCcipRead(){return ie(this,Py)}set disableCcipRead(e){ge(this,Py,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",s),u=new td(c);l.indexOf("{data}")===-1&&(u.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let f="unknown error",m;try{m=await u.send()}catch(g){o.push(g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:g}});continue}try{const g=m.bodyJson;if(g.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:g}),g.data;g.message&&(f=g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:g})}catch{}Ke(m.statusCode<400||m.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:f}}),o.push(f)}Ke(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new g_e(D_e(e),this)}_wrapLog(e,n){return new kw(O_e(e),this)}_wrapTransactionReceipt(e,n){return new pse(U_e(e),this)}_wrapTransactionResponse(e,n){return new m1(kse(e),this)}_detectNetwork(){Ke(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Ke(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Jt(await tt(this,yn,Eo).call(this,{method:"getBlockNumber"}),"%response");return ie(this,Eu)>=0&&ge(this,Eu,e),e}_getAddress(e){return _i(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(pr(e))return pr(e,32)?e:tl(e);if(typeof e=="bigint"&&(e=Jt(e,"blockTag")),typeof e=="number")return e>=0?tl(e):ie(this,Eu)>=0?tl(ie(this,Eu)+e):this.getBlockNumber().then(n=>tl(n+e));xe(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?KM(l.map(c=>c.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,c,u)=>{let f;switch(l.length){case 0:break;case 1:f=l[0];break;default:l.sort(),f=l}if(r&&(c!=null||u!=null))throw new Error("invalid filter");const m={};return f&&(m.address=f),n.length&&(m.topics=n),c&&(m.fromBlock=c),u&&(m.toBlock=u),r&&(m.blockHash=r),m};let s=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)s.push(this._getAddress(l));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(l=>typeof l!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(l=>i(l[0],l[1],l[2])):i(s,o,a)}_getTransactionRequest(e){const n=p1(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=_i(n[i],this);US(s)?r.push((async function(){n[i]=await s})()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);US(i)?r.push((async function(){n.blockTag=await i})()):n.blockTag=i}return r.length?(async function(){return await Promise.all(r),n})():n}async getNetwork(){if(ie(this,No)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw ie(this,No)===i&&ge(this,No,null),s}})();return ge(this,No,i),(await i).clone()}const e=ie(this,No),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(ie(this,Fp)?(this.emit("network",r,n),ie(this,No)===e&&ge(this,No,Promise.resolve(r))):Ke(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await ps({_block:tt(this,yn,JM).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await tt(this,yn,Eo).call(this,{method:"getGasPrice"});return wt(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await tt(this,yn,Eo).call(this,{method:"getPriorityFee"});return wt(u,"%response")}catch{}return null})()});let a=null,l=null;const c=this._wrapBlock(i,e);return c&&c.baseFeePerGas&&(l=o??BigInt("1000000000"),a=c.baseFeePerGas*K_e+l),new ZH(s,a,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new td(r.url),s=await r.processFunc(n,this,i);return new ZH(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return US(n)&&(n=await n),wt(await tt(this,yn,Eo).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await ps({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await tt(this,yn,YM).call(this,tt(this,yn,WM).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return wt(await tt(this,yn,Eb).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return Jt(await tt(this,yn,Eb).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return rt(await tt(this,yn,Eb).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=wt(n,"position");return rt(await tt(this,yn,Eb).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await ps({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=b8.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await ps({network:this.getNetwork(),params:tt(this,yn,JM).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await ps({network:this.getNetwork(),params:tt(this,yn,Eo).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await ps({network:this.getNetwork(),params:tt(this,yn,Eo).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await tt(this,yn,Eo).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await ps({network:this.getNetwork(),result:tt(this,yn,Eo).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:rt(n)}async getLogs(e){let n=this._getFilter(e);US(n)&&(n=await n);const{network:r,params:i}=await ps({network:this.getNetwork(),params:tt(this,yn,Eo).call(this,{method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){Ke(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await JT.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=gn(e);const n=FM(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await JT.getEnsAddress(this),s=await new Mg(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===a1)return null;const a=await new Mg(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(Xi(r,"BAD_DATA")&&r.value==="0x"||Xi(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const l=(async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=i){s(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)});r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),o(Ir("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){Ke(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=ie(this,ga).get(e);n&&(n.timer&&clearTimeout(n.timer),ie(this,ga).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=$v(this,nw)._++,i=()=>{ie(this,ga).delete(r),e()};if(this.paused)ie(this,ga).set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);ie(this,ga).set(r,{timer:s,func:i,time:cR()})}return r}_forEachSubscriber(e){for(const n of ie(this,us).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Ise(e.type);case"block":{const n=new H_e(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new V_e(this,e.type);case"event":return new I8(this,e.filter);case"transaction":return new q_e(this,e.hash);case"orphan":return new G_e(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of ie(this,us).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),ie(this,ds)!=null&&n.pause(ie(this,ds));break}}async on(e,n){const r=await tt(this,yn,sT).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,ie(this,ds)!=null&&r.subscriber.pause(ie(this,ds))),this}async once(e,n){const r=await tt(this,yn,sT).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,ie(this,ds)!=null&&r.subscriber.pause(ie(this,ds))),this}async emit(e,...n){const r=await tt(this,yn,Sb).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:o})=>{const a=new hre(this,o?null:s,e);try{s.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),ie(this,us).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await tt(this,yn,Sb).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of ie(this,us).values())n+=r.length;return n}async listeners(e){if(e){const r=await tt(this,yn,Sb).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of ie(this,us).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await tt(this,yn,Sb).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),ie(this,us).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await tt(this,yn,sT).call(this,e);r&&i.stop(),ie(this,us).delete(n)}else for(const[n,{started:r,subscriber:i}]of ie(this,us))r&&i.stop(),ie(this,us).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return ie(this,Iy)}destroy(){this.removeAllListeners();for(const e of ie(this,ga).keys())this._clearTimeout(e);ge(this,Iy,!0)}get paused(){return ie(this,ds)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(ge(this,Eu,-1),ie(this,ds)!=null){if(ie(this,ds)==!!e)return;Ke(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),ge(this,ds,!!e);for(const n of ie(this,ga).values())n.timer&&clearTimeout(n.timer),n.time=cR()-n.time}resume(){if(ie(this,ds)!=null){this._forEachSubscriber(e=>e.resume()),ge(this,ds,null);for(const e of ie(this,ga).values()){let n=e.time;n<0&&(n=0),e.time=cR(),setTimeout(e.func,n)}}}}us=new WeakMap,Uf=new WeakMap,ds=new WeakMap,Iy=new WeakMap,No=new WeakMap,Fp=new WeakMap,Ff=new WeakMap,Eu=new WeakMap,nw=new WeakMap,ga=new WeakMap,Py=new WeakMap,_y=new WeakMap,yn=new WeakSet,Eo=async function(e){const n=ie(this,_y).cacheTimeout;if(n<0)return await this._perform(e);const r=iT(e.method,e);let i=ie(this,Ff).get(r);return i||(i=this._perform(e),ie(this,Ff).set(r,i),setTimeout(()=>{ie(this,Ff).get(r)===i&&ie(this,Ff).delete(r)},n)),await i},WM=async function(e,n,r){Ke(r<W_e,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=p1(e);try{return rt(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&s8(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&hr(s.data,0,4)==="0x556f1830"){const o=s.data,a=await _i(i.to,this);let l;try{l=nRe(hr(s.data,4))}catch(f){Ke(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}Ke(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(i,l.calldata,l.urls);Ke(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:l.errorArgs}});const u={to:a,data:_n([l.selector,tRe([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const f=await tt(this,yn,WM).call(this,u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw s}},YM=async function(e){const{value:n}=await ps({network:this.getNetwork(),value:e});return n},Eb=async function(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await tt(this,yn,YM).call(this,tt(this,yn,Eo).call(this,Object.assign(e,{address:i,blockTag:s})))},JM=async function(e,n){if(pr(e,32))return await tt(this,yn,Eo).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await tt(this,yn,Eo).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},Sb=async function(e,n){let r=await lR(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await lR({orphan:"drop-log",log:n[0]},this)),ie(this,us).get(r.tag)||null},sT=async function(e){const n=await lR(e,this),r=n.tag;let i=ie(this,us).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},ie(this,us).set(r,i)),i};function Q_e(t,e){try{const n=XM(t,e);if(n)return $T(n)}catch{}return null}function XM(t,e){if(t==="0x")return null;try{const n=Jt(hr(t,e,e+32)),r=Jt(hr(t,n,n+32));return hr(t,n+32,n+32+r)}catch{}return null}function lV(t){const e=Or(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function Z_e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const eRe=new Uint8Array([]);function tRe(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(eRe),n+=32;for(let r=0;r<t.length;r++){const i=ht(t[r]);e[r]=lV(n),e.push(lV(i.length)),e.push(Z_e(i)),n+=32+Math.ceil(i.length/32)*32}return _n(e)}const cV="0x0000000000000000000000000000000000000000000000000000000000000000";function nRe(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Ke(Ig(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=hr(t,0,32);Ke(hr(n,0,12)===hr(cV,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=hr(n,12);try{const r=[],i=Jt(hr(t,32,64)),s=Jt(hr(t,i,i+32)),o=hr(t,i+32);for(let a=0;a<s;a++){const l=Q_e(o,a*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{Ke(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=XM(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{Ke(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Ke(hr(t,100,128)===hr(cV,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=hr(t,96,100);try{const r=XM(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{Ke(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function qh(t,e){if(t.provider)return t.provider;Ke(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function uV(t,e){let n=p1(e);if(n.to!=null&&(n.to=_i(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),_i(r,t)]).then(([i,s])=>(xe(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await ps(n)}class P8{constructor(e){Se(this,"provider");Mt(this,{provider:e||null})}async getNonce(e){return qh(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await uV(this,e)}async populateTransaction(e){const n=qh(this,"populateTransaction"),r=await uV(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=wt(r.chainId);xe(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?xe(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&xe(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();Ke(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Ke(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):Ke(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await ps(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await qh(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return qh(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return qh(this,"call").call(await this.populateCall(e))}async resolveName(e){return await qh(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=qh(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=b8.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){Ke(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var Ry,oT;const oj=class oj extends P8{constructor(n,r){super(r);je(this,Ry);Se(this,"address");Mt(this,{address:n})}async getAddress(){return this.address}connect(n){return new oj(this.address,n)}async signTransaction(n){tt(this,Ry,oT).call(this,"transactions","signTransaction")}async signMessage(n){tt(this,Ry,oT).call(this,"messages","signMessage")}async signTypedData(n,r,i){tt(this,Ry,oT).call(this,"typed-data","signTypedData")}};Ry=new WeakSet,oT=function(n,r){Ke(!1,`VoidSigner cannot sign ${n}`,"UNSUPPORTED_OPERATION",{operation:r})};let QM=oj;function rRe(t){return JSON.parse(JSON.stringify(t))}var ks,Yl,zp,zf,$p,Oy,ch,ZM,e4;class Pse{constructor(e){je(this,ch);je(this,ks);je(this,Yl);je(this,zp);je(this,zf);je(this,$p);je(this,Oy);ge(this,ks,e),ge(this,Yl,null),ge(this,zp,tt(this,ch,ZM).bind(this)),ge(this,zf,!1),ge(this,$p,null),ge(this,Oy,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){ie(this,zf)||(ge(this,zf,!0),tt(this,ch,ZM).call(this,-2))}stop(){ie(this,zf)&&(ge(this,zf,!1),ge(this,Oy,!0),tt(this,ch,e4).call(this),ie(this,ks).off("block",ie(this,zp)))}pause(e){e&&tt(this,ch,e4).call(this),ie(this,ks).off("block",ie(this,zp))}resume(){this.start()}}ks=new WeakMap,Yl=new WeakMap,zp=new WeakMap,zf=new WeakMap,$p=new WeakMap,Oy=new WeakMap,ch=new WeakSet,ZM=async function(e){try{ie(this,Yl)==null&&ge(this,Yl,this._subscribe(ie(this,ks)));let n=null;try{n=await ie(this,Yl)}catch(s){if(!Xi(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){ge(this,Yl,null),ie(this,ks)._recoverSubscriber(this,this._recover(ie(this,ks)));return}const r=await ie(this,ks).getNetwork();if(ie(this,$p)||ge(this,$p,r),ie(this,$p).chainId!==r.chainId)throw new Error("chaid changed");if(ie(this,Oy))return;const i=await ie(this,ks).send("eth_getFilterChanges",[n]);await this._emitResults(ie(this,ks),i)}catch(n){console.log("@TODO",n)}ie(this,ks).once("block",ie(this,zp))},e4=function(){const e=ie(this,Yl);e&&(ge(this,Yl,null),e.then(n=>{ie(this,ks).destroyed||ie(this,ks).send("eth_uninstallFilter",[n])}))};var Hp;class iRe extends Pse{constructor(n,r){super(n);je(this,Hp);ge(this,Hp,rRe(r))}_recover(n){return new I8(n,ie(this,Hp))}async _subscribe(n){return await n.send("eth_newFilter",[ie(this,Hp)])}async _emitResults(n,r){for(const i of r)n.emit(ie(this,Hp),n._wrapLog(i,n._network))}}Hp=new WeakMap;class sRe extends Pse{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const oRe="bigint,boolean,function,number,string,symbol".split(/,/g);function aT(t){if(t==null||oRe.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(aT);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function aRe(t){return new Promise(e=>{setTimeout(e,t)})}function k0(t){return t&&t.toLowerCase()}function dV(t){return t&&typeof t.pollingInterval=="number"}const _se={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class uR extends P8{constructor(n,r){super(n);Se(this,"address");r=gn(r),Mt(this,{address:r})}connect(n){Ke(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=aT(n),i=[];if(r.from){const o=r.from;i.push((async()=>{const a=await _i(o,this.provider);xe(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;i.push((async()=>{r.to=await _i(o,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((s,o)=>{const a=[1e3,100];let l=0;const c=async()=>{try{const u=await this.provider.getTransaction(i);if(u!=null){s(u.replaceableTransaction(r));return}}catch(u){if(Xi(u,"CANCELLED")||Xi(u,"BAD_DATA")||Xi(u,"NETWORK_ERROR")||Xi(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=i,o(u);return}if(Xi(u,"INVALID_ARGUMENT")&&(l++,u.info==null&&(u.info={}),u.info.sendTransactionHash=i,l>10)){o(u);return}this.provider.emit("error",Ir("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},a.pop()||4e3)};c()})}async signTransaction(n){const r=aT(n);if(r.from){const s=await _i(r.from,this.provider);xe(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=s}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?ci(n):n;return await this.provider.send("personal_sign",[rt(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const s=aT(i),o=await lm.resolveNames(n,r,s,async a=>{const l=await _i(a);return xe(l!=null,"TypedData does not support null address","value",a),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(lm.getPayload(o.domain,r,o.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?ci(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),rt(r)])}}var Vp,My,Su,Jl,el,ya,Zs,rw,t4;class lRe extends X_e{constructor(n,r){super(n,r);je(this,rw);je(this,Vp);je(this,My);je(this,Su);je(this,Jl);je(this,el);je(this,ya);je(this,Zs);ge(this,My,1),ge(this,Vp,Object.assign({},_se,r||{})),ge(this,Su,[]),ge(this,Jl,null),ge(this,ya,null),ge(this,Zs,null);{let s=null;const o=new Promise(a=>{s=a});ge(this,el,{promise:o,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(xe(!i||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&n!=null&&ge(this,ya,sc.from(n))):i&&(xe(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),ge(this,ya,i))}_getOption(n){return ie(this,Vp)[n]}get _network(){return Ke(ie(this,ya),"network is not available yet","NETWORK_ERROR"),ie(this,ya)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&wt(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(ie(this,ya))return ie(this,ya)}else return n;return ie(this,Zs)?await ie(this,Zs):this.ready?(ge(this,Zs,(async()=>{try{const r=sc.from(wt(await this.send("eth_chainId",[])));return ge(this,Zs,null),r}catch(r){throw ge(this,Zs,null),r}})()),await ie(this,Zs)):(ge(this,Zs,(async()=>{const r={id:$v(this,My)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],ge(this,Zs,null)}catch(s){throw ge(this,Zs,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return sc.from(wt(i.result));throw this.getRpcError(r,i)})()),await ie(this,Zs))}_start(){ie(this,el)==null||ie(this,el).resolve==null||(ie(this,el).resolve(),ge(this,el,null),(async()=>{for(;ie(this,ya)==null&&!this.destroyed;)try{ge(this,ya,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ir("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await aRe(1e3)}tt(this,rw,t4).call(this)})())}async _waitUntilReady(){if(ie(this,el)!=null)return await ie(this,el).promise}_getSubscriber(n){return n.type==="pending"?new sRe(this):n.type==="event"?this._getOption("polling")?new I8(this,n.filter):new iRe(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new Ise("orphan"):super._getSubscriber(n)}get ready(){return ie(this,el)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=tl(wt(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=rt(n[i]))}),n.accessList&&(r.accessList=Pm(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(i=>i.toLowerCase())),n.authorizationList&&(r.authorizationList=n.authorizationList.map(i=>{const s=Rie(i);return{address:s.address,nonce:tl(s.nonce),chainId:tl(s.chainId),yParity:tl(s.signature.yParity),r:tl(s.signature.r),s:tl(s.signature.s)}})),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[k0(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[k0(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[k0(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[k0(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(k0):n.filter.address=k0(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:s}=r;if(i==="eth_estimateGas"&&s.message){const l=s.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return Ir("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:s}});if(l.match(/nonce/i)&&l.match(/too low/i))return Ir("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const l=n4(s),c=h1.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],l?l.data:null);return c.info={error:s,payload:n},c}const o=JSON.stringify(dRe(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Ir("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const l=n.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Ir("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return Ir("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Ir("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:s}});if(o.match(/only replay-protected/i))return Ir("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:l,info:{error:s}}})}let a=!!o.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?Ir("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:s,payload:n}}):Ir("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(Ir("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=$v(this,My)._++,s=new Promise((o,a)=>{ie(this,Su).push({resolve:o,reject:a,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return tt(this,rw,t4).call(this),s}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const s=await r;if(n>=s.length)throw new Error("no such account");return new uR(this,s[n])}const{accounts:i}=await ps({network:this.getNetwork(),accounts:r});n=gn(n);for(const s of i)if(gn(s)===n)return new uR(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new uR(this,r))}destroy(){ie(this,Jl)&&(clearTimeout(ie(this,Jl)),ge(this,Jl,null));for(const{payload:n,reject:r}of ie(this,Su))r(Ir("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));ge(this,Su,[]),super.destroy()}}Vp=new WeakMap,My=new WeakMap,Su=new WeakMap,Jl=new WeakMap,el=new WeakMap,ya=new WeakMap,Zs=new WeakMap,rw=new WeakSet,t4=function(){if(ie(this,Jl))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");ge(this,Jl,setTimeout(()=>{ge(this,Jl,null);const r=ie(this,Su);for(ge(this,Su,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==ie(this,Vp).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(o=>o.payload)).length>ie(this,Vp).batchMaxSize){r.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:l,payload:c}of i){if(this.destroyed){l(Ir("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=o.filter(f=>f.id===c.id)[0];if(u==null){const f=Ir("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",f),l(f);continue}if("error"in u){l(this.getRpcError(c,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of i)a(o)}})()}},n))};var $f;class cRe extends lRe{constructor(n,r){super(n,r);je(this,$f);let i=this._getOption("pollingInterval");i==null&&(i=_se.pollingInterval),ge(this,$f,i)}_getSubscriber(n){const r=super._getSubscriber(n);return dV(r)&&(r.pollingInterval=ie(this,$f)),r}get pollingInterval(){return ie(this,$f)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");ge(this,$f,n),this._forEachSubscriber(r=>{dV(r)&&(r.pollingInterval=ie(this,$f))})}}$f=new WeakMap;var Dy;class uRe extends cRe{constructor(n,r,i){n==null&&(n="http://localhost:8545");super(r,i);je(this,Dy);typeof n=="string"?ge(this,Dy,new td(n)):ge(this,Dy,n.clone())}_getConnection(){return ie(this,Dy).clone()}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){const r=this._getConnection();r.body=JSON.stringify(n),r.setHeader("content-type","application/json");const i=await r.send();i.assertOk();let s=i.bodyJson;return Array.isArray(s)||(s=[s]),s}}Dy=new WeakMap;function n4(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&pr(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=n4(t[e]);if(n)return n}return null}if(typeof t=="string")try{return n4(JSON.parse(t))}catch{}return null}function r4(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)r4(t[n],e);if(typeof t=="string")try{return r4(JSON.parse(t),e)}catch{}}}function dRe(t){const e=[];return r4(t,e),e}var Ly;const aj=class aj extends P8{constructor(n,r){super(r);Se(this,"address");je(this,Ly);xe(n&&typeof n.sign=="function","invalid private key","privateKey","[ REDACTED ]"),ge(this,Ly,n);const i=Cw(this.signingKey.publicKey);Mt(this,{address:i})}get signingKey(){return ie(this,Ly)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(n){return new aj(ie(this,Ly),n)}async signTransaction(n){n=p1(n);const{to:r,from:i}=await ps({to:n.to?_i(n.to,this):void 0,from:n.from?_i(n.from,this):void 0});r!=null&&(n.to=r),i!=null&&(n.from=i),n.from!=null&&(xe(gn(n.from)===this.address,"transaction from address mismatch","tx.from",n.from),delete n.from);const s=b8.from(n);return s.signature=this.signingKey.sign(s.unsignedHash),s.serialized}async signMessage(n){return this.signMessageSync(n)}signMessageSync(n){return this.signingKey.sign(ese(n)).serialized}authorizeSync(n){xe(typeof n.address=="string","invalid address for authorizeSync","auth.address",n);const r=this.signingKey.sign(Oie(n));return Object.assign({},{address:gn(n.address),nonce:wt(n.nonce||0),chainId:wt(n.chainId||0)},{signature:r})}async authorize(n){return n=Object.assign({},n,{address:await _i(n.address,this)}),this.authorizeSync(await this.populateAuthorization(n))}async signTypedData(n,r,i){const s=await lm.resolveNames(n,r,i,async o=>{Ke(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});const a=await this.provider.resolveName(o);return Ke(a!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),a});return this.signingKey.sign(lm.hash(s.domain,r,s.value)).serialized}};Ly=new WeakMap;let XT=aj;const QT=" !#$%&'()*+,-./<=>?@[]^_`{|}~",fRe=/^[a-z]*$/i;function fV(t,e){let n=97;return t.reduce((r,i)=>(i===e?n++:i.match(fRe)?r.push(String.fromCharCode(n)+i):(n=97,r.push(i)),r),[])}function hRe(t,e){for(let i=QT.length-1;i>=0;i--)t=t.split(QT[i]).join(e.substring(2*i,2*i+2));const n=[],r=t.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(i,s,o,a)=>{if(o)for(let l=parseInt(o);l>=0;l--)n.push(";");else n.push(s.toLowerCase());return""});if(r)throw new Error(`leftovers: ${JSON.stringify(r)}`);return fV(fV(n,";"),":")}function pRe(t){return xe(t[0]==="0","unsupported auwl data","data",t),hRe(t.substring(1+2*QT.length),t.substring(1,1+2*QT.length))}class mRe{constructor(e){Se(this,"locale");Mt(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var By,iw,Gp,sw,i4;class gRe extends mRe{constructor(n,r,i){super(n);je(this,sw);je(this,By);je(this,iw);je(this,Gp);ge(this,By,r),ge(this,iw,i),ge(this,Gp,null)}get _data(){return ie(this,By)}_decodeWords(){return pRe(ie(this,By))}getWord(n){const r=tt(this,sw,i4).call(this);return xe(n>=0&&n<r.length,`invalid word index: ${n}`,"index",n),r[n]}getWordIndex(n){return tt(this,sw,i4).call(this).indexOf(n)}}By=new WeakMap,iw=new WeakMap,Gp=new WeakMap,sw=new WeakSet,i4=function(){if(ie(this,Gp)==null){const n=this._decodeWords();if(nd(n.join(`
`)+`
`)!==ie(this,iw))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);ge(this,Gp,n)}return ie(this,Gp)};const yRe="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",xRe="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let dR=null;class fm extends gRe{constructor(){super("en",yRe,xRe)}static wordlist(){return dR==null&&(dR=new fm),dR}}function Rse(t){return(1<<t)-1<<8-t&255}function vRe(t){return(1<<t)-1&255}function fR(t,e){lre("NFKD"),e==null&&(e=fm.wordlist());const n=e.split(t);xe(n.length%3===0&&n.length>=12&&n.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const r=new Uint8Array(Math.ceil(11*n.length/8));let i=0;for(let c=0;c<n.length;c++){let u=e.getWordIndex(n[c].normalize("NFKD"));xe(u>=0,`invalid mnemonic word at index ${c}`,"mnemonic","[ REDACTED ]");for(let f=0;f<11;f++)u&1<<10-f&&(r[i>>3]|=1<<7-i%8),i++}const s=32*n.length/3,o=n.length/3,a=Rse(o),l=ht(Ra(r.slice(0,s/8)))[0]&a;return xe(l===(r[r.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),rt(r.slice(0,s/8))}function hR(t,e){xe(t.length%4===0&&t.length>=16&&t.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=fm.wordlist());const n=[0];let r=11;for(let o=0;o<t.length;o++)r>8?(n[n.length-1]<<=8,n[n.length-1]|=t[o],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=t[o]>>8-r,n.push(t[o]&vRe(8-r)),r+=3);const i=t.length/4,s=parseInt(Ra(t).substring(2,4),16)&Rse(i);return n[n.length-1]<<=i,n[n.length-1]|=s>>8-i,e.join(n.map(o=>e.getWord(o)))}const pR={};class Zy{constructor(e,n,r,i,s){Se(this,"phrase");Se(this,"password");Se(this,"wordlist");Se(this,"entropy");i==null&&(i=""),s==null&&(s=fm.wordlist()),mh(e,pR,"Mnemonic"),Mt(this,{phrase:r,password:i,wordlist:s,entropy:n})}computeSeed(){const e=ci("mnemonic"+this.password,"NFKD");return gh(ci(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,n,r){const i=fR(e,r);return e=hR(ht(i),r),new Zy(pR,i,e,n,r)}static fromEntropy(e,n,r){const i=ht(e,"entropy"),s=hR(i,r);return new Zy(pR,rt(i),s,n,r)}static entropyToPhrase(e,n){const r=ht(e,"entropy");return hR(r,n)}static phraseToEntropy(e,n){return fR(e,n)}static isValidMnemonic(e,n){try{return fR(e,n),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var $i=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},mR=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},lT,oa,Bl;const bRe={16:10,24:12,32:14},wRe=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],ta=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],FS=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],ERe=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],SRe=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],ARe=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],TRe=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],CRe=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],kRe=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],NRe=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],IRe=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],PRe=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],_Re=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],RRe=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],ORe=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function gR(t){const e=[];for(let n=0;n<t.length;n+=4)e.push(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]);return e}class _8{get key(){return $i(this,lT,"f").slice()}constructor(e){if(lT.set(this,void 0),oa.set(this,void 0),Bl.set(this,void 0),!(this instanceof _8))throw Error("AES must be instanitated with `new`");mR(this,lT,new Uint8Array(e),"f");const n=bRe[this.key.length];if(n==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");mR(this,Bl,[],"f"),mR(this,oa,[],"f");for(let u=0;u<=n;u++)$i(this,Bl,"f").push([0,0,0,0]),$i(this,oa,"f").push([0,0,0,0]);const r=(n+1)*4,i=this.key.length/4,s=gR(this.key);let o;for(let u=0;u<i;u++)o=u>>2,$i(this,Bl,"f")[o][u%4]=s[u],$i(this,oa,"f")[n-o][u%4]=s[u];let a=0,l=i,c;for(;l<r;){if(c=s[i-1],s[0]^=ta[c>>16&255]<<24^ta[c>>8&255]<<16^ta[c&255]<<8^ta[c>>24&255]^wRe[a]<<24,a+=1,i!=8)for(let g=1;g<i;g++)s[g]^=s[g-1];else{for(let g=1;g<i/2;g++)s[g]^=s[g-1];c=s[i/2-1],s[i/2]^=ta[c&255]^ta[c>>8&255]<<8^ta[c>>16&255]<<16^ta[c>>24&255]<<24;for(let g=i/2+1;g<i;g++)s[g]^=s[g-1]}let u=0,f,m;for(;u<i&&l<r;)f=l>>2,m=l%4,$i(this,Bl,"f")[f][m]=s[u],$i(this,oa,"f")[n-f][m]=s[u++],l++}for(let u=1;u<n;u++)for(let f=0;f<4;f++)c=$i(this,oa,"f")[u][f],$i(this,oa,"f")[u][f]=PRe[c>>24&255]^_Re[c>>16&255]^RRe[c>>8&255]^ORe[c&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const n=$i(this,Bl,"f").length-1,r=[0,0,0,0];let i=gR(e);for(let a=0;a<4;a++)i[a]^=$i(this,Bl,"f")[0][a];for(let a=1;a<n;a++){for(let l=0;l<4;l++)r[l]=ERe[i[l]>>24&255]^SRe[i[(l+1)%4]>>16&255]^ARe[i[(l+2)%4]>>8&255]^TRe[i[(l+3)%4]&255]^$i(this,Bl,"f")[a][l];i=r.slice()}const s=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=$i(this,Bl,"f")[n][a],s[4*a]=(ta[i[a]>>24&255]^o>>24)&255,s[4*a+1]=(ta[i[(a+1)%4]>>16&255]^o>>16)&255,s[4*a+2]=(ta[i[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=(ta[i[(a+3)%4]&255]^o)&255;return s}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const n=$i(this,oa,"f").length-1,r=[0,0,0,0];let i=gR(e);for(let a=0;a<4;a++)i[a]^=$i(this,oa,"f")[0][a];for(let a=1;a<n;a++){for(let l=0;l<4;l++)r[l]=CRe[i[l]>>24&255]^kRe[i[(l+3)%4]>>16&255]^NRe[i[(l+2)%4]>>8&255]^IRe[i[(l+1)%4]&255]^$i(this,oa,"f")[a][l];i=r.slice()}const s=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=$i(this,oa,"f")[n][a],s[4*a]=(FS[i[a]>>24&255]^o>>24)&255,s[4*a+1]=(FS[i[(a+3)%4]>>16&255]^o>>16)&255,s[4*a+2]=(FS[i[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=(FS[i[(a+1)%4]&255]^o)&255;return s}}lT=new WeakMap,oa=new WeakMap,Bl=new WeakMap;class Ose{constructor(e,n,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new _8(n)},name:{enumerable:!0,value:e}})}}var zS=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},N0=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ab,ru;class R8 extends Ose{constructor(e,n){if(super("ECC",e,R8),Ab.set(this,void 0),ru.set(this,void 0),n){if(n.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");zS(this,Ab,new Uint8Array(n),"f")}else zS(this,Ab,new Uint8Array(16),"f");zS(this,ru,this.iv,"f")}get iv(){return new Uint8Array(N0(this,Ab,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const n=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let i=0;i<16;i++)N0(this,ru,"f")[i]^=e[r+i];zS(this,ru,this.aes.encrypt(N0(this,ru,"f")),"f"),n.set(N0(this,ru,"f"),r)}return n}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const n=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){const i=this.aes.decrypt(e.subarray(r,r+16));for(let s=0;s<16;s++)n[r+s]=i[s]^N0(this,ru,"f")[s],N0(this,ru,"f")[s]=e[r+s]}return n}}Ab=new WeakMap,ru=new WeakMap;var I0=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},na=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Tb,ep,aa;class ex extends Ose{constructor(e,n){super("CTR",e,ex),Tb.set(this,void 0),ep.set(this,void 0),aa.set(this,void 0),I0(this,aa,new Uint8Array(16),"f"),na(this,aa,"f").fill(0),I0(this,Tb,na(this,aa,"f"),"f"),I0(this,ep,16,"f"),n==null&&(n=1),typeof n=="number"?this.setCounterValue(n):this.setCounterBytes(n)}get counter(){return new Uint8Array(na(this,aa,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let n=15;n>=0;--n)na(this,aa,"f")[n]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");na(this,aa,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(na(this,aa,"f")[e]===255)na(this,aa,"f")[e]=0;else{na(this,aa,"f")[e]++;break}}encrypt(e){var n,r;const i=new Uint8Array(e);for(let s=0;s<i.length;s++)na(this,ep,"f")===16&&(I0(this,Tb,this.aes.encrypt(na(this,aa,"f")),"f"),I0(this,ep,0,"f"),this.increment()),i[s]^=na(this,Tb,"f")[I0(this,ep,(r=na(this,ep,"f"),n=r++,r),"f"),n];return i}decrypt(e){return this.encrypt(e)}}Tb=new WeakMap,ep=new WeakMap,aa=new WeakMap;function MRe(t){if(t.length<16)throw new TypeError("PKCS#7 invalid length");const e=t[t.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const n=t.length-e;for(let r=0;r<e;r++)if(t[n+r]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(t.subarray(0,n))}function Mse(t){return typeof t=="string"&&!t.startsWith("0x")&&(t="0x"+t),Qi(t)}function Jv(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function Iw(t){return typeof t=="string"?ci(t,"NFKC"):Qi(t)}function Yr(t,e){const n=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);xe(n!=null,"invalid path","path",e);const r=n[1],i=n[3],s=n[4]==="!";let o=t;for(const a of r.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if(typeof o=="object"){let l=null;for(const c in o)if(c.toLowerCase()===a){l=o[c];break}o=l}else o=null;if(o==null)break}if(xe(!s||o!=null,"missing required value","path",r),i&&o!=null){if(i==="int"){if(typeof o=="string"&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if(i==="number"&&typeof o=="string"&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if(i==="data"&&typeof o=="string")return Mse(o);if(i==="array"&&Array.isArray(o)||i===typeof o)return o;xe(!1,`wrong type found for ${i} `,"path",r)}return o}const Dse="m/44'/60'/0'/0/0";function hV(t){try{const e=JSON.parse(t);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function DRe(t,e,n){if(Yr(t,"crypto.cipher:string")==="aes-128-ctr"){const i=Yr(t,"crypto.cipherparams.iv:data!"),s=new ex(e,i);return rt(s.decrypt(n))}Ke(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function ZT(t,e){const n=ht(e),r=Yr(t,"crypto.ciphertext:data!"),i=rt(Gn(_n([n.slice(16,32),r]))).substring(2);xe(i===Yr(t,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const s=DRe(t,n.slice(0,16),r),o=Cw(s);if(t.address){let c=t.address.toLowerCase();c.startsWith("0x")||(c="0x"+c),xe(gn(c)===o,"keystore address/privateKey mismatch","address",t.address)}const a={address:o,privateKey:s};if(Yr(t,"x-ethers.version:string")==="0.1"){const c=n.slice(32,64),u=Yr(t,"x-ethers.mnemonicCiphertext:data!"),f=Yr(t,"x-ethers.mnemonicCounter:data!"),m=new ex(c,f);a.mnemonic={path:Yr(t,"x-ethers.path:string")||Dse,locale:Yr(t,"x-ethers.locale:string")||"en",entropy:rt(ht(m.decrypt(u)))}}return a}function Lse(t){const e=Yr(t,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const n=Yr(t,"crypto.kdfparams.salt:data!"),r=Yr(t,"crypto.kdfparams.n:int!"),i=Yr(t,"crypto.kdfparams.r:int!"),s=Yr(t,"crypto.kdfparams.p:int!");xe(r>0&&(r&r-1)===0,"invalid kdf.N","kdf.N",r),xe(i>0&&s>0,"invalid kdf","kdf",e);const o=Yr(t,"crypto.kdfparams.dklen:int!");return xe(o===32,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:n,N:r,r:i,p:s,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const n=Yr(t,"crypto.kdfparams.salt:data!"),r=Yr(t,"crypto.kdfparams.prf:string!"),i=r.split("-").pop();xe(i==="sha256"||i==="sha512","invalid kdf.pdf","kdf.pdf",r);const s=Yr(t,"crypto.kdfparams.c:int!"),o=Yr(t,"crypto.kdfparams.dklen:int!");return xe(o===32,"invalid kdf.dklen","kdf.dklen",o),{name:"pbkdf2",salt:n,count:s,dkLen:o,algorithm:i}}}xe(!1,"unsupported key-derivation function","kdf",e)}function LRe(t,e){const n=JSON.parse(t),r=Iw(e),i=Lse(n);if(i.name==="pbkdf2"){const{salt:f,count:m,dkLen:g,algorithm:x}=i,v=gh(r,f,m,g,x);return ZT(n,v)}Ke(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:s,N:o,r:a,p:l,dkLen:c}=i,u=Tx(r,s,o,a,l,c);return ZT(n,u)}function pV(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}async function BRe(t,e,n){const r=JSON.parse(t),i=Iw(e),s=Lse(r);if(s.name==="pbkdf2"){n&&(n(0),await pV(0));const{salt:m,count:g,dkLen:x,algorithm:v}=s,w=gh(i,m,g,x,v);return n&&(n(1),await pV(0)),ZT(r,w)}Ke(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:o,N:a,r:l,p:c,dkLen:u}=s,f=await Ax(i,o,a,l,c,u,n);return ZT(r,f)}function Bse(t){const e=t.salt!=null?ht(t.salt,"options.salt"):Fu(32);let n=1<<17,r=8,i=1;return t.scrypt&&(t.scrypt.N&&(n=t.scrypt.N),t.scrypt.r&&(r=t.scrypt.r),t.scrypt.p&&(i=t.scrypt.p)),xe(typeof n=="number"&&n>0&&Number.isSafeInteger(n)&&(BigInt(n)&BigInt(n-1))===BigInt(0),"invalid scrypt N parameter","options.N",n),xe(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),xe(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:n,r,p:i}}function jse(t,e,n,r){const i=ht(n.privateKey,"privateKey"),s=r.iv!=null?ht(r.iv,"options.iv"):Fu(16);xe(s.length===16,"invalid options.iv length","options.iv",r.iv);const o=r.uuid!=null?ht(r.uuid,"options.uuid"):Fu(16);xe(o.length===16,"invalid options.uuid length","options.uuid",r.iv);const a=t.slice(0,16),l=t.slice(16,32),c=new ex(a,s),u=ht(c.encrypt(i)),f=Gn(_n([l,u])),m={address:n.address.substring(2).toLowerCase(),id:Uke(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:rt(s).substring(2)},ciphertext:rt(u).substring(2),kdf:"scrypt",kdfparams:{salt:rt(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:f.substring(2)}};if(n.mnemonic){const g=r.client!=null?r.client:`ethers/${ore}`,x=n.mnemonic.path||Dse,v=n.mnemonic.locale||"en",w=t.slice(32,64),E=ht(n.mnemonic.entropy,"account.mnemonic.entropy"),k=Fu(16),I=new ex(w,k),D=ht(I.encrypt(E)),j=new Date,U="UTC--"+(j.getUTCFullYear()+"-"+Jv(j.getUTCMonth()+1,2)+"-"+Jv(j.getUTCDate(),2)+"T"+Jv(j.getUTCHours(),2)+"-"+Jv(j.getUTCMinutes(),2)+"-"+Jv(j.getUTCSeconds(),2)+".0Z")+"--"+m.address;m["x-ethers"]={client:g,gethFilename:U,path:x,locale:v,mnemonicCounter:rt(k).substring(2),mnemonicCiphertext:rt(D).substring(2),version:"0.1"}}return JSON.stringify(m)}function Use(t,e,n){n==null&&(n={});const r=Iw(e),i=Bse(n),s=Tx(r,i.salt,i.N,i.r,i.p,64);return jse(ht(s),i,t,n)}async function Fse(t,e,n){n==null&&(n={});const r=Iw(e),i=Bse(n),s=await Ax(r,i.salt,i.N,i.r,i.p,64,n.progressCallback);return jse(ht(s),i,t,n)}const yR="m/44'/60'/0'/0/0",jRe=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),pc=2147483648,URe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),FRe="0123456789abcdef";function eC(t,e){let n="";for(;t;)n=FRe[t%16]+n,t=Math.trunc(t/16);for(;n.length<e*2;)n="0"+n;return"0x"+n}function s4(t){const e=ht(t),n=hr(Ra(Ra(e)),0,4),r=_n([e,n]);return fre(r)}const zl={};function zse(t,e,n,r){const i=new Uint8Array(37);t&pc?(Ke(r!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(ht(r),1)):i.set(ht(n));for(let o=24;o>=0;o-=8)i[33+(o>>3)]=t>>24-o&255;const s=ht(Ex("sha512",e,i));return{IL:s.slice(0,32),IR:s.slice(32)}}function $se(t,e){const n=e.split("/");xe(n.length>0,"invalid path","path",e),n[0]==="m"&&(xe(t.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${t.depth}`,"path",e),n.shift());let r=t;for(let i=0;i<n.length;i++){const s=n[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));xe(o<pc,"invalid path index",`path[${i}]`,s),r=r.deriveChild(pc+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);xe(o<pc,"invalid path index",`path[${i}]`,s),r=r.deriveChild(o)}else xe(!1,"invalid path component",`path[${i}]`,s)}return r}var ow,o4,qp,Cb;const Ka=class Ka extends XT{constructor(n,r,i,s,o,a,l,c,u){super(r,u);je(this,ow);Se(this,"publicKey");Se(this,"fingerprint");Se(this,"parentFingerprint");Se(this,"mnemonic");Se(this,"chainCode");Se(this,"path");Se(this,"index");Se(this,"depth");mh(n,zl,"HDNodeWallet"),Mt(this,{publicKey:r.compressedPublicKey});const f=hr(Sx(Ra(this.publicKey)),0,4);Mt(this,{parentFingerprint:i,fingerprint:f,chainCode:s,path:o,index:a,depth:l}),Mt(this,{mnemonic:c})}connect(n){return new Ka(zl,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,n)}async encrypt(n,r){return await Fse(tt(this,ow,o4).call(this),n,{progressCallback:r})}encryptSync(n){return Use(tt(this,ow,o4).call(this),n)}get extendedKey(){return Ke(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),s4(_n(["0x0488ADE4",eC(this.depth,1),this.parentFingerprint,eC(this.index,4),this.chainCode,_n(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new y1(zl,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(n){const r=Jt(n,"index");xe(r<=4294967295,"invalid index","index",r);let i=this.path;i&&(i+="/"+(r&~pc),r&pc&&(i+="'"));const{IR:s,IL:o}=zse(r,this.chainCode,this.publicKey,this.privateKey),a=new hc(ed((Sw(o)+BigInt(this.privateKey))%URe,32));return new Ka(zl,a,this.fingerprint,rt(s),i,r,this.depth+1,this.mnemonic,this.provider)}derivePath(n){return $se(this,n)}static fromExtendedKey(n){const r=Or(bke(n));xe(r.length===82||s4(r.slice(0,78))===n,"invalid extended key","extendedKey","[ REDACTED ]");const i=r[4],s=rt(r.slice(5,9)),o=parseInt(rt(r.slice(9,13)).substring(2),16),a=rt(r.slice(13,45)),l=r.slice(45,78);switch(rt(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const c=rt(l);return new y1(zl,Cw(c),c,s,a,null,o,i,null)}case"0x0488ade4":case"0x04358394 ":if(l[0]!==0)break;return new Ka(zl,new hc(l.slice(1)),s,a,null,o,i,null,null)}xe(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(n,r,i){var o;n==null&&(n=""),r==null&&(r=yR),i==null&&(i=fm.wordlist());const s=Zy.fromEntropy(Fu(16),n,i);return tt(o=Ka,qp,Cb).call(o,s.computeSeed(),s).derivePath(r)}static fromMnemonic(n,r){var i;return r||(r=yR),tt(i=Ka,qp,Cb).call(i,n.computeSeed(),n).derivePath(r)}static fromPhrase(n,r,i,s){var a;r==null&&(r=""),i==null&&(i=yR),s==null&&(s=fm.wordlist());const o=Zy.fromPhrase(n,r,s);return tt(a=Ka,qp,Cb).call(a,o.computeSeed(),o).derivePath(i)}static fromSeed(n){var r;return tt(r=Ka,qp,Cb).call(r,n,null)}};ow=new WeakSet,o4=function(){const n={address:this.address,privateKey:this.privateKey},r=this.mnemonic;return this.path&&r&&r.wordlist.locale==="en"&&r.password===""&&(n.mnemonic={path:this.path,locale:"en",entropy:r.entropy}),n},qp=new WeakSet,Cb=function(n,r){xe(tk(n),"invalid seed","seed","[REDACTED]");const i=ht(n,"seed");xe(i.length>=16&&i.length<=64,"invalid seed","seed","[REDACTED]");const s=ht(Ex("sha512",jRe,i)),o=new hc(rt(s.slice(0,32)));return new Ka(zl,o,"0x00000000",rt(s.slice(32)),"m",0,0,r,null)},je(Ka,qp);let zb=Ka;class y1 extends QM{constructor(n,r,i,s,o,a,l,c,u){super(r,u);Se(this,"publicKey");Se(this,"fingerprint");Se(this,"parentFingerprint");Se(this,"chainCode");Se(this,"path");Se(this,"index");Se(this,"depth");mh(n,zl,"HDNodeVoidWallet"),Mt(this,{publicKey:i});const f=hr(Sx(Ra(i)),0,4);Mt(this,{publicKey:i,fingerprint:f,parentFingerprint:s,chainCode:o,path:a,index:l,depth:c})}connect(n){return new y1(zl,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,n)}get extendedKey(){return Ke(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),s4(_n(["0x0488B21E",eC(this.depth,1),this.parentFingerprint,eC(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(n){const r=Jt(n,"index");xe(r<=4294967295,"invalid index","index",r);let i=this.path;i&&(i+="/"+(r&~pc),r&pc&&(i+="'"));const{IR:s,IL:o}=zse(r,this.chainCode,this.publicKey,null),a=hc.addPoints(o,this.publicKey,!0),l=Cw(a);return new y1(zl,l,a,this.fingerprint,rt(s),i,r,this.depth+1,this.provider)}derivePath(n){return $se(this,n)}}function Igt(t){const e=Jt(t,"index");return xe(e>=0&&e<pc,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}function Pgt(t){const e=Jt(t,"index");return xe(e>=0&&e<pc,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}function mV(t){try{if(JSON.parse(t).encseed)return!0}catch{}return!1}function gV(t,e){const n=JSON.parse(t),r=Iw(e),i=gn(Yr(n,"ethaddr:string!")),s=Mse(Yr(n,"encseed:string!"));xe(s&&s.length%16===0,"invalid encseed","json",t);const o=ht(gh(r,r,2e3,32,"sha256")).slice(0,16),a=s.slice(0,16),l=s.slice(16),c=new R8(o,a),u=MRe(ht(c.decrypt(l)));let f="";for(let m=0;m<u.length;m++)f+=String.fromCharCode(u[m]);return{address:i,privateKey:nd(f)}}function yV(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}var aw,a4;const cp=class cp extends XT{constructor(e,n){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let r=typeof e=="string"?new hc(e):e;super(r,n)}connect(e){return new cp(this.signingKey,e)}async encrypt(e,n){const r={address:this.address,privateKey:this.privateKey};return await Fse(r,e,{progressCallback:n})}encryptSync(e){const n={address:this.address,privateKey:this.privateKey};return Use(n,e)}static async fromEncryptedJson(e,n,r){var s;let i=null;return hV(e)?i=await BRe(e,n,r):mV(e)&&(r&&(r(0),await yV(0)),i=gV(e,n),r&&(r(1),await yV(0))),tt(s=cp,aw,a4).call(s,i)}static fromEncryptedJsonSync(e,n){var i;let r=null;return hV(e)?r=LRe(e,n):mV(e)?r=gV(e,n):xe(!1,"invalid JSON wallet","json","[ REDACTED ]"),tt(i=cp,aw,a4).call(i,r)}static createRandom(e){const n=zb.createRandom();return e?n.connect(e):n}static fromPhrase(e,n){const r=zb.fromPhrase(e);return n?r.connect(n):r}};aw=new WeakSet,a4=function(e){if(xe(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const r=Zy.fromEntropy(e.mnemonic.entropy),i=zb.fromMnemonic(r,e.mnemonic.path);if(i.address===e.address&&i.privateKey===e.privateKey)return i;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const n=new cp(e.privateKey);return xe(n.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),n},je(cp,aw);let Yf=cp;var sf={},xR={},vR={},bR={},wR={},ER={},Xv,xV;function zRe(){if(xV)return Xv;xV=1,Xv=t(typeof dn<"u"&&dn)||t(Xv.Buffer)||t(typeof window<"u"&&window.Buffer)||Xv.Buffer;function t(e){return e&&e.isBuffer&&e}return Xv}var SR,vV;function O8(){if(vV)return SR;vV=1;var t={}.toString;return SR=Array.isArray||function(e){return t.call(e)=="[object Array]"},SR}var AR={exports:{}},bV;function $Re(){if(bV)return AR.exports;bV=1;var t=Ba(),e=AR.exports=n(0);e.alloc=n,e.concat=t.concat,e.from=r;function n(i){return new Array(i)}function r(i){if(!t.isBuffer(i)&&t.isView(i))i=t.Uint8Array.from(i);else if(t.isArrayBuffer(i))i=new Uint8Array(i);else{if(typeof i=="string")return t.from.call(e,i);if(typeof i=="number")throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(i)}return AR.exports}var TR={exports:{}},wV;function HRe(){if(wV)return TR.exports;wV=1;var t=Ba(),e=t.global,n=TR.exports=t.hasBuffer?r(0):[];n.alloc=t.hasBuffer&&e.alloc||r,n.concat=t.concat,n.from=i;function r(s){return new e(s)}function i(s){if(!t.isBuffer(s)&&t.isView(s))s=t.Uint8Array.from(s);else if(t.isArrayBuffer(s))s=new Uint8Array(s);else{if(typeof s=="string")return t.from.call(n,s);if(typeof s=="number")throw new TypeError('"value" argument must not be a number')}return e.from&&e.from.length!==1?e.from(s):new e(s)}return TR.exports}var CR={exports:{}},EV;function VRe(){if(EV)return CR.exports;EV=1;var t=Ba(),e=CR.exports=t.hasArrayBuffer?n(0):[];e.alloc=n,e.concat=t.concat,e.from=r;function n(i){return new Uint8Array(i)}function r(i){if(t.isView(i)){var s=i.byteOffset,o=i.byteLength;i=i.buffer,i.byteLength!==o&&(i.slice?i=i.slice(s,s+o):(i=new Uint8Array(i),i.byteLength!==o&&(i=Array.prototype.slice.call(i,s,s+o))))}else{if(typeof i=="string")return t.from.call(e,i);if(typeof i=="number")throw new TypeError('"value" argument must not be a number')}return new Uint8Array(i)}return CR.exports}var P0={},Qv={},SV;function GRe(){if(SV)return Qv;SV=1,Qv.copy=n,Qv.toString=e,Qv.write=t;function t(r,i){for(var s=this,o=i||(i|=0),a=r.length,l=0,c=0;c<a;)l=r.charCodeAt(c++),l<128?s[o++]=l:l<2048?(s[o++]=192|l>>>6,s[o++]=128|l&63):l<55296||l>57343?(s[o++]=224|l>>>12,s[o++]=128|l>>>6&63,s[o++]=128|l&63):(l=(l-55296<<10|r.charCodeAt(c++)-56320)+65536,s[o++]=240|l>>>18,s[o++]=128|l>>>12&63,s[o++]=128|l>>>6&63,s[o++]=128|l&63);return o-i}function e(r,i,s){var o=this,a=i|0;s||(s=o.length);for(var l="",c=0;a<s;){if(c=o[a++],c<128){l+=String.fromCharCode(c);continue}(c&224)===192?c=(c&31)<<6|o[a++]&63:(c&240)===224?c=(c&15)<<12|(o[a++]&63)<<6|o[a++]&63:(c&248)===240&&(c=(c&7)<<18|(o[a++]&63)<<12|(o[a++]&63)<<6|o[a++]&63),c>=65536?(c-=65536,l+=String.fromCharCode((c>>>10)+55296,(c&1023)+56320)):l+=String.fromCharCode(c)}return l}function n(r,i,s,o){var a;s||(s=0),!o&&o!==0&&(o=this.length),i||(i=0);var l=o-s;if(r===this&&s<i&&i<o)for(a=l-1;a>=0;a--)r[a+i]=this[a+s];else for(a=0;a<l;a++)r[a+i]=this[a+s];return l}return Qv}var AV;function M8(){if(AV)return P0;AV=1;var t=GRe();P0.copy=s,P0.slice=o,P0.toString=a,P0.write=l("write");var e=Ba(),n=e.global,r=e.hasBuffer&&"TYPED_ARRAY_SUPPORT"in n,i=r&&!n.TYPED_ARRAY_SUPPORT;function s(c,u,f,m){var g=e.isBuffer(this),x=e.isBuffer(c);if(g&&x)return this.copy(c,u,f,m);if(!i&&!g&&!x&&e.isView(this)&&e.isView(c)){var v=f||m!=null?o.call(this,f,m):this;return c.set(v,u),v.length}else return t.copy.call(this,c,u,f,m)}function o(c,u){var f=this.slice||!i&&this.subarray;if(f)return f.call(this,c,u);var m=e.alloc.call(this,u-c);return s.call(this,m,0,c,u),m}function a(c,u,f){var m=!r&&e.isBuffer(this)?this.toString:t.toString;return m.apply(this,arguments)}function l(c){return u;function u(){var f=this[c]||t[c];return f.apply(this,arguments)}}return P0}var TV;function Ba(){return TV||(TV=1,(function(t){var e=t.global=zRe(),n=t.hasBuffer=e&&!!e.isBuffer,r=t.hasArrayBuffer=typeof ArrayBuffer<"u",i=t.isArray=O8();t.isArrayBuffer=r?v:k;var s=t.isBuffer=n?e.isBuffer:k,o=t.isView=r?ArrayBuffer.isView||I("ArrayBuffer","buffer"):k;t.alloc=m,t.concat=g,t.from=f;var a=t.Array=$Re(),l=t.Buffer=HRe(),c=t.Uint8Array=VRe(),u=t.prototype=M8();function f(D){return typeof D=="string"?w.call(this,D):E(this).from(D)}function m(D){return E(this).alloc(D)}function g(D,j){j||(j=0,Array.prototype.forEach.call(D,F));var M=this!==t&&this||D[0],U=m.call(M,j),V=0;return Array.prototype.forEach.call(D,z),U;function F(K){j+=K.length}function z(K){V+=u.copy.call(K,U,V)}}var x=I("ArrayBuffer");function v(D){return D instanceof ArrayBuffer||x(D)}function w(D){var j=D.length*3,M=m.call(this,j),U=u.write.call(M,D);return j!==U&&(M=u.slice.call(M,0,U)),M}function E(D){return s(D)?l:o(D)?c:i(D)?a:n?l:r?c:a}function k(){return!1}function I(D,j){return D="[object "+D+"]",function(M){return M!=null&&{}.toString.call(j?M[j]:M)===D}}})(ER)),ER}var CV;function D8(){if(CV)return wR;CV=1,wR.ExtBuffer=e;var t=Ba();function e(n,r){if(!(this instanceof e))return new e(n,r);this.buffer=t.from(n),this.type=r}return wR}var kR={},kV;function qRe(){if(kV)return kR;kV=1,kR.setExtPackers=s;var t=Ba(),e=t.global,n=t.Uint8Array.from,r,i={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function s(u){u.addExtPacker(14,Error,[c,o]),u.addExtPacker(1,EvalError,[c,o]),u.addExtPacker(2,RangeError,[c,o]),u.addExtPacker(3,ReferenceError,[c,o]),u.addExtPacker(4,SyntaxError,[c,o]),u.addExtPacker(5,TypeError,[c,o]),u.addExtPacker(6,URIError,[c,o]),u.addExtPacker(10,RegExp,[l,o]),u.addExtPacker(11,Boolean,[a,o]),u.addExtPacker(12,String,[a,o]),u.addExtPacker(13,Date,[Number,o]),u.addExtPacker(15,Number,[a,o]),typeof Uint8Array<"u"&&(u.addExtPacker(17,Int8Array,n),u.addExtPacker(18,Uint8Array,n),u.addExtPacker(19,Int16Array,n),u.addExtPacker(20,Uint16Array,n),u.addExtPacker(21,Int32Array,n),u.addExtPacker(22,Uint32Array,n),u.addExtPacker(23,Float32Array,n),typeof Float64Array<"u"&&u.addExtPacker(24,Float64Array,n),typeof Uint8ClampedArray<"u"&&u.addExtPacker(25,Uint8ClampedArray,n),u.addExtPacker(26,ArrayBuffer,n),u.addExtPacker(29,DataView,n)),t.hasBuffer&&u.addExtPacker(27,e,t.from)}function o(u){return r||(r=Kse().encode),r(u)}function a(u){return u.valueOf()}function l(u){u=RegExp.prototype.toString.call(u).split("/"),u.shift();var f=[u.pop()];return f.unshift(u.join("/")),f}function c(u){var f={};for(var m in i)f[m]=u[m];return f}return kR}var NR={},$S={},NV;function L8(){return NV||(NV=1,(function(t){(function(e){var n="undefined",r=n!==typeof dn&&dn,i=n!==typeof Uint8Array&&Uint8Array,s=n!==typeof ArrayBuffer&&ArrayBuffer,o=[0,0,0,0,0,0,0,0],a=Array.isArray||M,l=4294967296,c=16777216,u;f("Uint64BE",!0,!0),f("Int64BE",!0,!1),f("Uint64LE",!1,!0),f("Int64LE",!1,!1);function f(U,V,F){var z=V?0:4,K=V?4:0,H=V?0:3,B=V?1:2,A=V?2:1,P=V?3:0,R=V?k:D,$=V?I:j,q=G.prototype,te="is"+U,Y="_"+te;return q.buffer=void 0,q.offset=0,q[Y]=!0,q.toNumber=X,q.toString=re,q.toJSON=X,q.toArray=m,r&&(q.toBuffer=g),i&&(q.toArrayBuffer=x),G[te]=O,e[U]=G,G;function G(ue,me,ce,oe){return this instanceof G?N(this,ue,me,ce,oe):new G(ue,me,ce,oe)}function O(ue){return!!(ue&&ue[Y])}function N(ue,me,ce,oe,Ce){if(i&&s&&(me instanceof s&&(me=new i(me)),oe instanceof s&&(oe=new i(oe))),!me&&!ce&&!oe&&!u){ue.buffer=E(o,0);return}if(!v(me,ce)){var Ne=u||Array;Ce=ce,oe=me,ce=0,me=new Ne(8)}ue.buffer=me,ue.offset=ce|=0,n!==typeof oe&&(typeof oe=="string"?W(me,ce,oe,Ce||10):v(oe,Ce)?w(me,ce,oe,Ce):typeof Ce=="number"?(ae(me,ce+z,oe),ae(me,ce+K,Ce)):oe>0?R(me,ce,oe):oe<0?$(me,ce,oe):w(me,ce,o,0))}function W(ue,me,ce,oe){var Ce=0,Ne=ce.length,$e=0,Ze=0;ce[0]==="-"&&Ce++;for(var Ye=Ce;Ce<Ne;){var We=parseInt(ce[Ce++],oe);if(!(We>=0))break;Ze=Ze*oe+We,$e=$e*oe+Math.floor(Ze/l),Ze%=l}Ye&&($e=~$e,Ze?Ze=l-Ze:$e++),ae(ue,me+z,$e),ae(ue,me+K,Ze)}function X(){var ue=this.buffer,me=this.offset,ce=Ee(ue,me+z),oe=Ee(ue,me+K);return F||(ce|=0),ce?ce*l+oe:oe}function re(ue){var me=this.buffer,ce=this.offset,oe=Ee(me,ce+z),Ce=Ee(me,ce+K),Ne="",$e=!F&&oe&2147483648;for($e&&(oe=~oe,Ce=l-Ce),ue=ue||10;;){var Ze=oe%ue*l+Ce;if(oe=Math.floor(oe/ue),Ce=Math.floor(Ze/ue),Ne=(Ze%ue).toString(ue)+Ne,!oe&&!Ce)break}return $e&&(Ne="-"+Ne),Ne}function ae(ue,me,ce){ue[me+P]=ce&255,ce=ce>>8,ue[me+A]=ce&255,ce=ce>>8,ue[me+B]=ce&255,ce=ce>>8,ue[me+H]=ce&255}function Ee(ue,me){return ue[me+H]*c+(ue[me+B]<<16)+(ue[me+A]<<8)+ue[me+P]}}function m(U){var V=this.buffer,F=this.offset;return u=null,U!==!1&&F===0&&V.length===8&&a(V)?V:E(V,F)}function g(U){var V=this.buffer,F=this.offset;if(u=r,U!==!1&&F===0&&V.length===8&&dn.isBuffer(V))return V;var z=new r(8);return w(z,0,V,F),z}function x(U){var V=this.buffer,F=this.offset,z=V.buffer;if(u=i,U!==!1&&F===0&&z instanceof s&&z.byteLength===8)return z;var K=new i(8);return w(K,0,V,F),K.buffer}function v(U,V){var F=U&&U.length;return V|=0,F&&V+8<=F&&typeof U[V]!="string"}function w(U,V,F,z){V|=0,z|=0;for(var K=0;K<8;K++)U[V++]=F[z++]&255}function E(U,V){return Array.prototype.slice.call(U,V,V+8)}function k(U,V,F){for(var z=V+8;z>V;)U[--z]=F&255,F/=256}function I(U,V,F){var z=V+8;for(F++;z>V;)U[--z]=-F&255^255,F/=256}function D(U,V,F){for(var z=V+8;V<z;)U[V++]=F&255,F/=256}function j(U,V,F){var z=V+8;for(F++;V<z;)U[V++]=-F&255^255,F/=256}function M(U){return!!U&&Object.prototype.toString.call(U)=="[object Array]"}})(typeof t.nodeName!="string"?t:$S||{})})($S)),$S}var IR={},HS={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var IV;function Hse(){return IV||(IV=1,HS.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,f=n?i-1:0,m=n?-1:1,g=t[e+f];for(f+=m,s=g&(1<<-u)-1,g>>=-u,u+=a;u>0;s=s*256+t[e+f],f+=m,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+t[e+f],f+=m,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(g?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(g?-1:1)*o*Math.pow(2,s-r)},HS.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,f=u>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:s-1,x=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=m/l:e+=m*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+g]=a&255,g+=x,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+g]=o&255,g+=x,o/=256,c-=8);t[n+g-x]|=v*128}),HS}var PR={},PV;function Vse(){if(PV)return PR;PV=1;for(var t=PR.uint8=new Array(256),e=0;e<=255;e++)t[e]=n(e);function n(r){return function(i){var s=i.reserve(1);i.buffer[s]=r}}return PR}var _V;function KRe(){if(_V)return IR;_V=1;var t=Hse(),e=L8(),n=e.Uint64BE,r=e.Int64BE,i=Vse().uint8,s=Ba(),o=s.global,a=s.hasBuffer&&"TYPED_ARRAY_SUPPORT"in o,l=a&&!o.TYPED_ARRAY_SUPPORT,c=s.hasBuffer&&o.prototype||{};IR.getWriteToken=u;function u(M){return M&&M.uint8array?f():l||s.hasBuffer&&M&&M.safe?g():m()}function f(){var M=m();return M[202]=E(202,4,D),M[203]=E(203,8,j),M}function m(){var M=i.slice();return M[196]=x(196),M[197]=v(197),M[198]=w(198),M[199]=x(199),M[200]=v(200),M[201]=w(201),M[202]=E(202,4,c.writeFloatBE||D,!0),M[203]=E(203,8,c.writeDoubleBE||j,!0),M[204]=x(204),M[205]=v(205),M[206]=w(206),M[207]=E(207,8,k),M[208]=x(208),M[209]=v(209),M[210]=w(210),M[211]=E(211,8,I),M[217]=x(217),M[218]=v(218),M[219]=w(219),M[220]=v(220),M[221]=w(221),M[222]=v(222),M[223]=w(223),M}function g(){var M=i.slice();return M[196]=E(196,1,o.prototype.writeUInt8),M[197]=E(197,2,o.prototype.writeUInt16BE),M[198]=E(198,4,o.prototype.writeUInt32BE),M[199]=E(199,1,o.prototype.writeUInt8),M[200]=E(200,2,o.prototype.writeUInt16BE),M[201]=E(201,4,o.prototype.writeUInt32BE),M[202]=E(202,4,o.prototype.writeFloatBE),M[203]=E(203,8,o.prototype.writeDoubleBE),M[204]=E(204,1,o.prototype.writeUInt8),M[205]=E(205,2,o.prototype.writeUInt16BE),M[206]=E(206,4,o.prototype.writeUInt32BE),M[207]=E(207,8,k),M[208]=E(208,1,o.prototype.writeInt8),M[209]=E(209,2,o.prototype.writeInt16BE),M[210]=E(210,4,o.prototype.writeInt32BE),M[211]=E(211,8,I),M[217]=E(217,1,o.prototype.writeUInt8),M[218]=E(218,2,o.prototype.writeUInt16BE),M[219]=E(219,4,o.prototype.writeUInt32BE),M[220]=E(220,2,o.prototype.writeUInt16BE),M[221]=E(221,4,o.prototype.writeUInt32BE),M[222]=E(222,2,o.prototype.writeUInt16BE),M[223]=E(223,4,o.prototype.writeUInt32BE),M}function x(M){return function(U,V){var F=U.reserve(2),z=U.buffer;z[F++]=M,z[F]=V}}function v(M){return function(U,V){var F=U.reserve(3),z=U.buffer;z[F++]=M,z[F++]=V>>>8,z[F]=V}}function w(M){return function(U,V){var F=U.reserve(5),z=U.buffer;z[F++]=M,z[F++]=V>>>24,z[F++]=V>>>16,z[F++]=V>>>8,z[F]=V}}function E(M,U,V,F){return function(z,K){var H=z.reserve(U+1);z.buffer[H++]=M,V.call(z.buffer,K,H,F)}}function k(M,U){new n(this,U,M)}function I(M,U){new r(this,U,M)}function D(M,U){t.write(this,M,U,!1,23,4)}function j(M,U){t.write(this,M,U,!1,52,8)}return IR}var RV;function WRe(){if(RV)return NR;RV=1;var t=O8(),e=L8(),n=e.Uint64BE,r=e.Int64BE,i=Ba(),s=M8(),o=KRe(),a=Vse().uint8,l=D8().ExtBuffer,c=typeof Uint8Array<"u",u=typeof Map<"u",f=[];f[1]=212,f[2]=213,f[4]=214,f[8]=215,f[16]=216,NR.getWriteType=m;function m(g){var x=o.getWriteToken(g),v=g&&g.useraw,w=c&&g&&g.binarraybuffer,E=w?i.isArrayBuffer:i.isBuffer,k=w?q:$,I=u&&g&&g.usemap,D=I?G:Y,j={boolean:M,function:P,number:U,object:v?A:B,string:H(v?K:z),symbol:P,undefined:P};return j;function M(N,W){var X=W?195:194;x[X](N,W)}function U(N,W){var X=W|0,re;if(W!==X){re=203,x[re](N,W);return}else-32<=X&&X<=127?re=X&255:0<=X?re=X<=255?204:X<=65535?205:206:re=-128<=X?208:-32768<=X?209:210;x[re](N,X)}function V(N,W){var X=207;x[X](N,W.toArray())}function F(N,W){var X=211;x[X](N,W.toArray())}function z(N){return N<32?1:N<=255?2:N<=65535?3:5}function K(N){return N<32?1:N<=65535?3:5}function H(N){return W;function W(X,re){var ae=re.length,Ee=5+ae*3;X.offset=X.reserve(Ee);var ue=X.buffer,me=N(ae),ce=X.offset+me;ae=s.write.call(ue,re,ce);var oe=N(ae);if(me!==oe){var Ce=ce+oe-me,Ne=ce+ae;s.copy.call(ue,ue,Ce,ce,Ne)}var $e=oe===1?160+ae:oe<=3?215+oe:219;x[$e](X,ae),X.offset+=ae}}function B(N,W){if(W===null)return P(N,W);if(E(W))return k(N,W);if(t(W))return R(N,W);if(n.isUint64BE(W))return V(N,W);if(r.isInt64BE(W))return F(N,W);var X=N.codec.getExtPacker(W);if(X&&(W=X(W)),W instanceof l)return te(N,W);D(N,W)}function A(N,W){if(E(W))return O(N,W);B(N,W)}function P(N,W){var X=192;x[X](N,W)}function R(N,W){var X=W.length,re=X<16?144+X:X<=65535?220:221;x[re](N,X);for(var ae=N.codec.encode,Ee=0;Ee<X;Ee++)ae(N,W[Ee])}function $(N,W){var X=W.length,re=X<255?196:X<=65535?197:198;x[re](N,X),N.send(W)}function q(N,W){$(N,new Uint8Array(W))}function te(N,W){var X=W.buffer,re=X.length,ae=f[re]||(re<255?199:re<=65535?200:201);x[ae](N,re),a[W.type](N),N.send(X)}function Y(N,W){var X=Object.keys(W),re=X.length,ae=re<16?128+re:re<=65535?222:223;x[ae](N,re);var Ee=N.codec.encode;X.forEach(function(ue){Ee(N,ue),Ee(N,W[ue])})}function G(N,W){if(!(W instanceof Map))return Y(N,W);var X=W.size,re=X<16?128+X:X<=65535?222:223;x[re](N,X);var ae=N.codec.encode;W.forEach(function(Ee,ue,me){ae(N,ue),ae(N,Ee)})}function O(N,W){var X=W.length,re=X<32?160+X:X<=65535?218:219;x[re](N,X),N.send(W)}}return NR}var _0={},OV;function yk(){if(OV)return _0;OV=1;var t=O8();_0.createCodec=a,_0.install=r,_0.filter=o;var e=Ba();function n(l){if(!(this instanceof n))return new n(l);this.options=l,this.init()}n.prototype.init=function(){var l=this.options;return l&&l.uint8array&&(this.bufferish=e.Uint8Array),this};function r(l){for(var c in l)n.prototype[c]=i(n.prototype[c],l[c])}function i(l,c){return l&&c?u:l||c;function u(){return l.apply(this,arguments),c.apply(this,arguments)}}function s(l){return l=l.slice(),function(u){return l.reduce(c,u)};function c(u,f){return f(u)}}function o(l){return t(l)?s(l):l}function a(l){return new n(l)}return _0.preset=a({preset:!0}),_0}var MV;function B8(){if(MV)return bR;MV=1;var t=D8().ExtBuffer,e=qRe(),n=WRe(),r=yk();r.install({addExtPacker:o,getExtPacker:a,init:s}),bR.preset=s.call(r.preset);function i(l){var c=n.getWriteType(l);return u;function u(f,m){var g=c[typeof m];if(!g)throw new Error('Unsupported type "'+typeof m+'": '+m);g(f,m)}}function s(){var l=this.options;return this.encode=i(l),l&&l.preset&&e.setExtPackers(this),this}function o(l,c,u){u=r.filter(u);var f=c.name;if(f&&f!=="Object"){var m=this.extPackers||(this.extPackers={});m[f]=x}else{var g=this.extEncoderList||(this.extEncoderList=[]);g.unshift([c,x])}function x(v){return u&&(v=u(v)),new t(v,l)}}function a(l){var c=this.extPackers||(this.extPackers={}),u=l.constructor,f=u&&u.name&&c[u.name];if(f)return f;for(var m=this.extEncoderList||(this.extEncoderList=[]),g=m.length,x=0;x<g;x++){var v=m[x];if(u===v[0])return v[1]}}return bR}var VS={},DV;function Gse(){if(DV)return VS;DV=1,VS.FlexDecoder=i,VS.FlexEncoder=s;var t=Ba(),e=2048,n=65536,r="BUFFER_SHORTAGE";function i(){if(!(this instanceof i))return new i}function s(){if(!(this instanceof s))return new s}i.mixin=g(o()),i.mixin(i.prototype),s.mixin=g(a()),s.mixin(s.prototype);function o(){return{bufferish:t,write:x,fetch:c,flush:v,push:f,pull:m,read:u,reserve:w,offset:0};function x(E){var k=this.offset?t.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=k?E?this.bufferish.concat([k,E]):k:E,this.offset=0}function v(){for(;this.offset<this.buffer.length;){var E=this.offset,k;try{k=this.fetch()}catch(I){if(I&&I.message!=r)throw I;this.offset=E;break}this.push(k)}}function w(E){var k=this.offset,I=k+E;if(I>this.buffer.length)throw new Error(r);return this.offset=I,k}}function a(){return{bufferish:t,write:l,fetch:x,flush:v,push:f,pull:w,read:u,reserve:E,send:k,maxBufferSize:n,minBufferSize:e,offset:0,start:0};function x(){var I=this.start;if(I<this.offset){var D=this.start=this.offset;return t.prototype.slice.call(this.buffer,I,D)}}function v(){for(;this.start<this.offset;){var I=this.fetch();I&&this.push(I)}}function w(){var I=this.buffers||(this.buffers=[]),D=I.length>1?this.bufferish.concat(I):I[0];return I.length=0,D}function E(I){var D=I|0;if(this.buffer){var j=this.buffer.length,M=this.offset|0,U=M+D;if(U<j)return this.offset=U,M;this.flush(),I=Math.max(I,Math.min(j*2,this.maxBufferSize))}return I=Math.max(I,this.minBufferSize),this.buffer=this.bufferish.alloc(I),this.start=0,this.offset=D,0}function k(I){var D=I.length;if(D>this.minBufferSize)this.flush(),this.push(I);else{var j=this.reserve(D);t.prototype.copy.call(I,this.buffer,j)}}}function l(){throw new Error("method not implemented: write()")}function c(){throw new Error("method not implemented: fetch()")}function u(){var x=this.buffers&&this.buffers.length;return x?(this.flush(),this.pull()):this.fetch()}function f(x){var v=this.buffers||(this.buffers=[]);v.push(x)}function m(){var x=this.buffers||(this.buffers=[]);return x.shift()}function g(x){return v;function v(w){for(var E in x)w[E]=x[E];return w}}return VS}var LV;function qse(){if(LV)return vR;LV=1,vR.EncodeBuffer=n;var t=B8().preset,e=Gse().FlexEncoder;e.mixin(n.prototype);function n(r){if(!(this instanceof n))return new n(r);if(r&&(this.options=r,r.codec)){var i=this.codec=r.codec;i.bufferish&&(this.bufferish=i.bufferish)}}return n.prototype.codec=t,n.prototype.write=function(r){this.codec.encode(this,r)},vR}var BV;function Kse(){if(BV)return xR;BV=1,xR.encode=e;var t=qse().EncodeBuffer;function e(n,r){var i=new t(r);return i.write(n),i.read()}return xR}var _R={},RR={},OR={},MR={},jV;function YRe(){if(jV)return MR;jV=1,MR.setExtUnpackers=i;var t=Ba(),e=t.global,n,r={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function i(u){u.addExtUnpacker(14,[s,a(Error)]),u.addExtUnpacker(1,[s,a(EvalError)]),u.addExtUnpacker(2,[s,a(RangeError)]),u.addExtUnpacker(3,[s,a(ReferenceError)]),u.addExtUnpacker(4,[s,a(SyntaxError)]),u.addExtUnpacker(5,[s,a(TypeError)]),u.addExtUnpacker(6,[s,a(URIError)]),u.addExtUnpacker(10,[s,o]),u.addExtUnpacker(11,[s,l(Boolean)]),u.addExtUnpacker(12,[s,l(String)]),u.addExtUnpacker(13,[s,l(Date)]),u.addExtUnpacker(15,[s,l(Number)]),typeof Uint8Array<"u"&&(u.addExtUnpacker(17,l(Int8Array)),u.addExtUnpacker(18,l(Uint8Array)),u.addExtUnpacker(19,[c,l(Int16Array)]),u.addExtUnpacker(20,[c,l(Uint16Array)]),u.addExtUnpacker(21,[c,l(Int32Array)]),u.addExtUnpacker(22,[c,l(Uint32Array)]),u.addExtUnpacker(23,[c,l(Float32Array)]),typeof Float64Array<"u"&&u.addExtUnpacker(24,[c,l(Float64Array)]),typeof Uint8ClampedArray<"u"&&u.addExtUnpacker(25,l(Uint8ClampedArray)),u.addExtUnpacker(26,c),u.addExtUnpacker(29,[c,l(DataView)])),t.hasBuffer&&u.addExtUnpacker(27,l(e))}function s(u){return n||(n=Jse().decode),n(u)}function o(u){return RegExp.apply(null,u)}function a(u){return function(f){var m=new u;for(var g in r)m[g]=f[g];return m}}function l(u){return function(f){return new u(f)}}function c(u){return new Uint8Array(u).buffer}return MR}var GS={},UV;function Wse(){if(UV)return GS;UV=1;var t=Hse(),e=L8(),n=e.Uint64BE,r=e.Int64BE;GS.getReadFormat=l,GS.readUint8=w;var i=Ba(),s=M8(),o=typeof Map<"u",a=!0;function l(B){var A=i.hasArrayBuffer&&B&&B.binarraybuffer,P=B&&B.int64,R=o&&B&&B.usemap,$={map:R?u:c,array:f,str:m,bin:A?x:g,ext:v,uint8:w,uint16:k,uint32:D,uint64:M(8,P?F:U),int8:E,int16:I,int32:j,int64:M(8,P?z:V),float32:M(4,K),float64:M(8,H)};return $}function c(B,A){var P={},R,$=new Array(A),q=new Array(A),te=B.codec.decode;for(R=0;R<A;R++)$[R]=te(B),q[R]=te(B);for(R=0;R<A;R++)P[$[R]]=q[R];return P}function u(B,A){var P=new Map,R,$=new Array(A),q=new Array(A),te=B.codec.decode;for(R=0;R<A;R++)$[R]=te(B),q[R]=te(B);for(R=0;R<A;R++)P.set($[R],q[R]);return P}function f(B,A){for(var P=new Array(A),R=B.codec.decode,$=0;$<A;$++)P[$]=R(B);return P}function m(B,A){var P=B.reserve(A),R=P+A;return s.toString.call(B.buffer,"utf-8",P,R)}function g(B,A){var P=B.reserve(A),R=P+A,$=s.slice.call(B.buffer,P,R);return i.from($)}function x(B,A){var P=B.reserve(A),R=P+A,$=s.slice.call(B.buffer,P,R);return i.Uint8Array.from($).buffer}function v(B,A){var P=B.reserve(A+1),R=B.buffer[P++],$=P+A,q=B.codec.getExtUnpacker(R);if(!q)throw new Error("Invalid ext type: "+(R&&"0x"+R.toString(16)));var te=s.slice.call(B.buffer,P,$);return q(te)}function w(B){var A=B.reserve(1);return B.buffer[A]}function E(B){var A=B.reserve(1),P=B.buffer[A];return P&128?P-256:P}function k(B){var A=B.reserve(2),P=B.buffer;return P[A++]<<8|P[A]}function I(B){var A=B.reserve(2),P=B.buffer,R=P[A++]<<8|P[A];return R&32768?R-65536:R}function D(B){var A=B.reserve(4),P=B.buffer;return P[A++]*16777216+(P[A++]<<16)+(P[A++]<<8)+P[A]}function j(B){var A=B.reserve(4),P=B.buffer;return P[A++]<<24|P[A++]<<16|P[A++]<<8|P[A]}function M(B,A){return function(P){var R=P.reserve(B);return A.call(P.buffer,R,a)}}function U(B){return new n(this,B).toNumber()}function V(B){return new r(this,B).toNumber()}function F(B){return new n(this,B)}function z(B){return new r(this,B)}function K(B){return t.read(this,B,!1,23,4)}function H(B){return t.read(this,B,!1,52,8)}return GS}var DR={},FV;function JRe(){if(FV)return DR;FV=1;var t=Wse();DR.getReadToken=e;function e(a){var l=t.getReadFormat(a);return a&&a.useraw?r(l):n(l)}function n(a){var l,c=new Array(256);for(l=0;l<=127;l++)c[l]=i(l);for(l=128;l<=143;l++)c[l]=o(l-128,a.map);for(l=144;l<=159;l++)c[l]=o(l-144,a.array);for(l=160;l<=191;l++)c[l]=o(l-160,a.str);for(c[192]=i(null),c[193]=null,c[194]=i(!1),c[195]=i(!0),c[196]=s(a.uint8,a.bin),c[197]=s(a.uint16,a.bin),c[198]=s(a.uint32,a.bin),c[199]=s(a.uint8,a.ext),c[200]=s(a.uint16,a.ext),c[201]=s(a.uint32,a.ext),c[202]=a.float32,c[203]=a.float64,c[204]=a.uint8,c[205]=a.uint16,c[206]=a.uint32,c[207]=a.uint64,c[208]=a.int8,c[209]=a.int16,c[210]=a.int32,c[211]=a.int64,c[212]=o(1,a.ext),c[213]=o(2,a.ext),c[214]=o(4,a.ext),c[215]=o(8,a.ext),c[216]=o(16,a.ext),c[217]=s(a.uint8,a.str),c[218]=s(a.uint16,a.str),c[219]=s(a.uint32,a.str),c[220]=s(a.uint16,a.array),c[221]=s(a.uint32,a.array),c[222]=s(a.uint16,a.map),c[223]=s(a.uint32,a.map),l=224;l<=255;l++)c[l]=i(l-256);return c}function r(a){var l,c=n(a).slice();for(c[217]=c[196],c[218]=c[197],c[219]=c[198],l=160;l<=191;l++)c[l]=o(l-160,a.bin);return c}function i(a){return function(){return a}}function s(a,l){return function(c){var u=a(c);return l(c,u)}}function o(a,l){return function(c){return l(c,a)}}return DR}var zV;function j8(){if(zV)return OR;zV=1;var t=D8().ExtBuffer,e=YRe(),n=Wse().readUint8,r=JRe(),i=yk();i.install({addExtUnpacker:a,getExtUnpacker:l,init:o}),OR.preset=o.call(i.preset);function s(c){var u=r.getReadToken(c);return f;function f(m){var g=n(m),x=u[g];if(!x)throw new Error("Invalid type: "+(g&&"0x"+g.toString(16)));return x(m)}}function o(){var c=this.options;return this.decode=s(c),c&&c.preset&&e.setExtUnpackers(this),this}function a(c,u){var f=this.extUnpackers||(this.extUnpackers=[]);f[c]=i.filter(u)}function l(c){var u=this.extUnpackers||(this.extUnpackers=[]);return u[c]||f;function f(m){return new t(m,c)}}return OR}var $V;function Yse(){if($V)return RR;$V=1,RR.DecodeBuffer=n;var t=j8().preset,e=Gse().FlexDecoder;e.mixin(n.prototype);function n(r){if(!(this instanceof n))return new n(r);if(r&&(this.options=r,r.codec)){var i=this.codec=r.codec;i.bufferish&&(this.bufferish=i.bufferish)}}return n.prototype.codec=t,n.prototype.fetch=function(){return this.codec.decode(this)},RR}var HV;function Jse(){if(HV)return _R;HV=1,_R.decode=e;var t=Yse().DecodeBuffer;function e(n,r){var i=new t(r);return i.write(n),i.read()}return _R}var LR={},BR={exports:{}};/**
 * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)
 *
 * @copyright Yusuke Kawasaki
 * @license MIT
 * @constructor
 * @see https://github.com/kawanet/event-lite
 * @see http://kawanet.github.io/event-lite/EventLite.html
 * @example
 * var EventLite = require("event-lite");
 *
 * function MyClass() {...}             // your class
 *
 * EventLite.mixin(MyClass.prototype);  // import event methods
 *
 * var obj = new MyClass();
 * obj.on("foo", function() {...});     // add event listener
 * obj.once("bar", function() {...});   // add one-time event listener
 * obj.emit("foo");                     // dispatch event
 * obj.emit("bar");                     // dispatch another event
 * obj.off("foo");                      // remove event listener
 */var VV;function Xse(){return VV||(VV=1,(function(t){function e(){if(!(this instanceof e))return new e}(function(n){t.exports=n;var r="listeners",i={on:o,once:a,off:l,emit:c};s(n.prototype),n.mixin=s;function s(f){for(var m in i)f[m]=i[m];return f}function o(f,m){return u(this,f).push(m),this}function a(f,m){var g=this;return x.originalListener=m,u(g,f).push(x),g;function x(){l.call(g,f,x),m.apply(this,arguments)}}function l(f,m){var g=this,x;if(!arguments.length)delete g[r];else if(m){if(x=u(g,f,!0),x){if(x=x.filter(v),!x.length)return l.call(g,f);g[r][f]=x}}else if(x=g[r],x&&(delete x[f],!Object.keys(x).length))return l.call(g);return g;function v(w){return w!==m&&w.originalListener!==m}}function c(f,m){var g=this,x=u(g,f,!0);if(!x)return!1;var v=arguments.length;if(v===1)x.forEach(E);else if(v===2)x.forEach(k);else{var w=Array.prototype.slice.call(arguments,1);x.forEach(I)}return!!x.length;function E(D){D.call(g)}function k(D){D.call(g,m)}function I(D){D.apply(g,w)}}function u(f,m,g){if(!(g&&!f[r])){var x=f[r]||(f[r]={});return x[m]||(x[m]=[])}}})(e)})(BR)),BR.exports}var GV;function XRe(){if(GV)return LR;GV=1,LR.Encoder=n;var t=Xse(),e=qse().EncodeBuffer;function n(r){if(!(this instanceof n))return new n(r);e.call(this,r)}return n.prototype=new e,t.mixin(n.prototype),n.prototype.encode=function(r){this.write(r),this.emit("data",this.read())},n.prototype.end=function(r){arguments.length&&this.encode(r),this.flush(),this.emit("end")},LR}var jR={},qV;function QRe(){if(qV)return jR;qV=1,jR.Decoder=n;var t=Xse(),e=Yse().DecodeBuffer;function n(r){if(!(this instanceof n))return new n(r);e.call(this,r)}return n.prototype=new e,t.mixin(n.prototype),n.prototype.decode=function(r){arguments.length&&this.write(r),this.flush()},n.prototype.push=function(r){this.emit("data",r)},n.prototype.end=function(r){this.decode(r),this.emit("end")},jR}var UR={},KV;function ZRe(){return KV||(KV=1,j8(),B8(),UR.createCodec=yk().createCodec),UR}var FR={},WV;function e5e(){return WV||(WV=1,j8(),B8(),FR.codec={preset:yk().preset}),FR}var YV;function t5e(){return YV||(YV=1,sf.encode=Kse().encode,sf.decode=Jse().decode,sf.Encoder=XRe().Encoder,sf.Decoder=QRe().Decoder,sf.createCodec=ZRe().createCodec,sf.codec=e5e().codec),sf}var n5e=t5e();const r5e=ts(n5e),Qse="https://api.hyperliquid-testnet.xyz",i5e=`${Qse}/exchange`,Ol=`${Qse}/info`,s5e=!1,JV=1200,zR=60*1e3,XV=100,$R=3,QV=2e3,ZV={l2Book:2,allMids:2,clearinghouseState:2,orderStatus:2,spotClearinghouseState:2,exchangeStatus:2,meta:20,metaAndAssetCtxs:20,candleSnapshot:20,userFills:20,openOrders:20,userRole:60,default:20};class o5e{constructor(){this.weightHistory=[],this.requestQueue=Promise.resolve(),this.lastRequestTime=0,this.cache=new Map,this.CACHE_TTL_MS=5e3,this.PRICE_CACHE_TTL_MS=2e3,this.CANDLE_CACHE_TTL_MS=1e4,this.ASSET_CONTEXT_CACHE_TTL_MS=3e4,this.dealerLockActive=!1,this.dealerLockResolver=null,this.waitingForDealerUnlock=Promise.resolve(),this.sharedDataCache=new Map,this.SHARED_CACHE_TTL_MS=15e3,this.universeCache=[],this.lastCacheUpdate=0}acquireDealerLock(){this.dealerLockActive||(this.dealerLockActive=!0,this.waitingForDealerUnlock=new Promise(e=>{this.dealerLockResolver=e}),console.log("[Hyperliquid]  Dealer lock ACQUIRED - other requests will be skipped"))}releaseDealerLock(){this.dealerLockActive&&(this.dealerLockActive=!1,this.dealerLockResolver&&(this.dealerLockResolver(),this.dealerLockResolver=null),this.waitingForDealerUnlock=Promise.resolve(),console.log("[Hyperliquid]  Dealer lock RELEASED - other requests can proceed"))}isDealerActive(){return this.dealerLockActive}getCurrentWeight(){const n=Date.now()-zR;return this.weightHistory=this.weightHistory.filter(r=>r.timestamp>n),this.weightHistory.reduce((r,i)=>r+i.weight,0)}recordWeight(e){this.weightHistory.push({timestamp:Date.now(),weight:e})}calculateWeight(e,n){const r=ZV[e]||ZV.default;return e==="candleSnapshot"&&n?r+Math.ceil(n/60):r}async waitForBudget(e){const n=this.getCurrentWeight(),r=JV-n;if(e<=r)return;const i=Date.now(),s=i-zR,o=[...this.weightHistory].sort((u,f)=>u.timestamp-f.timestamp);let a=e-r,l=i;for(const u of o)if(!(u.timestamp<=s)&&(a-=u.weight,l=u.timestamp+zR,a<=0))break;const c=Math.max(0,l-i);c>0&&(console.log(`[Hyperliquid] Rate budget: ${n}/${JV} used, waiting ${(c/1e3).toFixed(1)}s for budget...`),await new Promise(u=>setTimeout(u,c+100)))}async throttledFetch(e,n,r,i,s="default",o){if(r){const c=this.cache.get(r);if(c&&Date.now()-c.timestamp<(i||this.CACHE_TTL_MS))return new Response(JSON.stringify(c.data),{status:200,headers:{"Content-Type":"application/json"}})}const a=this.calculateWeight(s,o);this.requestQueue=this.requestQueue.then(async()=>{await this.waitForBudget(a);const u=Date.now()-this.lastRequestTime;u<XV&&await new Promise(f=>setTimeout(f,XV-u)),this.lastRequestTime=Date.now()}),await this.requestQueue,this.recordWeight(a);let l=null;for(let c=0;c<$R;c++)try{const u=await fetch(e,n);if(u.status===429){const f=parseInt(u.headers.get("Retry-After")||"2",10),m=Math.max(f*1e3,QV*Math.pow(2,c));console.warn(`[Hyperliquid] Rate limited (429), waiting ${m}ms before retry ${c+1}/${$R}`),await new Promise(g=>setTimeout(g,m));continue}if(u.ok&&r){const f=u.clone();try{const m=await f.json();this.cache.set(r,{data:m,timestamp:Date.now()})}catch{}}return u}catch(u){if(l=u,c<$R-1){const f=QV*Math.pow(2,c);await new Promise(m=>setTimeout(m,f))}}throw l||new Error("Request failed after retries")}async checkHealth(){try{return await this.getMetadata(),!0}catch(e){return console.error("Hyperliquid Health Check Failed:",e),!1}}createVaultWallet(){const e=Yf.createRandom();return new Yf(e.privateKey)}getWalletFromPrivateKey(e){return new Yf(e)}async getMarketData(e){try{const n=await this.throttledFetch(Ol,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"l2Book",coin:e})},`marketData:${e}`,this.PRICE_CACHE_TTL_MS,"l2Book");if(!n.ok)throw new Error(`Failed to fetch market data: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Hyperliquid Market Data Error:",n),n}}async getOrderBookMetrics(e){var n,r,i,s,o,a,l,c;try{const u=await this.getMarketData(e),f=((n=u.levels)==null?void 0:n[0])||[],m=((r=u.levels)==null?void 0:r[1])||[];if(f.length===0||m.length===0)throw new Error(`No order book data for ${e}`);const g=parseFloat(((i=f[0])==null?void 0:i.px)||"0"),x=parseFloat(((s=m[0])==null?void 0:s.px)||"0"),v=(g+x)/2,w=x-g,E=v>0?w/v*100:0,k=5;let I=0,D=0,j=0,M=0;const U=[],V=[];for(let P=0;P<f.length;P++){const R=parseFloat(((o=f[P])==null?void 0:o.px)||"0"),$=parseFloat(((a=f[P])==null?void 0:a.sz)||"0"),q=R*$;P<k&&(I+=q),j+=q,U.push({price:R,volume:q})}for(let P=0;P<m.length;P++){const R=parseFloat(((l=m[P])==null?void 0:l.px)||"0"),$=parseFloat(((c=m[P])==null?void 0:c.sz)||"0"),q=R*$;P<k&&(D+=q),M+=q,V.push({price:R,volume:q})}const F=M>0?j/M:1,z=.2,K=.2;let H,B;for(const{price:P,volume:R}of U)if(j>0&&R/j>z){H=P;break}for(const{price:P,volume:R}of V)if(M>0&&R/M>K){B=P;break}const A={bidAskSpread:parseFloat(E.toFixed(4)),bidAskSpreadUSDC:parseFloat(w.toFixed(4)),imbalanceRatio:parseFloat(F.toFixed(3)),nearBidDepth:parseFloat(I.toFixed(2)),nearAskDepth:parseFloat(D.toFixed(2)),totalBidDepth:parseFloat(j.toFixed(2)),totalAskDepth:parseFloat(M.toFixed(2)),bidWallPrice:H,askWallPrice:B,midPrice:parseFloat(v.toFixed(6)),bestBid:parseFloat(g.toFixed(6)),bestAsk:parseFloat(x.toFixed(6))};return console.log(`[Hyperliquid] OrderBook ${e}: Spread=${A.bidAskSpread}%, Imbalance=${A.imbalanceRatio}, NearDepth(B/A)=${A.nearBidDepth}/${A.nearAskDepth}`),A}catch(u){return console.error(`Hyperliquid OrderBook Metrics Error for ${e}:`,u),{bidAskSpread:0,bidAskSpreadUSDC:0,imbalanceRatio:1,nearBidDepth:0,nearAskDepth:0,totalBidDepth:0,totalAskDepth:0,midPrice:0,bestBid:0,bestAsk:0}}}async getUserState(e){try{const n=await this.throttledFetch(Ol,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"clearinghouseState",user:e})},`userState:${e}`,this.CACHE_TTL_MS,"clearinghouseState");if(!n.ok)throw new Error(`Failed to fetch user state: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Hyperliquid User State Error:",n),n}}async getOpenOrders(e){try{const n=await this.throttledFetch(Ol,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"openOrders",user:e})},`openOrders:${e}`,this.CACHE_TTL_MS,"openOrders");if(!n.ok)throw new Error(`Failed to fetch open orders: ${n.statusText}`);return await n.json()}catch(n){throw console.error("Hyperliquid Open Orders Error:",n),n}}async getUserFills(e,n=20){try{const r=await this.throttledFetch(Ol,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"userFills",user:e})},`userFills:${e}`,this.CACHE_TTL_MS,"userFills");if(!r.ok)throw new Error(`Failed to fetch user fills: ${r.statusText}`);const i=await r.json();return Array.isArray(i)?i.slice(0,n):[]}catch(r){return console.error("Hyperliquid User Fills Error:",r),[]}}async getCandles(e,n="1h",r=100){try{const i=Date.now(),s=this.intervalToMs(n),o=i-s*r,a=await this.throttledFetch(Ol,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"candleSnapshot",req:{coin:e,interval:n,startTime:o}})},`candles:${e}:${n}:${r}`,this.CANDLE_CACHE_TTL_MS,"candleSnapshot",r);if(!a.ok)throw new Error(`Failed to fetch candles: ${a.statusText}`);const l=await a.json();return Array.isArray(l)?l.map(c=>({time:c.t||c.time,open:parseFloat(c.o||c.open),high:parseFloat(c.h||c.high),low:parseFloat(c.l||c.low),close:parseFloat(c.c||c.close),volume:parseFloat(c.v||c.volume||"0")})):l.t&&Array.isArray(l.t)?l.t.map((c,u)=>{var f;return{time:c,open:parseFloat(l.o[u]),high:parseFloat(l.h[u]),low:parseFloat(l.l[u]),close:parseFloat(l.c[u]),volume:parseFloat(((f=l.v)==null?void 0:f[u])||"0")}}):[]}catch(i){return console.error("Hyperliquid Candles Error:",i),[]}}async getCurrentPrice(e){var n,r;try{const i=await this.getMarketData(e),s=parseFloat(((n=i.levels[0][0])==null?void 0:n.px)||"0"),o=parseFloat(((r=i.levels[1][0])==null?void 0:r.px)||"0");return(s+o)/2}catch(i){throw console.error(`Hyperliquid Price Error for ${e}:`,i),i}}intervalToMs(e){return{"1m":6e4,"5m":3e5,"15m":9e5,"1h":36e5,"4h":144e5,"1d":864e5,"1D":864e5}[e]||3600*1e3}async getMetadata(){try{const e=await this.throttledFetch(Ol,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"meta"})},"metadata",6e4,"meta");if(!e.ok)throw new Error(`Failed to fetch metadata: ${e.statusText}`);return await e.json()}catch(e){throw console.error("Hyperliquid Metadata Error:",e),e}}async getAllAvailableAssets(){try{return(await this.getMetadata()).universe.filter(n=>!n.isDelisted).map(n=>n.name)}catch(e){throw console.error("Hyperliquid Get Available Assets Error:",e),e}}async isValidAsset(e){try{return(await this.getAllAvailableAssets()).some(r=>r.toLowerCase()===e.toLowerCase())}catch(n){return console.error("Hyperliquid Asset Validation Error:",n),!0}}async signL1Action(e,n,r,i,s){const o=this.actionHash(n,r,i,s),a=this.constructPhantomAgent(o,s5e),l={name:"Exchange",version:"1",chainId:1337,verifyingContract:"0x0000000000000000000000000000000000000000"},c={Agent:[{name:"source",type:"string"},{name:"connectionId",type:"bytes32"}]},u=await e.signTypedData(l,c,a),f=Bs.from(u);return console.log("[Hyperliquid]  Signing Action:"),console.log("  - Domain:",JSON.stringify(l)),console.log("  - Types:",JSON.stringify(c)),console.log("  - Phantom Agent:",JSON.stringify(a)),console.log("  - Signature:",u),{r:f.r,s:f.s,v:f.v}}actionHash(e,n,r,i){let s=r5e.encode(e);const o=dn.alloc(8);if(o.writeBigUInt64BE(BigInt(r),0),s=dn.concat([s,o]),n===null)s=dn.concat([s,dn.from([0])]);else{s=dn.concat([s,dn.from([1])]);const a=dn.from(n.replace("0x",""),"hex");s=dn.concat([s,a])}if(i!==void 0){s=dn.concat([s,dn.from([0])]);const a=dn.alloc(8);a.writeBigUInt64BE(BigInt(i),0),s=dn.concat([s,a])}return Gn(s)}constructPhantomAgent(e,n){return{source:n?"a":"b",connectionId:e}}floatToWire(e){return e===0?"0":e.toFixed(8).replace(/\.?0+$/,"")}async postAction(e,n,r){var l,c;const i=await this.signL1Action(n,e,null,r),s={action:e,nonce:r,signature:i,vaultAddress:null};console.log("[Hyperliquid]  Sending action:",JSON.stringify({action:e,nonce:r},null,2)),console.log("[Hyperliquid]  Payload:",JSON.stringify(s,null,2));const o=await fetch(i5e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok){let u=`HTTP ${o.status}: ${o.statusText}`;try{const f=await o.text();console.error("[Hyperliquid] Error response:",f);try{const m=JSON.parse(f);u=`Exchange API Error (${o.status}): ${JSON.stringify(m)}`}catch{u=`Exchange API Error (${o.status}): ${f}`}}catch(f){console.error("[Hyperliquid] Failed to read error response:",f)}throw new Error(u)}const a=await o.json();if(console.log("[Hyperliquid]  Raw Response:",JSON.stringify(a,null,2)),a.status!=="ok")throw new Error(`Exchange API Error: ${JSON.stringify(a.response||a)}`);if((c=(l=a.response)==null?void 0:l.data)!=null&&c.statuses){const f=a.response.data.statuses.find(m=>m.error);if(f)throw new Error(`Order Failed: ${f.error}`)}return a}async placeOrder(e,n,r,i,s,o){const a=Date.now(),l=await this.getAssetIndex(n),c=(o==null?void 0:o.orderType)||"limit",u=(o==null?void 0:o.reduceOnly)||!1;let f;c==="market"?f={market:{}}:f={limit:{tif:(o==null?void 0:o.tif)||(c==="ioc"?"Ioc":c==="alo"?"Alo":"Gtc")}};let m="0";if(s){const w=await this.getAssetDecimals(n),E=Math.max(0,6-w);let k=parseFloat(s.toFixed(E));k=parseFloat(k.toPrecision(5)),k=parseFloat(k.toFixed(E)),m=this.floatToWire(k),console.log(`[Hyperliquid] Price rounding: ${s} -> ${m} (maxDecimals=${E}, szDecimals=${w})`)}const g={a:l,b:r,p:m,s:this.floatToWire(i),r:u,t:f};o!=null&&o.cloid&&(g.c=o.cloid);const x={type:"order",orders:[g],grouping:"na"},v=await this.postAction(x,e,a);return(o!=null&&o.stopLoss||o!=null&&o.takeProfit)&&await this.placeTpSlOrders(e,n,r,i,o.stopLoss,o.takeProfit,o.cloid),v}async placeTpSlOrders(e,n,r,i,s,o,a){const l=await this.getAssetIndex(n),u=6-await this.getAssetDecimals(n),f=x=>{let v=parseFloat(x.toFixed(u));return v=parseFloat(v.toPrecision(5)),v=parseFloat(v.toFixed(u)),this.floatToWire(v)},m=()=>{const x=new Uint8Array(16);return crypto.getRandomValues(x),"0x"+Array.from(x,v=>v.toString(16).padStart(2,"0")).join("")},g=[];if(s){const x=f(s),v=m();console.log(`[HL TP/SL] SL Price: ${s} -> Rounded: ${x}, cloid: ${v}`),g.push({a:l,b:!r,p:x,s:this.floatToWire(i),r:!0,t:{trigger:{isMarket:!0,triggerPx:x,tpsl:"sl"}},c:v})}if(o){const x=f(o),v=m();console.log(`[HL TP/SL] TP Price: ${o} -> Rounded: ${x}, cloid: ${v}`),g.push({a:l,b:!r,p:x,s:this.floatToWire(i),r:!0,t:{trigger:{isMarket:!0,triggerPx:x,tpsl:"tp"}},c:v})}if(g.length>0){const x=Date.now(),v={type:"order",orders:g,grouping:"positionTpsl"};await this.postAction(v,e,x)}}async cancelOrder(e,n,r){const i=Date.now(),s={type:"cancel",cancels:[{a:await this.getAssetIndex(n),o:r}]};return await this.postAction(s,e,i)}async updateLeverage(e,n,r,i){const s=Date.now(),o={type:"updateLeverage",asset:await this.getAssetIndex(n),isCross:i,leverage:r};return await this.postAction(o,e,s)}async updateIsolatedMargin(e,n,r,i){const s=Date.now(),o=Math.floor(i*1e6),a={type:"updateIsolatedMargin",asset:await this.getAssetIndex(n),isBuy:r,ntli:o};return console.log(`[Hyperliquid] Updating Isolated Margin: ${i} USDC -> ntli: ${o} for ${n} (isBuy: ${r})`),await this.postAction(a,e,s)}async closePosition(e,n,r,i="market",s){const a=(await this.getUserState(e.address)).assetPositions.find(g=>g.position.coin===n);if(!a||parseFloat(a.position.szi)===0)throw new Error(`No open position for ${n}`);const l=parseFloat(a.position.szi),c=l<0,u=r||Math.abs(l);let f=i,m=s;if(i==="market"){const g=await this.getMarketData(n),x=parseFloat(g.levels[0][0].px),v=parseFloat(g.levels[1][0].px),w=c?v:x,E=.01;let k=c?w*(1+E):w*(1-E);const D=6-await this.getAssetDecimals(n);let j=parseFloat(k.toFixed(D));j=parseFloat(j.toPrecision(5)),m=parseFloat(j.toFixed(D)),f="ioc",console.log(`[HL Close] Market Close -> Base: ${w}, Price: ${m} `)}return await this.placeOrder(e,n,c,u,m,{orderType:f==="market"?"ioc":f,reduceOnly:!0})}async withdrawUSDC(e,n,r){if(r<=1)throw new Error("Withdrawal amount must be greater than $1 to cover the withdrawal fee");const i=Date.now(),s={type:"usdSend",hyperliquidChain:"Testnet",signatureChainId:"0xa4b1",destination:n,amount:this.floatToWire(r),time:i};return await this.postAction(s,e,i)}async getAssetIndex(e){await this.updateUniverseCache();const n=this.universeCache.find(r=>r.name===e);if(!n)throw new Error(`Asset ${e} not found`);return this.universeCache.indexOf(n)}async getAssetDecimals(e){await this.updateUniverseCache();const n=this.universeCache.find(r=>r.name===e);if(!n)throw new Error(`Asset ${e} not found`);return n.szDecimals}async updateUniverseCache(){const e=Date.now();if(this.universeCache.length>0&&e-this.lastCacheUpdate<300*1e3)return;const r=await(await this.throttledFetch(Ol,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"meta"})},"universeCache",300*1e3)).json();this.universeCache=r.universe,this.lastCacheUpdate=e}async getAssetContexts(){try{const e=await this.throttledFetch(Ol,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"metaAndAssetCtxs"})},"assetContexts",this.ASSET_CONTEXT_CACHE_TTL_MS,"metaAndAssetCtxs");if(!e.ok)throw new Error(`Failed to fetch asset contexts: ${e.statusText}`);const n=await e.json();return Array.isArray(n)&&n.length>1?n[1]:[]}catch(e){return console.error("Hyperliquid Asset Contexts Error:",e),[]}}async getFundingRate(e){try{const n=await this.getAssetContexts();await this.updateUniverseCache();const r=this.universeCache.findIndex(s=>s.name===e);if(r===-1)return null;const i=n[r];return i?{funding:parseFloat(i.funding||"0"),premium:parseFloat(i.premium||"0"),nextFunding:parseFloat(i.funding||"0")}:null}catch(n){return console.error(`Hyperliquid Funding Rate Error for ${e}:`,n),null}}async getUserFees(e){try{const n=await fetch(Ol,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"userFees",user:e})});if(!n.ok)throw new Error(`Failed to fetch user fees: ${n.statusText}`);const r=await n.json();return{makerFee:parseFloat((r==null?void 0:r.userCrossRate)||(r==null?void 0:r.userAddRate)||"0.0002"),takerFee:parseFloat((r==null?void 0:r.userCrossRate)||(r==null?void 0:r.userRemoveRate)||"0.0005"),dailyVolume:parseFloat((r==null?void 0:r.dailyUserVlm)||"0"),feeSchedule:(r==null?void 0:r.feeSchedule)||null}}catch(n){return console.error("Hyperliquid User Fees Error:",n),{makerFee:2e-4,takerFee:5e-4,dailyVolume:0,feeSchedule:null}}}async getUserFundingHistory(e,n,r){try{const i=Date.now(),s={type:"userFunding",user:e,startTime:n||i-1440*60*1e3};r&&(s.endTime=r);const o=await fetch(Ol,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok)throw new Error(`Failed to fetch funding history: ${o.statusText}`);return await o.json()}catch(i){return console.error("Hyperliquid Funding History Error:",i),[]}}calculateBreakevenPrice(e,n,r,i=2e-4,s=5e-4,o=0,a=8){const l=s,c=s,u=a/8,f=Math.abs(o)*u,m=l+c+f,g=e*m,x=r?e+g:e-g,v=.01,w=r?x*(1+v):x*(1-v);return{breakevenPrice:x,minProfitPrice:w,totalCostPercent:m,costBreakdown:{entryFeePercent:l,exitFeePercent:c,fundingCostPercent:f}}}async getUserStateShared(e){const n=`shared:userState:${e}`,r=this.sharedDataCache.get(n);if(r&&Date.now()-r.timestamp<this.SHARED_CACHE_TTL_MS)return console.log("[Hyperliquid]  Using shared cache for userState"),r.data;const i=await this.getUserState(e);return this.sharedDataCache.set(n,{data:i,timestamp:Date.now()}),i}async getUserFillsShared(e,n=20){const r=`shared:userFills:${e}`,i=this.sharedDataCache.get(r);if(i&&Date.now()-i.timestamp<this.SHARED_CACHE_TTL_MS)return console.log("[Hyperliquid]  Using shared cache for userFills"),i.data;const s=await this.getUserFills(e,n);return this.sharedDataCache.set(r,{data:s,timestamp:Date.now()}),s}clearSharedCache(){this.sharedDataCache.clear(),console.log("[Hyperliquid]  Shared cache cleared")}}const Ft=new o5e;function hn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function eG(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Nx(...t){return e=>{let n=!1;const r=t.map(i=>{const s=eG(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():eG(t[i],null)}}}}function Cr(...t){return T.useCallback(Nx(...t),t)}function a5e(t,e){const n=T.createContext(e),r=s=>{const{children:o,...a}=s,l=T.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=T.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Rm(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];const c=f=>{var E;const{scope:m,children:g,...x}=f,v=((E=m==null?void 0:m[t])==null?void 0:E[l])||a,w=T.useMemo(()=>x,Object.values(x));return h.jsx(v.Provider,{value:w,children:g})};c.displayName=s+"Provider";function u(f,m){var v;const g=((v=m==null?void 0:m[t])==null?void 0:v[l])||a,x=T.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,l5e(i,...e)]}function l5e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Om=pee();const c5e=ts(Om);function u5e(t){const e=d5e(t),n=T.forwardRef((r,i)=>{const{children:s,...o}=r,a=T.Children.toArray(s),l=a.find(h5e);if(l){const c=l.props.children,u=a.map(f=>f===l?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:f);return h.jsx(e,{...o,ref:i,children:T.isValidElement(c)?T.cloneElement(c,void 0,u):null})}return h.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function d5e(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const o=m5e(i),a=p5e(s,i.props);return i.type!==T.Fragment&&(a.ref=r?Nx(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var f5e=Symbol("radix.slottable");function h5e(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===f5e}function p5e(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function m5e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var g5e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Rn=g5e.reduce((t,e)=>{const n=u5e(`Primitive.${e}`),r=T.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function y5e(t,e){t&&Om.flushSync(()=>t.dispatchEvent(e))}function nh(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function x5e(t,e=globalThis==null?void 0:globalThis.document){const n=nh(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var v5e="DismissableLayer",l4="dismissableLayer.update",b5e="dismissableLayer.pointerDownOutside",w5e="dismissableLayer.focusOutside",tG,Zse=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xk=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=T.useContext(Zse),[u,f]=T.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=T.useState({}),x=Cr(e,U=>f(U)),v=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(w),k=u?v.indexOf(u):-1,I=c.layersWithOutsidePointerEventsDisabled.size>0,D=k>=E,j=A5e(U=>{const V=U.target,F=[...c.branches].some(z=>z.contains(V));!D||F||(i==null||i(U),o==null||o(U),U.defaultPrevented||a==null||a())},m),M=T5e(U=>{const V=U.target;[...c.branches].some(z=>z.contains(V))||(s==null||s(U),o==null||o(U),U.defaultPrevented||a==null||a())},m);return x5e(U=>{k===c.layers.size-1&&(r==null||r(U),!U.defaultPrevented&&a&&(U.preventDefault(),a()))},m),T.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(tG=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),nG(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=tG)}},[u,m,n,c]),T.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),nG())},[u,c]),T.useEffect(()=>{const U=()=>g({});return document.addEventListener(l4,U),()=>document.removeEventListener(l4,U)},[]),h.jsx(Rn.div,{...l,ref:x,style:{pointerEvents:I?D?"auto":"none":void 0,...t.style},onFocusCapture:hn(t.onFocusCapture,M.onFocusCapture),onBlurCapture:hn(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:hn(t.onPointerDownCapture,j.onPointerDownCapture)})});xk.displayName=v5e;var E5e="DismissableLayerBranch",S5e=T.forwardRef((t,e)=>{const n=T.useContext(Zse),r=T.useRef(null),i=Cr(e,r);return T.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),h.jsx(Rn.div,{...t,ref:i})});S5e.displayName=E5e;function A5e(t,e=globalThis==null?void 0:globalThis.document){const n=nh(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){eoe(b5e,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function T5e(t,e=globalThis==null?void 0:globalThis.document){const n=nh(t),r=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!r.current&&eoe(w5e,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function nG(){const t=new CustomEvent(l4);document.dispatchEvent(t)}function eoe(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?y5e(i,s):i.dispatchEvent(s)}var Es=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},C5e=$2[" useId ".trim().toString()]||(()=>{}),k5e=0;function Jf(t){const[e,n]=T.useState(C5e());return Es(()=>{n(r=>r??String(k5e++))},[t]),e?`radix-${e}`:""}const N5e=["top","right","bottom","left"],rh=Math.min,Oo=Math.max,tC=Math.round,qS=Math.floor,mc=t=>({x:t,y:t}),I5e={left:"right",right:"left",bottom:"top",top:"bottom"},P5e={start:"end",end:"start"};function c4(t,e,n){return Oo(t,rh(e,n))}function id(t,e){return typeof t=="function"?t(e):t}function sd(t){return t.split("-")[0]}function Ix(t){return t.split("-")[1]}function U8(t){return t==="x"?"y":"x"}function F8(t){return t==="y"?"height":"width"}const _5e=new Set(["top","bottom"]);function oc(t){return _5e.has(sd(t))?"y":"x"}function z8(t){return U8(oc(t))}function R5e(t,e,n){n===void 0&&(n=!1);const r=Ix(t),i=z8(t),s=F8(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=nC(o)),[o,nC(o)]}function O5e(t){const e=nC(t);return[u4(t),e,u4(e)]}function u4(t){return t.replace(/start|end/g,e=>P5e[e])}const rG=["left","right"],iG=["right","left"],M5e=["top","bottom"],D5e=["bottom","top"];function L5e(t,e,n){switch(t){case"top":case"bottom":return n?e?iG:rG:e?rG:iG;case"left":case"right":return e?M5e:D5e;default:return[]}}function B5e(t,e,n,r){const i=Ix(t);let s=L5e(sd(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(u4)))),s}function nC(t){return t.replace(/left|right|bottom|top/g,e=>I5e[e])}function j5e(t){return{top:0,right:0,bottom:0,left:0,...t}}function toe(t){return typeof t!="number"?j5e(t):{top:t,right:t,bottom:t,left:t}}function rC(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function sG(t,e,n){let{reference:r,floating:i}=t;const s=oc(e),o=z8(e),a=F8(o),l=sd(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:u,y:r.y-i.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Ix(e)){case"start":g[o]-=m*(n&&c?-1:1);break;case"end":g[o]+=m*(n&&c?-1:1);break}return g}const U5e=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=sG(c,r,l),m=r,g={},x=0;for(let v=0;v<a.length;v++){const{name:w,fn:E}=a[v],{x:k,y:I,data:D,reset:j}=await E({x:u,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});u=k??u,f=I??f,g={...g,[w]:{...g[w],...D}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(c=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:u,y:f}=sG(c,m,l)),v=-1)}return{x:u,y:f,placement:m,strategy:i,middlewareData:g}};async function x1(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=id(e,t),x=toe(g),w=a[m?f==="floating"?"reference":"floating":f],E=rC(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),k=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),D=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},j=rC(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:k,offsetParent:I,strategy:l}):k);return{top:(E.top-j.top+x.top)/D.y,bottom:(j.bottom-E.bottom+x.bottom)/D.y,left:(E.left-j.left+x.left)/D.x,right:(j.right-E.right+x.right)/D.x}}const F5e=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=id(t,e)||{};if(c==null)return{};const f=toe(u),m={x:n,y:r},g=z8(i),x=F8(g),v=await o.getDimensions(c),w=g==="y",E=w?"top":"left",k=w?"bottom":"right",I=w?"clientHeight":"clientWidth",D=s.reference[x]+s.reference[g]-m[g]-s.floating[x],j=m[g]-s.reference[g],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let U=M?M[I]:0;(!U||!await(o.isElement==null?void 0:o.isElement(M)))&&(U=a.floating[I]||s.floating[x]);const V=D/2-j/2,F=U/2-v[x]/2-1,z=rh(f[E],F),K=rh(f[k],F),H=z,B=U-v[x]-K,A=U/2-v[x]/2+V,P=c4(H,A,B),R=!l.arrow&&Ix(i)!=null&&A!==P&&s.reference[x]/2-(A<H?z:K)-v[x]/2<0,$=R?A<H?A-H:A-B:0;return{[g]:m[g]+$,data:{[g]:P,centerOffset:A-P-$,...R&&{alignmentOffset:$}},reset:R}}}),z5e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...w}=id(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=sd(i),k=oc(a),I=sd(a)===a,D=await(l.isRTL==null?void 0:l.isRTL(c.floating)),j=m||(I||!v?[nC(a)]:O5e(a)),M=x!=="none";!m&&M&&j.push(...B5e(a,v,x,D));const U=[a,...j],V=await x1(e,w),F=[];let z=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&F.push(V[E]),f){const A=R5e(i,o,D);F.push(V[A[0]],V[A[1]])}if(z=[...z,{placement:i,overflows:F}],!F.every(A=>A<=0)){var K,H;const A=(((K=s.flip)==null?void 0:K.index)||0)+1,P=U[A];if(P&&(!(f==="alignment"?k!==oc(P):!1)||z.every(q=>oc(q.placement)===k?q.overflows[0]>0:!0)))return{data:{index:A,overflows:z},reset:{placement:P}};let R=(H=z.filter($=>$.overflows[0]<=0).sort(($,q)=>$.overflows[1]-q.overflows[1])[0])==null?void 0:H.placement;if(!R)switch(g){case"bestFit":{var B;const $=(B=z.filter(q=>{if(M){const te=oc(q.placement);return te===k||te==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(te=>te>0).reduce((te,Y)=>te+Y,0)]).sort((q,te)=>q[1]-te[1])[0])==null?void 0:B[0];$&&(R=$);break}case"initialPlacement":R=a;break}if(i!==R)return{reset:{placement:R}}}return{}}}};function oG(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function aG(t){return N5e.some(e=>t[e]>=0)}const $5e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=id(t,e);switch(r){case"referenceHidden":{const s=await x1(e,{...i,elementContext:"reference"}),o=oG(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:aG(o)}}}case"escaped":{const s=await x1(e,{...i,altBoundary:!0}),o=oG(s,n.floating);return{data:{escapedOffsets:o,escaped:aG(o)}}}default:return{}}}}},noe=new Set(["left","top"]);async function H5e(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=sd(n),a=Ix(n),l=oc(n)==="y",c=noe.has(o)?-1:1,u=s&&l?-1:1,f=id(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(g=a==="end"?x*-1:x),l?{x:g*u,y:m*c}:{x:m*c,y:g*u}}const V5e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await H5e(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},G5e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:E,y:k}=w;return{x:E,y:k}}},...l}=id(t,e),c={x:n,y:r},u=await x1(e,l),f=oc(sd(i)),m=U8(f);let g=c[m],x=c[f];if(s){const w=m==="y"?"top":"left",E=m==="y"?"bottom":"right",k=g+u[w],I=g-u[E];g=c4(k,g,I)}if(o){const w=f==="y"?"top":"left",E=f==="y"?"bottom":"right",k=x+u[w],I=x-u[E];x=c4(k,x,I)}const v=a.fn({...e,[m]:g,[f]:x});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:s,[f]:o}}}}}},q5e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=id(t,e),u={x:n,y:r},f=oc(i),m=U8(f);let g=u[m],x=u[f];const v=id(a,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const I=m==="y"?"height":"width",D=s.reference[m]-s.floating[I]+w.mainAxis,j=s.reference[m]+s.reference[I]-w.mainAxis;g<D?g=D:g>j&&(g=j)}if(c){var E,k;const I=m==="y"?"width":"height",D=noe.has(sd(i)),j=s.reference[f]-s.floating[I]+(D&&((E=o.offset)==null?void 0:E[f])||0)+(D?0:w.crossAxis),M=s.reference[f]+s.reference[I]+(D?0:((k=o.offset)==null?void 0:k[f])||0)-(D?w.crossAxis:0);x<j?x=j:x>M&&(x=M)}return{[m]:g,[f]:x}}}},K5e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=id(t,e),u=await x1(e,c),f=sd(i),m=Ix(i),g=oc(i)==="y",{width:x,height:v}=s.floating;let w,E;f==="top"||f==="bottom"?(w=f,E=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,w=m==="end"?"top":"bottom");const k=v-u.top-u.bottom,I=x-u.left-u.right,D=rh(v-u[w],k),j=rh(x-u[E],I),M=!e.middlewareData.shift;let U=D,V=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(V=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(U=k),M&&!m){const z=Oo(u.left,0),K=Oo(u.right,0),H=Oo(u.top,0),B=Oo(u.bottom,0);g?V=x-2*(z!==0||K!==0?z+K:Oo(u.left,u.right)):U=v-2*(H!==0||B!==0?H+B:Oo(u.top,u.bottom))}await l({...e,availableWidth:V,availableHeight:U});const F=await o.getDimensions(a.floating);return x!==F.width||v!==F.height?{reset:{rects:!0}}:{}}}};function vk(){return typeof window<"u"}function Px(t){return roe(t)?(t.nodeName||"").toLowerCase():"#document"}function Bo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cc(t){var e;return(e=(roe(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function roe(t){return vk()?t instanceof Node||t instanceof Bo(t).Node:!1}function gl(t){return vk()?t instanceof Element||t instanceof Bo(t).Element:!1}function vc(t){return vk()?t instanceof HTMLElement||t instanceof Bo(t).HTMLElement:!1}function lG(t){return!vk()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Bo(t).ShadowRoot}const W5e=new Set(["inline","contents"]);function Pw(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=yl(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!W5e.has(i)}const Y5e=new Set(["table","td","th"]);function J5e(t){return Y5e.has(Px(t))}const X5e=[":popover-open",":modal"];function bk(t){return X5e.some(e=>{try{return t.matches(e)}catch{return!1}})}const Q5e=["transform","translate","scale","rotate","perspective"],Z5e=["transform","translate","scale","rotate","perspective","filter"],e3e=["paint","layout","strict","content"];function $8(t){const e=H8(),n=gl(t)?yl(t):t;return Q5e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Z5e.some(r=>(n.willChange||"").includes(r))||e3e.some(r=>(n.contain||"").includes(r))}function t3e(t){let e=ih(t);for(;vc(e)&&!tx(e);){if($8(e))return e;if(bk(e))return null;e=ih(e)}return null}function H8(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const n3e=new Set(["html","body","#document"]);function tx(t){return n3e.has(Px(t))}function yl(t){return Bo(t).getComputedStyle(t)}function wk(t){return gl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ih(t){if(Px(t)==="html")return t;const e=t.assignedSlot||t.parentNode||lG(t)&&t.host||Cc(t);return lG(e)?e.host:e}function ioe(t){const e=ih(t);return tx(e)?t.ownerDocument?t.ownerDocument.body:t.body:vc(e)&&Pw(e)?e:ioe(e)}function v1(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ioe(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Bo(i);if(s){const a=d4(o);return e.concat(o,o.visualViewport||[],Pw(i)?i:[],a&&n?v1(a):[])}return e.concat(i,v1(i,[],n))}function d4(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function soe(t){const e=yl(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=vc(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=tC(n)!==s||tC(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function V8(t){return gl(t)?t:t.contextElement}function Dg(t){const e=V8(t);if(!vc(e))return mc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=soe(e);let o=(s?tC(n.width):n.width)/r,a=(s?tC(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const r3e=mc(0);function ooe(t){const e=Bo(t);return!H8()||!e.visualViewport?r3e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function i3e(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Bo(t)?!1:e}function hm(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=V8(t);let o=mc(1);e&&(r?gl(r)&&(o=Dg(r)):o=Dg(t));const a=i3e(s,n,r)?ooe(s):mc(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const m=Bo(s),g=r&&gl(r)?Bo(r):r;let x=m,v=d4(x);for(;v&&r&&g!==x;){const w=Dg(v),E=v.getBoundingClientRect(),k=yl(v),I=E.left+(v.clientLeft+parseFloat(k.paddingLeft))*w.x,D=E.top+(v.clientTop+parseFloat(k.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,f*=w.y,l+=I,c+=D,x=Bo(v),v=d4(x)}}return rC({width:u,height:f,x:l,y:c})}function Ek(t,e){const n=wk(t).scrollLeft;return e?e.left+n:hm(Cc(t)).left+n}function aoe(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ek(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function s3e(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Cc(r),a=e?bk(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=mc(1);const u=mc(0),f=vc(r);if((f||!f&&!s)&&((Px(r)!=="body"||Pw(o))&&(l=wk(r)),vc(r))){const g=hm(r);c=Dg(r),u.x=g.x+r.clientLeft,u.y=g.y+r.clientTop}const m=o&&!f&&!s?aoe(o,l):mc(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+m.x,y:n.y*c.y-l.scrollTop*c.y+u.y+m.y}}function o3e(t){return Array.from(t.getClientRects())}function a3e(t){const e=Cc(t),n=wk(t),r=t.ownerDocument.body,i=Oo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Oo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ek(t);const a=-n.scrollTop;return yl(r).direction==="rtl"&&(o+=Oo(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const cG=25;function l3e(t,e){const n=Bo(t),r=Cc(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=H8();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=Ek(r);if(c<=0){const u=r.ownerDocument,f=u.body,m=getComputedStyle(f),g=u.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,x=Math.abs(r.clientWidth-f.clientWidth-g);x<=cG&&(s-=x)}else c<=cG&&(s+=c);return{width:s,height:o,x:a,y:l}}const c3e=new Set(["absolute","fixed"]);function u3e(t,e){const n=hm(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=vc(t)?Dg(t):mc(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function uG(t,e,n){let r;if(e==="viewport")r=l3e(t,n);else if(e==="document")r=a3e(Cc(t));else if(gl(e))r=u3e(e,n);else{const i=ooe(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return rC(r)}function loe(t,e){const n=ih(t);return n===e||!gl(n)||tx(n)?!1:yl(n).position==="fixed"||loe(n,e)}function d3e(t,e){const n=e.get(t);if(n)return n;let r=v1(t,[],!1).filter(a=>gl(a)&&Px(a)!=="body"),i=null;const s=yl(t).position==="fixed";let o=s?ih(t):t;for(;gl(o)&&!tx(o);){const a=yl(o),l=$8(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&c3e.has(i.position)||Pw(o)&&!l&&loe(t,o))?r=r.filter(u=>u!==o):i=a,o=ih(o)}return e.set(t,r),r}function f3e(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?bk(e)?[]:d3e(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const f=uG(e,u,i);return c.top=Oo(f.top,c.top),c.right=rh(f.right,c.right),c.bottom=rh(f.bottom,c.bottom),c.left=Oo(f.left,c.left),c},uG(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function h3e(t){const{width:e,height:n}=soe(t);return{width:e,height:n}}function p3e(t,e,n){const r=vc(e),i=Cc(e),s=n==="fixed",o=hm(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=mc(0);function c(){l.x=Ek(i)}if(r||!r&&!s)if((Px(e)!=="body"||Pw(i))&&(a=wk(e)),r){const g=hm(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?aoe(i,a):mc(0),f=o.left+a.scrollLeft-l.x-u.x,m=o.top+a.scrollTop-l.y-u.y;return{x:f,y:m,width:o.width,height:o.height}}function HR(t){return yl(t).position==="static"}function dG(t,e){if(!vc(t)||yl(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cc(t)===n&&(n=n.ownerDocument.body),n}function coe(t,e){const n=Bo(t);if(bk(t))return n;if(!vc(t)){let i=ih(t);for(;i&&!tx(i);){if(gl(i)&&!HR(i))return i;i=ih(i)}return n}let r=dG(t,e);for(;r&&J5e(r)&&HR(r);)r=dG(r,e);return r&&tx(r)&&HR(r)&&!$8(r)?n:r||t3e(t)||n}const m3e=async function(t){const e=this.getOffsetParent||coe,n=this.getDimensions,r=await n(t.floating);return{reference:p3e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function g3e(t){return yl(t).direction==="rtl"}const y3e={convertOffsetParentRelativeRectToViewportRelativeRect:s3e,getDocumentElement:Cc,getClippingRect:f3e,getOffsetParent:coe,getElementRects:m3e,getClientRects:o3e,getDimensions:h3e,getScale:Dg,isElement:gl,isRTL:g3e};function uoe(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function x3e(t,e){let n=null,r;const i=Cc(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:f,width:m,height:g}=c;if(a||e(),!m||!g)return;const x=qS(f),v=qS(i.clientWidth-(u+m)),w=qS(i.clientHeight-(f+g)),E=qS(u),I={rootMargin:-x+"px "+-v+"px "+-w+"px "+-E+"px",threshold:Oo(0,rh(1,l))||1};let D=!0;function j(M){const U=M[0].intersectionRatio;if(U!==l){if(!D)return o();U?o(!1,U):r=setTimeout(()=>{o(!1,1e-7)},1e3)}U===1&&!uoe(c,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(j,{...I,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,I)}n.observe(t)}return o(!0),s}function v3e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=V8(t),u=i||s?[...c?v1(c):[],...v1(e)]:[];u.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const f=c&&a?x3e(c,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(E=>{let[k]=E;k&&k.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var I;(I=g)==null||I.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let x,v=l?hm(t):null;l&&w();function w(){const E=hm(t);v&&!uoe(v,E)&&n(),v=E,x=requestAnimationFrame(w)}return n(),()=>{var E;u.forEach(k=>{i&&k.removeEventListener("scroll",n),s&&k.removeEventListener("resize",n)}),f==null||f(),(E=g)==null||E.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const b3e=V5e,w3e=G5e,E3e=z5e,S3e=K5e,A3e=$5e,fG=F5e,T3e=q5e,C3e=(t,e,n)=>{const r=new Map,i={platform:y3e,...n},s={...i.platform,_c:r};return U5e(t,e,{...i,platform:s})};var k3e=typeof document<"u",N3e=function(){},cT=k3e?T.useLayoutEffect:N3e;function iC(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!iC(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!iC(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function doe(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hG(t,e){const n=doe(t);return Math.round(e*n)/n}function VR(t){const e=T.useRef(t);return cT(()=>{e.current=t}),e}function I3e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=T.useState(r);iC(m,r)||g(r);const[x,v]=T.useState(null),[w,E]=T.useState(null),k=T.useCallback(q=>{q!==M.current&&(M.current=q,v(q))},[]),I=T.useCallback(q=>{q!==U.current&&(U.current=q,E(q))},[]),D=s||x,j=o||w,M=T.useRef(null),U=T.useRef(null),V=T.useRef(u),F=l!=null,z=VR(l),K=VR(i),H=VR(c),B=T.useCallback(()=>{if(!M.current||!U.current)return;const q={placement:e,strategy:n,middleware:m};K.current&&(q.platform=K.current),C3e(M.current,U.current,q).then(te=>{const Y={...te,isPositioned:H.current!==!1};A.current&&!iC(V.current,Y)&&(V.current=Y,Om.flushSync(()=>{f(Y)}))})},[m,e,n,K,H]);cT(()=>{c===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[c]);const A=T.useRef(!1);cT(()=>(A.current=!0,()=>{A.current=!1}),[]),cT(()=>{if(D&&(M.current=D),j&&(U.current=j),D&&j){if(z.current)return z.current(D,j,B);B()}},[D,j,B,z,F]);const P=T.useMemo(()=>({reference:M,floating:U,setReference:k,setFloating:I}),[k,I]),R=T.useMemo(()=>({reference:D,floating:j}),[D,j]),$=T.useMemo(()=>{const q={position:n,left:0,top:0};if(!R.floating)return q;const te=hG(R.floating,u.x),Y=hG(R.floating,u.y);return a?{...q,transform:"translate("+te+"px, "+Y+"px)",...doe(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:Y}},[n,a,R.floating,u.x,u.y]);return T.useMemo(()=>({...u,update:B,refs:P,elements:R,floatingStyles:$}),[u,B,P,R,$])}const P3e=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fG({element:r.current,padding:i}).fn(n):{}:r?fG({element:r,padding:i}).fn(n):{}}}},_3e=(t,e)=>({...b3e(t),options:[t,e]}),R3e=(t,e)=>({...w3e(t),options:[t,e]}),O3e=(t,e)=>({...T3e(t),options:[t,e]}),M3e=(t,e)=>({...E3e(t),options:[t,e]}),D3e=(t,e)=>({...S3e(t),options:[t,e]}),L3e=(t,e)=>({...A3e(t),options:[t,e]}),B3e=(t,e)=>({...P3e(t),options:[t,e]});var j3e="Arrow",foe=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return h.jsx(Rn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});foe.displayName=j3e;var U3e=foe;function F3e(t){const[e,n]=T.useState(void 0);return Es(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var G8="Popper",[hoe,Sk]=Rm(G8),[z3e,poe]=hoe(G8),moe=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return h.jsx(z3e,{scope:e,anchor:r,onAnchorChange:i,children:n})};moe.displayName=G8;var goe="PopperAnchor",yoe=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=poe(goe,n),o=T.useRef(null),a=Cr(e,o),l=T.useRef(null);return T.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:h.jsx(Rn.div,{...i,ref:a})});yoe.displayName=goe;var q8="PopperContent",[$3e,H3e]=hoe(q8),xoe=T.forwardRef((t,e)=>{var ae,Ee,ue,me,ce,oe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=t,w=poe(q8,n),[E,k]=T.useState(null),I=Cr(e,Ce=>k(Ce)),[D,j]=T.useState(null),M=F3e(D),U=(M==null?void 0:M.width)??0,V=(M==null?void 0:M.height)??0,F=r+(s!=="center"?"-"+s:""),z=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},K=Array.isArray(c)?c:[c],H=K.length>0,B={padding:z,boundary:K.filter(G3e),altBoundary:H},{refs:A,floatingStyles:P,placement:R,isPositioned:$,middlewareData:q}=I3e({strategy:"fixed",placement:F,whileElementsMounted:(...Ce)=>v3e(...Ce,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[_3e({mainAxis:i+V,alignmentAxis:o}),l&&R3e({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?O3e():void 0,...B}),l&&M3e({...B}),D3e({...B,apply:({elements:Ce,rects:Ne,availableWidth:$e,availableHeight:Ze})=>{const{width:Ye,height:We}=Ne.reference,St=Ce.floating.style;St.setProperty("--radix-popper-available-width",`${$e}px`),St.setProperty("--radix-popper-available-height",`${Ze}px`),St.setProperty("--radix-popper-anchor-width",`${Ye}px`),St.setProperty("--radix-popper-anchor-height",`${We}px`)}}),D&&B3e({element:D,padding:a}),q3e({arrowWidth:U,arrowHeight:V}),m&&L3e({strategy:"referenceHidden",...B})]}),[te,Y]=woe(R),G=nh(x);Es(()=>{$&&(G==null||G())},[$,G]);const O=(ae=q.arrow)==null?void 0:ae.x,N=(Ee=q.arrow)==null?void 0:Ee.y,W=((ue=q.arrow)==null?void 0:ue.centerOffset)!==0,[X,re]=T.useState();return Es(()=>{E&&re(window.getComputedStyle(E).zIndex)},[E]),h.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:$?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(me=q.transformOrigin)==null?void 0:me.x,(ce=q.transformOrigin)==null?void 0:ce.y].join(" "),...((oe=q.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx($3e,{scope:n,placedSide:te,onArrowChange:j,arrowX:O,arrowY:N,shouldHideArrow:W,children:h.jsx(Rn.div,{"data-side":te,"data-align":Y,...v,ref:I,style:{...v.style,animation:$?void 0:"none"}})})})});xoe.displayName=q8;var voe="PopperArrow",V3e={top:"bottom",right:"left",bottom:"top",left:"right"},boe=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=H3e(voe,r),o=V3e[s.placedSide];return h.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:h.jsx(U3e,{...i,ref:n,style:{...i.style,display:"block"}})})});boe.displayName=voe;function G3e(t){return t!==null}var q3e=t=>({name:"transformOrigin",options:t,fn(e){var w,E,k;const{placement:n,rects:r,middlewareData:i}=e,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=woe(n),f={start:"0%",center:"50%",end:"100%"}[u],m=(((E=i.arrow)==null?void 0:E.x)??0)+a/2,g=(((k=i.arrow)==null?void 0:k.y)??0)+l/2;let x="",v="";return c==="bottom"?(x=o?f:`${m}px`,v=`${-l}px`):c==="top"?(x=o?f:`${m}px`,v=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,v=o?f:`${g}px`):c==="left"&&(x=`${r.floating.width+l}px`,v=o?f:`${g}px`),{data:{x,y:v}}}});function woe(t){const[e,n="center"]=t.split("-");return[e,n]}var K3e=moe,Eoe=yoe,Soe=xoe,Aoe=boe,W3e="Portal",Ak=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=T.useState(!1);Es(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?c5e.createPortal(h.jsx(Rn.div,{...r,ref:e}),o):null});Ak.displayName=W3e;function Y3e(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var Mm=t=>{const{present:e,children:n}=t,r=J3e(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),s=Cr(r.ref,X3e(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};Mm.displayName="Presence";function J3e(t){const[e,n]=T.useState(),r=T.useRef(null),i=T.useRef(t),s=T.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Y3e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const c=KS(r.current);s.current=a==="mounted"?c:"none"},[a]),Es(()=>{const c=r.current,u=i.current;if(u!==t){const m=s.current,g=KS(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Es(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=g=>{const v=KS(r.current).includes(CSS.escape(g.animationName));if(g.target===e&&v&&(l("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=g=>{g.target===e&&(s.current=KS(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function KS(t){return(t==null?void 0:t.animationName)||"none"}function X3e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Q3e=Symbol("radix.slottable");function Z3e(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Q3e,e}var eOe=$2[" useInsertionEffect ".trim().toString()]||Es;function b1({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=tOe({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=T.useRef(t!==void 0);T.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=T.useCallback(u=>{var f;if(a){const m=nOe(u)?u(t):u;m!==t&&((f=o.current)==null||f.call(o,m))}else s(u)},[a,t,s,o]);return[l,c]}function tOe({defaultProp:t,onChange:e}){const[n,r]=T.useState(t),i=T.useRef(n),s=T.useRef(e);return eOe(()=>{s.current=e},[e]),T.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function nOe(t){return typeof t=="function"}var Toe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rOe="VisuallyHidden",Coe=T.forwardRef((t,e)=>h.jsx(Rn.span,{...t,ref:e,style:{...Toe,...t.style}}));Coe.displayName=rOe;var iOe=Coe,[Tk]=Rm("Tooltip",[Sk]),K8=Sk(),koe="TooltipProvider",sOe=700,pG="tooltip.open",[oOe,Noe]=Tk(koe),Ioe=t=>{const{__scopeTooltip:e,delayDuration:n=sOe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=T.useRef(!0),a=T.useRef(!1),l=T.useRef(0);return T.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),h.jsx(oOe,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:T.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};Ioe.displayName=koe;var Poe="Tooltip",[_gt,_w]=Tk(Poe),f4="TooltipTrigger",aOe=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=_w(f4,n),s=Noe(f4,n),o=K8(n),a=T.useRef(null),l=Cr(e,a,i.onTriggerChange),c=T.useRef(!1),u=T.useRef(!1),f=T.useCallback(()=>c.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),h.jsx(Eoe,{asChild:!0,...o,children:h.jsx(Rn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:hn(t.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:hn(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:hn(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:hn(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:hn(t.onBlur,i.onClose),onClick:hn(t.onClick,i.onClose)})})});aOe.displayName=f4;var W8="TooltipPortal",[lOe,cOe]=Tk(W8,{forceMount:void 0}),_oe=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,s=_w(W8,e);return h.jsx(lOe,{scope:e,forceMount:n,children:h.jsx(Mm,{present:n||s.open,children:h.jsx(Ak,{asChild:!0,container:i,children:r})})})};_oe.displayName=W8;var nx="TooltipContent",Roe=T.forwardRef((t,e)=>{const n=cOe(nx,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=_w(nx,t.__scopeTooltip);return h.jsx(Mm,{present:r||o.open,children:o.disableHoverableContent?h.jsx(Ooe,{side:i,...s,ref:e}):h.jsx(uOe,{side:i,...s,ref:e})})}),uOe=T.forwardRef((t,e)=>{const n=_w(nx,t.__scopeTooltip),r=Noe(nx,t.__scopeTooltip),i=T.useRef(null),s=Cr(e,i),[o,a]=T.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,m=T.useCallback(()=>{a(null),f(!1)},[f]),g=T.useCallback((x,v)=>{const w=x.currentTarget,E={x:x.clientX,y:x.clientY},k=mOe(E,w.getBoundingClientRect()),I=gOe(E,k),D=yOe(v.getBoundingClientRect()),j=vOe([...I,...D]);a(j),f(!0)},[f]);return T.useEffect(()=>()=>m(),[m]),T.useEffect(()=>{if(l&&u){const x=w=>g(w,u),v=w=>g(w,l);return l.addEventListener("pointerleave",x),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",v)}}},[l,u,g,m]),T.useEffect(()=>{if(o){const x=v=>{const w=v.target,E={x:v.clientX,y:v.clientY},k=(l==null?void 0:l.contains(w))||(u==null?void 0:u.contains(w)),I=!xOe(E,o);k?m():I&&(m(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,u,o,c,m]),h.jsx(Ooe,{...t,ref:s})}),[dOe,fOe]=Tk(Poe,{isInside:!1}),hOe=Z3e("TooltipContent"),Ooe=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=_w(nx,n),c=K8(n),{onClose:u}=l;return T.useEffect(()=>(document.addEventListener(pG,u),()=>document.removeEventListener(pG,u)),[u]),T.useEffect(()=>{if(l.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),h.jsx(xk,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:h.jsxs(Soe,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(hOe,{children:r}),h.jsx(dOe,{scope:n,isInside:!0,children:h.jsx(iOe,{id:l.contentId,role:"tooltip",children:i||r})})]})})});Roe.displayName=nx;var Moe="TooltipArrow",pOe=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=K8(n);return fOe(Moe,n).isInside?null:h.jsx(Aoe,{...i,...r,ref:e})});pOe.displayName=Moe;function mOe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function gOe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function yOe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function xOe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,f=l.x,m=l.y;u>r!=m>r&&n<(f-c)*(r-u)/(m-u)+c&&(i=!i)}return i}function vOe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),bOe(e)}function bOe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var wOe=Ioe,EOe=_oe,Doe=Roe;function Loe(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Loe(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function In(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Loe(t))&&(r&&(r+=" "),r+=e);return r}const SOe=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},AOe=(t,e)=>({classGroupId:t,validator:e}),Boe=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),sC="-",mG=[],TOe="arbitrary..",COe=t=>{const e=NOe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return kOe(o);const a=o.split(sC),l=a[0]===""&&a.length>1?1:0;return joe(a,l,e)},getConflictingClassGroupIds:(o,a)=>{if(a){const l=r[o],c=n[o];return l?c?SOe(c,l):l:c||mG}return n[o]||mG}}},joe=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const c=joe(t,e+1,s);if(c)return c}const o=n.validators;if(o===null)return;const a=e===0?t.join(sC):t.slice(e).join(sC),l=o.length;for(let c=0;c<l;c++){const u=o[c];if(u.validator(a))return u.classGroupId}},kOe=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?TOe+r:void 0})(),NOe=t=>{const{theme:e,classGroups:n}=t;return IOe(n,e)},IOe=(t,e)=>{const n=Boe();for(const r in t){const i=t[r];Y8(i,n,r,e)}return n},Y8=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const o=t[s];POe(o,e,n,r)}},POe=(t,e,n,r)=>{if(typeof t=="string"){_Oe(t,e,n);return}if(typeof t=="function"){ROe(t,e,n,r);return}OOe(t,e,n,r)},_Oe=(t,e,n)=>{const r=t===""?e:Uoe(e,t);r.classGroupId=n},ROe=(t,e,n,r)=>{if(MOe(t)){Y8(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(AOe(n,t))},OOe=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];Y8(l,Uoe(e,a),n,r)}},Uoe=(t,e)=>{let n=t;const r=e.split(sC),i=r.length;for(let s=0;s<i;s++){const o=r[s];let a=n.nextPart.get(o);a||(a=Boe(),n.nextPart.set(o,a)),n=a}return n},MOe=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,DOe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,o)=>{n[s]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let o=n[s];if(o!==void 0)return o;if((o=r[s])!==void 0)return i(s,o),o},set(s,o){s in n?n[s]=o:i(s,o)}}},h4="!",gG=":",LOe=[],yG=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),BOe=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,c;const u=i.length;for(let v=0;v<u;v++){const w=i[v];if(o===0&&a===0){if(w===gG){s.push(i.slice(l,v)),l=v+1;continue}if(w==="/"){c=v;continue}}w==="["?o++:w==="]"?o--:w==="("?a++:w===")"&&a--}const f=s.length===0?i:i.slice(l);let m=f,g=!1;f.endsWith(h4)?(m=f.slice(0,-1),g=!0):f.startsWith(h4)&&(m=f.slice(1),g=!0);const x=c&&c>l?c-l:void 0;return yG(s,g,m,x)};if(e){const i=e+gG,s=r;r=o=>o.startsWith(i)?s(o.slice(i.length)):yG(LOe,!1,o,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},jOe=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const o=n[s],a=o[0]==="[",l=e.has(o);a||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},UOe=t=>({cache:DOe(t.cacheSize),parseClassName:BOe(t),sortModifiers:jOe(t),...COe(t)}),FOe=/\s+/,zOe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(FOe);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:f,modifiers:m,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}=n(u);if(f){l=u+(l.length>0?" "+l:l);continue}let w=!!v,E=r(w?x.substring(0,v):x);if(!E){if(!w){l=u+(l.length>0?" "+l:l);continue}if(E=r(x),!E){l=u+(l.length>0?" "+l:l);continue}w=!1}const k=m.length===0?"":m.length===1?m[0]:s(m).join(":"),I=g?k+h4:k,D=I+E;if(o.indexOf(D)>-1)continue;o.push(D);const j=i(E,w);for(let M=0;M<j.length;++M){const U=j[M];o.push(I+U)}l=u+(l.length>0?" "+l:l)}return l},$Oe=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=Foe(n))&&(i&&(i+=" "),i+=r);return i},Foe=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Foe(t[r]))&&(n&&(n+=" "),n+=e);return n},HOe=(t,...e)=>{let n,r,i,s;const o=l=>{const c=e.reduce((u,f)=>f(u),t());return n=UOe(c),r=n.cache.get,i=n.cache.set,s=a,a(l)},a=l=>{const c=r(l);if(c)return c;const u=zOe(l,n);return i(l,u),u};return s=o,(...l)=>s($Oe(...l))},VOe=[],pi=t=>{const e=n=>n[t]||VOe;return e.isThemeGetter=!0,e},zoe=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$oe=/^\((?:(\w[\w-]*):)?(.+)\)$/i,GOe=/^\d+\/\d+$/,qOe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KOe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WOe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,YOe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JOe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,R0=t=>GOe.test(t),mn=t=>!!t&&!Number.isNaN(Number(t)),of=t=>!!t&&Number.isInteger(Number(t)),GR=t=>t.endsWith("%")&&mn(t.slice(0,-1)),Qc=t=>qOe.test(t),XOe=()=>!0,QOe=t=>KOe.test(t)&&!WOe.test(t),Hoe=()=>!1,ZOe=t=>YOe.test(t),eMe=t=>JOe.test(t),tMe=t=>!It(t)&&!Pt(t),nMe=t=>_x(t,qoe,Hoe),It=t=>zoe.test(t),Kh=t=>_x(t,Koe,QOe),qR=t=>_x(t,aMe,mn),xG=t=>_x(t,Voe,Hoe),rMe=t=>_x(t,Goe,eMe),WS=t=>_x(t,Woe,ZOe),Pt=t=>$oe.test(t),Zv=t=>Rx(t,Koe),iMe=t=>Rx(t,lMe),vG=t=>Rx(t,Voe),sMe=t=>Rx(t,qoe),oMe=t=>Rx(t,Goe),YS=t=>Rx(t,Woe,!0),_x=(t,e,n)=>{const r=zoe.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Rx=(t,e,n=!1)=>{const r=$oe.exec(t);return r?r[1]?e(r[1]):n:!1},Voe=t=>t==="position"||t==="percentage",Goe=t=>t==="image"||t==="url",qoe=t=>t==="length"||t==="size"||t==="bg-size",Koe=t=>t==="length",aMe=t=>t==="number",lMe=t=>t==="family-name",Woe=t=>t==="shadow",cMe=()=>{const t=pi("color"),e=pi("font"),n=pi("text"),r=pi("font-weight"),i=pi("tracking"),s=pi("leading"),o=pi("breakpoint"),a=pi("container"),l=pi("spacing"),c=pi("radius"),u=pi("shadow"),f=pi("inset-shadow"),m=pi("text-shadow"),g=pi("drop-shadow"),x=pi("blur"),v=pi("perspective"),w=pi("aspect"),E=pi("ease"),k=pi("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...D(),Pt,It],M=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],V=()=>[Pt,It,l],F=()=>[R0,"full","auto",...V()],z=()=>[of,"none","subgrid",Pt,It],K=()=>["auto",{span:["full",of,Pt,It]},of,Pt,It],H=()=>[of,"auto",Pt,It],B=()=>["auto","min","max","fr",Pt,It],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],P=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...V()],$=()=>[R0,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...V()],q=()=>[t,Pt,It],te=()=>[...D(),vG,xG,{position:[Pt,It]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",sMe,nMe,{size:[Pt,It]}],O=()=>[GR,Zv,Kh],N=()=>["","none","full",c,Pt,It],W=()=>["",mn,Zv,Kh],X=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[mn,GR,vG,xG],Ee=()=>["","none",x,Pt,It],ue=()=>["none",mn,Pt,It],me=()=>["none",mn,Pt,It],ce=()=>[mn,Pt,It],oe=()=>[R0,"full",...V()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qc],breakpoint:[Qc],color:[XOe],container:[Qc],"drop-shadow":[Qc],ease:["in","out","in-out"],font:[tMe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qc],shadow:[Qc],spacing:["px",mn],text:[Qc],"text-shadow":[Qc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",R0,It,Pt,w]}],container:["container"],columns:[{columns:[mn,It,Pt,a]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[of,"auto",Pt,It]}],basis:[{basis:[R0,"full","auto",a,...V()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mn,R0,"auto","initial","none",It]}],grow:[{grow:["",mn,Pt,It]}],shrink:[{shrink:["",mn,Pt,It]}],order:[{order:[of,"first","last","none",Pt,It]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:K()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:K()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:V()}],"gap-x":[{"gap-x":V()}],"gap-y":[{"gap-y":V()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...P(),"normal"]}],"justify-self":[{"justify-self":["auto",...P()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...P(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...P(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...P(),"baseline"]}],"place-self":[{"place-self":["auto",...P()]}],p:[{p:V()}],px:[{px:V()}],py:[{py:V()}],ps:[{ps:V()}],pe:[{pe:V()}],pt:[{pt:V()}],pr:[{pr:V()}],pb:[{pb:V()}],pl:[{pl:V()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":V()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":V()}],"space-y-reverse":["space-y-reverse"],size:[{size:$()}],w:[{w:[a,"screen",...$()]}],"min-w":[{"min-w":[a,"screen","none",...$()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...$()]}],h:[{h:["screen","lh",...$()]}],"min-h":[{"min-h":["screen","lh","none",...$()]}],"max-h":[{"max-h":["screen","lh",...$()]}],"font-size":[{text:["base",n,Zv,Kh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Pt,qR]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",GR,It]}],"font-family":[{font:[iMe,It,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Pt,It]}],"line-clamp":[{"line-clamp":[mn,"none",Pt,qR]}],leading:[{leading:[s,...V()]}],"list-image":[{"list-image":["none",Pt,It]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pt,It]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:[mn,"from-font","auto",Pt,Kh]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[mn,"auto",Pt,It]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pt,It]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pt,It]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},of,Pt,It],radial:["",Pt,It],conic:[of,Pt,It]},oMe,rMe]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:N()}],"rounded-s":[{"rounded-s":N()}],"rounded-e":[{"rounded-e":N()}],"rounded-t":[{"rounded-t":N()}],"rounded-r":[{"rounded-r":N()}],"rounded-b":[{"rounded-b":N()}],"rounded-l":[{"rounded-l":N()}],"rounded-ss":[{"rounded-ss":N()}],"rounded-se":[{"rounded-se":N()}],"rounded-ee":[{"rounded-ee":N()}],"rounded-es":[{"rounded-es":N()}],"rounded-tl":[{"rounded-tl":N()}],"rounded-tr":[{"rounded-tr":N()}],"rounded-br":[{"rounded-br":N()}],"rounded-bl":[{"rounded-bl":N()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...X(),"hidden","none"]}],"divide-style":[{divide:[...X(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...X(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mn,Pt,It]}],"outline-w":[{outline:["",mn,Zv,Kh]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",u,YS,WS]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",f,YS,WS]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[mn,Kh]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",m,YS,WS]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[mn,Pt,It]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mn]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Pt,It]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[mn]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pt,It]}],filter:[{filter:["","none",Pt,It]}],blur:[{blur:Ee()}],brightness:[{brightness:[mn,Pt,It]}],contrast:[{contrast:[mn,Pt,It]}],"drop-shadow":[{"drop-shadow":["","none",g,YS,WS]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",mn,Pt,It]}],"hue-rotate":[{"hue-rotate":[mn,Pt,It]}],invert:[{invert:["",mn,Pt,It]}],saturate:[{saturate:[mn,Pt,It]}],sepia:[{sepia:["",mn,Pt,It]}],"backdrop-filter":[{"backdrop-filter":["","none",Pt,It]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[mn,Pt,It]}],"backdrop-contrast":[{"backdrop-contrast":[mn,Pt,It]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mn,Pt,It]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mn,Pt,It]}],"backdrop-invert":[{"backdrop-invert":["",mn,Pt,It]}],"backdrop-opacity":[{"backdrop-opacity":[mn,Pt,It]}],"backdrop-saturate":[{"backdrop-saturate":[mn,Pt,It]}],"backdrop-sepia":[{"backdrop-sepia":["",mn,Pt,It]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":V()}],"border-spacing-x":[{"border-spacing-x":V()}],"border-spacing-y":[{"border-spacing-y":V()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pt,It]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mn,"initial",Pt,It]}],ease:[{ease:["linear","initial",E,Pt,It]}],delay:[{delay:[mn,Pt,It]}],animate:[{animate:["none",k,Pt,It]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Pt,It]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[Pt,It,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pt,It]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pt,It]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[mn,Zv,Kh,qR]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uMe=HOe(cMe);function jt(...t){return uMe(In(t))}const dMe=wOe,fMe=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(EOe,{children:h.jsx(Doe,{ref:r,sideOffset:e,className:jt("z-50 overflow-hidden rounded-md bg-slate-800 border border-slate-700 px-3 py-1.5 text-xs text-slate-200 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));fMe.displayName=Doe.displayName;const KR=({icon:t,label:e,isActive:n,onClick:r})=>h.jsxs("button",{onClick:r,className:jt("w-full flex items-center gap-3 px-3 py-2.5 text-[13px] font-medium transition-all duration-200 rounded-xl relative overflow-hidden",n?"text-white bg-[#1a1b21]/80 backdrop-blur-sm":"text-[#747580] hover:text-[#a0a1a8] hover:bg-[#1a1b21]/40"),title:e,children:[n&&h.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-[#E7FE55] rounded-full"}),h.jsx("span",{className:jt("flex items-center justify-center transition-colors ml-1",n&&"text-[#E7FE55]"),children:t}),h.jsx("span",{className:"tracking-wide",children:e})]}),bG=({status:t,label:e,latency:n,network:r})=>{const i=t==="Down",s=t==="Checking",o=i?"#ef4444":s?"#747580":"#E7FE55";return h.jsxs("div",{className:"flex items-center justify-between py-0.5",children:[h.jsx("span",{className:"text-[9px] uppercase tracking-[0.05em] text-[#5a5b63]",children:e}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:"text-[9px] font-mono text-[#5a5b63]",children:i?"DOWN":s?"...":n}),h.jsx("div",{className:"w-1 h-1 rounded-full",style:{backgroundColor:o}})]})]})},hMe=({activeTab:t,setActiveTab:e,isVaultUnlocked:n,onSelectConversation:r,onNewChat:i,currentConversationId:s,password:o,isOpen:a=!1,onClose:l})=>{const[c,u]=T.useState("Checking");T.useEffect(()=>{const v=async()=>{const E=await Ft.checkHealth();u(E?"Online":"Down")};v();const w=setInterval(v,3e4);return()=>clearInterval(w)},[]);const f=v=>{e(v),l&&l()},m=[ke.VAULT_DEALER,ke.DEALER_DASHBOARD,ke.DEALER_THINKING,ke.DEALER_CONFIG,ke.DEALER_PROMPT].includes(t),g=[ke.POLYMARKET_DEALER,ke.POLYMARKET_DASHBOARD,ke.POLYMARKET_THINKING,ke.POLYMARKET_CONFIG,ke.POLYMARKET_PROMPT].includes(t),x=t===ke.AGENT;return h.jsxs(dMe,{delayDuration:300,children:[h.jsx(Lo,{children:a&&h.jsx(tn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-40 xl:hidden",onClick:l})}),h.jsxs("aside",{className:jt("m-3 p-5 flex flex-col fixed h-[calc(100%-24px)] bg-[#0f1015]/95 backdrop-blur-xl z-50 w-60 transform transition-transform duration-300 ease-in-out","rounded-2xl border border-[#232328]/60 shadow-2xl shadow-black/20",a?"translate-x-0":"-translate-x-full","xl:translate-x-0"),children:[h.jsxs("div",{className:"mb-8 flex items-center gap-3 px-2",children:[h.jsx("div",{className:"w-8 h-8 flex-shrink-0 bg-[#E7FE55] rounded flex items-center justify-center",children:h.jsx(Ju,{className:"text-black w-5 h-5"})}),h.jsx("h1",{className:"text-[15px] font-semibold text-white tracking-tight hidden xl:block",children:"AutonomousVault"})]}),h.jsxs("nav",{className:"space-y-1 flex-1",children:[h.jsx(KR,{icon:h.jsx(ao,{size:18}),label:"Dashboard",isActive:t===ke.DASHBOARD,onClick:()=>f(ke.DASHBOARD)}),h.jsxs("div",{onClick:()=>f(ke.AGENT),className:jt("flex items-center justify-between px-3 py-2.5 rounded-xl transition-all duration-200 cursor-pointer relative overflow-hidden",x?"bg-[#1a1b21]/80 backdrop-blur-sm":"hover:bg-[#1a1b21]/40"),children:[x&&h.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-[#E7FE55] rounded-full"}),h.jsxs("div",{className:jt("ml-1","flex flex-1 items-center gap-3 text-[13px] font-medium",t===ke.AGENT?"text-white":"text-[#747580] hover:text-[#a0a1a8]"),title:"Vault Operator",children:[h.jsx("span",{className:jt("transition-colors",t===ke.AGENT&&"text-[#E7FE55]"),children:h.jsx(og,{size:18})}),h.jsx("span",{className:"tracking-wide",children:"Vault Operator"})]})]}),h.jsx("div",{className:"pt-2",children:h.jsxs("button",{onClick:()=>f(ke.VAULT_DEALER),className:jt("w-full flex items-center gap-3 px-3 py-2.5 text-[13px] font-medium transition-all duration-200 rounded-xl relative overflow-hidden",m?"text-white bg-[#1a1b21]/80 backdrop-blur-sm":"text-[#747580] hover:text-[#a0a1a8] hover:bg-[#1a1b21]/40"),title:"Hyperliquid Dealer",children:[m&&h.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-[#E7FE55] rounded-full"}),h.jsx("span",{className:jt("transition-colors ml-1",m&&"text-[#E7FE55]"),children:h.jsx(Qu,{size:18})}),h.jsx("span",{className:"tracking-wide",children:"Hyperliquid Dealer"})]})}),h.jsx("div",{children:h.jsxs("button",{onClick:()=>f(ke.POLYMARKET_DEALER),className:jt("w-full flex items-center gap-3 px-3 py-2.5 text-[13px] font-medium transition-all duration-200 rounded-xl relative overflow-hidden",g?"text-white bg-[#1a1b21]/80 backdrop-blur-sm":"text-[#747580] hover:text-[#a0a1a8] hover:bg-[#1a1b21]/40"),title:"Polymarket Dealer",children:[g&&h.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-[#E7FE55] rounded-full"}),h.jsx("span",{className:jt("transition-colors ml-1",g&&"text-[#E7FE55]"),children:h.jsx(Pn,{size:18})}),h.jsx("span",{className:"tracking-wide",children:"Polymarket Dealer"})]})}),h.jsx(KR,{icon:h.jsx(P2e,{size:18}),label:"Vault",isActive:t===ke.VAULT,onClick:()=>f(ke.VAULT)}),h.jsx(KR,{icon:h.jsx(Jne,{size:18}),label:"Token Costs",isActive:t===ke.TOKEN_COSTS,onClick:()=>f(ke.TOKEN_COSTS)})]}),h.jsxs("div",{className:"pt-6 border-t border-[#232328]",children:[h.jsx("div",{className:"text-[10px] uppercase tracking-[0.1em] text-[#747580] font-semibold mb-3 px-2",children:"Network Status"}),h.jsxs("div",{className:"space-y-2 px-2",children:[h.jsx(bG,{status:"Online",label:"Solana Devnet",latency:"18m",network:"solana"}),h.jsx(bG,{status:c,label:"Hyperliquid Testnet",latency:"450ms",network:"hyperliquid"})]})]})]})]})};var pMe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function J8(t){if(typeof t!="string")return!1;var e=pMe;return e.includes(t)}var mMe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gMe=new Set(mMe);function Yoe(t){return typeof t!="string"?!1:gMe.has(t)}function Joe(t){return typeof t=="string"&&t.startsWith("data-")}function Us(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Yoe(n)||Joe(n))&&(e[n]=t[n]);return e}function pm(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Us(e)}return typeof t=="object"&&!Array.isArray(t)?Us(t):null}function Ss(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Yoe(n)||Joe(n)||J8(n))&&(e[n]=t[n]);return e}function yMe(t){return t==null?null:T.isValidElement(t)?Ss(t.props):typeof t=="object"&&!Array.isArray(t)?Ss(t):null}var xMe=["children","width","height","viewBox","className","style","title","desc"];function p4(){return p4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p4.apply(null,arguments)}function vMe(t,e){if(t==null)return{};var n,r,i=bMe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xoe=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:o,style:a,title:l,desc:c}=t,u=vMe(t,xMe),f=s||{width:r,height:i,x:0,y:0},m=In("recharts-surface",o);return T.createElement("svg",p4({},Ss(u),{className:m,width:r,height:i,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),T.createElement("title",null,l),T.createElement("desc",null,c),n)}),wMe=["children","className"];function m4(){return m4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m4.apply(null,arguments)}function EMe(t,e){if(t==null)return{};var n,r,i=SMe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vr=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=EMe(t,wMe),s=In("recharts-layer",r);return T.createElement("g",m4({className:s},Ss(i),{ref:e}),n)}),AMe=T.createContext(null);function fr(t){return function(){return t}}const Qoe=Math.cos,oC=Math.sin,Sl=Math.sqrt,aC=Math.PI,Ck=2*aC,g4=Math.PI,y4=2*g4,tp=1e-6,TMe=y4-tp;function Zoe(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function CMe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Zoe;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class kMe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Zoe:CMe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-n,u=o-e,f=a-n,m=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>tp)if(!(Math.abs(f*l-c*u)>tp)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-o,x=i-a,v=l*l+c*c,w=g*g+x*x,E=Math.sqrt(v),k=Math.sqrt(m),I=s*Math.tan((g4-Math.acos((v+m-w)/(2*E*k)))/2),D=I/k,j=I/E;Math.abs(D-1)>tp&&this._append`L${e+D*u},${n+D*f}`,this._append`A${s},${s},0,0,${+(f*g>u*x)},${this._x1=e+j*l},${this._y1=n+j*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,u=n+l,f=1^o,m=o?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>tp||Math.abs(this._y1-u)>tp)&&this._append`L${c},${u}`,r&&(m<0&&(m=m%y4+y4),m>TMe?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:m>tp&&this._append`A${r},${r},0,${+(m>=g4)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function X8(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new kMe(e)}function Q8(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function eae(t){this._context=t}eae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function kk(t){return new eae(t)}function tae(t){return t[0]}function nae(t){return t[1]}function rae(t,e){var n=fr(!0),r=null,i=kk,s=null,o=X8(a);t=typeof t=="function"?t:t===void 0?tae:fr(t),e=typeof e=="function"?e:e===void 0?nae:fr(e);function a(l){var c,u=(l=Q8(l)).length,f,m=!1,g;for(r==null&&(s=i(g=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,c,l),+e(f,c,l));if(g)return s=null,g+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:fr(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:fr(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:fr(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function JS(t,e,n){var r=null,i=fr(!0),s=null,o=kk,a=null,l=X8(c);t=typeof t=="function"?t:t===void 0?tae:fr(+t),e=typeof e=="function"?e:fr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?nae:fr(+n);function c(f){var m,g,x,v=(f=Q8(f)).length,w,E=!1,k,I=new Array(v),D=new Array(v);for(s==null&&(a=o(k=l())),m=0;m<=v;++m){if(!(m<v&&i(w=f[m],m,f))===E)if(E=!E)g=m,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),x=m-1;x>=g;--x)a.point(I[x],D[x]);a.lineEnd(),a.areaEnd()}E&&(I[m]=+t(w,m,f),D[m]=+e(w,m,f),a.point(r?+r(w,m,f):I[m],n?+n(w,m,f):D[m]))}if(k)return a=null,k+""||null}function u(){return rae().defined(i).curve(o).context(s)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:fr(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:fr(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:fr(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:fr(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:fr(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:fr(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:fr(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),c):o},c.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),c):s},c}class iae{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function NMe(t){return new iae(t,!0)}function IMe(t){return new iae(t,!1)}const Z8={draw(t,e){const n=Sl(e/aC);t.moveTo(n,0),t.arc(0,0,n,0,Ck)}},PMe={draw(t,e){const n=Sl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},sae=Sl(1/3),_Me=sae*2,RMe={draw(t,e){const n=Sl(e/_Me),r=n*sae;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},OMe={draw(t,e){const n=Sl(e),r=-n/2;t.rect(r,r,n,n)}},MMe=.8908130915292852,oae=oC(aC/10)/oC(7*aC/10),DMe=oC(Ck/10)*oae,LMe=-Qoe(Ck/10)*oae,BMe={draw(t,e){const n=Sl(e*MMe),r=DMe*n,i=LMe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=Ck*s/5,a=Qoe(o),l=oC(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},WR=Sl(3),jMe={draw(t,e){const n=-Sl(e/(WR*3));t.moveTo(0,n*2),t.lineTo(-WR*n,-n),t.lineTo(WR*n,-n),t.closePath()}},ra=-.5,ia=Sl(3)/2,x4=1/Sl(12),UMe=(x4/2+1)*3,FMe={draw(t,e){const n=Sl(e/UMe),r=n/2,i=n*x4,s=r,o=n*x4+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(ra*r-ia*i,ia*r+ra*i),t.lineTo(ra*s-ia*o,ia*s+ra*o),t.lineTo(ra*a-ia*l,ia*a+ra*l),t.lineTo(ra*r+ia*i,ra*i-ia*r),t.lineTo(ra*s+ia*o,ra*o-ia*s),t.lineTo(ra*a+ia*l,ra*l-ia*a),t.closePath()}};function zMe(t,e){let n=null,r=X8(i);t=typeof t=="function"?t:fr(t||Z8),e=typeof e=="function"?e:fr(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:fr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:fr(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function lC(){}function cC(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function aae(t){this._context=t}aae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Me(t){return new aae(t)}function lae(t){this._context=t}lae.prototype={areaStart:lC,areaEnd:lC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function HMe(t){return new lae(t)}function cae(t){this._context=t}cae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VMe(t){return new cae(t)}function uae(t){this._context=t}uae.prototype={areaStart:lC,areaEnd:lC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function GMe(t){return new uae(t)}function wG(t){return t<0?-1:1}function EG(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(wG(s)+wG(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function SG(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function YR(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function uC(t){this._context=t}uC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:YR(this,this._t0,SG(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,YR(this,SG(this,n=EG(this,t,e)),n);break;default:YR(this,this._t0,n=EG(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function dae(t){this._context=new fae(t)}(dae.prototype=Object.create(uC.prototype)).point=function(t,e){uC.prototype.point.call(this,e,t)};function fae(t){this._context=t}fae.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function qMe(t){return new uC(t)}function KMe(t){return new dae(t)}function hae(t){this._context=t}hae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=AG(t),i=AG(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AG(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function WMe(t){return new hae(t)}function Nk(t,e){this._context=t,this._t=e}Nk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function YMe(t){return new Nk(t,.5)}function JMe(t){return new Nk(t,0)}function XMe(t){return new Nk(t,1)}function mm(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function v4(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function QMe(t,e){return t[e]}function ZMe(t){const e=[];return e.key=t,e}function e4e(){var t=fr([]),e=v4,n=mm,r=QMe;function i(s){var o=Array.from(t.apply(this,arguments),ZMe),a,l=o.length,c=-1,u;for(const f of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(f,o[a].key,c,s)]).data=f;for(a=0,u=Q8(e(o));a<l;++a)o[u[a]].index=a;return n(o,u),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:fr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:fr(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?v4:typeof s=="function"?s:fr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??mm,i):n},i}function t4e(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}mm(t,e)}}function n4e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}mm(t,e)}}function r4e(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var u=t[e[a]],f=u[r][1]||0,m=u[r-1][1]||0,g=(f-m)/2,x=0;x<a;++x){var v=t[e[x]],w=v[r][1]||0,E=v[r-1][1]||0;g+=w-E}l+=f,c+=g*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,mm(t,e)}}var JR={},XR={},TG;function i4e(){return TG||(TG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(XR)),XR}var QR={},CG;function pae(){return CG||(CG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(QR)),QR}var ZR={},kG;function e6(){return kG||(kG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(ZR)),ZR}var e5={},t5={},NG;function s4e(){return NG||(NG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(t5)),t5}var IG;function t6(){return IG||(IG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s4e(),n=e6();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],o=i.length;if(o===0)return s;let a=0,l="",c="",u=!1;for(i.charCodeAt(0)===46&&(s.push(""),a++);a<o;){const f=i[a];c?f==="\\"&&a+1<o?(a++,l+=i[a]):f===c?c="":l+=f:u?f==='"'||f==="'"?c=f:f==="]"?(u=!1,s.push(l),l=""):l+=f:f==="["?(u=!0,l&&(s.push(l),l="")):f==="."?l&&(s.push(l),l=""):l+=f,a++}return l&&s.push(l),s}t.toPath=r})(e5)),e5}var PG;function n6(){return PG||(PG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i4e(),n=pae(),r=e6(),i=t6();function s(a,l,c){if(a==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=a[l];return u===void 0?n.isDeepKey(l)?s(a,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=a[l];return u===void 0?c:u}default:{if(Array.isArray(l))return o(a,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=a[l];return u===void 0?c:u}}}function o(a,l,c){if(l.length===0)return c;let u=a;for(let f=0;f<l.length;f++){if(u==null||e.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}t.get=s})(JR)),JR}var n5,_G;function o4e(){return _G||(_G=1,n5=n6().get),n5}var a4e=o4e();const gm=ts(a4e);var l4e=4;function Hf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l4e,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Fr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,o)=>{var a=n[o-1];return typeof a=="string"?i+a+s:a!==void 0?i+Hf(a)+s:i+s},"")}var Ri=t=>t===0?0:t>0?1:-1,Oa=t=>typeof t=="number"&&t!=+t,od=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,bt=t=>(typeof t=="number"||t instanceof Number)&&!Oa(t),bc=t=>bt(t)||typeof t=="string",c4e=0,w1=t=>{var e=++c4e;return"".concat(t||"").concat(e)},ws=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!bt(e)&&typeof e!="string")return r;var s;if(od(e)){if(n==null)return r;var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return Oa(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},mae=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Hn(t,e,n){return bt(t)&&bt(e)?Hf(t+n*(e-t)):e}function gae(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):gm(r,e))===n)}var br=t=>t===null||typeof t>"u",Rw=t=>br(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function u4e(t){return t!=null}function Ow(){}var d4e=["type","size","sizeType"];function b4(){return b4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b4.apply(null,arguments)}function RG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RG(Object(n),!0).forEach(function(r){f4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f4e(t,e,n){return(e=h4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h4e(t){var e=p4e(t,"string");return typeof e=="symbol"?e:e+""}function p4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m4e(t,e){if(t==null)return{};var n,r,i=g4e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function g4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yae={symbolCircle:Z8,symbolCross:PMe,symbolDiamond:RMe,symbolSquare:OMe,symbolStar:BMe,symbolTriangle:jMe,symbolWye:FMe},y4e=Math.PI/180,x4e=t=>{var e="symbol".concat(Rw(t));return yae[e]||Z8},v4e=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*y4e;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},b4e=(t,e)=>{yae["symbol".concat(Rw(t))]=e},xae=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=m4e(t,d4e),s=OG(OG({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var a=()=>{var m=x4e(o),g=zMe().type(m).size(v4e(n,r,o)),x=g();if(x!==null)return x},{className:l,cx:c,cy:u}=s,f=Ss(s);return bt(c)&&bt(u)&&bt(n)?T.createElement("path",b4({},f,{className:In("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};xae.registerSymbol=b4e;var vae=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,r6=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{J8(i)&&(r[i]=(s=>n[i](n,s)))}),r},w4e=(t,e,n)=>r=>(t(e,n,r),null),Ik=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];J8(i)&&typeof s=="function"&&(r||(r={}),r[i]=w4e(s,e,n))}),r};function MG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MG(Object(n),!0).forEach(function(r){S4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S4e(t,e,n){return(e=A4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A4e(t){var e=T4e(t,"string");return typeof e=="symbol"?e:e+""}function T4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fi(t,e){var n=E4e({},t),r=e,i=Object.keys(e),s=i.reduce((o,a)=>(o[a]===void 0&&r[a]!==void 0&&(o[a]=r[a]),o),n);return s}var r5={},i5={},DG;function C4e(){return DG||(DG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const o=n[s],a=r(o);i.has(a)||i.set(a,o)}return Array.from(i.values())}t.uniqBy=e})(i5)),i5}var s5={},LG;function bae(){return LG||(LG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(s5)),s5}var o5={},a5={},l5={},BG;function k4e(){return BG||(BG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(l5)),l5}var jG;function i6(){return jG||(jG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=k4e();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(a5)),a5}var c5={},UG;function N4e(){return UG||(UG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(c5)),c5}var FG;function I4e(){return FG||(FG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i6(),n=N4e();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(o5)),o5}var u5={},d5={},zG;function P4e(){return zG||(zG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n6();function n(r){return function(i){return e.get(i,r)}}t.property=n})(d5)),d5}var f5={},h5={},p5={},m5={},$G;function wae(){return $G||($G=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(m5)),m5}var g5={},HG;function Eae(){return HG||(HG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(g5)),g5}var y5={},VG;function Sae(){return VG||(VG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(y5)),y5}var GG;function _4e(){return GG||(GG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wae(),n=Eae(),r=Sae();function i(u,f,m){return typeof m!="function"?i(u,f,()=>{}):s(u,f,function g(x,v,w,E,k,I){const D=m(x,v,w,E,k,I);return D!==void 0?!!D:s(x,v,g,I)},new Map)}function s(u,f,m,g){if(f===u)return!0;switch(typeof f){case"object":return o(u,f,m,g);case"function":return Object.keys(f).length>0?s(u,{...f},m,g):r.eq(u,f);default:return e.isObject(u)?typeof f=="string"?f==="":!0:r.eq(u,f)}}function o(u,f,m,g){if(f==null)return!0;if(Array.isArray(f))return l(u,f,m,g);if(f instanceof Map)return a(u,f,m,g);if(f instanceof Set)return c(u,f,m,g);const x=Object.keys(f);if(u==null||n.isPrimitive(u))return x.length===0;if(x.length===0)return!0;if(g!=null&&g.has(f))return g.get(f)===u;g==null||g.set(f,u);try{for(let v=0;v<x.length;v++){const w=x[v];if(!n.isPrimitive(u)&&!(w in u)||f[w]===void 0&&u[w]!==void 0||f[w]===null&&u[w]!==null||!m(u[w],f[w],w,u,f,g))return!1}return!0}finally{g==null||g.delete(f)}}function a(u,f,m,g){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[x,v]of f.entries()){const w=u.get(x);if(m(w,v,x,u,f,g)===!1)return!1}return!0}function l(u,f,m,g){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const x=new Set;for(let v=0;v<f.length;v++){const w=f[v];let E=!1;for(let k=0;k<u.length;k++){if(x.has(k))continue;const I=u[k];let D=!1;if(m(I,w,v,u,f,g)&&(D=!0),D){x.add(k),E=!0;break}}if(!E)return!1}return!0}function c(u,f,m,g){return f.size===0?!0:u instanceof Set?l([...u],[...f],m,g):!1}t.isMatchWith=i,t.isSetMatch=c})(p5)),p5}var qG;function Aae(){return qG||(qG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_4e();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(h5)),h5}var x5={},v5={},b5={},KG;function R4e(){return KG||(KG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(b5)),b5}var w5={},WG;function Tae(){return WG||(WG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(w5)),w5}var E5={},YG;function Cae(){return YG||(YG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",a="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",m="[object ArrayBuffer]",g="[object Object]",x="[object Error]",v="[object DataView]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",k="[object Uint16Array]",I="[object Uint32Array]",D="[object BigUint64Array]",j="[object Int8Array]",M="[object Int16Array]",U="[object Int32Array]",V="[object BigInt64Array]",F="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=m,t.arrayTag=u,t.bigInt64ArrayTag=V,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=v,t.dateTag=a,t.errorTag=x,t.float32ArrayTag=F,t.float64ArrayTag=z,t.functionTag=f,t.int16ArrayTag=M,t.int32ArrayTag=U,t.int8ArrayTag=j,t.mapTag=l,t.numberTag=r,t.objectTag=g,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=k,t.uint32ArrayTag=I,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=E})(E5)),E5}var S5={},JG;function O4e(){return JG||(JG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(S5)),S5}var XG;function kae(){return XG||(XG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R4e(),n=Tae(),r=Cae(),i=Eae(),s=O4e();function o(u,f){return a(u,void 0,u,new Map,f)}function a(u,f,m,g=new Map,x=void 0){const v=x==null?void 0:x(u,f,m,g);if(v!==void 0)return v;if(i.isPrimitive(u))return u;if(g.has(u))return g.get(u);if(Array.isArray(u)){const w=new Array(u.length);g.set(u,w);for(let E=0;E<u.length;E++)w[E]=a(u[E],E,m,g,x);return Object.hasOwn(u,"index")&&(w.index=u.index),Object.hasOwn(u,"input")&&(w.input=u.input),w}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const w=new RegExp(u.source,u.flags);return w.lastIndex=u.lastIndex,w}if(u instanceof Map){const w=new Map;g.set(u,w);for(const[E,k]of u)w.set(E,a(k,E,m,g,x));return w}if(u instanceof Set){const w=new Set;g.set(u,w);for(const E of u)w.add(a(E,void 0,m,g,x));return w}if(typeof dn<"u"&&dn.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const w=new(Object.getPrototypeOf(u)).constructor(u.length);g.set(u,w);for(let E=0;E<u.length;E++)w[E]=a(u[E],E,m,g,x);return w}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const w=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return g.set(u,w),l(w,u,m,g,x),w}if(typeof File<"u"&&u instanceof File){const w=new File([u],u.name,{type:u.type});return g.set(u,w),l(w,u,m,g,x),w}if(typeof Blob<"u"&&u instanceof Blob){const w=new Blob([u],{type:u.type});return g.set(u,w),l(w,u,m,g,x),w}if(u instanceof Error){const w=new u.constructor;return g.set(u,w),w.message=u.message,w.name=u.name,w.stack=u.stack,w.cause=u.cause,l(w,u,m,g,x),w}if(u instanceof Boolean){const w=new Boolean(u.valueOf());return g.set(u,w),l(w,u,m,g,x),w}if(u instanceof Number){const w=new Number(u.valueOf());return g.set(u,w),l(w,u,m,g,x),w}if(u instanceof String){const w=new String(u.valueOf());return g.set(u,w),l(w,u,m,g,x),w}if(typeof u=="object"&&c(u)){const w=Object.create(Object.getPrototypeOf(u));return g.set(u,w),l(w,u,m,g,x),w}return u}function l(u,f,m=u,g,x){const v=[...Object.keys(f),...e.getSymbols(f)];for(let w=0;w<v.length;w++){const E=v[w],k=Object.getOwnPropertyDescriptor(u,E);(k==null||k.writable)&&(u[E]=a(f[E],E,m,g,x))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=a,t.copyProperties=l})(v5)),v5}var QG;function M4e(){return QG||(QG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kae();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(x5)),x5}var ZG;function D4e(){return ZG||(ZG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aae(),n=M4e();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(f5)),f5}var A5={},T5={},C5={},eq;function L4e(){return eq||(eq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kae(),n=Cae();function r(i,s){return e.cloneDeepWith(i,(o,a,l,c)=>{const u=s==null?void 0:s(o,a,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case n.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=r})(C5)),C5}var tq;function B4e(){return tq||(tq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L4e();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(T5)),T5}var k5={},N5={},nq;function Nae(){return nq||(nq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(N5)),N5}var I5={},rq;function j4e(){return rq||(rq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tae();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(I5)),I5}var iq;function U4e(){return iq||(iq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pae(),n=Nae(),r=j4e(),i=t6();function s(o,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&e.isDeepKey(a)&&(o==null?void 0:o[a])==null?l=i.toPath(a):l=[a],l.length===0)return!1;let c=o;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}t.has=s})(k5)),k5}var sq;function F4e(){return sq||(sq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aae(),n=e6(),r=B4e(),i=n6(),s=U4e();function o(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,a);return u===void 0?s.has(c,a):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=o})(A5)),A5}var oq;function z4e(){return oq||(oq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bae(),n=P4e(),r=D4e(),i=F4e();function s(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=s})(u5)),u5}var aq;function $4e(){return aq||(aq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C4e(),n=bae(),r=I4e(),i=z4e();function s(o,a=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(a)):[]}t.uniqBy=s})(r5)),r5}var P5,lq;function H4e(){return lq||(lq=1,P5=$4e().uniqBy),P5}var V4e=H4e();const cq=ts(V4e);function G4e(t,e,n){return e===!0?cq(t,n):typeof e=="function"?cq(t,e):t}var _5={exports:{}},R5={},O5={exports:{}},M5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uq;function q4e(){if(uq)return M5;uq=1;var t=gx();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(f,m){var g=m(),x=r({inst:{value:g,getSnapshot:m}}),v=x[0].inst,w=x[1];return s(function(){v.value=g,v.getSnapshot=m,l(v)&&w({inst:v})},[f,g,m]),i(function(){return l(v)&&w({inst:v}),f(function(){l(v)&&w({inst:v})})},[f]),o(g),g}function l(f){var m=f.getSnapshot;f=f.value;try{var g=m();return!n(f,g)}catch{return!0}}function c(f,m){return m()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return M5.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,M5}var dq;function K4e(){return dq||(dq=1,O5.exports=q4e()),O5.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fq;function W4e(){if(fq)return R5;fq=1;var t=gx(),e=K4e();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return R5.useSyncExternalStoreWithSelector=function(c,u,f,m,g){var x=s(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=a(function(){function E(M){if(!k){if(k=!0,I=M,M=m(M),g!==void 0&&v.hasValue){var U=v.value;if(g(U,M))return D=U}return D=M}if(U=D,r(I,M))return U;var V=m(M);return g!==void 0&&g(U,V)?(I=M,U):(I=M,D=V)}var k=!1,I,D,j=f===void 0?null:f;return[function(){return E(u())},j===null?void 0:function(){return E(j())}]},[u,f,m,g]);var w=i(c,x[0],x[1]);return o(function(){v.hasValue=!0,v.value=w},[w]),l(w),w},R5}var hq;function Y4e(){return hq||(hq=1,_5.exports=W4e()),_5.exports}var J4e=Y4e(),s6=T.createContext(null),X4e=t=>t,kr=()=>{var t=T.useContext(s6);return t?t.store.dispatch:X4e},uT=()=>{},Q4e=()=>uT,Z4e=(t,e)=>t===e;function _t(t){var e=T.useContext(s6);return J4e.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Q4e,e?e.store.getState:uT,e?e.store.getState:uT,e?t:uT,Z4e)}function eDe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function tDe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function nDe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var pq=t=>Array.isArray(t)?t:[t];function rDe(t){const e=Array.isArray(t[0])?t[0]:t;return nDe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function iDe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var sDe=class{constructor(t){this.value=t}deref(){return this.value}},oDe=typeof WeakRef<"u"?WeakRef:sDe,aDe=0,mq=1;function XS(){return{s:aDe,v:void 0,o:null,p:null}}function Iae(t,e={}){let n=XS();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var f;let a=n;const{length:l}=arguments;for(let m=0,g=l;m<g;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let v=a.o;v===null&&(a.o=v=new WeakMap);const w=v.get(x);w===void 0?(a=XS(),v.set(x,a)):a=w}else{let v=a.p;v===null&&(a.p=v=new Map);const w=v.get(x);w===void 0?(a=XS(),v.set(x,a)):a=w}}const c=a;let u;if(a.s===mq)u=a.v;else if(u=t.apply(null,arguments),s++,r){const m=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;m!=null&&r(m,u)&&(u=m,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new oDe(u):u}return c.s=mq,c.v=u,u}return o.clearCache=()=>{n=XS(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function lDe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),eDe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:f,memoizeOptions:m=[],argsMemoize:g=Iae,argsMemoizeOptions:x=[]}=u,v=pq(m),w=pq(x),E=rDe(i),k=f(function(){return s++,c.apply(null,arguments)},...v),I=g(function(){o++;const j=iDe(E,arguments);return a=k.apply(null,j),a},...w);return Object.assign(I,{resultFunc:c,memoizedResultFunc:k,dependencies:E,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var Me=lDe(Iae),cDe=Object.assign((t,e=Me)=>{tDe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>cDe}),D5={},L5={},B5={},gq;function uDe(){return gq||(gq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const o=e(r),a=e(i);if(o===a&&o===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?a-o:o-a}return 0};t.compareValues=n})(B5)),B5}var j5={},U5={},yq;function Pae(){return yq||(yq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(U5)),U5}var xq;function dDe(){return xq||(xq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pae(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}t.isKey=i})(j5)),j5}var vq;function fDe(){return vq||(vq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uDe(),n=dDe(),r=t6();function i(s,o,a,l){if(s==null)return[];a=l?void 0:a,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(g=>String(g));const c=(g,x)=>{let v=g;for(let w=0;w<x.length&&v!=null;++w)v=v[x[w]];return v},u=(g,x)=>x==null||g==null?x:typeof g=="object"&&"key"in g?Object.hasOwn(x,g.key)?x[g.key]:c(x,g.path):typeof g=="function"?g(x):Array.isArray(g)?c(x,g):typeof x=="object"?x[g]:x,f=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||n.isKey(g)?g:{key:g,path:r.toPath(g)}));return s.map(g=>({original:g,criteria:f.map(x=>u(x,g))})).slice().sort((g,x)=>{for(let v=0;v<f.length;v++){const w=e.compareValues(g.criteria[v],x.criteria[v],a[v]);if(w!==0)return w}return 0}).map(g=>g.original)}t.orderBy=i})(L5)),L5}var F5={},bq;function hDe(){return bq||(bq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),o=(a,l)=>{for(let c=0;c<a.length;c++){const u=a[c];Array.isArray(u)&&l<s?o(u,l+1):i.push(u)}};return o(n,0),i}t.flatten=e})(F5)),F5}var z5={},wq;function _ae(){return wq||(wq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nae(),n=i6(),r=wae(),i=Sae();function s(o,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&e.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],o):!1}t.isIterateeCall=s})(z5)),z5}var Eq;function pDe(){return Eq||(Eq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fDe(),n=hDe(),r=_ae();function i(s,...o){const a=o.length;return a>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:a>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(s,n.flatten(o),["asc"])}t.sortBy=i})(D5)),D5}var $5,Sq;function mDe(){return Sq||(Sq=1,$5=pDe().sortBy),$5}var gDe=mDe();const Pk=ts(gDe);var Rae=t=>t.legend.settings,yDe=t=>t.legend.size,xDe=t=>t.legend.payload;Me([xDe,Rae],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Pk(r,n):r});var QS=1;function vDe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-e.height)>QS||Math.abs(o.left-e.left)>QS||Math.abs(o.top-e.top)>QS||Math.abs(o.width-e.width)>QS)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Gi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var bDe=typeof Symbol=="function"&&Symbol.observable||"@@observable",Aq=bDe,H5=()=>Math.random().toString(36).substring(7).split("").join("."),wDe={INIT:`@@redux/INIT${H5()}`,REPLACE:`@@redux/REPLACE${H5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${H5()}`},dC=wDe;function o6(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Oae(t,e,n){if(typeof t!="function")throw new Error(Gi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Gi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Gi(1));return n(Oae)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((w,E)=>{o.set(E,w)}))}function u(){if(l)throw new Error(Gi(3));return i}function f(w){if(typeof w!="function")throw new Error(Gi(4));if(l)throw new Error(Gi(5));let E=!0;c();const k=a++;return o.set(k,w),function(){if(E){if(l)throw new Error(Gi(6));E=!1,c(),o.delete(k),s=null}}}function m(w){if(!o6(w))throw new Error(Gi(7));if(typeof w.type>"u")throw new Error(Gi(8));if(typeof w.type!="string")throw new Error(Gi(17));if(l)throw new Error(Gi(9));try{l=!0,i=r(i,w)}finally{l=!1}return(s=o).forEach(k=>{k()}),w}function g(w){if(typeof w!="function")throw new Error(Gi(10));r=w,m({type:dC.REPLACE})}function x(){const w=f;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Gi(11));function k(){const D=E;D.next&&D.next(u())}return k(),{unsubscribe:w(k)}},[Aq](){return this}}}return m({type:dC.INIT}),{dispatch:m,subscribe:f,getState:u,replaceReducer:g,[Aq]:x}}function EDe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:dC.INIT})>"u")throw new Error(Gi(12));if(typeof n(void 0,{type:dC.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gi(13))})}function Mae(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{EDe(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const f=r[u],m=n[f],g=o[f],x=m(g,a);if(typeof x>"u")throw a&&a.type,new Error(Gi(14));c[f]=x,l=l||x!==g}return l=l||r.length!==Object.keys(o).length,l?c:o}}function fC(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function SDe(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Gi(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=fC(...a)(i.dispatch),{...i,dispatch:s}}}function Dae(t){return o6(t)&&"type"in t&&typeof t.type=="string"}var Lae=Symbol.for("immer-nothing"),Tq=Symbol.for("immer-draftable"),Fs=Symbol.for("immer-state");function rl(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Do=Object,rx=Do.getPrototypeOf,hC="constructor",_k="prototype",w4="configurable",pC="enumerable",dT="writable",E1="value",ad=t=>!!t&&!!t[Fs];function xl(t){var e;return t?Bae(t)||Rk(t)||!!t[Tq]||!!((e=t[hC])!=null&&e[Tq])||Ok(t)||Mk(t):!1}var ADe=Do[_k][hC].toString(),Cq=new WeakMap;function Bae(t){if(!t||!a6(t))return!1;const e=rx(t);if(e===null||e===Do[_k])return!0;const n=Do.hasOwnProperty.call(e,hC)&&e[hC];if(n===Object)return!0;if(!X0(n))return!1;let r=Cq.get(n);return r===void 0&&(r=Function.toString.call(n),Cq.set(n,r)),r===ADe}function Mw(t,e,n=!0){Dw(t)===0?(n?Reflect.ownKeys(t):Do.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Dw(t){const e=t[Fs];return e?e.type_:Rk(t)?1:Ok(t)?2:Mk(t)?3:0}var kq=(t,e,n=Dw(t))=>n===2?t.has(e):Do[_k].hasOwnProperty.call(t,e),E4=(t,e,n=Dw(t))=>n===2?t.get(e):t[e],mC=(t,e,n,r=Dw(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function TDe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Rk=Array.isArray,Ok=t=>t instanceof Map,Mk=t=>t instanceof Set,a6=t=>typeof t=="object",X0=t=>typeof t=="function",V5=t=>typeof t=="boolean";function CDe(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var du=t=>t.copy_||t.base_,l6=t=>t.modified_?t.copy_:t.base_;function S4(t,e){if(Ok(t))return new Map(t);if(Mk(t))return new Set(t);if(Rk(t))return Array[_k].slice.call(t);const n=Bae(t);if(e===!0||e==="class_only"&&!n){const r=Do.getOwnPropertyDescriptors(t);delete r[Fs];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a[dT]===!1&&(a[dT]=!0,a[w4]=!0),(a.get||a.set)&&(r[o]={[w4]:!0,[dT]:!0,[pC]:a[pC],[E1]:t[o]})}return Do.create(rx(t),r)}else{const r=rx(t);if(r!==null&&n)return{...t};const i=Do.create(r);return Do.assign(i,t)}}function c6(t,e=!1){return Dk(t)||ad(t)||!xl(t)||(Dw(t)>1&&Do.defineProperties(t,{set:ZS,add:ZS,clear:ZS,delete:ZS}),Do.freeze(t),e&&Mw(t,(n,r)=>{c6(r,!0)},!1)),t}function kDe(){rl(2)}var ZS={[E1]:kDe};function Dk(t){return t===null||!a6(t)?!0:Do.isFrozen(t)}var gC="MapSet",A4="Patches",Nq="ArrayMethods",jae={};function ym(t){const e=jae[t];return e||rl(0,t),e}var Iq=t=>!!jae[t],S1,Uae=()=>S1,NDe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Iq(gC)?ym(gC):void 0,arrayMethodsPlugin_:Iq(Nq)?ym(Nq):void 0});function Pq(t,e){e&&(t.patchPlugin_=ym(A4),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function T4(t){C4(t),t.drafts_.forEach(IDe),t.drafts_=null}function C4(t){t===S1&&(S1=t.parent_)}var _q=t=>S1=NDe(S1,t);function IDe(t){const e=t[Fs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Rq(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Fs].modified_&&(T4(e),rl(4)),xl(t)&&(t=Oq(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Fs].base_,t,e)}else t=Oq(e,n);return PDe(e,t,!0),T4(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Lae?t:void 0}function Oq(t,e){if(Dk(e))return e;const n=e[Fs];if(!n)return u6(e,t.handledSet_,t);if(!Lk(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);$ae(n,t)}return n.copy_}function PDe(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&c6(e,n)}function Fae(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Lk=(t,e)=>t.scope_===e,_De=[];function zae(t,e,n,r){const i=du(t),s=t.type_;if(r!==void 0&&E4(i,r,s)===e){mC(i,r,n,s);return}if(!t.draftLocations_){const a=t.draftLocations_=new Map;Mw(i,(l,c)=>{if(ad(c)){const u=a.get(c)||[];u.push(l),a.set(c,u)}})}const o=t.draftLocations_.get(e)??_De;for(const a of o)mC(i,a,n,s)}function RDe(t,e,n){t.callbacks_.push(function(i){var a;const s=e;if(!s||!Lk(s,i))return;(a=i.mapSetPlugin_)==null||a.fixSetContents(s);const o=l6(s);zae(t,s.draft_??s,o,n),$ae(s,i)})}function $ae(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(t);s&&i.generatePatches_(t,s,e)}Fae(t)}}function ODe(t,e,n){const{scope_:r}=t;if(ad(n)){const i=n[Fs];Lk(i,r)&&i.callbacks_.push(function(){fT(t);const o=l6(i);zae(t,n,o,e)})}else xl(n)&&t.callbacks_.push(function(){const s=du(t);E4(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&u6(E4(t.copy_,e,t.type_),r.handledSet_,r)})}function u6(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ad(t)||e.has(t)||!xl(t)||Dk(t)||(e.add(t),Mw(t,(r,i)=>{if(ad(i)){const s=i[Fs];if(Lk(s,n)){const o=l6(s);mC(t,r,o,t.type_),Fae(s)}}else xl(i)&&u6(i,e,n)})),t}function MDe(t,e){const n=Rk(t),r={type_:n?1:0,scope_:e?e.scope_:Uae(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=d6;n&&(i=[r],s=A1);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,[a,r]}var d6={get(t,e){if(e===Fs)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=du(t);if(!kq(i,e,t.type_))return DDe(t,i,e);const s=i[e];if(t.finalized_||!xl(s)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&CDe(e))return s;if(s===G5(t.base_,e)){fT(t);const o=t.type_===1?+e:e,a=N4(t.scope_,s,t,o);return t.copy_[o]=a}return s},has(t,e){return e in du(t)},ownKeys(t){return Reflect.ownKeys(du(t))},set(t,e,n){const r=Hae(du(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=G5(du(t),e),s=i==null?void 0:i[Fs];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(TDe(n,i)&&(n!==void 0||kq(t.base_,e,t.type_)))return!0;fT(t),k4(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),ODe(t,e,n)),!0},deleteProperty(t,e){return fT(t),G5(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),k4(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=du(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[dT]:!0,[w4]:t.type_!==1||e!=="length",[pC]:r[pC],[E1]:n[e]}},defineProperty(){rl(11)},getPrototypeOf(t){return rx(t.base_)},setPrototypeOf(){rl(12)}},A1={};Mw(d6,(t,e)=>{A1[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});A1.deleteProperty=function(t,e){return A1.set.call(this,t,e,void 0)};A1.set=function(t,e,n){return d6.set.call(this,t[0],e,n,t[0])};function G5(t,e){const n=t[Fs];return(n?du(n):t)[e]}function DDe(t,e,n){var i;const r=Hae(e,n);return r?E1 in r?r[E1]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Hae(t,e){if(!(e in t))return;let n=rx(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=rx(n)}}function k4(t){t.modified_||(t.modified_=!0,t.parent_&&k4(t.parent_))}function fT(t){t.copy_||(t.assigned_=new Map,t.copy_=S4(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var LDe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(X0(n)&&!X0(r)){const o=r;r=n;const a=this;return function(c=o,...u){return a.produce(c,f=>r.call(this,f,...u))}}X0(r)||rl(6),i!==void 0&&!X0(i)&&rl(7);let s;if(xl(n)){const o=_q(this),a=N4(o,n,void 0);let l=!0;try{s=r(a),l=!1}finally{l?T4(o):C4(o)}return Pq(o,i),Rq(s,o)}else if(!n||!a6(n)){if(s=r(n),s===void 0&&(s=n),s===Lae&&(s=void 0),this.autoFreeze_&&c6(s,!0),i){const o=[],a=[];ym(A4).generateReplacementPatches_(n,s,{patches_:o,inversePatches_:a}),i(o,a)}return s}else rl(1,n)},this.produceWithPatches=(n,r)=>{if(X0(n))return(a,...l)=>this.produceWithPatches(a,c=>n(c,...l));let i,s;return[this.produce(n,r,(a,l)=>{i=a,s=l}),i,s]},V5(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),V5(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),V5(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){xl(e)||rl(8),ad(e)&&(e=ul(e));const n=_q(this),r=N4(n,e,void 0);return r[Fs].isManual_=!0,C4(n),r}finishDraft(e,n){const r=e&&e[Fs];(!r||!r.isManual_)&&rl(9);const{scope_:i}=r;return Pq(i,n),Rq(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=ym(A4).applyPatches_;return ad(e)?i(e,n):this.produce(e,s=>i(s,n))}};function N4(t,e,n,r){const[i,s]=Ok(e)?ym(gC).proxyMap_(e,n):Mk(e)?ym(gC).proxySet_(e,n):MDe(e,n);return((n==null?void 0:n.scope_)??Uae()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?RDe(n,s,r):s.callbacks_.push(function(l){var u;(u=l.mapSetPlugin_)==null||u.fixSetContents(s);const{patchPlugin_:c}=l;s.modified_&&c&&c.generatePatches_(s,[],l)}),i}function ul(t){return ad(t)||rl(10,t),Vae(t)}function Vae(t){if(!xl(t)||Dk(t))return t;const e=t[Fs];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=S4(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=S4(t,!0);return Mw(n,(i,s)=>{mC(n,i,Vae(s))},r),e&&(e.finalized_=!1),n}var BDe=new LDe,Gae=BDe.produce;function qae(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var jDe=qae(),UDe=qae,FDe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fC:fC.apply(null,arguments)};function Ma(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(jo(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Dae(r)&&r.type===t,n}var Kae=class kb extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,kb.prototype)}static get[Symbol.species](){return kb}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new kb(...e[0].concat(this)):new kb(...e.concat(this))}};function Mq(t){return xl(t)?Gae(t,()=>{}):t}function eA(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function zDe(t){return typeof t=="boolean"}var $De=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new Kae;return n&&(zDe(n)?o.push(jDe):o.push(UDe(n.extraArgument))),o},Wae="RTK_autoBatch",Sr=()=>t=>({payload:t,meta:{[Wae]:!0}}),Dq=t=>e=>{setTimeout(e,t)},Yae=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Dq(10):t.type==="callback"?t.queueNotification:Dq(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const f=()=>i&&u(),m=r.subscribe(f);return a.add(u),()=>{m(),a.delete(u)}},dispatch(u){var f;try{return i=!((f=u==null?void 0:u.meta)!=null&&f[Wae]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},HDe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Kae(t);return r&&i.push(Yae(typeof r=="object"?r:void 0)),i};function VDe(t){const e=$De(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(o6(n))a=Mae(n);else throw new Error(jo(1));let l;typeof r=="function"?l=r(e):l=e();let c=fC;i&&(c=FDe({trace:!1,...typeof i=="object"&&i}));const u=SDe(...l),f=HDe(u);let m=typeof o=="function"?o(f):f();const g=c(...m);return Oae(a,s,g)}function Jae(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(jo(28));if(a in e)throw new Error(jo(29));return e[a]=o,i},addAsyncThunk(s,o){return o.pending&&(e[s.pending.type]=o.pending),o.rejected&&(e[s.rejected.type]=o.rejected),o.fulfilled&&(e[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function GDe(t){return typeof t=="function"}function qDe(t,e){let[n,r,i]=Jae(e),s;if(GDe(t))s=()=>Mq(t());else{const a=Mq(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,f)=>{if(f)if(ad(u)){const g=f(u,l);return g===void 0?u:g}else{if(xl(u))return Gae(u,m=>f(m,l));{const m=f(u,l);if(m===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return u},a)}return o.getInitialState=s,o}var KDe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WDe=(t=21)=>{let e="",n=t;for(;n--;)e+=KDe[Math.random()*64|0];return e},YDe=Symbol.for("rtk-slice-createasyncthunk");function JDe(t,e){return`${t}/${e}`}function XDe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[YDe];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(jo(11));const a=(typeof i.reducers=="function"?i.reducers(ZDe()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(D,j){const M=typeof D=="string"?D:D.type;if(!M)throw new Error(jo(12));if(M in c.sliceCaseReducersByType)throw new Error(jo(13));return c.sliceCaseReducersByType[M]=j,u},addMatcher(D,j){return c.sliceMatchers.push({matcher:D,reducer:j}),u},exposeAction(D,j){return c.actionCreators[D]=j,u},exposeCaseReducer(D,j){return c.sliceCaseReducersByName[D]=j,u}};l.forEach(D=>{const j=a[D],M={reducerName:D,type:JDe(s,D),createNotation:typeof i.reducers=="function"};tLe(j)?rLe(M,j,u,e):eLe(M,j,u)});function f(){const[D={},j=[],M=void 0]=typeof i.extraReducers=="function"?Jae(i.extraReducers):[i.extraReducers],U={...D,...c.sliceCaseReducersByType};return qDe(i.initialState,V=>{for(let F in U)V.addCase(F,U[F]);for(let F of c.sliceMatchers)V.addMatcher(F.matcher,F.reducer);for(let F of j)V.addMatcher(F.matcher,F.reducer);M&&V.addDefaultCase(M)})}const m=D=>D,g=new Map,x=new WeakMap;let v;function w(D,j){return v||(v=f()),v(D,j)}function E(){return v||(v=f()),v.getInitialState()}function k(D,j=!1){function M(V){let F=V[D];return typeof F>"u"&&j&&(F=eA(x,M,E)),F}function U(V=m){const F=eA(g,j,()=>new WeakMap);return eA(F,V,()=>{const z={};for(const[K,H]of Object.entries(i.selectors??{}))z[K]=QDe(H,V,()=>eA(x,V,E),j);return z})}return{reducerPath:D,getSelectors:U,get selectors(){return U(M)},selectSlice:M}}const I={name:s,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...k(o),injectInto(D,{reducerPath:j,...M}={}){const U=j??o;return D.inject({reducerPath:U,reducer:w},M),{...I,...k(U,!0)}}};return I}}function QDe(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var co=XDe();function ZDe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function eLe({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!nLe(r))throw new Error(jo(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Ma(t,o):Ma(t))}function tLe(t){return t._reducerDefinitionType==="asyncThunk"}function nLe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function rLe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(jo(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=n,f=i(t,s,u);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),a&&r.addCase(f.pending,a),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:o||tA,pending:a||tA,rejected:l||tA,settled:c||tA})}function tA(){}var iLe="task",Xae="listener",Qae="completed",f6="cancelled",sLe=`task-${f6}`,oLe=`task-${Qae}`,I4=`${Xae}-${f6}`,aLe=`${Xae}-${Qae}`,Bk=class{constructor(t){Se(this,"name","TaskAbortError");Se(this,"message");this.code=t,this.message=`${iLe} ${f6} (reason: ${t})`}},h6=(t,e)=>{if(typeof t!="function")throw new TypeError(jo(32))},yC=()=>{},Zae=(t,e=yC)=>(t.catch(e),t),ele=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Xp=t=>{if(t.aborted)throw new Bk(t.reason)};function tle(t,e){let n=yC;return new Promise((r,i)=>{const s=()=>i(new Bk(t.reason));if(t.aborted){s();return}n=ele(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=yC})}var lLe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Bk?"cancelled":"rejected",error:n}}finally{e==null||e()}},xC=t=>e=>Zae(tle(t,e).then(n=>(Xp(t),n))),nle=t=>{const e=xC(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Lg}=Object,Lq={},jk="listenerMiddleware",cLe=(t,e)=>{const n=r=>ele(t,()=>r.abort(t.reason));return(r,i)=>{h6(r);const s=new AbortController;n(s);const o=lLe(async()=>{Xp(t),Xp(s.signal);const a=await r({pause:xC(s.signal),delay:nle(s.signal),signal:s.signal});return Xp(s.signal),a},()=>s.abort(oLe));return i!=null&&i.autoJoin&&e.push(o.catch(yC)),{result:xC(t)(o),cancel(){s.abort(sLe)}}}},uLe=(t,e)=>{const n=async(r,i)=>{Xp(e);let s=()=>{};const a=[new Promise((l,c)=>{let u=t({predicate:r,effect:(f,m)=>{m.unsubscribe(),l([f,m.getState(),m.getOriginalState()])}});s=()=>{u(),c()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await tle(e,Promise.race(a));return Xp(e),l}finally{s()}};return(r,i)=>Zae(n(r,i))},rle=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ma(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(jo(21));return h6(s),{predicate:i,type:e,effect:s}},ile=Lg(t=>{const{type:e,predicate:n,effect:r}=rle(t);return{id:WDe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(jo(22))}}},{withTypes:()=>ile}),Bq=(t,e)=>{const{type:n,effect:r,predicate:i}=rle(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},P4=t=>{t.pending.forEach(e=>{e.abort(I4)})},dLe=(t,e)=>()=>{for(const n of e.keys())P4(n);t.clear()},jq=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},sle=Lg(Ma(`${jk}/add`),{withTypes:()=>sle}),fLe=Ma(`${jk}/removeAll`),ole=Lg(Ma(`${jk}/remove`),{withTypes:()=>ole}),hLe=(...t)=>{console.error(`${jk}/error`,...t)},Lw=(t={})=>{const e=new Map,n=new Map,r=g=>{const x=n.get(g)??0;n.set(g,x+1)},i=g=>{const x=n.get(g)??1;x===1?n.delete(g):n.set(g,x-1)},{extra:s,onError:o=hLe}=t;h6(o);const a=g=>(g.unsubscribe=()=>e.delete(g.id),e.set(g.id,g),x=>{g.unsubscribe(),x!=null&&x.cancelActive&&P4(g)}),l=g=>{const x=Bq(e,g)??ile(g);return a(x)};Lg(l,{withTypes:()=>l});const c=g=>{const x=Bq(e,g);return x&&(x.unsubscribe(),g.cancelActive&&P4(x)),!!x};Lg(c,{withTypes:()=>c});const u=async(g,x,v,w)=>{const E=new AbortController,k=uLe(l,E.signal),I=[];try{g.pending.add(E),r(g),await Promise.resolve(g.effect(x,Lg({},v,{getOriginalState:w,condition:(D,j)=>k(D,j).then(Boolean),take:k,delay:nle(E.signal),pause:xC(E.signal),extra:s,signal:E.signal,fork:cLe(E.signal,I),unsubscribe:g.unsubscribe,subscribe:()=>{e.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((D,j,M)=>{D!==E&&(D.abort(I4),M.delete(D))})},cancel:()=>{E.abort(I4),g.pending.delete(E)},throwIfCancelled:()=>{Xp(E.signal)}})))}catch(D){D instanceof Bk||jq(o,D,{raisedBy:"effect"})}finally{await Promise.all(I),E.abort(aLe),i(g),g.pending.delete(E)}},f=dLe(e,n);return{middleware:g=>x=>v=>{if(!Dae(v))return x(v);if(sle.match(v))return l(v.payload);if(fLe.match(v)){f();return}if(ole.match(v))return c(v.payload);let w=g.getState();const E=()=>{if(w===Lq)throw new Error(jo(23));return w};let k;try{if(k=x(v),e.size>0){const I=g.getState(),D=Array.from(e.values());for(const j of D){let M=!1;try{M=j.predicate(v,I,w)}catch(U){M=!1,jq(o,U,{raisedBy:"predicate"})}M&&u(j,v,g,E)}}}finally{w=Lq}return k},startListening:l,stopListening:c,clearListeners:f}};function jo(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pLe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ale=co({name:"chartLayout",initialState:pLe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:mLe,setLayout:gLe,setChartSize:yLe,setScale:xLe}=ale.actions,vLe=ale.reducer;function lle(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function cr(t){return Number.isFinite(t)}function wc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Uq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uq(Object(n),!0).forEach(function(r){bLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bLe(t,e,n){return(e=wLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wLe(t){var e=ELe(t,"string");return typeof e=="symbol"?e:e+""}function ELe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qn(t,e,n){return br(t)||br(e)?n:bc(e)?gm(t,e,n):typeof e=="function"?e(t):n}var SLe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:o,layout:a}=e;if((a==="vertical"||a==="horizontal"&&o==="middle")&&s!=="center"&&bt(t[s]))return ug(ug({},t),{},{[s]:t[s]+(r||0)});if((a==="horizontal"||a==="vertical"&&s==="center")&&o!=="middle"&&bt(t[o]))return ug(ug({},t),{},{[o]:t[o]+(i||0)})}return t},kc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",cle=(t,e,n,r)=>{if(r)return t.map(a=>a.coordinate);var i,s,o=t.map(a=>(a.coordinate===e&&(i=!0),a.coordinate===n&&(s=!0),a.coordinate));return i||o.push(e),s||o.push(n),o},ule=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:o,realScaleType:a,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:m,axisType:g}=t;if(!o)return null;var x=a==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=i==="category"&&o.bandwidth?o.bandwidth()/x:0;if(v=g==="angleAxis"&&s&&s.length>=2?Ri(s[0]-s[1])*2*v:v,f||m){var w=(f||m||[]).map((E,k)=>{var I=r?r.indexOf(E):E;return{coordinate:o(I)+v,value:E,offset:v,index:k}});return w.filter(E=>!Oa(E.coordinate))}return l&&c?c.map((E,k)=>({coordinate:o(E)+v,value:E,index:k,offset:v})):o.ticks&&u!=null?o.ticks(u).map((E,k)=>({coordinate:o(E)+v,value:E,offset:v,index:k})):o.domain().map((E,k)=>({coordinate:o(E)+v,value:r?r[E]:E,index:k,offset:v}))},Fq=1e-4,ALe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-Fq,s=Math.max(r[0],r[1])+Fq,o=t(e[0]),a=t(e[n-1]);(o<i||o>s||a<i||a>s)&&t.domain([e[0],e[n-1]])}},TLe=(t,e)=>{if(!e||e.length!==2||!bt(e[0])||!bt(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!bt(t[0])||t[0]<n)&&(i[0]=n),(!bt(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},CLe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,o=0,a=0;a<n;++a){var l=t[a],c=l==null?void 0:l[i];if(c!=null){var u=c[1],f=c[0],m=Oa(u)?f:u;m>=0?(c[0]=s,c[1]=s+m,s=u):(c[0]=o,c[1]=o+m,o=u)}}}},kLe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,o=0;o<n;++o){var a=t[o],l=a==null?void 0:a[i];if(l!=null){var c=Oa(l[1])?l[0]:l[1];c>=0?(l[0]=s,l[1]=s+c,s=l[1]):(l[0]=0,l[1]=0)}}}},NLe={sign:CLe,expand:t4e,none:mm,silhouette:n4e,wiggle:r4e,positive:kLe},ILe=(t,e,n)=>{var r,i=(r=NLe[n])!==null&&r!==void 0?r:mm,s=e4e().keys(e).value((a,l)=>Number(qn(a,l,0))).order(v4).offset(i),o=s(t);return o.forEach((a,l)=>{a.forEach((c,u)=>{var f=qn(t[u],e[l],0);Array.isArray(f)&&f.length===2&&bt(f[0])&&bt(f[1])&&(c[0]=f[0],c[1]=f[1])})}),o};function dle(t){return t==null?void 0:String(t)}function vC(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!br(i[e.dataKey])){var a=gae(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=qn(i,br(o)?e.dataKey:o);return br(l)?null:e.scale(l)}var zq=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var a=qn(s,e.dataKey,e.scale.domain()[o]);return br(a)?null:e.scale(a)-i/2+r},PLe=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},_Le=t=>{var e=t.flat(2).filter(bt);return[Math.min(...e),Math.max(...e)]},RLe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],OLe=(t,e,n)=>{if(t!=null)return RLe(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:o}=s,a=o.reduce((l,c)=>{var u=lle(c,e,n),f=_Le(u);return!cr(f[0])||!cr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},$q=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sh=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Pk(e,u=>u.coordinate),s=1/0,o=1,a=i.length;o<a;o++){var l=i[o],c=i[o-1];s=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),s)}return s===1/0?0:s}return n?void 0:0};function Vq(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return ug(ug({},e),{},{dataKey:n,payload:r,value:i,name:s})}function xh(t,e){if(t)return String(t);if(typeof e=="string")return e}var MLe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},DLe=(t,e)=>e==="centric"?t.angle:t.radius,xd=t=>t.layout.width,vd=t=>t.layout.height,LLe=t=>t.layout.scale,fle=t=>t.layout.margin,Uk=Me(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Fk=Me(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),hle="data-recharts-item-index",ple="data-recharts-item-id",Bw=60;function Gq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gq(Object(n),!0).forEach(function(r){BLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BLe(t,e,n){return(e=jLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jLe(t){var e=ULe(t,"string");return typeof e=="symbol"?e:e+""}function ULe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FLe=t=>t.brush.height;function zLe(t){var e=Fk(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Bw;return n+i}return n},0)}function $Le(t){var e=Fk(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Bw;return n+i}return n},0)}function HLe(t){var e=Uk(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function VLe(t){var e=Uk(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var yi=Me([xd,vd,fle,FLe,zLe,$Le,HLe,VLe,Rae,yDe],(t,e,n,r,i,s,o,a,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+s},f={top:(n.top||0)+o,bottom:(n.bottom||0)+a},m=nA(nA({},f),u),g=m.bottom;m.bottom+=r,m=SLe(m,l,c);var x=t-m.left-m.right,v=e-m.top-m.bottom;return nA(nA({brushBottom:g},m),{},{width:Math.max(x,0),height:Math.max(v,0)})}),GLe=Me(yi,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),p6=Me(xd,vd,(t,e)=>({x:0,y:0,width:t,height:e})),qLe=T.createContext(null),Mi=()=>T.useContext(qLe)!=null,zk=t=>t.brush,$k=Me([zk,yi,fle],(t,e,n)=>({height:t.height,x:bt(t.x)?t.x:e.left,y:bt(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:bt(t.width)?t.width:e.width})),q5={},K5={},W5={},qq;function KLe(){return qq||(qq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let o,a=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),u=()=>{a!==null&&(n.apply(o,a),o=void 0,a=null)},f=()=>{c&&u(),v()};let m=null;const g=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},r)},x=()=>{m!==null&&(clearTimeout(m),m=null)},v=()=>{x(),o=void 0,a=null},w=()=>{u()},E=function(...k){if(i!=null&&i.aborted)return;o=this,a=k;const I=m==null;g(),l&&I&&u()};return E.schedule=g,E.cancel=v,E.flush=w,i==null||i.addEventListener("abort",v,{once:!0}),E}t.debounce=e})(W5)),W5}var Kq;function WLe(){return Kq||(Kq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KLe();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:a=!0,maxWait:l}=s,c=Array(2);o&&(c[0]="leading"),a&&(c[1]="trailing");let u,f=null;const m=e.debounce(function(...v){u=r.apply(this,v),f=null},i,{edges:c}),g=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=r.apply(this,v),f=Date.now(),m.cancel(),m.schedule(),u):(m.apply(this,v),u)},x=()=>(m.flush(),u);return g.cancel=m.cancel,g.flush=x,g}t.debounce=n})(K5)),K5}var Wq;function YLe(){return Wq||(Wq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WLe();function n(r,i=0,s={}){const{leading:o=!0,trailing:a=!0}=s;return e.debounce(r,i,{leading:o,maxWait:i,trailing:a})}t.throttle=n})(q5)),q5}var Y5,Yq;function JLe(){return Yq||(Yq=1,Y5=YLe().throttle),Y5}var XLe=JLe();const QLe=ts(XLe);var bC=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},mle=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:o}=n,a=od(r)?t:Number(r),l=od(i)?e:Number(i);return s&&s>0&&(a?l=a/s:l&&(a=l*s),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:a,calculatedHeight:l}},ZLe={width:0,height:0,overflow:"visible"},e8e={width:0,overflowX:"visible"},t8e={height:0,overflowY:"visible"},n8e={},r8e=t=>{var{width:e,height:n}=t,r=od(e),i=od(n);return r&&i?ZLe:r?e8e:i?t8e:n8e};function i8e(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function _4(){return _4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_4.apply(null,arguments)}function Jq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jq(Object(n),!0).forEach(function(r){s8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s8e(t,e,n){return(e=o8e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o8e(t){var e=a8e(t,"string");return typeof e=="symbol"?e:e+""}function a8e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gle=T.createContext({width:-1,height:-1});function l8e(t){return wc(t.width)&&wc(t.height)}function yle(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return l8e(i)?T.createElement(gle.Provider,{value:i},e):null}var m6=()=>T.useContext(gle),c8e=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:o=0,minHeight:a,maxHeight:l,children:c,debounce:u=0,id:f,className:m,onResize:g,style:x={}}=t,v=T.useRef(null),w=T.useRef();w.current=g,T.useImperativeHandle(e,()=>v.current);var[E,k]=T.useState({containerWidth:r.width,containerHeight:r.height}),I=T.useCallback((V,F)=>{k(z=>{var K=Math.round(V),H=Math.round(F);return z.containerWidth===K&&z.containerHeight===H?z:{containerWidth:K,containerHeight:H}})},[]);T.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Ow;var V=H=>{var B,{width:A,height:P}=H[0].contentRect;I(A,P),(B=w.current)===null||B===void 0||B.call(w,A,P)};u>0&&(V=QLe(V,u,{trailing:!0,leading:!1}));var F=new ResizeObserver(V),{width:z,height:K}=v.current.getBoundingClientRect();return I(z,K),F.observe(v.current),()=>{F.disconnect()}},[I,u]);var{containerWidth:D,containerHeight:j}=E;bC(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:U}=mle(D,j,{width:i,height:s,aspect:n,maxHeight:l});return bC(M!=null&&M>0||U!=null&&U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,U,i,s,o,a,n),T.createElement("div",{id:f?"".concat(f):void 0,className:In("recharts-responsive-container",m),style:Xq(Xq({},x),{},{width:i,height:s,minWidth:o,minHeight:a,maxHeight:l}),ref:v},T.createElement("div",{style:r8e({width:i,height:s})},T.createElement(yle,{width:M,height:U},c)))}),T1=T.forwardRef((t,e)=>{var n=m6();if(wc(n.width)&&wc(n.height))return t.children;var{width:r,height:i}=i8e({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:o}=mle(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return bt(s)&&bt(o)?T.createElement(yle,{width:s,height:o},t.children):T.createElement(c8e,_4({},t,{width:r,height:i,ref:e}))});function xle(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Hk=()=>{var t,e=Mi(),n=_t(GLe),r=_t($k),i=(t=_t(zk))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},u8e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vle=()=>{var t;return(t=_t(yi))!==null&&t!==void 0?t:u8e},ble=()=>_t(xd),wle=()=>_t(vd),En=t=>t.layout.layoutType,vh=()=>_t(En),d8e=()=>{var t=vh();if(t==="horizontal"||t==="vertical")return t},f8e=()=>{var t=vh();return t!==void 0},Vk=t=>{var e=kr(),n=Mi(),{width:r,height:i}=t,s=m6(),o=r,a=i;return s&&(o=s.width>0?s.width:r,a=s.height>0?s.height:i),T.useEffect(()=>{!n&&wc(o)&&wc(a)&&e(yLe({width:o,height:a}))},[e,n,o,a]),null},Ele=Symbol.for("immer-nothing"),Qq=Symbol.for("immer-draftable"),zo=Symbol.for("immer-state");function il(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var C1=Object.getPrototypeOf;function ix(t){return!!t&&!!t[zo]}function xm(t){var e;return t?Sle(t)||Array.isArray(t)||!!t[Qq]||!!((e=t.constructor)!=null&&e[Qq])||jw(t)||qk(t):!1}var h8e=Object.prototype.constructor.toString(),Zq=new WeakMap;function Sle(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Zq.get(n);return r===void 0&&(r=Function.toString.call(n),Zq.set(n,r)),r===h8e}function wC(t,e,n=!0){Gk(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Gk(t){const e=t[zo];return e?e.type_:Array.isArray(t)?1:jw(t)?2:qk(t)?3:0}function R4(t,e){return Gk(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Ale(t,e,n){const r=Gk(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function p8e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function jw(t){return t instanceof Map}function qk(t){return t instanceof Set}function np(t){return t.copy_||t.base_}function O4(t,e){if(jw(t))return new Map(t);if(qk(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Sle(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[zo];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(C1(t),r)}else{const r=C1(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function g6(t,e=!1){return Kk(t)||ix(t)||!xm(t)||(Gk(t)>1&&Object.defineProperties(t,{set:rA,add:rA,clear:rA,delete:rA}),Object.freeze(t),e&&Object.values(t).forEach(n=>g6(n,!0))),t}function m8e(){il(2)}var rA={value:m8e};function Kk(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var g8e={};function vm(t){const e=g8e[t];return e||il(0,t),e}var k1;function Tle(){return k1}function y8e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function eK(t,e){e&&(vm("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function M4(t){D4(t),t.drafts_.forEach(x8e),t.drafts_=null}function D4(t){t===k1&&(k1=t.parent_)}function tK(t){return k1=y8e(k1,t)}function x8e(t){const e=t[zo];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function nK(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[zo].modified_&&(M4(e),il(4)),xm(t)&&(t=EC(e,t),e.parent_||SC(e,t)),e.patches_&&vm("Patches").generateReplacementPatches_(n[zo].base_,t,e.patches_,e.inversePatches_)):t=EC(e,n,[]),M4(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Ele?t:void 0}function EC(t,e,n){if(Kk(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[zo];if(!i)return wC(e,(s,o)=>rK(t,i,e,s,o,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return SC(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,a=!1;i.type_===3&&(o=new Set(s),s.clear(),a=!0),wC(o,(l,c)=>rK(t,i,s,l,c,n,a),r),SC(t,s,!1),n&&t.patches_&&vm("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function rK(t,e,n,r,i,s,o){if(i==null||typeof i!="object"&&!o)return;const a=Kk(i);if(!(a&&!o)){if(ix(i)){const l=s&&e&&e.type_!==3&&!R4(e.assigned_,r)?s.concat(r):void 0,c=EC(t,i,l);if(Ale(n,r,c),ix(c))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(xm(i)&&!a){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&a)return;EC(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(jw(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&SC(t,i)}}}function SC(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&g6(e,n)}function v8e(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Tle(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=y6;n&&(i=[r],s=N1);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var y6={get(t,e){if(e===zo)return t;const n=np(t);if(!R4(n,e))return b8e(t,n,e);const r=n[e];return t.finalized_||!xm(r)?r:r===J5(t.base_,e)?(X5(t),t.copy_[e]=B4(r,t)):r},has(t,e){return e in np(t)},ownKeys(t){return Reflect.ownKeys(np(t))},set(t,e,n){const r=Cle(np(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=J5(np(t),e),s=i==null?void 0:i[zo];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(p8e(n,i)&&(n!==void 0||R4(t.base_,e)))return!0;X5(t),L4(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return J5(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,X5(t),L4(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=np(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){il(11)},getPrototypeOf(t){return C1(t.base_)},setPrototypeOf(){il(12)}},N1={};wC(y6,(t,e)=>{N1[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});N1.deleteProperty=function(t,e){return N1.set.call(this,t,e,void 0)};N1.set=function(t,e,n){return y6.set.call(this,t[0],e,n,t[0])};function J5(t,e){const n=t[zo];return(n?np(n):t)[e]}function b8e(t,e,n){var i;const r=Cle(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Cle(t,e){if(!(e in t))return;let n=C1(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=C1(n)}}function L4(t){t.modified_||(t.modified_=!0,t.parent_&&L4(t.parent_))}function X5(t){t.copy_||(t.copy_=O4(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var w8e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&il(6),r!==void 0&&typeof r!="function"&&il(7);let i;if(xm(e)){const s=tK(this),o=B4(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?M4(s):D4(s)}return eK(s,r),nK(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Ele&&(i=void 0),this.autoFreeze_&&g6(i,!0),r){const s=[],o=[];vm("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else il(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){xm(t)||il(8),ix(t)&&(t=E8e(t));const e=tK(this),n=B4(t,void 0);return n[zo].isManual_=!0,D4(e),n}finishDraft(t,e){const n=t&&t[zo];(!n||!n.isManual_)&&il(9);const{scope_:r}=n;return eK(r,e),nK(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=vm("Patches").applyPatches_;return ix(t)?r(t,e):this.produce(t,i=>r(i,e))}};function B4(t,e){const n=jw(t)?vm("MapSet").proxyMap_(t,e):qk(t)?vm("MapSet").proxySet_(t,e):v8e(t,e);return(e?e.scope_:Tle()).drafts_.push(n),n}function E8e(t){return ix(t)||il(10,t),kle(t)}function kle(t){if(!xm(t)||Kk(t))return t;const e=t[zo];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=O4(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=O4(t,!0);return wC(n,(i,s)=>{Ale(n,i,kle(s))},r),e&&(e.finalized_=!1),n}var S8e=new w8e;S8e.produce;var A8e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Nle=co({name:"legend",initialState:A8e,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Sr()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ul(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Sr()},removeLegendPayload:{reducer(t,e){var n=ul(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Sr()}}}),{setLegendSize:Ogt,setLegendSettings:Mgt,addLegendPayload:Ile,replaceLegendPayload:Ple,removeLegendPayload:_le}=Nle.actions,T8e=Nle.reducer;function j4(){return j4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j4.apply(null,arguments)}function iK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iK(Object(n),!0).forEach(function(r){C8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C8e(t,e,n){return(e=k8e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k8e(t){var e=N8e(t,"string");return typeof e=="symbol"?e:e+""}function N8e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I8e(t){return Array.isArray(t)&&bc(t[0])&&bc(t[1])?t.join(" ~ "):t}var P8e=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:o,itemSorter:a,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:m=!1}=t,g=()=>{if(s&&s.length){var j={padding:0,margin:0},M=(a?Pk(s,a):s).map((U,V)=>{if(U.type==="none")return null;var F=U.formatter||o||I8e,{value:z,name:K}=U,H=z,B=K;if(F){var A=F(z,K,U,V,s);if(Array.isArray(A))[H,B]=A;else if(A!=null)H=A;else return null}var P=Q5({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:P},bc(B)?T.createElement("span",{className:"recharts-tooltip-item-name"},B):null,bc(B)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},H),T.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:j},M)}return null},x=Q5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=Q5({margin:0},i),w=!br(u),E=w?u:"",k=In("recharts-default-tooltip",l),I=In("recharts-tooltip-label",c);w&&f&&s!==void 0&&s!==null&&(E=f(u,s));var D=m?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",j4({className:k,style:x},D),T.createElement("p",{className:I,style:v},T.isValidElement(E)?E:"".concat(E)),g())},eb="recharts-tooltip-wrapper",_8e={visibility:"hidden"};function R8e(t){var{coordinate:e,translateX:n,translateY:r}=t;return In(eb,{["".concat(eb,"-right")]:bt(n)&&e&&bt(e.x)&&n>=e.x,["".concat(eb,"-left")]:bt(n)&&e&&bt(e.x)&&n<e.x,["".concat(eb,"-bottom")]:bt(r)&&e&&bt(e.y)&&r>=e.y,["".concat(eb,"-top")]:bt(r)&&e&&bt(e.y)&&r<e.y})}function sK(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:a,viewBox:l,viewBoxDimension:c}=t;if(s&&bt(s[r]))return s[r];var u=n[r]-a-(i>0?i:0),f=n[r]+i;if(e[r])return o[r]?u:f;var m=l[r];if(m==null)return 0;if(o[r]){var g=u,x=m;return g<x?Math.max(f,m):Math.max(u,m)}if(c==null)return 0;var v=f+a,w=m+c;return v>w?Math.max(u,m):Math.max(f,m)}function O8e(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function M8e(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:o,useTranslate3d:a,viewBox:l}=t,c,u,f;return o.height>0&&o.width>0&&n?(u=sK({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=sK({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=O8e({translateX:u,translateY:f,useTranslate3d:a})):c=_8e,{cssProperties:c,cssClasses:R8e({translateX:u,translateY:f,coordinate:n})}}function oK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oK(Object(n),!0).forEach(function(r){U4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U4(t,e,n){return(e=D8e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D8e(t){var e=L8e(t,"string");return typeof e=="symbol"?e:e+""}function L8e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class B8e extends T.PureComponent{constructor(){super(...arguments),U4(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),U4(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:o,hasPayload:a,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:m,viewBox:g,wrapperStyle:x,lastBoundingBox:v,innerRef:w,hasPortalFromProps:E}=this.props,{cssClasses:k,cssProperties:I}=M8e({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:m,viewBox:g}),D=E?{}:iA(iA({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&a?"visible":"hidden",position:"absolute",top:0,left:0}),j=iA(iA({},D),{},{visibility:!this.state.dismissed&&e&&a?"visible":"hidden"},x);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:j,ref:w},s)}}var Rle=()=>{var t;return(t=_t(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function F4(){return F4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F4.apply(null,arguments)}function aK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aK(Object(n),!0).forEach(function(r){j8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j8e(t,e,n){return(e=U8e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U8e(t){var e=F8e(t,"string");return typeof e=="symbol"?e:e+""}function F8e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cK={curveBasisClosed:HMe,curveBasisOpen:VMe,curveBasis:$Me,curveBumpX:NMe,curveBumpY:IMe,curveLinearClosed:GMe,curveLinear:kk,curveMonotoneX:qMe,curveMonotoneY:KMe,curveNatural:WMe,curveStep:YMe,curveStepAfter:XMe,curveStepBefore:JMe},AC=t=>cr(t.x)&&cr(t.y),uK=t=>t.base!=null&&AC(t.base)&&AC(t),tb=t=>t.x,nb=t=>t.y,z8e=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Rw(t));return(n==="curveMonotone"||n==="curveBump")&&e?cK["".concat(n).concat(e==="vertical"?"Y":"X")]:cK[n]||kk},$8e=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,o=z8e(e,i),a=s?n.filter(AC):n,l;if(Array.isArray(r)){var c=n.map((g,x)=>lK(lK({},g),{},{base:r[x]}));i==="vertical"?l=JS().y(nb).x1(tb).x0(g=>g.base.x):l=JS().x(tb).y1(nb).y0(g=>g.base.y);var u=l.defined(uK).curve(o),f=s?c.filter(uK):c;return u(f)}i==="vertical"&&bt(r)?l=JS().y(nb).x1(tb).x0(r):bt(r)?l=JS().x(tb).y1(nb).y0(r):l=rae().x(tb).y(nb);var m=l.defined(AC).curve(o);return m(a)},Bg=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=vh();if((!n||!n.length)&&!r)return null;var o={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},a=n&&n.length?$8e(o):r;return T.createElement("path",F4({},Us(t),r6(t),{className:In("recharts-curve",e),d:a===null?void 0:a,ref:i}))},H8e=["x","y","top","left","width","height","className"];function z4(){return z4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z4.apply(null,arguments)}function dK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V8e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dK(Object(n),!0).forEach(function(r){G8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G8e(t,e,n){return(e=q8e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q8e(t){var e=K8e(t,"string");return typeof e=="symbol"?e:e+""}function K8e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W8e(t,e){if(t==null)return{};var n,r,i=Y8e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Y8e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var J8e=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),X8e=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:o=0,className:a}=t,l=W8e(t,H8e),c=V8e({x:e,y:n,top:r,left:i,width:s,height:o},l);return!bt(e)||!bt(n)||!bt(s)||!bt(o)||!bt(r)||!bt(i)?null:T.createElement("path",z4({},Ss(c),{className:In("recharts-cross",a),d:J8e(e,n,s,o,r,i)}))};function Q8e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function fK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fK(Object(n),!0).forEach(function(r){Z8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z8e(t,e,n){return(e=e6e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e6e(t){var e=t6e(t,"string");return typeof e=="symbol"?e:e+""}function t6e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n6e=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Ole=(t,e,n)=>t.map(r=>"".concat(n6e(r)," ").concat(e,"ms ").concat(n)).join(","),r6e=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),I1=(t,e)=>Object.keys(e).reduce((n,r)=>hK(hK({},n),{},{[r]:t(r,e[r])}),{});function pK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pK(Object(n),!0).forEach(function(r){i6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i6e(t,e,n){return(e=s6e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s6e(t){var e=o6e(t,"string");return typeof e=="symbol"?e:e+""}function o6e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TC=(t,e,n)=>t+(e-t)*n,$4=t=>{var{from:e,to:n}=t;return e!==n},Mle=(t,e,n)=>{var r=I1((i,s)=>{if($4(s)){var[o,a]=t(s.from,s.to,s.velocity);return gi(gi({},s),{},{from:o,velocity:a})}return s},e);return n<1?I1((i,s)=>$4(s)&&r[i]!=null?gi(gi({},s),{},{velocity:TC(s.velocity,r[i].velocity,n),from:TC(s.from,r[i].from,n)}):s,e):Mle(t,r,n-1)};function a6e(t,e,n,r,i,s){var o,a=r.reduce((m,g)=>gi(gi({},m),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),l=()=>I1((m,g)=>g.from,a),c=()=>!Object.values(a).filter($4).length,u=null,f=m=>{o||(o=m);var g=m-o,x=g/n.dt;a=Mle(n,a,x),i(gi(gi(gi({},t),e),l())),o=m,c()||(u=s.setTimeout(f))};return()=>(u=s.setTimeout(f),()=>{var m;(m=u)===null||m===void 0||m()})}function l6e(t,e,n,r,i,s,o){var a=null,l=i.reduce((f,m)=>{var g=t[m],x=e[m];return g==null||x==null?f:gi(gi({},f),{},{[m]:[g,x]})},{}),c,u=f=>{c||(c=f);var m=(f-c)/r,g=I1((v,w)=>TC(...w,n(m)),l);if(s(gi(gi(gi({},t),e),g)),m<1)a=o.setTimeout(u);else{var x=I1((v,w)=>TC(...w,n(1)),l);s(gi(gi(gi({},t),e),x))}};return()=>(a=o.setTimeout(u),()=>{var f;(f=a)===null||f===void 0||f()})}const c6e=(t,e,n,r,i,s)=>{var o=r6e(t,e);return n==null?()=>(i(gi(gi({},t),e)),()=>{}):n.isStepper===!0?a6e(t,e,n,o,i,s):l6e(t,e,n,r,o,i,s)};var CC=1e-4,Dle=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Lle=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),mK=(t,e)=>n=>{var r=Dle(t,e);return Lle(r,n)},u6e=(t,e)=>n=>{var r=Dle(t,e),i=[...r.map((s,o)=>s*o).slice(1),0];return Lle(i,n)},d6e=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},f6e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=d6e(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},h6e=(t,e,n,r)=>{var i=mK(t,n),s=mK(e,r),o=u6e(t,n),a=c=>c>1?1:c<0?0:c,l=c=>{for(var u=c>1?1:c,f=u,m=0;m<8;++m){var g=i(f)-u,x=o(f);if(Math.abs(g-u)<CC||x<CC)return s(f);f=a(f-g/x)}return s(f)};return l.isStepper=!1,l},gK=function(){return h6e(...f6e(...arguments))},p6e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(o,a,l)=>{var c=-(o-a)*n,u=l*r,f=l+(c-u)*i/1e3,m=l*i/1e3+o;return Math.abs(m-a)<CC&&Math.abs(f)<CC?[a,0]:[m,f]};return s.isStepper=!0,s.dt=i,s},m6e=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gK(t);case"spring":return p6e();default:if(t.split("(")[0]==="cubic-bezier")return gK(t)}return typeof t=="function"?t:null};function g6e(t){var e,n=()=>null,r=!1,i=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,[l,...c]=a;if(typeof l=="number"){i=t.setTimeout(s.bind(null,c),l);return}s(l),i=t.setTimeout(s.bind(null,c));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class y6e{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function x6e(){return g6e(new y6e)}var v6e=T.createContext(x6e);function b6e(t,e){var n=T.useContext(v6e);return T.useMemo(()=>e??n(t),[t,e,n])}var w6e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Uw={isSsr:w6e()},E6e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yK={t:0},Z5={t:1};function Ox(t){var e=fi(t,E6e),{isActive:n,canBegin:r,duration:i,easing:s,begin:o,onAnimationEnd:a,onAnimationStart:l,children:c}=e,u=n==="auto"?!Uw.isSsr:n,f=b6e(e.animationId,e.animationManager),[m,g]=T.useState(u?yK:Z5),x=T.useRef(null);return T.useEffect(()=>{u||g(Z5)},[u]),T.useEffect(()=>{if(!u||!r)return Ow;var v=c6e(yK,Z5,m6e(s),i,g,f.getTimeoutController()),w=()=>{x.current=v()};return f.start([l,o,w,i,a]),()=>{f.stop(),x.current&&x.current(),a()}},[u,r,i,s,o,l,a,f]),c(m.t)}function Mx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(w1(e)),r=T.useRef(t);return r.current!==t&&(n.current=w1(e),r.current=t),n.current}var S6e=["radius"],A6e=["radius"],xK,vK,bK,wK,EK,SK,AK,TK,CK,kK;function NK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NK(Object(n),!0).forEach(function(r){T6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T6e(t,e,n){return(e=C6e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C6e(t){var e=k6e(t,"string");return typeof e=="symbol"?e:e+""}function k6e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kC(){return kC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kC.apply(null,arguments)}function PK(t,e){if(t==null)return{};var n,r,i=N6e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N6e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ml(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var _K=(t,e,n,r,i)=>{var s=Hf(n),o=Hf(r),a=Math.min(Math.abs(s)/2,Math.abs(o)/2),l=o>=0?1:-1,c=s>=0?1:-1,u=o>=0&&s>=0||o<0&&s<0?1:0,f;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,x=4;g<x;g++)m[g]=i[g]>a?a:i[g];f=Fr(xK||(xK=Ml(["M",",",""])),t,e+l*m[0]),m[0]>0&&(f+=Fr(vK||(vK=Ml(["A ",",",",0,0,",",",",",""])),m[0],m[0],u,t+c*m[0],e)),f+=Fr(bK||(bK=Ml(["L ",",",""])),t+n-c*m[1],e),m[1]>0&&(f+=Fr(wK||(wK=Ml(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],u,t+n,e+l*m[1])),f+=Fr(EK||(EK=Ml(["L ",",",""])),t+n,e+r-l*m[2]),m[2]>0&&(f+=Fr(SK||(SK=Ml(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],u,t+n-c*m[2],e+r)),f+=Fr(AK||(AK=Ml(["L ",",",""])),t+c*m[3],e+r),m[3]>0&&(f+=Fr(TK||(TK=Ml(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],u,t,e+r-l*m[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);f=Fr(CK||(CK=Ml(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*v,v,v,u,t+c*v,e,t+n-c*v,e,v,v,u,t+n,e+l*v,t+n,e+r-l*v,v,v,u,t+n-c*v,e+r,t+c*v,e+r,v,v,u,t,e+r-l*v)}else f=Fr(kK||(kK=Ml(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return f},RK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ble=t=>{var e=fi(t,RK),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&i($)}catch{}},[]);var{x:s,y:o,width:a,height:l,radius:c,className:u}=e,{animationEasing:f,animationDuration:m,animationBegin:g,isAnimationActive:x,isUpdateAnimationActive:v}=e,w=T.useRef(a),E=T.useRef(l),k=T.useRef(s),I=T.useRef(o),D=T.useMemo(()=>({x:s,y:o,width:a,height:l,radius:c}),[s,o,a,l,c]),j=Mx(D,"rectangle-");if(s!==+s||o!==+o||a!==+a||l!==+l||a===0||l===0)return null;var M=In("recharts-rectangle",u);if(!v){var U=Ss(e),{radius:V}=U,F=PK(U,S6e);return T.createElement("path",kC({},F,{x:Hf(s),y:Hf(o),width:Hf(a),height:Hf(l),radius:typeof c=="number"?c:void 0,className:M,d:_K(s,o,a,l,c)}))}var z=w.current,K=E.current,H=k.current,B=I.current,A="0px ".concat(r===-1?1:r,"px"),P="".concat(r,"px 0px"),R=Ole(["strokeDasharray"],m,typeof f=="string"?f:RK.animationEasing);return T.createElement(Ox,{animationId:j,key:j,canBegin:r>0,duration:m,easing:f,isActive:v,begin:g},$=>{var q=Hn(z,a,$),te=Hn(K,l,$),Y=Hn(H,s,$),G=Hn(B,o,$);n.current&&(w.current=q,E.current=te,k.current=Y,I.current=G);var O;x?$>0?O={transition:R,strokeDasharray:P}:O={strokeDasharray:A}:O={strokeDasharray:P};var N=Ss(e),{radius:W}=N,X=PK(N,A6e);return T.createElement("path",kC({},X,{radius:typeof c=="number"?c:void 0,className:M,d:_K(Y,G,q,te,c),ref:n,style:IK(IK({},O),e.style)}))})};function OK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OK(Object(n),!0).forEach(function(r){I6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I6e(t,e,n){return(e=P6e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P6e(t){var e=_6e(t,"string");return typeof e=="symbol"?e:e+""}function _6e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NC=Math.PI/180,R6e=t=>t*180/Math.PI,ui=(t,e,n,r)=>({x:t+Math.cos(-NC*r)*n,y:e+Math.sin(-NC*r)*n}),jle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},O6e=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},M6e=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,o=O6e({x:n,y:r},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var a=(n-i)/o,l=Math.acos(a);return r>s&&(l=2*Math.PI-l),{radius:o,angle:R6e(l),angleInRadian:l}},D6e=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},L6e=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return t+o*360},B6e=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=M6e({x:n,y:r},e),{innerRadius:o,outerRadius:a}=e;if(i<o||i>a||i===0)return null;var{startAngle:l,endAngle:c}=D6e(e),u=s,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?MK(MK({},e),{},{radius:i,angle:L6e(u,e)}):null};function Ule(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,o=ui(e,n,r,i),a=ui(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var DK,LK,BK,jK,UK,FK,zK;function H4(){return H4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H4.apply(null,arguments)}function xp(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var j6e=(t,e)=>{var n=Ri(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},sA=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:o,cornerRadius:a,cornerIsExternal:l}=t,c=a*(o?1:-1)+r,u=Math.asin(a/c)/NC,f=l?i:i+s*u,m=ui(e,n,c,f),g=ui(e,n,r,f),x=l?i-s*u:i,v=ui(e,n,c*Math.cos(u*NC),x);return{center:m,circleTangency:g,lineTangency:v,theta:u}},Fle=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:o}=t,a=j6e(s,o),l=s+a,c=ui(e,n,i,s),u=ui(e,n,i,l),f=Fr(DK||(DK=xp(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(a)>180),+(s>l),u.x,u.y);if(r>0){var m=ui(e,n,r,s),g=ui(e,n,r,l);f+=Fr(LK||(LK=xp(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,r,r,+(Math.abs(a)>180),+(s<=l),m.x,m.y)}else f+=Fr(BK||(BK=xp(["L ",","," Z"])),e,n);return f},U6e=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:a,startAngle:l,endAngle:c}=t,u=Ri(c-l),{circleTangency:f,lineTangency:m,theta:g}=sA({cx:e,cy:n,radius:i,angle:l,sign:u,cornerRadius:s,cornerIsExternal:a}),{circleTangency:x,lineTangency:v,theta:w}=sA({cx:e,cy:n,radius:i,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:a}),E=a?Math.abs(l-c):Math.abs(l-c)-g-w;if(E<0)return o?Fr(jK||(jK=xp(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,s,s,s*2,s,s,-s*2):Fle({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var k=Fr(UK||(UK=xp(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,s,s,+(u<0),f.x,f.y,i,i,+(E>180),+(u<0),x.x,x.y,s,s,+(u<0),v.x,v.y);if(r>0){var{circleTangency:I,lineTangency:D,theta:j}=sA({cx:e,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),{circleTangency:M,lineTangency:U,theta:V}=sA({cx:e,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:a}),F=a?Math.abs(l-c):Math.abs(l-c)-j-V;if(F<0&&s===0)return"".concat(k,"L").concat(e,",").concat(n,"Z");k+=Fr(FK||(FK=xp(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),U.x,U.y,s,s,+(u<0),M.x,M.y,r,r,+(F>180),+(u>0),I.x,I.y,s,s,+(u<0),D.x,D.y)}else k+=Fr(zK||(zK=xp(["L",",","Z"])),e,n);return k},F6e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zle=t=>{var e=fi(t,F6e),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=e;if(s<i||c===u)return null;var m=In("recharts-sector",f),g=s-i,x=ws(o,g,0,!0),v;return x>0&&Math.abs(c-u)<360?v=U6e({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,g/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}):v=Fle({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u}),T.createElement("path",H4({},Ss(e),{className:m,d:v}))};function z6e(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(vae(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:o,angle:a}=e,l=ui(r,i,s,a),c=ui(r,i,o,a);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return Ule(e)}}var e3={},t3={},n3={},$K;function $6e(){return $K||($K=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pae();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(n3)),n3}var HK;function H6e(){return HK||(HK=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$6e();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(t3)),t3}var VK;function V6e(){return VK||(VK=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_ae(),n=H6e();function r(i,s,o){o&&typeof o!="number"&&e.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const a=Math.max(Math.ceil((s-i)/(o||1)),0),l=new Array(a);for(let c=0;c<a;c++)l[c]=i,i+=o;return l}t.range=r})(e3)),e3}var r3,GK;function G6e(){return GK||(GK=1,r3=V6e().range),r3}var q6e=G6e();const $le=ts(q6e);function Xf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function K6e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function x6(t){let e,n,r;t.length!==2?(e=Xf,n=(a,l)=>Xf(t(a),l),r=(a,l)=>t(a)-l):(e=t===Xf||t===K6e?t:W6e,n=t,r=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(a,l,c=0,u=a.length){const f=i(a,l,c,u-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:o,right:s}}function W6e(){return 0}function Hle(t){return t===null?NaN:+t}function*Y6e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const J6e=x6(Xf),Fw=J6e.right;x6(Hle).center;class qK extends Map{constructor(e,n=Z6e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(KK(this,e))}has(e){return super.has(KK(this,e))}set(e,n){return super.set(X6e(this,e),n)}delete(e){return super.delete(Q6e(this,e))}}function KK({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function X6e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Q6e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Z6e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function eBe(t=Xf){if(t===Xf)return Vle;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Vle(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const tBe=Math.sqrt(50),nBe=Math.sqrt(10),rBe=Math.sqrt(2);function IC(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=tBe?10:s>=nBe?5:s>=rBe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?IC(t,e,n*2):[a,l,c]}function V4(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?IC(e,t,n):IC(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function G4(t,e,n){return e=+e,t=+t,n=+n,IC(t,e,n)[2]}function q4(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?G4(e,t,n):G4(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function WK(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function YK(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Gle(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Vle:eBe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*f/l+m)),x=Math.min(r,Math.floor(e+(l-c)*f/l+m));Gle(t,e,g,x,i)}const s=t[e];let o=n,a=r;for(rb(t,n,e),i(t[r],s)>0&&rb(t,n,r);o<a;){for(rb(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?rb(t,n,a):(++a,rb(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function rb(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function iBe(t,e,n){if(t=Float64Array.from(Y6e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return YK(t);if(e>=1)return WK(t);var r,i=(r-1)*e,s=Math.floor(i),o=WK(Gle(t,s).subarray(0,s+1)),a=YK(t.subarray(s+1));return o+(a-o)*(i-s)}}function sBe(t,e,n=Hle){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function oBe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ja(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bd(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const K4=Symbol("implicit");function v6(){var t=new qK,e=[],n=[],r=K4;function i(s){let o=t.get(s);if(o===void 0){if(r!==K4)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new qK;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return v6(e,n).unknown(r)},ja.apply(i,arguments),i}function b6(){var t=v6().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var m=e().length,g=i<r,x=g?i:r,v=g?r:i;s=(v-x)/Math.max(1,m-l+c*2),a&&(s=Math.floor(s)),x+=(v-x-s*(m-l))*u,o=s*(1-l),a&&(x=Math.round(x),o=Math.round(o));var w=oBe(m).map(function(E){return x+s*E});return n(g?w.reverse():w)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(m){return arguments.length?(a=!!m,f()):a},t.padding=function(m){return arguments.length?(l=Math.min(1,c=+m),f()):l},t.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),f()):l},t.paddingOuter=function(m){return arguments.length?(c=+m,f()):c},t.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),f()):u},t.copy=function(){return b6(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},ja.apply(f(),arguments)}function qle(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return qle(e())},t}function aBe(){return qle(b6.apply(null,arguments).paddingInner(1))}function w6(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kle(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zw(){}var P1=.7,PC=1/P1,jg="\\s*([+-]?\\d+)\\s*",_1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lBe=/^#([0-9a-f]{3,8})$/,cBe=new RegExp(`^rgb\\(${jg},${jg},${jg}\\)$`),uBe=new RegExp(`^rgb\\(${gc},${gc},${gc}\\)$`),dBe=new RegExp(`^rgba\\(${jg},${jg},${jg},${_1}\\)$`),fBe=new RegExp(`^rgba\\(${gc},${gc},${gc},${_1}\\)$`),hBe=new RegExp(`^hsl\\(${_1},${gc},${gc}\\)$`),pBe=new RegExp(`^hsla\\(${_1},${gc},${gc},${_1}\\)$`),JK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};w6(zw,R1,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XK,formatHex:XK,formatHex8:mBe,formatHsl:gBe,formatRgb:QK,toString:QK});function XK(){return this.rgb().formatHex()}function mBe(){return this.rgb().formatHex8()}function gBe(){return Wle(this).formatHsl()}function QK(){return this.rgb().formatRgb()}function R1(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=lBe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ZK(e):n===3?new so(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?oA(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?oA(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cBe.exec(t))?new so(e[1],e[2],e[3],1):(e=uBe.exec(t))?new so(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=dBe.exec(t))?oA(e[1],e[2],e[3],e[4]):(e=fBe.exec(t))?oA(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hBe.exec(t))?nW(e[1],e[2]/100,e[3]/100,1):(e=pBe.exec(t))?nW(e[1],e[2]/100,e[3]/100,e[4]):JK.hasOwnProperty(t)?ZK(JK[t]):t==="transparent"?new so(NaN,NaN,NaN,0):null}function ZK(t){return new so(t>>16&255,t>>8&255,t&255,1)}function oA(t,e,n,r){return r<=0&&(t=e=n=NaN),new so(t,e,n,r)}function yBe(t){return t instanceof zw||(t=R1(t)),t?(t=t.rgb(),new so(t.r,t.g,t.b,t.opacity)):new so}function W4(t,e,n,r){return arguments.length===1?yBe(t):new so(t,e,n,r??1)}function so(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}w6(so,W4,Kle(zw,{brighter(t){return t=t==null?PC:Math.pow(PC,t),new so(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?P1:Math.pow(P1,t),new so(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new so(Qp(this.r),Qp(this.g),Qp(this.b),_C(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eW,formatHex:eW,formatHex8:xBe,formatRgb:tW,toString:tW}));function eW(){return`#${vp(this.r)}${vp(this.g)}${vp(this.b)}`}function xBe(){return`#${vp(this.r)}${vp(this.g)}${vp(this.b)}${vp((isNaN(this.opacity)?1:this.opacity)*255)}`}function tW(){const t=_C(this.opacity);return`${t===1?"rgb(":"rgba("}${Qp(this.r)}, ${Qp(this.g)}, ${Qp(this.b)}${t===1?")":`, ${t})`}`}function _C(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vp(t){return t=Qp(t),(t<16?"0":"")+t.toString(16)}function nW(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new sl(t,e,n,r)}function Wle(t){if(t instanceof sl)return new sl(t.h,t.s,t.l,t.opacity);if(t instanceof zw||(t=R1(t)),!t)return new sl;if(t instanceof sl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new sl(o,a,l,t.opacity)}function vBe(t,e,n,r){return arguments.length===1?Wle(t):new sl(t,e,n,r??1)}function sl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}w6(sl,vBe,Kle(zw,{brighter(t){return t=t==null?PC:Math.pow(PC,t),new sl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?P1:Math.pow(P1,t),new sl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new so(i3(t>=240?t-240:t+120,i,r),i3(t,i,r),i3(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new sl(rW(this.h),aA(this.s),aA(this.l),_C(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_C(this.opacity);return`${t===1?"hsl(":"hsla("}${rW(this.h)}, ${aA(this.s)*100}%, ${aA(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rW(t){return t=(t||0)%360,t<0?t+360:t}function aA(t){return Math.max(0,Math.min(1,t||0))}function i3(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const E6=t=>()=>t;function bBe(t,e){return function(n){return t+n*e}}function wBe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function EBe(t){return(t=+t)==1?Yle:function(e,n){return n-e?wBe(e,n,t):E6(isNaN(e)?n:e)}}function Yle(t,e){var n=e-t;return n?bBe(t,n):E6(isNaN(t)?e:t)}const iW=(function t(e){var n=EBe(e);function r(i,s){var o=n((i=W4(i)).r,(s=W4(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=Yle(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r})(1);function SBe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function ABe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function TBe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Dx(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function CBe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function RC(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function kBe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Dx(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Y4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s3=new RegExp(Y4.source,"g");function NBe(t){return function(){return t}}function IBe(t){return function(e){return t(e)+""}}function PBe(t,e){var n=Y4.lastIndex=s3.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Y4.exec(t))&&(i=s3.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:RC(r,i)})),n=s3.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?IBe(l[0].x):NBe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}function Dx(t,e){var n=typeof e,r;return e==null||n==="boolean"?E6(e):(n==="number"?RC:n==="string"?(r=R1(e))?(e=r,iW):PBe:e instanceof R1?iW:e instanceof Date?CBe:ABe(e)?SBe:Array.isArray(e)?TBe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kBe:RC)(t,e)}function S6(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _Be(t,e){e===void 0&&(e=t,t=Dx);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function RBe(t){return function(){return t}}function OC(t){return+t}var sW=[0,1];function Ls(t){return t}function J4(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:RBe(isNaN(e)?NaN:.5)}function OBe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function MBe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=J4(i,r),s=n(o,s)):(r=J4(r,i),s=n(s,o)),function(a){return s(r(a))}}function DBe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=J4(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=Fw(t,a,1,r)-1;return s[l](i[l](a))}}function $w(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Wk(){var t=sW,e=sW,n=Dx,r,i,s,o=Ls,a,l,c;function u(){var m=Math.min(t.length,e.length);return o!==Ls&&(o=OBe(t[0],t[m-1])),a=m>2?DBe:MBe,l=c=null,f}function f(m){return m==null||isNaN(m=+m)?s:(l||(l=a(t.map(r),e,n)))(r(o(m)))}return f.invert=function(m){return o(i((c||(c=a(e,t.map(r),RC)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,OC),u()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),u()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),n=S6,u()},f.clamp=function(m){return arguments.length?(o=m?!0:Ls,u()):o!==Ls},f.interpolate=function(m){return arguments.length?(n=m,u()):n},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,g){return r=m,i=g,u()}}function A6(){return Wk()(Ls,Ls)}function LBe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function MC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function sx(t){return t=MC(Math.abs(t)),t?t[1]:NaN}function BBe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function jBe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var UBe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function O1(t){if(!(e=UBe.exec(t)))throw new Error("invalid format: "+t);var e;return new T6({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}O1.prototype=T6.prototype;function T6(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}T6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function FBe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Jle;function zBe(t,e){var n=MC(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Jle=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+MC(t,Math.max(0,e+s-1))[0]}function oW(t,e){var n=MC(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const aW={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:LBe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>oW(t*100,e),r:oW,s:zBe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function lW(t){return t}var cW=Array.prototype.map,uW=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $Be(t){var e=t.grouping===void 0||t.thousands===void 0?lW:BBe(cW.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?lW:jBe(cW.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=O1(f);var m=f.fill,g=f.align,x=f.sign,v=f.symbol,w=f.zero,E=f.width,k=f.comma,I=f.precision,D=f.trim,j=f.type;j==="n"?(k=!0,j="g"):aW[j]||(I===void 0&&(I=12),D=!0,j="g"),(w||m==="0"&&g==="=")&&(w=!0,m="0",g="=");var M=v==="$"?n:v==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",U=v==="$"?r:/[%p]/.test(j)?o:"",V=aW[j],F=/[defgprs%]/.test(j);I=I===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function z(K){var H=M,B=U,A,P,R;if(j==="c")B=V(K)+B,K="";else{K=+K;var $=K<0||1/K<0;if(K=isNaN(K)?l:V(Math.abs(K),I),D&&(K=FBe(K)),$&&+K==0&&x!=="+"&&($=!1),H=($?x==="("?x:a:x==="-"||x==="("?"":x)+H,B=(j==="s"?uW[8+Jle/3]:"")+B+($&&x==="("?")":""),F){for(A=-1,P=K.length;++A<P;)if(R=K.charCodeAt(A),48>R||R>57){B=(R===46?i+K.slice(A+1):K.slice(A))+B,K=K.slice(0,A);break}}}k&&!w&&(K=e(K,1/0));var q=H.length+K.length+B.length,te=q<E?new Array(E-q+1).join(m):"";switch(k&&w&&(K=e(te+K,te.length?E-B.length:1/0),te=""),g){case"<":K=H+K+B+te;break;case"=":K=H+te+K+B;break;case"^":K=te.slice(0,q=te.length>>1)+H+K+B+te.slice(q);break;default:K=te+H+K+B;break}return s(K)}return z.toString=function(){return f+""},z}function u(f,m){var g=c((f=O1(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(sx(m)/3)))*3,v=Math.pow(10,-x),w=uW[8+x/3];return function(E){return g(v*E)+w}}return{format:c,formatPrefix:u}}var lA,C6,Xle;HBe({thousands:",",grouping:[3],currency:["$",""]});function HBe(t){return lA=$Be(t),C6=lA.format,Xle=lA.formatPrefix,lA}function VBe(t){return Math.max(0,-sx(Math.abs(t)))}function GBe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sx(e)/3)))*3-sx(Math.abs(t)))}function qBe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sx(e)-sx(t))+1}function Qle(t,e,n,r){var i=q4(t,e,n),s;switch(r=O1(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=GBe(i,o))&&(r.precision=s),Xle(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=qBe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=VBe(i))&&(r.precision=s-(r.type==="%")*2);break}}return C6(r)}function bh(t){var e=t.domain;return t.ticks=function(n){var r=e();return V4(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Qle(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);u-- >0;){if(c=G4(o,a,n),c===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function Zle(){var t=A6();return t.copy=function(){return $w(t,Zle())},ja.apply(t,arguments),bh(t)}function ece(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,OC),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return ece(t).unknown(e)},t=arguments.length?Array.from(t,OC):[0,1],bh(n)}function tce(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function dW(t){return Math.log(t)}function fW(t){return Math.exp(t)}function KBe(t){return-Math.log(-t)}function WBe(t){return-Math.exp(-t)}function YBe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function JBe(t){return t===10?YBe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function XBe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function hW(t){return(e,n)=>-t(-e,n)}function k6(t){const e=t(dW,fW),n=e.domain;let r=10,i,s;function o(){return i=XBe(r),s=JBe(r),n()[0]<0?(i=hW(i),s=hW(s),t(KBe,WBe)):t(dW,fW),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let m=i(c),g=i(u),x,v;const w=a==null?10:+a;let E=[];if(!(r%1)&&g-m<w){if(m=Math.floor(m),g=Math.ceil(g),c>0){for(;m<=g;++m)for(x=1;x<r;++x)if(v=m<0?x/s(-m):x*s(m),!(v<c)){if(v>u)break;E.push(v)}}else for(;m<=g;++m)for(x=r-1;x>=1;--x)if(v=m>0?x/s(-m):x*s(m),!(v<c)){if(v>u)break;E.push(v)}E.length*2<w&&(E=V4(c,u,w))}else E=V4(m,g,Math.min(g-m,w)).map(s);return f?E.reverse():E},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=O1(l)).precision==null&&(l.trim=!0),l=C6(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return u=>{let f=u/s(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(tce(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function nce(){const t=k6(Wk()).domain([1,10]);return t.copy=()=>$w(t,nce()).base(t.base()),ja.apply(t,arguments),t}function pW(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function mW(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function N6(t){var e=1,n=t(pW(e),mW(e));return n.constant=function(r){return arguments.length?t(pW(e=+r),mW(e)):e},bh(n)}function rce(){var t=N6(Wk());return t.copy=function(){return $w(t,rce()).constant(t.constant())},ja.apply(t,arguments)}function gW(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function QBe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ZBe(t){return t<0?-t*t:t*t}function I6(t){var e=t(Ls,Ls),n=1;function r(){return n===1?t(Ls,Ls):n===.5?t(QBe,ZBe):t(gW(n),gW(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},bh(e)}function P6(){var t=I6(Wk());return t.copy=function(){return $w(t,P6()).exponent(t.exponent())},ja.apply(t,arguments),t}function e7e(){return P6.apply(null,arguments).exponent(.5)}function yW(t){return Math.sign(t)*t*t}function t7e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function ice(){var t=A6(),e=[0,1],n=!1,r;function i(s){var o=t7e(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(yW(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,OC)).map(yW)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return ice(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ja.apply(i,arguments),bh(i)}function sce(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=sBe(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[Fw(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Xf),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return sce().domain(t).range(e).unknown(r)},ja.apply(s,arguments)}function oce(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[Fw(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return oce().domain([t,e]).range(i).unknown(s)},ja.apply(bh(o),arguments)}function ace(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Fw(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return ace().domain(t).range(e).unknown(n)},ja.apply(i,arguments)}const o3=new Date,a3=new Date;function xi(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),t(s);while(c<s&&s<o);return l},i.filter=s=>xi(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(o3.setTime(+s),a3.setTime(+o),t(o3),t(a3),Math.floor(n(o3,a3))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const DC=xi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);DC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xi(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):DC);DC.range;const Mu=1e3,ka=Mu*60,Du=ka*60,ld=Du*24,_6=ld*7,xW=ld*30,l3=ld*365,bp=xi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Mu)},(t,e)=>(e-t)/Mu,t=>t.getUTCSeconds());bp.range;const R6=xi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mu)},(t,e)=>{t.setTime(+t+e*ka)},(t,e)=>(e-t)/ka,t=>t.getMinutes());R6.range;const O6=xi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ka)},(t,e)=>(e-t)/ka,t=>t.getUTCMinutes());O6.range;const M6=xi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mu-t.getMinutes()*ka)},(t,e)=>{t.setTime(+t+e*Du)},(t,e)=>(e-t)/Du,t=>t.getHours());M6.range;const D6=xi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Du)},(t,e)=>(e-t)/Du,t=>t.getUTCHours());D6.range;const Hw=xi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ka)/ld,t=>t.getDate()-1);Hw.range;const Yk=xi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ld,t=>t.getUTCDate()-1);Yk.range;const lce=xi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ld,t=>Math.floor(t/ld));lce.range;function Dm(t){return xi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ka)/_6)}const Jk=Dm(0),LC=Dm(1),n7e=Dm(2),r7e=Dm(3),ox=Dm(4),i7e=Dm(5),s7e=Dm(6);Jk.range;LC.range;n7e.range;r7e.range;ox.range;i7e.range;s7e.range;function Lm(t){return xi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_6)}const Xk=Lm(0),BC=Lm(1),o7e=Lm(2),a7e=Lm(3),ax=Lm(4),l7e=Lm(5),c7e=Lm(6);Xk.range;BC.range;o7e.range;a7e.range;ax.range;l7e.range;c7e.range;const L6=xi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());L6.range;const B6=xi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());B6.range;const cd=xi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());cd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});cd.range;const ud=xi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ud.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ud.range;function cce(t,e,n,r,i,s){const o=[[bp,1,Mu],[bp,5,5*Mu],[bp,15,15*Mu],[bp,30,30*Mu],[s,1,ka],[s,5,5*ka],[s,15,15*ka],[s,30,30*ka],[i,1,Du],[i,3,3*Du],[i,6,6*Du],[i,12,12*Du],[r,1,ld],[r,2,2*ld],[n,1,_6],[e,1,xW],[e,3,3*xW],[t,1,l3]];function a(c,u,f){const m=u<c;m&&([c,u]=[u,c]);const g=f&&typeof f.range=="function"?f:l(c,u,f),x=g?g.range(c,+u+1):[];return m?x.reverse():x}function l(c,u,f){const m=Math.abs(u-c)/f,g=x6(([,,w])=>w).right(o,m);if(g===o.length)return t.every(q4(c/l3,u/l3,f));if(g===0)return DC.every(Math.max(q4(c,u,f),1));const[x,v]=o[m/o[g-1][2]<o[g][2]/m?g-1:g];return x.every(v)}return[a,l]}const[u7e,d7e]=cce(ud,B6,Xk,lce,D6,O6),[f7e,h7e]=cce(cd,L6,Jk,Hw,M6,R6);function c3(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function u3(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ib(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function p7e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=sb(i),u=ob(i),f=sb(s),m=ob(s),g=sb(o),x=ob(o),v=sb(a),w=ob(a),E=sb(l),k=ob(l),I={a:$,A:q,b:te,B:Y,c:null,d:AW,e:AW,f:B7e,g:K7e,G:Y7e,H:M7e,I:D7e,j:L7e,L:uce,m:j7e,M:U7e,p:G,q:O,Q:kW,s:NW,S:F7e,u:z7e,U:$7e,V:H7e,w:V7e,W:G7e,x:null,X:null,y:q7e,Y:W7e,Z:J7e,"%":CW},D={a:N,A:W,b:X,B:re,c:null,d:TW,e:TW,f:eje,g:uje,G:fje,H:X7e,I:Q7e,j:Z7e,L:fce,m:tje,M:nje,p:ae,q:Ee,Q:kW,s:NW,S:rje,u:ije,U:sje,V:oje,w:aje,W:lje,x:null,X:null,y:cje,Y:dje,Z:hje,"%":CW},j={a:z,A:K,b:H,B,c:A,d:EW,e:EW,f:P7e,g:wW,G:bW,H:SW,I:SW,j:C7e,L:I7e,m:T7e,M:k7e,p:F,q:A7e,Q:R7e,s:O7e,S:N7e,u:v7e,U:b7e,V:w7e,w:x7e,W:E7e,x:P,X:R,y:wW,Y:bW,Z:S7e,"%":_7e};I.x=M(n,I),I.X=M(r,I),I.c=M(e,I),D.x=M(n,D),D.X=M(r,D),D.c=M(e,D);function M(ue,me){return function(ce){var oe=[],Ce=-1,Ne=0,$e=ue.length,Ze,Ye,We;for(ce instanceof Date||(ce=new Date(+ce));++Ce<$e;)ue.charCodeAt(Ce)===37&&(oe.push(ue.slice(Ne,Ce)),(Ye=vW[Ze=ue.charAt(++Ce)])!=null?Ze=ue.charAt(++Ce):Ye=Ze==="e"?" ":"0",(We=me[Ze])&&(Ze=We(ce,Ye)),oe.push(Ze),Ne=Ce+1);return oe.push(ue.slice(Ne,Ce)),oe.join("")}}function U(ue,me){return function(ce){var oe=ib(1900,void 0,1),Ce=V(oe,ue,ce+="",0),Ne,$e;if(Ce!=ce.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(me&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Ne=u3(ib(oe.y,0,1)),$e=Ne.getUTCDay(),Ne=$e>4||$e===0?BC.ceil(Ne):BC(Ne),Ne=Yk.offset(Ne,(oe.V-1)*7),oe.y=Ne.getUTCFullYear(),oe.m=Ne.getUTCMonth(),oe.d=Ne.getUTCDate()+(oe.w+6)%7):(Ne=c3(ib(oe.y,0,1)),$e=Ne.getDay(),Ne=$e>4||$e===0?LC.ceil(Ne):LC(Ne),Ne=Hw.offset(Ne,(oe.V-1)*7),oe.y=Ne.getFullYear(),oe.m=Ne.getMonth(),oe.d=Ne.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),$e="Z"in oe?u3(ib(oe.y,0,1)).getUTCDay():c3(ib(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-($e+5)%7:oe.w+oe.U*7-($e+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,u3(oe)):c3(oe)}}function V(ue,me,ce,oe){for(var Ce=0,Ne=me.length,$e=ce.length,Ze,Ye;Ce<Ne;){if(oe>=$e)return-1;if(Ze=me.charCodeAt(Ce++),Ze===37){if(Ze=me.charAt(Ce++),Ye=j[Ze in vW?me.charAt(Ce++):Ze],!Ye||(oe=Ye(ue,ce,oe))<0)return-1}else if(Ze!=ce.charCodeAt(oe++))return-1}return oe}function F(ue,me,ce){var oe=c.exec(me.slice(ce));return oe?(ue.p=u.get(oe[0].toLowerCase()),ce+oe[0].length):-1}function z(ue,me,ce){var oe=g.exec(me.slice(ce));return oe?(ue.w=x.get(oe[0].toLowerCase()),ce+oe[0].length):-1}function K(ue,me,ce){var oe=f.exec(me.slice(ce));return oe?(ue.w=m.get(oe[0].toLowerCase()),ce+oe[0].length):-1}function H(ue,me,ce){var oe=E.exec(me.slice(ce));return oe?(ue.m=k.get(oe[0].toLowerCase()),ce+oe[0].length):-1}function B(ue,me,ce){var oe=v.exec(me.slice(ce));return oe?(ue.m=w.get(oe[0].toLowerCase()),ce+oe[0].length):-1}function A(ue,me,ce){return V(ue,e,me,ce)}function P(ue,me,ce){return V(ue,n,me,ce)}function R(ue,me,ce){return V(ue,r,me,ce)}function $(ue){return o[ue.getDay()]}function q(ue){return s[ue.getDay()]}function te(ue){return l[ue.getMonth()]}function Y(ue){return a[ue.getMonth()]}function G(ue){return i[+(ue.getHours()>=12)]}function O(ue){return 1+~~(ue.getMonth()/3)}function N(ue){return o[ue.getUTCDay()]}function W(ue){return s[ue.getUTCDay()]}function X(ue){return l[ue.getUTCMonth()]}function re(ue){return a[ue.getUTCMonth()]}function ae(ue){return i[+(ue.getUTCHours()>=12)]}function Ee(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var me=M(ue+="",I);return me.toString=function(){return ue},me},parse:function(ue){var me=U(ue+="",!1);return me.toString=function(){return ue},me},utcFormat:function(ue){var me=M(ue+="",D);return me.toString=function(){return ue},me},utcParse:function(ue){var me=U(ue+="",!0);return me.toString=function(){return ue},me}}}var vW={"-":"",_:" ",0:"0"},Di=/^\s*\d+/,m7e=/^%/,g7e=/[\\^$*+?|[\]().{}]/g;function Bn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function y7e(t){return t.replace(g7e,"\\$&")}function sb(t){return new RegExp("^(?:"+t.map(y7e).join("|")+")","i")}function ob(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function x7e(t,e,n){var r=Di.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function v7e(t,e,n){var r=Di.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function b7e(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function w7e(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function E7e(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function bW(t,e,n){var r=Di.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wW(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function S7e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function A7e(t,e,n){var r=Di.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function T7e(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function EW(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function C7e(t,e,n){var r=Di.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function SW(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function k7e(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function N7e(t,e,n){var r=Di.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function I7e(t,e,n){var r=Di.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function P7e(t,e,n){var r=Di.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _7e(t,e,n){var r=m7e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function R7e(t,e,n){var r=Di.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function O7e(t,e,n){var r=Di.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function AW(t,e){return Bn(t.getDate(),e,2)}function M7e(t,e){return Bn(t.getHours(),e,2)}function D7e(t,e){return Bn(t.getHours()%12||12,e,2)}function L7e(t,e){return Bn(1+Hw.count(cd(t),t),e,3)}function uce(t,e){return Bn(t.getMilliseconds(),e,3)}function B7e(t,e){return uce(t,e)+"000"}function j7e(t,e){return Bn(t.getMonth()+1,e,2)}function U7e(t,e){return Bn(t.getMinutes(),e,2)}function F7e(t,e){return Bn(t.getSeconds(),e,2)}function z7e(t){var e=t.getDay();return e===0?7:e}function $7e(t,e){return Bn(Jk.count(cd(t)-1,t),e,2)}function dce(t){var e=t.getDay();return e>=4||e===0?ox(t):ox.ceil(t)}function H7e(t,e){return t=dce(t),Bn(ox.count(cd(t),t)+(cd(t).getDay()===4),e,2)}function V7e(t){return t.getDay()}function G7e(t,e){return Bn(LC.count(cd(t)-1,t),e,2)}function q7e(t,e){return Bn(t.getFullYear()%100,e,2)}function K7e(t,e){return t=dce(t),Bn(t.getFullYear()%100,e,2)}function W7e(t,e){return Bn(t.getFullYear()%1e4,e,4)}function Y7e(t,e){var n=t.getDay();return t=n>=4||n===0?ox(t):ox.ceil(t),Bn(t.getFullYear()%1e4,e,4)}function J7e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Bn(e/60|0,"0",2)+Bn(e%60,"0",2)}function TW(t,e){return Bn(t.getUTCDate(),e,2)}function X7e(t,e){return Bn(t.getUTCHours(),e,2)}function Q7e(t,e){return Bn(t.getUTCHours()%12||12,e,2)}function Z7e(t,e){return Bn(1+Yk.count(ud(t),t),e,3)}function fce(t,e){return Bn(t.getUTCMilliseconds(),e,3)}function eje(t,e){return fce(t,e)+"000"}function tje(t,e){return Bn(t.getUTCMonth()+1,e,2)}function nje(t,e){return Bn(t.getUTCMinutes(),e,2)}function rje(t,e){return Bn(t.getUTCSeconds(),e,2)}function ije(t){var e=t.getUTCDay();return e===0?7:e}function sje(t,e){return Bn(Xk.count(ud(t)-1,t),e,2)}function hce(t){var e=t.getUTCDay();return e>=4||e===0?ax(t):ax.ceil(t)}function oje(t,e){return t=hce(t),Bn(ax.count(ud(t),t)+(ud(t).getUTCDay()===4),e,2)}function aje(t){return t.getUTCDay()}function lje(t,e){return Bn(BC.count(ud(t)-1,t),e,2)}function cje(t,e){return Bn(t.getUTCFullYear()%100,e,2)}function uje(t,e){return t=hce(t),Bn(t.getUTCFullYear()%100,e,2)}function dje(t,e){return Bn(t.getUTCFullYear()%1e4,e,4)}function fje(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ax(t):ax.ceil(t),Bn(t.getUTCFullYear()%1e4,e,4)}function hje(){return"+0000"}function CW(){return"%"}function kW(t){return+t}function NW(t){return Math.floor(+t/1e3)}var O0,pce,mce;pje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pje(t){return O0=p7e(t),pce=O0.format,O0.parse,mce=O0.utcFormat,O0.utcParse,O0}function mje(t){return new Date(t)}function gje(t){return t instanceof Date?+t:+new Date(+t)}function j6(t,e,n,r,i,s,o,a,l,c){var u=A6(),f=u.invert,m=u.domain,g=c(".%L"),x=c(":%S"),v=c("%I:%M"),w=c("%I %p"),E=c("%a %d"),k=c("%b %d"),I=c("%B"),D=c("%Y");function j(M){return(l(M)<M?g:a(M)<M?x:o(M)<M?v:s(M)<M?w:r(M)<M?i(M)<M?E:k:n(M)<M?I:D)(M)}return u.invert=function(M){return new Date(f(M))},u.domain=function(M){return arguments.length?m(Array.from(M,gje)):m().map(mje)},u.ticks=function(M){var U=m();return t(U[0],U[U.length-1],M??10)},u.tickFormat=function(M,U){return U==null?j:c(U)},u.nice=function(M){var U=m();return(!M||typeof M.range!="function")&&(M=e(U[0],U[U.length-1],M??10)),M?m(tce(U,M)):u},u.copy=function(){return $w(u,j6(t,e,n,r,i,s,o,a,l,c))},u}function yje(){return ja.apply(j6(f7e,h7e,cd,L6,Jk,Hw,M6,R6,bp,pce).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xje(){return ja.apply(j6(u7e,d7e,ud,B6,Xk,Yk,D6,O6,bp,mce).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qk(){var t=0,e=1,n,r,i,s,o=Ls,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(s(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(m){var g,x;return arguments.length?([g,x]=m,o=f(g,x),c):[o(0),o(1)]}}return c.range=u(Dx),c.rangeRound=u(S6),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function wh(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gce(){var t=bh(Qk()(Ls));return t.copy=function(){return wh(t,gce())},bd.apply(t,arguments)}function yce(){var t=k6(Qk()).domain([1,10]);return t.copy=function(){return wh(t,yce()).base(t.base())},bd.apply(t,arguments)}function xce(){var t=N6(Qk());return t.copy=function(){return wh(t,xce()).constant(t.constant())},bd.apply(t,arguments)}function U6(){var t=I6(Qk());return t.copy=function(){return wh(t,U6()).exponent(t.exponent())},bd.apply(t,arguments)}function vje(){return U6.apply(null,arguments).exponent(.5)}function vce(){var t=[],e=Ls;function n(r){if(r!=null&&!isNaN(r=+r))return e((Fw(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Xf),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>iBe(t,s/r))},n.copy=function(){return vce(e).domain(t)},bd.apply(n,arguments)}function Zk(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,c=Ls,u,f=!1,m;function g(v){return isNaN(v=+v)?m:(v=.5+((v=+u(v))-s)*(r*v<r*s?a:l),c(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,n]=v,i=u(t=+t),s=u(e=+e),o=u(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g):[t,e,n]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(c=v,g):c};function x(v){return function(w){var E,k,I;return arguments.length?([E,k,I]=w,c=_Be(v,[E,k,I]),g):[c(0),c(.5),c(1)]}}return g.range=x(Dx),g.rangeRound=x(S6),g.unknown=function(v){return arguments.length?(m=v,g):m},function(v){return u=v,i=v(t),s=v(e),o=v(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g}}function bce(){var t=bh(Zk()(Ls));return t.copy=function(){return wh(t,bce())},bd.apply(t,arguments)}function wce(){var t=k6(Zk()).domain([.1,1,10]);return t.copy=function(){return wh(t,wce()).base(t.base())},bd.apply(t,arguments)}function Ece(){var t=N6(Zk());return t.copy=function(){return wh(t,Ece()).constant(t.constant())},bd.apply(t,arguments)}function F6(){var t=I6(Zk());return t.copy=function(){return wh(t,F6()).exponent(t.exponent())},bd.apply(t,arguments)}function bje(){return F6.apply(null,arguments).exponent(.5)}const Nb=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:b6,scaleDiverging:bce,scaleDivergingLog:wce,scaleDivergingPow:F6,scaleDivergingSqrt:bje,scaleDivergingSymlog:Ece,scaleIdentity:ece,scaleImplicit:K4,scaleLinear:Zle,scaleLog:nce,scaleOrdinal:v6,scalePoint:aBe,scalePow:P6,scaleQuantile:sce,scaleQuantize:oce,scaleRadial:ice,scaleSequential:gce,scaleSequentialLog:yce,scaleSequentialPow:U6,scaleSequentialQuantile:vce,scaleSequentialSqrt:vje,scaleSequentialSymlog:xce,scaleSqrt:e7e,scaleSymlog:rce,scaleThreshold:ace,scaleTime:yje,scaleUtc:xje,tickFormat:Qle},Symbol.toStringTag,{value:"Module"}));var wd=t=>t.chartData,eN=Me([wd],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),z6=(t,e,n,r)=>r?eN(t):wd(t),Sce=(t,e,n)=>n?eN(t):wd(t);function oh(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(cr(e)&&cr(n))return!0}return!1}function IW(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Ace(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(cr(n))i=n;else if(typeof n=="function")return;if(cr(r))s=r;else if(typeof r=="function")return;var o=[i,s];if(oh(o))return o}}function wje(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(oh(r))return IW(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,o,a;if(i==="auto")e!=null&&(o=Math.min(...e));else if(bt(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&$q.test(i)){var l=$q.exec(i);if(l==null||l[1]==null||e==null)o=void 0;else{var c=+l[1];o=e[0]-c}}else o=e==null?void 0:e[0];if(s==="auto")e!=null&&(a=Math.max(...e));else if(bt(s))a=s;else if(typeof s=="function")try{e!=null&&(a=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&Hq.test(s)){var u=Hq.exec(s);if(u==null||u[1]==null||e==null)a=void 0;else{var f=+u[1];a=e[1]+f}}else a=e==null?void 0:e[1];var m=[o,a];if(oh(m))return e==null?m:IW(m,e,n)}}}var Lx=1e9,Eje={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},H6,Tr=!0,Da="[DecimalError] ",Zp=Da+"Invalid argument: ",$6=Da+"Exponent out of range: ",Bx=Math.floor,rp=Math.pow,Sje=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mo,ki=1e7,vr=7,Tce=9007199254740991,jC=Bx(Tce/vr),Ct={};Ct.absoluteValue=Ct.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ct.comparedTo=Ct.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ct.decimalPlaces=Ct.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*vr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ct.dividedBy=Ct.div=function(t){return $u(this,new this.constructor(t))};Ct.dividedToIntegerBy=Ct.idiv=function(t){var e=this,n=e.constructor;return ar($u(e,new n(t),0,1),n.precision)};Ct.equals=Ct.eq=function(t){return!this.cmp(t)};Ct.exponent=function(){return di(this)};Ct.greaterThan=Ct.gt=function(t){return this.cmp(t)>0};Ct.greaterThanOrEqualTo=Ct.gte=function(t){return this.cmp(t)>=0};Ct.isInteger=Ct.isint=function(){return this.e>this.d.length-2};Ct.isNegative=Ct.isneg=function(){return this.s<0};Ct.isPositive=Ct.ispos=function(){return this.s>0};Ct.isZero=function(){return this.s===0};Ct.lessThan=Ct.lt=function(t){return this.cmp(t)<0};Ct.lessThanOrEqualTo=Ct.lte=function(t){return this.cmp(t)<1};Ct.logarithm=Ct.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Mo))throw Error(Da+"NaN");if(n.s<1)throw Error(Da+(n.s?"NaN":"-Infinity"));return n.eq(Mo)?new r(0):(Tr=!1,e=$u(M1(n,s),M1(t,s),s),Tr=!0,ar(e,i))};Ct.minus=Ct.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Nce(e,t):Cce(e,(t.s=-t.s,t))};Ct.modulo=Ct.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Da+"NaN");return n.s?(Tr=!1,e=$u(n,t,0,1).times(t),Tr=!0,n.minus(e)):ar(new r(n),i)};Ct.naturalExponential=Ct.exp=function(){return kce(this)};Ct.naturalLogarithm=Ct.ln=function(){return M1(this)};Ct.negated=Ct.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ct.plus=Ct.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Cce(e,t):Nce(e,(t.s=-t.s,t))};Ct.precision=Ct.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zp+t);if(e=di(i)+1,r=i.d.length-1,n=r*vr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ct.squareRoot=Ct.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Da+"NaN")}for(t=di(a),Tr=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=ac(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Bx((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus($u(a,s,o+2)).times(.5),ac(s.d).slice(0,o)===(e=ac(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ar(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return Tr=!0,ar(r,n)};Ct.times=Ct.mul=function(t){var e,n,r,i,s,o,a,l,c,u=this,f=u.constructor,m=u.d,g=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=m.length,c=g.length,l<c&&(s=m,m=g,g=s,o=l,l=c,c=o),s=[],o=l+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+g[r]*m[i-r-1]+e,s[i--]=a%ki|0,e=a/ki|0;s[i]=(s[i]+e)%ki|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Tr?ar(t,f.precision):t};Ct.toDecimalPlaces=Ct.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ec(t,0,Lx),e===void 0?e=r.rounding:Ec(e,0,8),ar(n,t+di(n)+1,e))};Ct.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=bm(r,!0):(Ec(t,0,Lx),e===void 0?e=i.rounding:Ec(e,0,8),r=ar(new i(r),t+1,e),n=bm(r,!0,t+1)),n};Ct.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?bm(i):(Ec(t,0,Lx),e===void 0?e=s.rounding:Ec(e,0,8),r=ar(new s(i),t+di(i)+1,e),n=bm(r.abs(),!1,t+di(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ct.toInteger=Ct.toint=function(){var t=this,e=t.constructor;return ar(new e(t),di(t)+1,e.rounding)};Ct.toNumber=function(){return+this};Ct.toPower=Ct.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Mo);if(a=new l(a),!a.s){if(t.s<1)throw Error(Da+"Infinity");return a}if(a.eq(Mo))return a;if(r=l.precision,t.eq(Mo))return ar(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=u<0?-u:u)<=Tce){for(i=new l(Mo),e=Math.ceil(r/vr+4),Tr=!1;n%2&&(i=i.times(a),_W(i.d,e)),n=Bx(n/2),n!==0;)a=a.times(a),_W(a.d,e);return Tr=!0,t.s<0?new l(Mo).div(i):ar(i,r)}}else if(s<0)throw Error(Da+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Tr=!1,i=t.times(M1(a,r+c)),Tr=!0,i=kce(i),i.s=s,i};Ct.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=di(i),r=bm(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ec(t,1,Lx),e===void 0?e=s.rounding:Ec(e,0,8),i=ar(new s(i),t,e),n=di(i),r=bm(i,t<=n||n<=s.toExpNeg,t)),r};Ct.toSignificantDigits=Ct.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ec(t,1,Lx),e===void 0?e=r.rounding:Ec(e,0,8)),ar(new r(n),t,e)};Ct.toString=Ct.valueOf=Ct.val=Ct.toJSON=Ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=di(t),n=t.constructor;return bm(t,e<=n.toExpNeg||e>=n.toExpPos)};function Cce(t,e){var n,r,i,s,o,a,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Tr?ar(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=c.length):(r=c,i=o,a=l.length),o=Math.ceil(f/vr),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/ki|0,l[s]%=ki;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,Tr?ar(e,f):e}function Ec(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Zp+t)}function ac(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=vr-r.length,n&&(s+=yf(n)),s+=r;o=t[e],r=o+"",n=vr-r.length,n&&(s+=yf(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var $u=(function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%ki|0,o=s/ki|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*ki+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,c,u,f,m,g,x,v,w,E,k,I,D,j,M,U,V,F=r.constructor,z=r.s==i.s?1:-1,K=r.d,H=i.d;if(!r.s)return new F(r);if(!i.s)throw Error(Da+"Division by zero");for(l=r.e-i.e,U=H.length,j=K.length,g=new F(z),x=g.d=[],c=0;H[c]==(K[c]||0);)++c;if(H[c]>(K[c]||0)&&--l,s==null?k=s=F.precision:o?k=s+(di(r)-di(i))+1:k=s,k<0)return new F(0);if(k=k/vr+2|0,c=0,U==1)for(u=0,H=H[0],k++;(c<j||u)&&k--;c++)I=u*ki+(K[c]||0),x[c]=I/H|0,u=I%H|0;else{for(u=ki/(H[0]+1)|0,u>1&&(H=t(H,u),K=t(K,u),U=H.length,j=K.length),D=U,v=K.slice(0,U),w=v.length;w<U;)v[w++]=0;V=H.slice(),V.unshift(0),M=H[0],H[1]>=ki/2&&++M;do u=0,a=e(H,v,U,w),a<0?(E=v[0],U!=w&&(E=E*ki+(v[1]||0)),u=E/M|0,u>1?(u>=ki&&(u=ki-1),f=t(H,u),m=f.length,w=v.length,a=e(f,v,m,w),a==1&&(u--,n(f,U<m?V:H,m))):(u==0&&(a=u=1),f=H.slice()),m=f.length,m<w&&f.unshift(0),n(v,f,w),a==-1&&(w=v.length,a=e(H,v,U,w),a<1&&(u++,n(v,U<w?V:H,w))),w=v.length):a===0&&(u++,v=[0]),x[c++]=u,a&&v[0]?v[w++]=K[D]||0:(v=[K[D]],w=1);while((D++<j||v[0]!==void 0)&&k--)}return x[0]||x.shift(),g.e=l,ar(g,o?s+di(g)+1:s)}})();function kce(t,e){var n,r,i,s,o,a,l=0,c=0,u=t.constructor,f=u.precision;if(di(t)>16)throw Error($6+di(t));if(!t.s)return new u(Mo);for(Tr=!1,a=f,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(rp(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new u(Mo),u.precision=a;;){if(i=ar(i.times(t),a),n=n.times(++l),o=s.plus($u(i,n,a)),ac(o.d).slice(0,a)===ac(s.d).slice(0,a)){for(;c--;)s=ar(s.times(s),a);return u.precision=f,e==null?(Tr=!0,ar(s,f)):s}s=o}}function di(t){for(var e=t.e*vr,n=t.d[0];n>=10;n/=10)e++;return e}function d3(t,e,n){if(e>t.LN10.sd())throw Tr=!0,n&&(t.precision=n),Error(Da+"LN10 precision limit exceeded");return ar(new t(t.LN10),e)}function yf(t){for(var e="";t--;)e+="0";return e}function M1(t,e){var n,r,i,s,o,a,l,c,u,f=1,m=10,g=t,x=g.d,v=g.constructor,w=v.precision;if(g.s<1)throw Error(Da+(g.s?"NaN":"-Infinity"));if(g.eq(Mo))return new v(0);if(e==null?(Tr=!1,c=w):c=e,g.eq(10))return e==null&&(Tr=!0),d3(v,c);if(c+=m,v.precision=c,n=ac(x),r=n.charAt(0),s=di(g),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=ac(g.d),r=n.charAt(0),f++;s=di(g),r>1?(g=new v("0."+n),s++):g=new v(r+"."+n.slice(1))}else return l=d3(v,c+2,w).times(s+""),g=M1(new v(r+"."+n.slice(1)),c-m).plus(l),v.precision=w,e==null?(Tr=!0,ar(g,w)):g;for(a=o=g=$u(g.minus(Mo),g.plus(Mo),c),u=ar(g.times(g),c),i=3;;){if(o=ar(o.times(u),c),l=a.plus($u(o,new v(i),c)),ac(l.d).slice(0,c)===ac(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(d3(v,c+2,w).times(s+""))),a=$u(a,new v(f),c),v.precision=w,e==null?(Tr=!0,ar(a,w)):a;a=l,i+=2}}function PW(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Bx(n/vr),t.d=[],r=(n+1)%vr,n<0&&(r+=vr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=vr;r<i;)t.d.push(+e.slice(r,r+=vr));e=e.slice(r),r=vr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Tr&&(t.e>jC||t.e<-jC))throw Error($6+n)}else t.s=0,t.e=0,t.d=[0];return t}function ar(t,e,n){var r,i,s,o,a,l,c,u,f=t.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=vr,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/vr),s=f.length,u>=s)return t;for(c=s=f[u],o=1;s>=10;s/=10)o++;r%=vr,i=r-vr+o}if(n!==void 0&&(s=rp(10,o-i-1),a=c/s%10|0,l=e<0||f[u+1]!==void 0||c%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/rp(10,o-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(s=di(t),f.length=1,e=e-s-1,f[0]=rp(10,(vr-e%vr)%vr),t.e=Bx(-e/vr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,s=1,u--):(f.length=u+1,s=rp(10,vr-r),f[u]=i>0?(c/rp(10,o-i)%rp(10,i)|0)*s:0),l)for(;;)if(u==0){(f[0]+=s)==ki&&(f[0]=1,++t.e);break}else{if(f[u]+=s,f[u]!=ki)break;f[u--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(Tr&&(t.e>jC||t.e<-jC))throw Error($6+di(t));return t}function Nce(t,e){var n,r,i,s,o,a,l,c,u,f,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Tr?ar(e,g):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,a=f.length):(n=f,r=c,a=l.length),i=Math.max(Math.ceil(g/vr),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=ki-1;--l[s],l[i]+=ki}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Tr?ar(e,g):e):new m(0)}function bm(t,e,n){var r,i=di(t),s=ac(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+yf(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+yf(-i-1)+s,n&&(r=n-o)>0&&(s+=yf(r))):i>=o?(s+=yf(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+yf(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=yf(r))),t.s<0?"-"+s:s}function _W(t,e){if(t.length>e)return t.length=e,!0}function Ice(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Zp+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return PW(o,s.toString())}else if(typeof s!="string")throw Error(Zp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Sje.test(s))PW(o,s);else throw Error(Zp+s)}if(i.prototype=Ct,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Ice,i.config=i.set=Aje,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Aje(t){if(!t||typeof t!="object")throw Error(Da+"Object expected");var e,n,r,i=["precision",1,Lx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Bx(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Zp+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Zp+n+": "+r);return this}var H6=Ice(Eje);Mo=new H6(1);const Jn=H6;var Tje=t=>t,Pce={},_ce=t=>t===Pce,RW=t=>function e(){return arguments.length===0||arguments.length===1&&_ce(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Rce=(t,e)=>t===1?e:RW(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(o=>o!==Pce).length;return s>=t?e(...r):Rce(t-s,RW(function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var c=r.map(u=>_ce(u)?a.shift():u);return e(...c,...a)}))}),Cje=t=>Rce(t.length,t),X4=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},kje=Cje((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Nje=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Tje;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((a,l)=>l(a),s(...arguments))}};function Oce(t){var e;return t===0?e=1:e=Math.floor(new Jn(t).abs().log(10).toNumber())+1,e}function Mce(t,e,n){for(var r=new Jn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Dce=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},Lce=(t,e,n)=>{if(t.lte(0))return new Jn(0);var r=Oce(t.toNumber()),i=new Jn(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new Jn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?new Jn(l.toNumber()):new Jn(Math.ceil(l.toNumber()))},Ije=(t,e,n)=>{var r=new Jn(1),i=new Jn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Jn(10).pow(Oce(t)-1),i=new Jn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Jn(Math.floor(t)))}else t===0?i=new Jn(Math.floor((e-1)/2)):n||(i=new Jn(Math.floor(t)));var o=Math.floor((e-1)/2),a=Nje(kje(l=>i.add(new Jn(l-o).mul(r)).toNumber()),X4);return a(0,e)},Bce=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Jn(0),tickMin:new Jn(0),tickMax:new Jn(0)};var o=Lce(new Jn(n).sub(e).div(r-1),i,s),a;e<=0&&n>=0?a=new Jn(0):(a=new Jn(e).add(n).div(2),a=a.sub(new Jn(a).mod(o)));var l=Math.ceil(a.sub(e).div(o).toNumber()),c=Math.ceil(new Jn(n).sub(a).div(o).toNumber()),u=l+c+1;return u>r?Bce(e,n,r,i,s+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:o,tickMin:a.sub(new Jn(l).mul(o)),tickMax:a.add(new Jn(c).mul(o))})},Pje=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[a,l]=Dce([n,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...X4(0,i-1).map(()=>1/0)]:[...X4(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(a===l)return Ije(a,i,s);var{step:u,tickMin:f,tickMax:m}=Bce(a,l,o,s,0),g=Mce(f,m.add(new Jn(.1).mul(u)),u);return n>r?g.reverse():g},_je=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=Dce([r,i]);if(o===-1/0||a===1/0)return[r,i];if(o===a)return[o];var l=Math.max(n,2),c=Lce(new Jn(a).sub(o).div(l-1),s,0),u=[...Mce(new Jn(o),new Jn(a),c),a];return s===!1&&(u=u.map(f=>Math.round(f))),r>i?u.reverse():u},jce=t=>t.rootProps.maxBarSize,Rje=t=>t.rootProps.barGap,Uce=t=>t.rootProps.barCategoryGap,Oje=t=>t.rootProps.barSize,Vw=t=>t.rootProps.stackOffset,Fce=t=>t.rootProps.reverseStackOrder,V6=t=>t.options.chartName,G6=t=>t.rootProps.syncId,zce=t=>t.rootProps.syncMethod,q6=t=>t.options.eventEmitter,Mje=t=>t.rootProps.baseValue,Zr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Cu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},_o={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},tN=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Dje={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Cu.angleAxisId,includeHidden:!1,name:void 0,reversed:Cu.reversed,scale:Cu.scale,tick:Cu.tick,tickCount:void 0,ticks:void 0,type:Cu.type,unit:void 0},Lje={allowDataOverflow:_o.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_o.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_o.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_o.scale,tick:_o.tick,tickCount:_o.tickCount,ticks:void 0,type:_o.type,unit:void 0},Bje={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Cu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cu.scale,tick:Cu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},jje={allowDataOverflow:_o.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_o.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_o.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_o.scale,tick:_o.tick,tickCount:_o.tickCount,ticks:void 0,type:"category",unit:void 0},K6=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Bje:Dje,W6=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?jje:Lje,nN=t=>t.polarOptions,Y6=Me([xd,vd,yi],jle),$ce=Me([nN,Y6],(t,e)=>{if(t!=null)return ws(t.innerRadius,e,0)}),Hce=Me([nN,Y6],(t,e)=>{if(t!=null)return ws(t.outerRadius,e,e*.8)}),Uje=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Vce=Me([nN],Uje);Me([K6,Vce],tN);var Gce=Me([Y6,$ce,Hce],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Me([W6,Gce],tN);var qce=Me([En,nN,$ce,Hce,xd,vd],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:a,startAngle:l,endAngle:c}=e;return{cx:ws(o,i,i/2),cy:ws(a,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),Nr=(t,e)=>e,Gw=(t,e,n)=>n;function rN(t){return t==null?void 0:t.id}function Kce(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,o=new Map;return t.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var u=rN(a);c.forEach((f,m)=>{var g=s==null||i?m:String(qn(f,s,null)),x=qn(f,a.dataKey,0),v;o.has(g)?v=o.get(g):v={},Object.assign(v,{[u]:x}),o.set(g,v)})}}),Array.from(o.values())}function iN(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var sN=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function oN(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Fje(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var vi=t=>{var e=En(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},jx=t=>t.tooltip.settings.axisId;function OW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OW(Object(n),!0).forEach(function(r){zje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zje(t,e,n){return(e=$je(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $je(t){var e=Hje(t,"string");return typeof e=="symbol"?e:e+""}function Hje(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q4=[0,"auto"],Ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Wce=(t,e)=>t.cartesianAxis.xAxis[e],Ed=(t,e)=>{var n=Wce(t,e);return n??Ei},Si={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Q4,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Bw},Yce=(t,e)=>t.cartesianAxis.yAxis[e],Sd=(t,e)=>{var n=Yce(t,e);return n??Si},Vje={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},J6=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Vje},Dr=(t,e,n)=>{switch(e){case"xAxis":return Ed(t,n);case"yAxis":return Sd(t,n);case"zAxis":return J6(t,n);case"angleAxis":return K6(t,n);case"radiusAxis":return W6(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Gje=(t,e,n)=>{switch(e){case"xAxis":return Ed(t,n);case"yAxis":return Sd(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},qw=(t,e,n)=>{switch(e){case"xAxis":return Ed(t,n);case"yAxis":return Sd(t,n);case"angleAxis":return K6(t,n);case"radiusAxis":return W6(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Jce=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function X6(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Kw=t=>t.graphicalItems.cartesianItems,qje=Me([Nr,Gw],X6),Q6=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Ww=Me([Kw,Dr,qje],Q6,{memoizeOptions:{resultEqualityCheck:oN}}),Xce=Me([Ww],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(iN)),Qce=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Kje=Me([Ww],Qce),Z6=t=>t.map(e=>e.data).filter(Boolean).flat(1),Wje=Me([Ww],Z6,{memoizeOptions:{resultEqualityCheck:oN}}),eB=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},tB=Me([Wje,z6],eB),nB=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:qn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:qn(i,r)}))):t.map(r=>({value:r})),aN=Me([tB,Dr,Ww],nB);function Zce(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function hT(t){if(bc(t)||t instanceof Date){var e=Number(t);if(cr(e))return e}}function MW(t){if(Array.isArray(t)){var e=[hT(t[0]),hT(t[1])];return oh(e)?e:void 0}var n=hT(t);if(n!=null)return[n,n]}function dd(t){return t.map(hT).filter(u4e)}function Yje(t,e,n){return!n||typeof e!="number"||Oa(e)?[]:n.length?dd(n.flatMap(r=>{var i=qn(t,r.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!cr(s)||!cr(o)))return[e-s,e+o]})):[]}var bi=t=>{var e=vi(t),n=jx(t);return qw(t,e,n)},Yw=Me([bi],t=>t==null?void 0:t.dataKey),Jje=Me([Xce,z6,bi],Kce),eue=(t,e,n,r)=>{var i={},s=e.reduce((o,a)=>{if(a.stackId==null)return o;var l=o[a.stackId];return l==null&&(l=[]),l.push(a),o[a.stackId]=l,o},i);return Object.fromEntries(Object.entries(s).map(o=>{var[a,l]=o,c=r?[...l].reverse():l,u=c.map(rN);return[a,{stackedData:ILe(t,u,n),graphicalItems:c}]}))},FC=Me([Jje,Xce,Vw,Fce],eue),tue=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var o=OLe(t,i,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Xje=Me([Dr],t=>t.allowDataOverflow),rB=t=>{var e;if(t==null||!("domain"in t))return Q4;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=dd(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Q4},iB=Me([Dr],rB),sB=Me([iB,Xje],Ace),Qje=Me([FC,wd,Nr,sB],tue,{memoizeOptions:{resultEqualityCheck:sN}}),lN=t=>t.errorBars,Zje=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Zce(n,r)),zC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),a=Math.max(...s);return[o,a]}},oB=(t,e,n,r,i)=>{var s,o;if(n.length>0&&t.forEach(a=>{n.forEach(l=>{var c,u,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(E=>Zce(i,E)),m=qn(a,(u=e.dataKey)!==null&&u!==void 0?u:l.dataKey),g=Yje(a,m,f);if(g.length>=2){var x=Math.min(...g),v=Math.max(...g);(s==null||x<s)&&(s=x),(o==null||v>o)&&(o=v)}var w=MW(m);w!=null&&(s=s==null?w[0]:Math.min(s,w[0]),o=o==null?w[1]:Math.max(o,w[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(a=>{var l=MW(qn(a,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),cr(s)&&cr(o))return[s,o]},eUe=Me([tB,Dr,Kje,lN,Nr],oB,{memoizeOptions:{resultEqualityCheck:sN}});function tUe(t){var{value:e}=t;if(bc(e)||e instanceof Date)return e}var nUe=(t,e,n)=>{var r=t.map(tUe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&mae(r))?$le(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},nue=t=>t.referenceElements.dots,Ux=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),rUe=Me([nue,Nr,Gw],Ux),rue=t=>t.referenceElements.areas,iUe=Me([rue,Nr,Gw],Ux),iue=t=>t.referenceElements.lines,sUe=Me([iue,Nr,Gw],Ux),sue=(t,e)=>{if(t!=null){var n=dd(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},oUe=Me(rUe,Nr,sue),oue=(t,e)=>{if(t!=null){var n=dd(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},aUe=Me([iUe,Nr],oue);function lUe(t){var e;if(t.x!=null)return dd([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:dd(n)}function cUe(t){var e;if(t.y!=null)return dd([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:dd(n)}var aue=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?lUe(r):cUe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},uUe=Me([sUe,Nr],aue),dUe=Me(oUe,uUe,aUe,(t,e,n)=>zC(t,n,e)),aB=(t,e,n,r,i,s,o,a)=>{if(n!=null)return n;var l=o==="vertical"&&a==="xAxis"||o==="horizontal"&&a==="yAxis",c=l?zC(r,s,i):zC(s,i);return wje(e,c,t.allowDataOverflow)},fUe=Me([Dr,iB,sB,Qje,eUe,dUe,En,Nr],aB,{memoizeOptions:{resultEqualityCheck:sN}}),hUe=[0,1],lB=(t,e,n,r,i,s,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:a,type:l}=t,c=kc(e,s);if(c&&a==null){var u;return $le(0,(u=n==null?void 0:n.length)!==null&&u!==void 0?u:0)}return l==="category"?nUe(r,t,c):i==="expand"?hUe:o}},cB=Me([Dr,En,tB,aN,Vw,Nr,fUe],lB),lue=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:o}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var a="scale".concat(Rw(s));return a in Nb?a:"point"}}},Fx=Me([Dr,En,Jce,V6,Nr],lue);function pUe(t){if(t!=null){if(t in Nb)return Nb[t]();var e="scale".concat(Rw(t));if(e in Nb)return Nb[e]()}}function uB(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=pUe(e);if(i!=null){var s=i.domain(n).range(r);return ALe(s),s}}}var dB=(t,e,n)=>{var r=rB(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&oh(t))return Pje(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&oh(t))return _je(t,e.tickCount,e.allowDecimals)}},fB=Me([cB,qw,Fx],dB),hB=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&oh(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],o=e[1],a=n[n.length-1];return[Math.min(i,s),Math.max(o,a)]}return e},mUe=Me([Dr,cB,fB,Nr],hB),gUe=Me(aN,Dr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(dd(t.map(f=>f.value))).sort((f,m)=>f-m),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var o=s-i;if(o===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a],c=r[a+1];if(!(l==null||c==null)){var u=c-l;n=Math.min(n,u)}}return n/o}}),cue=Me(gUe,En,Uce,yi,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!cr(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var o=ws(n,t*s),a=t*s/2;return a-o-(a-o)/s*o}return 0}),yUe=(t,e,n)=>{var r=Ed(t,e);return r==null||typeof r.padding!="string"?0:cue(t,"xAxis",e,n,r.padding)},xUe=(t,e,n)=>{var r=Sd(t,e);return r==null||typeof r.padding!="string"?0:cue(t,"yAxis",e,n,r.padding)},vUe=Me(Ed,yUe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),bUe=Me(Sd,xUe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),wUe=Me([yi,vUe,$k,zk,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),EUe=Me([yi,En,bUe,$k,zk,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:o}=i;return s?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Jw=(t,e,n,r)=>{var i;switch(e){case"xAxis":return wUe(t,n,r);case"yAxis":return EUe(t,n,r);case"zAxis":return(i=J6(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Vce(t);case"radiusAxis":return Gce(t,n);default:return}},uue=Me([Dr,Jw],tN),cN=Me([Dr,Fx,mUe,uue],uB);Me([Ww,lN,Nr],Zje);function due(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var uN=(t,e)=>e,dN=(t,e,n)=>n,SUe=Me(Uk,uN,dN,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(due)),AUe=Me(Fk,uN,dN,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(due)),fue=(t,e)=>({width:t.width,height:e.height}),TUe=(t,e)=>{var n=typeof e.width=="number"?e.width:Bw;return{width:n,height:t.height}},hue=Me(yi,Ed,fue),CUe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},kUe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},NUe=Me(vd,yi,SUe,uN,dN,(t,e,n,r,i)=>{var s={},o;return n.forEach(a=>{var l=fue(e,a);o==null&&(o=CUe(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;s[a.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),s}),IUe=Me(xd,yi,AUe,uN,dN,(t,e,n,r,i)=>{var s={},o;return n.forEach(a=>{var l=TUe(e,a);o==null&&(o=kUe(e,r,t));var c=r==="left"&&!i||r==="right"&&i;s[a.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),s}),PUe=(t,e)=>{var n=Ed(t,e);if(n!=null)return NUe(t,n.orientation,n.mirror)},_Ue=Me([yi,Ed,PUe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),RUe=(t,e)=>{var n=Sd(t,e);if(n!=null)return IUe(t,n.orientation,n.mirror)},OUe=Me([yi,Sd,RUe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),pue=Me(yi,Sd,(t,e)=>{var n=typeof e.width=="number"?e.width:Bw;return{width:n,height:t.height}}),DW=(t,e,n)=>{switch(e){case"xAxis":return hue(t,n).width;case"yAxis":return pue(t,n).height;default:return}},mue=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=n,a=kc(t,r),l=e.map(c=>c.value);if(o&&a&&s==="category"&&i&&mae(l))return l}},pB=Me([En,aN,Dr,Nr],mue),gue=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,o=kc(t,r);if(o&&(i==="number"||s!=="auto"))return e.map(a=>a.value)}},mB=Me([En,aN,qw,Nr],gue),LW=Me([En,Gje,Fx,cN,pB,mB,Jw,fB,Nr],(t,e,n,r,i,s,o,a,l)=>{if(e!=null){var c=kc(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:a,range:o,realScaleType:n,scale:r}}}),MUe=(t,e,n,r,i,s,o,a,l)=>{if(!(e==null||r==null)){var c=kc(t,l),{type:u,ticks:f,tickCount:m}=e,g=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=u==="category"&&r.bandwidth?r.bandwidth()/g:0;x=l==="angleAxis"&&s!=null&&s.length>=2?Ri(s[0]-s[1])*2*x:x;var v=f||i;if(v){var w=v.map((E,k)=>{var I=o?o.indexOf(E):E;return{index:k,coordinate:r(I)+x,value:E,offset:x}});return w.filter(E=>cr(E.coordinate))}return c&&a?a.map((E,k)=>({coordinate:r(E)+x,value:E,index:k,offset:x})).filter(E=>cr(E.coordinate)):r.ticks?r.ticks(m).map(E=>({coordinate:r(E)+x,value:E,offset:x})):r.domain().map((E,k)=>({coordinate:r(E)+x,value:o?o[E]:E,index:k,offset:x}))}},yue=Me([En,qw,Fx,cN,fB,Jw,pB,mB,Nr],MUe),DUe=(t,e,n,r,i,s,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var a=kc(t,o),{tickCount:l}=e,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Ri(r[0]-r[1])*2*c:c,a&&s?s.map((u,f)=>({coordinate:n(u)+c,value:u,index:f,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,f)=>({coordinate:n(u)+c,value:i?i[u]:u,index:f,offset:c}))}},Sc=Me([En,qw,cN,Jw,pB,mB,Nr],DUe),Ac=Me(Dr,cN,(t,e)=>{if(!(t==null||e==null))return UC(UC({},t),{},{scale:e})}),LUe=Me([Dr,Fx,cB,uue],uB);Me((t,e,n)=>J6(t,n),LUe,(t,e)=>{if(!(t==null||e==null))return UC(UC({},t),{},{scale:e})});var BUe=Me([En,Uk,Fk],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),xue=t=>t.options.defaultTooltipEventType,vue=t=>t.options.validateTooltipEventTypes;function bue(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function gB(t,e){var n=xue(t),r=vue(t);return bue(e,n,r)}function jUe(t){return _t(e=>gB(e,t))}var wue=(t,e)=>{var n,r=Number(e);if(!(Oa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},UUe=t=>t.tooltip.settings,Af={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},FUe={itemInteraction:{click:Af,hover:Af},axisInteraction:{click:Af,hover:Af},keyboardInteraction:Af,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Eue=co({name:"tooltip",initialState:FUe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Sr()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ul(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Sr()},removeTooltipEntrySettings:{reducer(t,e){var n=ul(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Sr()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:zUe,replaceTooltipEntrySettings:$Ue,removeTooltipEntrySettings:HUe,setTooltipSettingsState:VUe,setActiveMouseOverItemIndex:Sue,mouseLeaveItem:GUe,mouseLeaveChart:Aue,setActiveClickItemIndex:qUe,setMouseOverAxisIndex:Tue,setMouseClickAxisIndex:KUe,setSyncInteraction:Z4,setKeyboardInteraction:eD}=Eue.actions,WUe=Eue.reducer;function BW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BW(Object(n),!0).forEach(function(r){YUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YUe(t,e,n){return(e=JUe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JUe(t){var e=XUe(t,"string");return typeof e=="symbol"?e:e+""}function XUe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QUe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function ZUe(t){return t.index!=null}var Cue=(t,e,n,r)=>{if(e==null)return Af;var i=QUe(t,e,n);if(i==null)return Af;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(ZUe(i)){if(s)return cA(cA({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return cA(cA({},Af),{},{coordinate:i.coordinate})};function eFe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function tFe(t,e){var n=eFe(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),o=Math.max(r,i);return n>=s&&n<=o}function nFe(t,e,n){if(n==null||e==null)return!0;var r=qn(t,e);return r==null||!oh(n)?!0:tFe(r,n)}var yB=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var s=Number(i);if(!cr(s))return i;var o=0,a=1/0;e.length>0&&(a=e.length-1);var l=Math.max(o,Math.min(s,a)),c=e[l];return c==null||nFe(c,n,r)?String(l):null},kue=(t,e,n,r,i,s,o,a)=>{if(!(s==null||a==null)){var l=o[0],c=l==null?void 0:a(l.positions,s);if(c!=null)return c;var u=i==null?void 0:i[Number(s)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:u.coordinate}}}},Nue=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.graphicalItemId)===i})},Xw=t=>t.options.tooltipPayloadSearcher,zx=t=>t.tooltip;function jW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jW(Object(n),!0).forEach(function(r){rFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rFe(t,e,n){return(e=iFe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iFe(t){var e=sFe(t,"string");return typeof e=="symbol"?e:e+""}function sFe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oFe(t,e){return t??e}var Iue=(t,e,n,r,i,s,o)=>{if(!(e==null||s==null)){var{chartData:a,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,f=[];return t.reduce((m,g)=>{var x,{dataDefinedOnItem:v,settings:w}=g,E=oFe(v,a),k=Array.isArray(E)?lle(E,c,u):E,I=(x=w==null?void 0:w.dataKey)!==null&&x!==void 0?x:r,D=w==null?void 0:w.nameKey,j;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&o==="axis"?j=gae(k,r,i):j=s(k,e,l,D),Array.isArray(j))j.forEach(U=>{var V=UW(UW({},w),{},{name:U.name,unit:U.unit,color:void 0,fill:void 0});m.push(Vq({tooltipEntrySettings:V,dataKey:U.dataKey,payload:U.payload,value:qn(U.payload,U.dataKey),name:U.name}))});else{var M;m.push(Vq({tooltipEntrySettings:w,dataKey:I,payload:j,value:qn(j,I),name:(M=qn(j,D))!==null&&M!==void 0?M:w==null?void 0:w.name}))}return m},f)}},xB=Me([bi,En,Jce,V6,vi],lue),aFe=Me([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),lFe=Me([vi,jx],X6),$x=Me([aFe,bi,lFe],Q6,{memoizeOptions:{resultEqualityCheck:oN}}),cFe=Me([$x],t=>t.filter(iN)),uFe=Me([$x],Z6,{memoizeOptions:{resultEqualityCheck:oN}}),Hx=Me([uFe,wd],eB),dFe=Me([cFe,wd,bi],Kce),vB=Me([Hx,bi,$x],nB),Pue=Me([bi],rB),fFe=Me([bi],t=>t.allowDataOverflow),_ue=Me([Pue,fFe],Ace),hFe=Me([$x],t=>t.filter(iN)),pFe=Me([dFe,hFe,Vw,Fce],eue),mFe=Me([pFe,wd,vi,_ue],tue),gFe=Me([$x],Qce),yFe=Me([Hx,bi,gFe,lN,vi],oB,{memoizeOptions:{resultEqualityCheck:sN}}),xFe=Me([nue,vi,jx],Ux),vFe=Me([xFe,vi],sue),bFe=Me([rue,vi,jx],Ux),wFe=Me([bFe,vi],oue),EFe=Me([iue,vi,jx],Ux),SFe=Me([EFe,vi],aue),AFe=Me([vFe,SFe,wFe],zC),TFe=Me([bi,Pue,_ue,mFe,yFe,AFe,En,vi],aB),Qw=Me([bi,En,Hx,vB,Vw,vi,TFe],lB),CFe=Me([Qw,bi,xB],dB),kFe=Me([bi,Qw,CFe,vi],hB),Rue=t=>{var e=vi(t),n=jx(t),r=!1;return Jw(t,e,n,r)},Oue=Me([bi,Rue],tN),Mue=Me([bi,xB,kFe,Oue],uB),NFe=Me([En,vB,bi,vi],mue),IFe=Me([En,vB,bi,vi],gue),PFe=(t,e,n,r,i,s,o,a)=>{if(e){var{type:l}=e,c=kc(t,a);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return f=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ri(i[0]-i[1])*2*f:f,c&&o?o.map((m,g)=>({coordinate:r(m)+f,value:m,index:g,offset:f})):r.domain().map((m,g)=>({coordinate:r(m)+f,value:s?s[m]:m,index:g,offset:f}))}}},Ad=Me([En,bi,xB,Mue,Rue,NFe,IFe,vi],PFe),bB=Me([xue,vue,UUe],(t,e,n)=>bue(n.shared,t,e)),Due=t=>t.tooltip.settings.trigger,wB=t=>t.tooltip.settings.defaultIndex,Zw=Me([zx,bB,Due,wB],Cue),ah=Me([Zw,Hx,Yw,Qw],yB),Lue=Me([Ad,ah],wue),EB=Me([Zw],t=>{if(t)return t.dataKey}),_Fe=Me([Zw],t=>{if(t)return t.graphicalItemId}),Bue=Me([zx,bB,Due,wB],Nue),RFe=Me([xd,vd,En,yi,Ad,wB,Bue,Xw],kue),OFe=Me([Zw,RFe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),MFe=Me([Zw],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),DFe=Me([Bue,ah,wd,Yw,Lue,Xw,bB],Iue),LFe=Me([DFe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function FW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FW(Object(n),!0).forEach(function(r){BFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BFe(t,e,n){return(e=jFe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jFe(t){var e=UFe(t,"string");return typeof e=="symbol"?e:e+""}function UFe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FFe=()=>_t(bi),zFe=()=>{var t=FFe(),e=_t(Ad),n=_t(Mue);return sh(!t||!n?void 0:zW(zW({},t),{},{scale:n}),e)};function $W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$W(Object(n),!0).forEach(function(r){$Fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$W(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Fe(t,e,n){return(e=HFe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HFe(t){var e=VFe(t,"string");return typeof e=="symbol"?e:e+""}function VFe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GFe=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},qFe=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:o}=r;return M0(M0(M0({},r),ui(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var a=i.coordinate,{angle:l}=r;return M0(M0(M0({},r),ui(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function KFe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var jue=(t,e,n,r,i)=>{var s,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var a=0;a<o;a++){var l,c,u,f,m,g=a>0?(l=n[a-1])===null||l===void 0?void 0:l.coordinate:(c=n[o-1])===null||c===void 0?void 0:c.coordinate,x=(u=n[a])===null||u===void 0?void 0:u.coordinate,v=a>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(m=n[a+1])===null||m===void 0?void 0:m.coordinate,w=void 0;if(!(g==null||x==null||v==null))if(Ri(x-g)!==Ri(v-x)){var E=[];if(Ri(v-x)===Ri(i[1]-i[0])){w=v;var k=x+i[1]-i[0];E[0]=Math.min(k,(k+g)/2),E[1]=Math.max(k,(k+g)/2)}else{w=g;var I=v+i[1]-i[0];E[0]=Math.min(x,(I+x)/2),E[1]=Math.max(x,(I+x)/2)}var D=[Math.min(x,(w+x)/2),Math.max(x,(w+x)/2)];if(t>D[0]&&t<=D[1]||t>=E[0]&&t<=E[1]){var j;return(j=n[a])===null||j===void 0?void 0:j.index}}else{var M=Math.min(g,v),U=Math.max(g,v);if(t>(M+x)/2&&t<=(U+x)/2){var V;return(V=n[a])===null||V===void 0?void 0:V.index}}}else if(e)for(var F=0;F<o;F++){var z=e[F];if(z!=null){var K=e[F+1],H=e[F-1];if(F===0&&K!=null&&t<=(z.coordinate+K.coordinate)/2||F===o-1&&H!=null&&t>(z.coordinate+H.coordinate)/2||F>0&&F<o-1&&H!=null&&K!=null&&t>(z.coordinate+H.coordinate)/2&&t<=(z.coordinate+K.coordinate)/2)return z.index}}return-1},Uue=()=>_t(V6),SB=(t,e)=>e,Fue=(t,e,n)=>n,AB=(t,e,n,r)=>r,WFe=Me(Ad,t=>Pk(t,e=>e.coordinate)),TB=Me([zx,SB,Fue,AB],Cue),CB=Me([TB,Hx,Yw,Qw],yB),YFe=(t,e,n)=>{if(e!=null){var r=zx(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},zue=Me([zx,SB,Fue,AB],Nue),$C=Me([xd,vd,En,yi,Ad,AB,zue,Xw],kue),JFe=Me([TB,$C],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),$ue=Me([Ad,CB],wue),XFe=Me([zue,CB,wd,Yw,$ue,Xw,SB],Iue),QFe=Me([TB,CB],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),ZFe=(t,e,n,r,i,s,o)=>{if(!(!t||!n||!r||!i)&&KFe(t,o)){var a=MLe(t,e),l=jue(a,s,i,n,r),c=GFe(e,i,l,t);return{activeIndex:String(l),activeCoordinate:c}}},e9e=(t,e,n,r,i,s,o)=>{if(!(!t||!r||!i||!s||!n)){var a=B6e(t,n);if(a){var l=DLe(a,e),c=jue(l,o,s,r,i),u=qFe(e,s,c,a);return{activeIndex:String(c),activeCoordinate:u}}}},t9e=(t,e,n,r,i,s,o,a)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?ZFe(t,e,r,i,s,o,a):e9e(t,e,n,r,i,s,o)},n9e=Me(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),r9e=Me(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Zr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Fje}});function HW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HW(Object(n),!0).forEach(function(r){i9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i9e(t,e,n){return(e=s9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9e(t){var e=o9e(t,"string");return typeof e=="symbol"?e:e+""}function o9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a9e={},l9e={zIndexMap:Object.values(Zr).reduce((t,e)=>VW(VW({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),a9e)},c9e=new Set(Object.values(Zr));function u9e(t){return c9e.has(t)}var Hue=co({name:"zIndex",initialState:l9e,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Sr()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!u9e(n)&&delete t.zIndexMap[n])},prepare:Sr()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Sr()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Sr()}}}),{registerZIndexPortal:d9e,unregisterZIndexPortal:f9e,registerZIndexPortalElement:h9e,unregisterZIndexPortalElement:p9e}=Hue.actions,m9e=Hue.reducer;function Hs(t){var{zIndex:e,children:n}=t,r=f8e(),i=r&&e!==void 0&&e!==0,s=Mi(),o=kr();T.useLayoutEffect(()=>i?(o(d9e({zIndex:e})),()=>{o(f9e({zIndex:e}))}):Ow,[o,e,i]);var a=_t(l=>n9e(l,e,s));return i?a?Om.createPortal(n,a):null:n}function tD(){return tD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tD.apply(null,arguments)}function GW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GW(Object(n),!0).forEach(function(r){g9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g9e(t,e,n){return(e=y9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y9e(t){var e=x9e(t,"string");return typeof e=="symbol"?e:e+""}function x9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v9e(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function b9e(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:o,layout:a,cursor:l,tooltipEventType:c,chartName:u}=t,f=n,m=r,g=i;if(!l||!f||u!=="ScatterChart"&&c!=="axis")return null;var x,v,w;if(u==="ScatterChart")x=f,v=X8e,w=Zr.cursorLine;else if(u==="BarChart")x=Q8e(a,f,s,o),v=Ble,w=Zr.cursorRectangle;else if(a==="radial"&&vae(f)){var{cx:E,cy:k,radius:I,startAngle:D,endAngle:j}=Ule(f);x={cx:E,cy:k,startAngle:D,endAngle:j,innerRadius:I,outerRadius:I},v=zle,w=Zr.cursorLine}else x={points:z6e(a,f,s)},v=Bg,w=Zr.cursorLine;var M=typeof l=="object"&&"className"in l?l.className:void 0,U=uA(uA(uA(uA({stroke:"#ccc",pointerEvents:"none"},s),x),pm(l)),{},{payload:m,payloadIndex:g,className:In("recharts-tooltip-cursor",M)});return T.createElement(Hs,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:w},T.createElement(v9e,{cursor:l,cursorComp:v,cursorProps:U}))}function w9e(t){var e=zFe(),n=vle(),r=vh(),i=Uue();return e==null||n==null||r==null||i==null?null:T.createElement(b9e,tD({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Vue=T.createContext(null),E9e=()=>T.useContext(Vue),f3={exports:{}},qW;function S9e(){return qW||(qW=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,f,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,f||l,m),x=n?n+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],g]:l._events[x].push(g):(l._events[x]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,x=new Array(g);m<g;m++)x[m]=f[m].fn;return x},a.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,u,f,m,g,x){var v=n?n+c:c;if(!this._events[v])return!1;var w=this._events[v],E=arguments.length,k,I;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),E){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,f),!0;case 4:return w.fn.call(w.context,u,f,m),!0;case 5:return w.fn.call(w.context,u,f,m,g),!0;case 6:return w.fn.call(w.context,u,f,m,g,x),!0}for(I=1,k=new Array(E-1);I<E;I++)k[I-1]=arguments[I];w.fn.apply(w.context,k)}else{var D=w.length,j;for(I=0;I<D;I++)switch(w[I].once&&this.removeListener(c,w[I].fn,void 0,!0),E){case 1:w[I].fn.call(w[I].context);break;case 2:w[I].fn.call(w[I].context,u);break;case 3:w[I].fn.call(w[I].context,u,f);break;case 4:w[I].fn.call(w[I].context,u,f,m);break;default:if(!k)for(j=1,k=new Array(E-1);j<E;j++)k[j-1]=arguments[j];w[I].fn.apply(w[I].context,k)}}return!0},a.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},a.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},a.prototype.removeListener=function(c,u,f,m){var g=n?n+c:c;if(!this._events[g])return this;if(!u)return o(this,g),this;var x=this._events[g];if(x.fn)x.fn===u&&(!m||x.once)&&(!f||x.context===f)&&o(this,g);else{for(var v=0,w=[],E=x.length;v<E;v++)(x[v].fn!==u||m&&!x[v].once||f&&x[v].context!==f)&&w.push(x[v]);w.length?this._events[g]=w.length===1?w[0]:w:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(f3)),f3.exports}var A9e=S9e();const kB=ts(A9e);var D1=new kB,nD="recharts.syncEvent.tooltip",KW="recharts.syncEvent.brush";function fN(t,e){if(e){var n=Number.parseInt(e,10);if(!Oa(n))return t==null?void 0:t[n]}}var T9e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Gue=co({name:"options",initialState:T9e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),C9e=Gue.reducer,{createEventEmitter:k9e}=Gue.actions;function N9e(t){return t.tooltip.syncInteraction}var I9e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},que=co({name:"chartData",initialState:I9e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:WW,setDataStartEndIndexes:P9e,setComputedData:Dgt}=que.actions,_9e=que.reducer,R9e=["x","y"];function YW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YW(Object(n),!0).forEach(function(r){O9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O9e(t,e,n){return(e=M9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M9e(t){var e=D9e(t,"string");return typeof e=="symbol"?e:e+""}function D9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L9e(t,e){if(t==null)return{};var n,r,i=B9e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function B9e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function j9e(){var t=_t(G6),e=_t(q6),n=kr(),r=_t(zce),i=_t(Ad),s=vh(),o=Hk(),a=_t(l=>l.rootProps.className);T.useEffect(()=>{if(t==null)return Ow;var l=(c,u,f)=>{if(e!==f&&t===c){if(r==="index"){var m;if(o&&u!==null&&u!==void 0&&(m=u.payload)!==null&&m!==void 0&&m.coordinate&&u.payload.sourceViewBox){var g=u.payload.coordinate,{x,y:v}=g,w=L9e(g,R9e),{x:E,y:k,width:I,height:D}=u.payload.sourceViewBox,j=D0(D0({},w),{},{x:o.x+(I?(x-E)/I:0)*o.width,y:o.y+(D?(v-k)/D:0)*o.height});n(D0(D0({},u),{},{payload:D0(D0({},u.payload),{},{coordinate:j})}))}else n(u);return}if(i!=null){var M;if(typeof r=="function"){var U={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},V=r(i,U);M=i[V]}else r==="value"&&(M=i.find(R=>String(R.value)===u.payload.label));var{coordinate:F}=u.payload;if(M==null||u.payload.active===!1||F==null||o==null){n(Z4({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:K}=F,H=Math.min(z,o.x+o.width),B=Math.min(K,o.y+o.height),A={x:s==="horizontal"?M.coordinate:H,y:s==="horizontal"?B:M.coordinate},P=Z4({active:u.payload.active,coordinate:A,dataKey:u.payload.dataKey,index:String(M.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});n(P)}}};return D1.on(nD,l),()=>{D1.off(nD,l)}},[a,n,e,t,r,i,s,o])}function U9e(){var t=_t(G6),e=_t(q6),n=kr();T.useEffect(()=>{if(t==null)return Ow;var r=(i,s,o)=>{e!==o&&t===i&&n(P9e(s))};return D1.on(KW,r),()=>{D1.off(KW,r)}},[n,e,t])}function F9e(){var t=kr();T.useEffect(()=>{t(k9e())},[t]),j9e(),U9e()}function z9e(t,e,n,r,i,s){var o=_t(g=>YFe(g,t,e)),a=_t(q6),l=_t(G6),c=_t(zce),u=_t(N9e),f=u==null?void 0:u.active,m=Hk();T.useEffect(()=>{if(!f&&l!=null&&a!=null){var g=Z4({active:s,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});D1.emit(nD,l,g,a)}},[f,n,o,i,r,a,l,c,s,m])}function JW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JW(Object(n),!0).forEach(function(r){$9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $9e(t,e,n){return(e=H9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H9e(t){var e=V9e(t,"string");return typeof e=="symbol"?e:e+""}function V9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G9e(t){return t.dataKey}function q9e(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(P8e,e)}var QW=[],K9e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function HC(t){var e,n,r=fi(t,K9e),{active:i,allowEscapeViewBox:s,animationDuration:o,animationEasing:a,content:l,filterNull:c,isAnimationActive:u,offset:f,payloadUniqBy:m,position:g,reverseDirection:x,useTranslate3d:v,wrapperStyle:w,cursor:E,shared:k,trigger:I,defaultIndex:D,portal:j,axisId:M}=r,U=kr(),V=typeof D=="number"?String(D):D;T.useEffect(()=>{U(VUe({shared:k,trigger:I,axisId:M,active:i,defaultIndex:V}))},[U,k,I,M,i,V]);var F=Hk(),z=Rle(),K=jUe(k),{activeIndex:H,isActive:B}=(e=_t(ae=>QFe(ae,K,I,V)))!==null&&e!==void 0?e:{},A=_t(ae=>XFe(ae,K,I,V)),P=_t(ae=>$ue(ae,K,I,V)),R=_t(ae=>JFe(ae,K,I,V)),$=A,q=E9e(),te=(n=i??B)!==null&&n!==void 0?n:!1,[Y,G]=vDe([$,te]),O=K==="axis"?P:void 0;z9e(K,I,R,O,H,te);var N=j??q;if(N==null||F==null||K==null)return null;var W=$??QW;te||(W=QW),c&&W.length&&(W=G4e(W.filter(ae=>ae.value!=null&&(ae.hide!==!0||r.includeHidden)),m,G9e));var X=W.length>0,re=T.createElement(B8e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:a,isAnimationActive:u,active:te,coordinate:R,hasPayload:X,offset:f,position:g,reverseDirection:x,useTranslate3d:v,viewBox:F,wrapperStyle:w,lastBoundingBox:Y,innerRef:G,hasPortalFromProps:!!j},q9e(l,XW(XW({},r),{},{payload:W,label:O,active:te,activeIndex:H,coordinate:R,accessibilityLayer:z})));return T.createElement(T.Fragment,null,Om.createPortal(re,N),te&&T.createElement(w9e,{cursor:E,tooltipEventType:K,coordinate:R,payload:W,index:H}))}var Vx=t=>null;Vx.displayName="Cell";function W9e(t,e,n){return(e=Y9e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y9e(t){var e=J9e(t,"string");return typeof e=="symbol"?e:e+""}function J9e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class X9e{constructor(e){W9e(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ZW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q9e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZW(Object(n),!0).forEach(function(r){Z9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z9e(t,e,n){return(e=eze(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eze(t){var e=tze(t,"string");return typeof e=="symbol"?e:e+""}function tze(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nze={cacheSize:2e3,enableCache:!0},Kue=Q9e({},nze),eY=new X9e(Kue.cacheSize),rze={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tY="recharts_measurement_span";function ize(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",o=e.letterSpacing||"",a=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(o,"|").concat(a)}var nY=(t,e)=>{try{var n=document.getElementById(tY);n||(n=document.createElement("span"),n.setAttribute("id",tY),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,rze,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},$b=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Uw.isSsr)return{width:0,height:0};if(!Kue.enableCache)return nY(e,n);var r=ize(e,n),i=eY.get(r);if(i)return i;var s=nY(e,n);return eY.set(r,s),s},Wue;function sze(t,e,n){return(e=oze(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oze(t){var e=aze(t,"string");return typeof e=="symbol"?e:e+""}function aze(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rY=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iY=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lze=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cze=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uze={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dze=["cm","mm","pt","pc","in","Q","px"];function fze(t){return dze.includes(t)}var dg="NaN";function hze(t,e){return t*uze[e]}class Ki{static parse(e){var n,[,r,i]=(n=cze.exec(e))!==null&&n!==void 0?n:[];return r==null?Ki.NaN:new Ki(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Oa(e)&&(this.unit=""),n!==""&&!lze.test(n)&&(this.num=NaN,this.unit=""),fze(n)&&(this.num=hze(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ki(NaN,""):new Ki(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ki(NaN,""):new Ki(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ki(NaN,""):new Ki(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ki(NaN,""):new Ki(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Oa(this.num)}}Wue=Ki;sze(Ki,"NaN",new Wue(NaN,""));function Yue(t){if(t==null||t.includes(dg))return dg;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=rY.exec(e))!==null&&n!==void 0?n:[],o=Ki.parse(r??""),a=Ki.parse(s??""),l=i==="*"?o.multiply(a):o.divide(a);if(l.isNaN())return dg;e=e.replace(rY,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,f,m]=(c=iY.exec(e))!==null&&c!==void 0?c:[],g=Ki.parse(u??""),x=Ki.parse(m??""),v=f==="+"?g.add(x):g.subtract(x);if(v.isNaN())return dg;e=e.replace(iY,v.toString())}return e}var sY=/\(([^()]*)\)/;function pze(t){for(var e=t,n;(n=sY.exec(e))!=null;){var[,r]=n;e=e.replace(sY,Yue(r))}return e}function mze(t){var e=t.replace(/\s+/g,"");return e=pze(e),e=Yue(e),e}function gze(t){try{return mze(t)}catch{return dg}}function h3(t){var e=gze(t.slice(5,-1));return e===dg?"":e}var yze=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],xze=["dx","dy","angle","className","breakAll"];function rD(){return rD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rD.apply(null,arguments)}function oY(t,e){if(t==null)return{};var n,r,i=vze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vze(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jue=/[ \f\n\r\t\v\u2028\u2029]+/,Xue=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];br(e)||(n?i=e.toString().split(""):i=e.toString().split(Jue));var s=i.map(a=>({word:a,width:$b(a,r).width})),o=n?0:$b("",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function bze(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Que=(t,e,n,r)=>t.reduce((i,s)=>{var{word:o,width:a}=s,l=i[i.length-1];if(l&&a!=null&&(e==null||r||l.width+a+n<Number(e)))l.words.push(o),l.width+=a+n;else{var c={words:[o],width:a};i.push(c)}return i},[]),Zue=t=>t.reduce((e,n)=>e.width>n.width?e:n),wze="",aY=(t,e,n,r,i,s,o,a)=>{var l=t.slice(0,e),c=Xue({breakAll:n,style:r,children:l+wze});if(!c)return[!1,[]];var u=Que(c.wordsWithComputedWidth,s,o,a),f=u.length>i||Zue(u).width>Number(s);return[f,u]},Eze=(t,e,n,r,i)=>{var{maxLines:s,children:o,style:a,breakAll:l}=t,c=bt(s),u=String(o),f=Que(e,r,n,i);if(!c||i)return f;var m=f.length>s||Zue(f).width>Number(r);if(!m)return f;for(var g=0,x=u.length-1,v=0,w;g<=x&&v<=u.length-1;){var E=Math.floor((g+x)/2),k=E-1,[I,D]=aY(u,k,l,a,s,r,n,i),[j]=aY(u,E,l,a,s,r,n,i);if(!I&&!j&&(g=E+1),I&&j&&(x=E-1),!I&&j){w=D;break}v++}return w||f},lY=t=>{var e=br(t)?[]:t.toString().split(Jue);return[{words:e,width:void 0}]},Sze=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:o}=t;if((e||n)&&!Uw.isSsr){var a,l,c=Xue({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;a=u,l=f}else return lY(r);return Eze({breakAll:s,children:r,maxLines:o,style:i},a,l,e,!!n)}return lY(r)},ede="#808080",Aze={angle:0,breakAll:!1,capHeight:"0.71em",fill:ede,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},hN=T.forwardRef((t,e)=>{var n=fi(t,Aze),{x:r,y:i,lineHeight:s,capHeight:o,fill:a,scaleToFit:l,textAnchor:c,verticalAnchor:u}=n,f=oY(n,yze),m=T.useMemo(()=>Sze({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:g,dy:x,angle:v,className:w,breakAll:E}=f,k=oY(f,xze);if(!bc(r)||!bc(i)||m.length===0)return null;var I=Number(r)+(bt(g)?g:0),D=Number(i)+(bt(x)?x:0);if(!cr(I)||!cr(D))return null;var j;switch(u){case"start":j=h3("calc(".concat(o,")"));break;case"middle":j=h3("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:j=h3("calc(".concat(m.length-1," * -").concat(s,")"));break}var M=[];if(l){var U=m[0].width,{width:V}=f;M.push("scale(".concat(bt(V)&&bt(U)?V/U:1,")"))}return v&&M.push("rotate(".concat(v,", ").concat(I,", ").concat(D,")")),M.length&&(k.transform=M.join(" ")),T.createElement("text",rD({},Ss(k),{ref:e,x:I,y:D,className:In("recharts-text",w),textAnchor:c,fill:a.includes("url")?ede:a}),m.map((F,z)=>{var K=F.words.join(E?"":" ");return T.createElement("tspan",{x:I,dy:z===0?j:s,key:"".concat(K,"-").concat(z)},K)}))});hN.displayName="Text";var Tze=["labelRef"],Cze=["content"];function cY(t,e){if(t==null)return{};var n,r,i=kze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kze(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uY(Object(n),!0).forEach(function(r){Nze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nze(t,e,n){return(e=Ize(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ize(t){var e=Pze(t,"string");return typeof e=="symbol"?e:e+""}function Pze(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ku.apply(null,arguments)}var tde=T.createContext(null),_ze=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:o,children:a}=t,l=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:o}),[e,n,r,i,s,o]);return T.createElement(tde.Provider,{value:l},a)},nde=()=>{var t=T.useContext(tde),e=Hk();return t||xle(e)},Rze=T.createContext(null),Oze=()=>{var t=T.useContext(Rze),e=_t(qce);return t||e},Mze=t=>{var{value:e,formatter:n}=t,r=br(t.children)?e:t.children;return typeof n=="function"?n(r):r},NB=t=>t!=null&&typeof t=="function",Dze=(t,e)=>{var n=Ri(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Lze=(t,e,n,r,i)=>{var{offset:s,className:o}=t,{cx:a,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:m,clockWise:g}=i,x=(c+u)/2,v=Dze(f,m),w=v>=0?1:-1,E,k;switch(e){case"insideStart":E=f+w*s,k=g;break;case"insideEnd":E=m-w*s,k=!g;break;case"end":E=m+w*s,k=g;break;default:throw new Error("Unsupported position ".concat(e))}k=v<=0?k:!k;var I=ui(a,l,x,E),D=ui(a,l,x,E+(k?1:-1)*359),j="M".concat(I.x,",").concat(I.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(D.x,",").concat(D.y),M=br(t.id)?w1("recharts-radial-line-"):t.id;return T.createElement("text",ku({},r,{dominantBaseline:"central",className:In("recharts-radial-bar-label",o)}),T.createElement("defs",null,T.createElement("path",{id:M,d:j})),T.createElement("textPath",{xlinkHref:"#".concat(M)},n))},Bze=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:a,endAngle:l}=t,c=(a+l)/2;if(n==="outside"){var{x:u,y:f}=ui(r,i,o+e,c);return{x:u,y:f,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(s+o)/2,{x:g,y:x}=ui(r,i,m,c);return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},iD=t=>"cx"in t&&bt(t.cx),jze=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!iD(n)&&(s=n);var{x:o,y:a,upperWidth:l,lowerWidth:c,height:u}=e,f=o,m=o+(l-c)/2,g=(f+m)/2,x=(l+c)/2,v=f+l/2,w=u>=0?1:-1,E=w*r,k=w>0?"end":"start",I=w>0?"start":"end",D=l>=0?1:-1,j=D*r,M=D>0?"end":"start",U=D>0?"start":"end";if(i==="top"){var V={x:f+l/2,y:a-E,textAnchor:"middle",verticalAnchor:k};return Wr(Wr({},V),s?{height:Math.max(a-s.y,0),width:l}:{})}if(i==="bottom"){var F={x:m+c/2,y:a+u+E,textAnchor:"middle",verticalAnchor:I};return Wr(Wr({},F),s?{height:Math.max(s.y+s.height-(a+u),0),width:c}:{})}if(i==="left"){var z={x:g-j,y:a+u/2,textAnchor:M,verticalAnchor:"middle"};return Wr(Wr({},z),s?{width:Math.max(z.x-s.x,0),height:u}:{})}if(i==="right"){var K={x:g+x+j,y:a+u/2,textAnchor:U,verticalAnchor:"middle"};return Wr(Wr({},K),s?{width:Math.max(s.x+s.width-K.x,0),height:u}:{})}var H=s?{width:x,height:u}:{};return i==="insideLeft"?Wr({x:g+j,y:a+u/2,textAnchor:U,verticalAnchor:"middle"},H):i==="insideRight"?Wr({x:g+x-j,y:a+u/2,textAnchor:M,verticalAnchor:"middle"},H):i==="insideTop"?Wr({x:f+l/2,y:a+E,textAnchor:"middle",verticalAnchor:I},H):i==="insideBottom"?Wr({x:m+c/2,y:a+u-E,textAnchor:"middle",verticalAnchor:k},H):i==="insideTopLeft"?Wr({x:f+j,y:a+E,textAnchor:U,verticalAnchor:I},H):i==="insideTopRight"?Wr({x:f+l-j,y:a+E,textAnchor:M,verticalAnchor:I},H):i==="insideBottomLeft"?Wr({x:m+j,y:a+u-E,textAnchor:U,verticalAnchor:k},H):i==="insideBottomRight"?Wr({x:m+c-j,y:a+u-E,textAnchor:M,verticalAnchor:k},H):i&&typeof i=="object"&&(bt(i.x)||od(i.x))&&(bt(i.y)||od(i.y))?Wr({x:o+ws(i.x,x),y:a+ws(i.y,u),textAnchor:"end",verticalAnchor:"end"},H):Wr({x:v,y:a+u/2,textAnchor:"middle",verticalAnchor:"middle"},H)},Uze={angle:0,offset:5,zIndex:Zr.label,position:"middle",textBreakAll:!1};function xf(t){var e=fi(t,Uze),{viewBox:n,position:r,value:i,children:s,content:o,className:a="",textBreakAll:l,labelRef:c}=e,u=Oze(),f=nde(),m=r==="center"?f:u??f,g,x,v;if(n==null?g=m:iD(n)?g=n:g=xle(n),!g||br(i)&&br(s)&&!T.isValidElement(o)&&typeof o!="function")return null;var w=Wr(Wr({},e),{},{viewBox:g});if(T.isValidElement(o)){var{labelRef:E}=w,k=cY(w,Tze);return T.cloneElement(o,k)}if(typeof o=="function"){var{content:I}=w,D=cY(w,Cze);if(x=T.createElement(o,D),T.isValidElement(x))return x}else x=Mze(e);var j=Ss(e);if(iD(g)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Lze(e,r,x,j,g);v=Bze(g,e.offset,e.position)}else v=jze(e,g);return T.createElement(Hs,{zIndex:e.zIndex},T.createElement(hN,ku({ref:c,className:In("recharts-label",a)},j,v,{textAnchor:bze(j.textAnchor)?j.textAnchor:v.textAnchor,breakAll:l}),x))}xf.displayName="Label";var Fze=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(xf,ku({key:"label-implicit"},r)):bc(t)?T.createElement(xf,ku({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===xf?T.cloneElement(t,Wr({key:"label-implicit"},r)):T.createElement(xf,ku({key:"label-implicit",content:t},r)):NB(t)?T.createElement(xf,ku({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(xf,ku({},t,{key:"label-implicit"},r)):null};function zze(t){var{label:e,labelRef:n}=t,r=nde();return Fze(e,r,n)||null}var p3={},m3={},dY;function $ze(){return dY||(dY=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(m3)),m3}var g3={},fY;function Hze(){return fY||(fY=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(g3)),g3}var hY;function Vze(){return hY||(hY=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$ze(),n=Hze(),r=i6();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(p3)),p3}var y3,pY;function Gze(){return pY||(pY=1,y3=Vze().last),y3}var qze=Gze();const Kze=ts(qze);var Wze=["valueAccessor"],Yze=["dataKey","clockWise","id","textBreakAll","zIndex"];function VC(){return VC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VC.apply(null,arguments)}function mY(t,e){if(t==null)return{};var n,r,i=Jze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jze(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xze=t=>Array.isArray(t.value)?Kze(t.value):t.value,rde=T.createContext(void 0),IB=rde.Provider,ide=T.createContext(void 0),Qze=ide.Provider;function Zze(){return T.useContext(rde)}function e$e(){return T.useContext(ide)}function pT(t){var{valueAccessor:e=Xze}=t,n=mY(t,Wze),{dataKey:r,clockWise:i,id:s,textBreakAll:o,zIndex:a}=n,l=mY(n,Yze),c=Zze(),u=e$e(),f=c||u;return!f||!f.length?null:T.createElement(Hs,{zIndex:a??Zr.label},T.createElement(Vr,{className:"recharts-label-list"},f.map((m,g)=>{var x,v=br(r)?e(m,g):qn(m&&m.payload,r),w=br(s)?{}:{id:"".concat(s,"-").concat(g)};return T.createElement(xf,VC({key:"label-".concat(g)},Ss(m),l,w,{fill:(x=n.fill)!==null&&x!==void 0?x:m.fill,parentViewBox:m.parentViewBox,value:v,textBreakAll:o,viewBox:m.viewBox,index:g,zIndex:0}))})))}pT.displayName="LabelList";function pN(t){var{label:e}=t;return e?e===!0?T.createElement(pT,{key:"labelList-implicit"}):T.isValidElement(e)||NB(e)?T.createElement(pT,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(pT,VC({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function sD(){return sD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sD.apply(null,arguments)}var sde=t=>{var{cx:e,cy:n,r,className:i}=t,s=In("recharts-dot",i);return bt(e)&&bt(n)&&bt(r)?T.createElement("circle",sD({},Us(t),r6(t),{className:s,cx:e,cy:n,r})):null},ode=t=>t.graphicalItems.polarItems,t$e=Me([Nr,Gw],X6),mN=Me([ode,Dr,t$e],Q6),n$e=Me([mN],Z6),gN=Me([n$e,eN],eB),r$e=Me([gN,Dr,mN],nB);Me([gN,Dr,mN],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,o=qn(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:qn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var gY=()=>{},i$e=Me([gN,Dr,mN,lN,Nr],oB),s$e=Me([Dr,iB,sB,gY,i$e,gY,En,Nr],aB),ade=Me([Dr,En,gN,r$e,Vw,Nr,s$e],lB),o$e=Me([ade,Dr,Fx],dB);Me([Dr,ade,o$e,Nr],hB);var a$e={radiusAxis:{},angleAxis:{}},lde=co({name:"polarAxis",initialState:a$e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Lgt,removeRadiusAxis:Bgt,addAngleAxis:jgt,removeAngleAxis:Ugt}=lde.actions,l$e=lde.reducer;function yY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yY(Object(n),!0).forEach(function(r){c$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c$e(t,e,n){return(e=u$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u$e(t){var e=d$e(t,"string");return typeof e=="symbol"?e:e+""}function d$e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f$e=(t,e)=>e,PB=Me([ode,f$e],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),h$e=[],_B=(t,e,n)=>(n==null?void 0:n.length)===0?h$e:n,cde=Me([eN,PB,_B],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>xY(xY({},e.presentationProps),s.props))),i!=null)return i}}),p$e=Me([cde,PB,_B],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,o=qn(r,e.nameKey,e.name),a;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?a=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?a=r.fill:a=e.fill,{value:xh(o,e.dataKey),color:a,payload:r,type:e.legendType}})}),m$e=Me([cde,PB,_B,yi],(t,e,n,r)=>{if(!(e==null||t==null))return yHe({offset:r,pieSettings:e,displayedData:t,cells:n})}),x3={exports:{}},er={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vY;function g$e(){if(vY)return er;vY=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function x(v){if(typeof v=="object"&&v!==null){var w=v.$$typeof;switch(w){case t:switch(v=v.type,v){case n:case i:case r:case l:case c:case m:return v;default:switch(v=v&&v.$$typeof,v){case o:case a:case f:case u:return v;case s:return v;default:return w}}case e:return w}}}return er.ContextConsumer=s,er.ContextProvider=o,er.Element=t,er.ForwardRef=a,er.Fragment=n,er.Lazy=f,er.Memo=u,er.Portal=e,er.Profiler=i,er.StrictMode=r,er.Suspense=l,er.SuspenseList=c,er.isContextConsumer=function(v){return x(v)===s},er.isContextProvider=function(v){return x(v)===o},er.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},er.isForwardRef=function(v){return x(v)===a},er.isFragment=function(v){return x(v)===n},er.isLazy=function(v){return x(v)===f},er.isMemo=function(v){return x(v)===u},er.isPortal=function(v){return x(v)===e},er.isProfiler=function(v){return x(v)===i},er.isStrictMode=function(v){return x(v)===r},er.isSuspense=function(v){return x(v)===l},er.isSuspenseList=function(v){return x(v)===c},er.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===n||v===i||v===r||v===l||v===c||typeof v=="object"&&v!==null&&(v.$$typeof===f||v.$$typeof===u||v.$$typeof===o||v.$$typeof===s||v.$$typeof===a||v.$$typeof===g||v.getModuleId!==void 0)},er.typeOf=x,er}var bY;function y$e(){return bY||(bY=1,x3.exports=g$e()),x3.exports}var x$e=y$e(),wY=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",EY=null,v3=null,ude=t=>{if(t===EY&&Array.isArray(v3))return v3;var e=[];return T.Children.forEach(t,n=>{br(n)||(x$e.isFragment(n)?e=e.concat(ude(n.props.children)):e.push(n))}),v3=e,EY=t,e};function RB(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>wY(i)):r=[wY(e)],ude(t).forEach(i=>{var s=gm(i,"type.displayName")||gm(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var OB=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,b3={},SY;function v$e(){return SY||(SY=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(b3)),b3}var w3,AY;function b$e(){return AY||(AY=1,w3=v$e().isPlainObject),w3}var w$e=b$e();const E$e=ts(w$e);var TY,CY,kY,NY,IY;function PY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _Y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PY(Object(n),!0).forEach(function(r){S$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S$e(t,e,n){return(e=A$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A$e(t){var e=T$e(t,"string");return typeof e=="symbol"?e:e+""}function T$e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GC(){return GC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GC.apply(null,arguments)}function ab(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var RY=(t,e,n,r,i)=>{var s=n-r,o;return o=Fr(TY||(TY=ab(["M ",",",""])),t,e),o+=Fr(CY||(CY=ab(["L ",",",""])),t+n,e),o+=Fr(kY||(kY=ab(["L ",",",""])),t+n-s/2,e+i),o+=Fr(NY||(NY=ab(["L ",",",""])),t+n-s/2-r,e+i),o+=Fr(IY||(IY=ab(["L ",","," Z"])),t,e),o},C$e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},k$e=t=>{var e=fi(t,C$e),{x:n,y:r,upperWidth:i,lowerWidth:s,height:o,className:a}=e,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=e,m=T.useRef(null),[g,x]=T.useState(-1),v=T.useRef(i),w=T.useRef(s),E=T.useRef(o),k=T.useRef(n),I=T.useRef(r),D=Mx(t,"trapezoid-");if(T.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var A=m.current.getTotalLength();A&&x(A)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||o!==+o||i===0&&s===0||o===0)return null;var j=In("recharts-trapezoid",a);if(!f)return T.createElement("g",null,T.createElement("path",GC({},Ss(e),{className:j,d:RY(n,r,i,s,o)})));var M=v.current,U=w.current,V=E.current,F=k.current,z=I.current,K="0px ".concat(g===-1?1:g,"px"),H="".concat(g,"px 0px"),B=Ole(["strokeDasharray"],c,l);return T.createElement(Ox,{animationId:D,key:D,canBegin:g>0,duration:c,easing:l,isActive:f,begin:u},A=>{var P=Hn(M,i,A),R=Hn(U,s,A),$=Hn(V,o,A),q=Hn(F,n,A),te=Hn(z,r,A);m.current&&(v.current=P,w.current=R,E.current=$,k.current=q,I.current=te);var Y=A>0?{transition:B,strokeDasharray:H}:{strokeDasharray:K};return T.createElement("path",GC({},Ss(e),{className:j,d:RY(q,te,P,R,$),ref:m,style:_Y(_Y({},Y),e.style)}))})},N$e=["option","shapeType","activeClassName"];function I$e(t,e){if(t==null)return{};var n,r,i=P$e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function P$e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function OY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OY(Object(n),!0).forEach(function(r){_$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _$e(t,e,n){return(e=R$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R$e(t){var e=O$e(t,"string");return typeof e=="symbol"?e:e+""}function O$e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M$e(t,e){return qC(qC({},e),t)}function D$e(t,e){return t==="symbols"}function MY(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return T.createElement(Ble,n);case"trapezoid":return T.createElement(k$e,n);case"sector":return T.createElement(zle,n);case"symbols":if(D$e(e))return T.createElement(xae,n);break;case"curve":return T.createElement(Bg,n);default:return null}}function L$e(t){return T.isValidElement(t)?t.props:t}function MB(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=I$e(t,N$e),s;if(T.isValidElement(e))s=T.cloneElement(e,qC(qC({},i),L$e(e)));else if(typeof e=="function")s=e(i,i.index);else if(E$e(e)&&typeof e!="boolean"){var o=M$e(e,i);s=T.createElement(MY,{shapeType:n,elementProps:o})}else{var a=i;s=T.createElement(MY,{shapeType:n,elementProps:a})}return i.isActive?T.createElement(Vr,{className:r},s):s}var DB=(t,e,n)=>{var r=kr();return(i,s)=>o=>{t==null||t(i,s,o),r(Sue({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},LB=t=>{var e=kr();return(n,r)=>i=>{t==null||t(n,r,i),e(GUe())}},BB=(t,e,n)=>{var r=kr();return(i,s)=>o=>{t==null||t(i,s,o),r(qUe({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function yN(t){var{tooltipEntrySettings:e}=t,n=kr(),r=Mi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(zUe(e)):i.current!==e&&n($Ue({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(HUe(i.current)),i.current=null)},[n]),null}function jB(t){var{legendPayload:e}=t,n=kr(),r=Mi(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Ile(e)):i.current!==e&&n(Ple({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(_le(i.current)),i.current=null)},[n]),null}function B$e(t){var{legendPayload:e}=t,n=kr(),r=_t(En),i=T.useRef(null);return T.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(Ile(e)):i.current!==e&&n(Ple({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(_le(i.current)),i.current=null)},[n]),null}var E3,j$e=()=>{var[t]=T.useState(()=>w1("uid-"));return t},U$e=(E3=$2.useId)!==null&&E3!==void 0?E3:j$e;function F$e(t,e){var n=U$e();return e||(t?"".concat(t,"-").concat(n):n)}var z$e=T.createContext(void 0),xN=t=>{var{id:e,type:n,children:r}=t,i=F$e("recharts-".concat(n),e);return T.createElement(z$e.Provider,{value:i},r(i))},$$e={cartesianItems:[],polarItems:[]},dde=co({name:"graphicalItems",initialState:$$e,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Sr()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ul(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Sr()},removeCartesianGraphicalItem:{reducer(t,e){var n=ul(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Sr()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Sr()},removePolarGraphicalItem:{reducer(t,e){var n=ul(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Sr()}}}),{addCartesianGraphicalItem:H$e,replaceCartesianGraphicalItem:V$e,removeCartesianGraphicalItem:G$e,addPolarGraphicalItem:q$e,removePolarGraphicalItem:K$e}=dde.actions,W$e=dde.reducer,Y$e=t=>{var e=kr(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(H$e(t)):n.current!==t&&e(V$e({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(G$e(n.current)),n.current=null)},[e]),null},UB=T.memo(Y$e);function J$e(t){var e=kr();return T.useLayoutEffect(()=>(e(q$e(t)),()=>{e(K$e(t))}),[e,t]),null}var X$e=["key"],Q$e=["onMouseEnter","onClick","onMouseLeave"],Z$e=["id"],eHe=["id"];function DY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DY(Object(n),!0).forEach(function(r){tHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tHe(t,e,n){return(e=nHe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nHe(t){var e=rHe(t,"string");return typeof e=="symbol"?e:e+""}function rHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(null,arguments)}function vN(t,e){if(t==null)return{};var n,r,i=iHe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iHe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sHe(t){var e=T.useMemo(()=>RB(t.children,Vx),[t.children]),n=_t(r=>p$e(r,t.id,e));return n==null?null:T.createElement(B$e,{legendPayload:n})}var oHe=T.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:o,name:a,hide:l,tooltipType:c,id:u}=t,f={dataDefinedOnItem:r.map(m=>m.tooltipPayload),positions:r.map(m=>m.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:o,dataKey:e,nameKey:n,name:xh(a,e),hide:l,type:c,color:o,unit:"",graphicalItemId:u}};return T.createElement(yN,{tooltipEntrySettings:f})}),aHe=(t,e)=>t>e?"start":t<e?"end":"middle",lHe=(t,e,n)=>ws(typeof e=="function"?e(t):e,n,n*.8),cHe=(t,e,n)=>{var{top:r,left:i,width:s,height:o}=e,a=jle(s,o),l=i+ws(t.cx,s,s/2),c=r+ws(t.cy,o,o/2),u=ws(t.innerRadius,a,0),f=lHe(n,t.outerRadius,a),m=t.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:m}},uHe=(t,e)=>{var n=Ri(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function dHe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var fHe=(t,e)=>{if(T.isValidElement(t))return T.cloneElement(t,e);if(typeof t=="function")return t(e);var n=In("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=vN(e,X$e);return T.createElement(Bg,lh({},i,{type:"linear",className:n}))},hHe=(t,e,n)=>{if(T.isValidElement(t))return T.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),T.isValidElement(r)))return r;var i=In("recharts-pie-label-text",dHe(t));return T.createElement(hN,lh({},e,{alignmentBaseline:"middle",className:i}),r)};function pHe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:o}=n;if(!r||!i||!e)return null;var a=Us(n),l=pm(i),c=pm(s),u=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=e.map((m,g)=>{var x=(m.startAngle+m.endAngle)/2,v=ui(m.cx,m.cy,m.outerRadius+u,x),w=Hr(Hr(Hr(Hr({},a),m),{},{stroke:"none"},l),{},{index:g,textAnchor:aHe(v.x,m.cx)},v),E=Hr(Hr(Hr(Hr({},a),m),{},{fill:"none",stroke:m.fill},c),{},{index:g,points:[ui(m.cx,m.cy,m.outerRadius,x),v],key:"line"});return T.createElement(Hs,{zIndex:Zr.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},T.createElement(Vr,null,s&&fHe(s,E),hHe(i,w,qn(m,o))))});return T.createElement(Vr,{className:"recharts-pie-labels"},f)}function mHe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?T.createElement(pN,{label:i}):T.createElement(pHe,{sectors:e,props:n,showLabels:r})}function gHe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:o}=t,a=_t(ah),l=_t(EB),c=_t(_Fe),{onMouseEnter:u,onClick:f,onMouseLeave:m}=i,g=vN(i,Q$e),x=DB(u,i.dataKey,o),v=LB(m),w=BB(f,i.dataKey,o);return e==null||e.length===0?null:T.createElement(T.Fragment,null,e.map((E,k)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var I=c==null||c===o,D=String(k)===a&&(l==null||i.dataKey===l)&&I,j=a?r:null,M=n&&D?n:j,U=Hr(Hr({},E),{},{stroke:E.stroke,tabIndex:-1,[hle]:k,[ple]:o});return T.createElement(Vr,lh({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},Ik(g,E,k),{onMouseEnter:x(E,k),onMouseLeave:v(E,k),onClick:w(E,k)}),T.createElement(MB,lh({option:s??M,index:k,shapeType:"sector",isActive:D},U)))}))}function yHe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:o,startAngle:a,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=n,m=Math.abs(n.minAngle),g=uHe(a,l),x=Math.abs(g),v=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,w=r.filter(M=>qn(M,c,0)!==0).length,E=(x>=360?w:w-1)*v,k=x-w*m-E,I=r.reduce((M,U)=>{var V=qn(U,c,0);return M+(bt(V)?V:0)},0),D;if(I>0){var j;D=r.map((M,U)=>{var V=qn(M,c,0),F=qn(M,u,U),z=cHe(n,s,M),K=(bt(V)?V:0)/I,H,B=Hr(Hr({},M),i&&i[U]&&i[U].props);U?H=j.endAngle+Ri(g)*v*(V!==0?1:0):H=a;var A=H+Ri(g)*((V!==0?m:0)+K*k),P=(H+A)/2,R=(z.innerRadius+z.outerRadius)/2,$=[{name:F,value:V,payload:B,dataKey:c,type:f,graphicalItemId:n.id}],q=ui(z.cx,z.cy,R,P);return j=Hr(Hr(Hr(Hr({},n.presentationProps),{},{percent:K,cornerRadius:typeof o=="string"?parseFloat(o):o,name:F,tooltipPayload:$,midAngle:P,middleRadius:R,tooltipPosition:q},B),z),{},{value:V,dataKey:c,startAngle:H,endAngle:A,payload:B,paddingAngle:Ri(g)*v}),j})}return D}function xHe(t){var{showLabels:e,sectors:n,children:r}=t,i=T.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return T.createElement(Qze,{value:e?i:void 0},r)}function vHe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:o,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:f,onAnimationEnd:m}=e,g=Mx(e,"recharts-pie-"),x=n.current,[v,w]=T.useState(!1),E=T.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),k=T.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return T.createElement(xHe,{showLabels:!v,sectors:i},T.createElement(Ox,{animationId:g,begin:o,duration:a,isActive:s,easing:l,onAnimationStart:k,onAnimationEnd:E,key:g},I=>{var D=[],j=i&&i[0],M=j==null?void 0:j.startAngle;return i==null||i.forEach((U,V)=>{var F=x&&x[V],z=V>0?gm(U,"paddingAngle",0):0;if(F){var K=Hn(F.endAngle-F.startAngle,U.endAngle-U.startAngle,I),H=Hr(Hr({},U),{},{startAngle:M+z,endAngle:M+K+z});D.push(H),M=H.endAngle}else{var{endAngle:B,startAngle:A}=U,P=Hn(0,B-A,I),R=Hr(Hr({},U),{},{startAngle:M+z,endAngle:M+P+z});D.push(R),M=R.endAngle}}),n.current=D,T.createElement(Vr,null,T.createElement(gHe,{sectors:D,activeShape:c,inactiveShape:u,allOtherPieProps:e,shape:e.shape,id:r}))}),T.createElement(mHe,{showLabels:!v,sectors:i,props:e}),e.children)}var bHe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Zr.area};function wHe(t){var{id:e}=t,n=vN(t,Z$e),{hide:r,className:i,rootTabIndex:s}=t,o=T.useMemo(()=>RB(t.children,Vx),[t.children]),a=_t(u=>m$e(u,e,o)),l=T.useRef(null),c=In("recharts-pie",i);return r||a==null?(l.current=null,T.createElement(Vr,{tabIndex:s,className:c})):T.createElement(Hs,{zIndex:t.zIndex},T.createElement(oHe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:a,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),T.createElement(Vr,{tabIndex:s,className:c},T.createElement(vHe,{props:Hr(Hr({},n),{},{sectors:a}),previousSectorsRef:l,id:e})))}function FB(t){var e=fi(t,bHe),{id:n}=e,r=vN(e,eHe),i=Us(r);return T.createElement(xN,{id:n,type:"pie"},s=>T.createElement(T.Fragment,null,T.createElement(J$e,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),T.createElement(sHe,lh({},r,{id:s})),T.createElement(wHe,lh({},r,{id:s}))))}FB.displayName="Pie";var EHe=["points"];function LY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LY(Object(n),!0).forEach(function(r){SHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SHe(t,e,n){return(e=AHe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AHe(t){var e=THe(t,"string");return typeof e=="symbol"?e:e+""}function THe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KC(){return KC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KC.apply(null,arguments)}function CHe(t,e){if(t==null)return{};var n,r,i=kHe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kHe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function NHe(t){var{option:e,dotProps:n,className:r}=t;if(T.isValidElement(e))return T.cloneElement(e,n);if(typeof e=="function")return e(n);var i=In(r,typeof e!="boolean"?e.className:""),s=n??{},{points:o}=s,a=CHe(s,EHe);return T.createElement(sde,KC({},a,{className:i}))}function IHe(t,e){return t==null?!1:e?!0:t.length===1}function fde(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:o,needClip:a,clipPathId:l,zIndex:c=Zr.scatter}=t;if(!IHe(e,n))return null;var u=OB(n),f=yMe(n),m=e.map((x,v)=>{var w,E,k=S3(S3(S3({r:3},o),f),{},{index:v,cx:(w=x.x)!==null&&w!==void 0?w:void 0,cy:(E=x.y)!==null&&E!==void 0?E:void 0,dataKey:s,value:x.value,payload:x.payload,points:e});return T.createElement(NHe,{key:"dot-".concat(v),option:n,dotProps:k,className:i})}),g={};return a&&l!=null&&(g.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(l,")")),T.createElement(Hs,{zIndex:c},T.createElement(Vr,KC({className:r},g),m))}function BY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BY(Object(n),!0).forEach(function(r){PHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PHe(t,e,n){return(e=_He(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _He(t){var e=RHe(t,"string");return typeof e=="symbol"?e:e+""}function RHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hde=0,OHe={xAxis:{},yAxis:{},zAxis:{}},pde=co({name:"cartesianAxis",initialState:OHe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Sr()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Sr()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Sr()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Sr()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Sr()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Sr()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Sr()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Sr()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Sr()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var o=[...s,r].slice(-3);t.yAxis[n]=jY(jY({},t.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:MHe,replaceXAxis:DHe,removeXAxis:LHe,addYAxis:BHe,replaceYAxis:jHe,removeYAxis:UHe,addZAxis:Fgt,replaceZAxis:zgt,removeZAxis:$gt,updateYAxisWidth:FHe}=pde.actions,zHe=pde.reducer,$He=Me([yi],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),HHe=Me([$He,xd,vd],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),bN=()=>_t(HHe),VHe=()=>_t(LFe);function UY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UY(Object(n),!0).forEach(function(r){GHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GHe(t,e,n){return(e=qHe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qHe(t){var e=KHe(t,"string");return typeof e=="symbol"?e:e+""}function KHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WHe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:o}=t;if(i===!1||e.x==null||e.y==null)return null;var a={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=A3(A3(A3({},a),pm(i)),r6(i)),c;return T.isValidElement(i)?c=T.cloneElement(i,l):typeof i=="function"?c=i(l):c=T.createElement(sde,l),T.createElement(Vr,{className:"recharts-active-dot",clipPath:o},c)};function oD(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:o=Zr.activeDot}=t,a=_t(ah),l=VHe();if(e==null||l==null)return null;var c=e.find(u=>l.includes(u.payload));return br(c)?null:T.createElement(Hs,{zIndex:o},T.createElement(WHe,{point:c,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var FY=(t,e,n)=>{var r=n??t;if(!br(r))return ws(r,e,0)},YHe=(t,e,n)=>{var r={},i=t.filter(iN),s=t.filter(c=>c.stackId==null),o=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),r),a=Object.entries(o).map(c=>{var[u,f]=c,m=f.map(x=>x.dataKey),g=FY(e,n,f[0].barSize);return{stackId:u,dataKeys:m,barSize:g}}),l=s.map(c=>{var u=[c.dataKey].filter(m=>m!=null),f=FY(e,n,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...a,...l]};function zY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zY(Object(n),!0).forEach(function(r){JHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JHe(t,e,n){return(e=XHe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XHe(t){var e=QHe(t,"string");return typeof e=="symbol"?e:e+""}function QHe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZHe(t,e,n,r,i){var s=r.length;if(!(s<1)){var o=ws(t,n,0,!0),a,l=[];if(cr(r[0].barSize)){var c=!1,u=n/s,f=r.reduce((E,k)=>E+(k.barSize||0),0);f+=(s-1)*o,f>=n&&(f-=(s-1)*o,o=0),f>=n&&u>0&&(c=!0,u*=.9,f=s*u);var m=(n-f)/2>>0,g={offset:m-o,size:0};a=r.reduce((E,k)=>{var I,D={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:g.offset+g.size+o,size:c?u:(I=k.barSize)!==null&&I!==void 0?I:0}},j=[...E,D];return g=j[j.length-1].position,j},l)}else{var x=ws(e,n,0,!0);n-2*x-(s-1)*o<=0&&(o=0);var v=(n-2*x-(s-1)*o)/s;v>1&&(v>>=0);var w=cr(i)?Math.min(v,i):v;a=r.reduce((E,k,I)=>[...E,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:x+(v+o)*I+(v-w)/2,size:w}}],l)}return a}}var eVe=(t,e,n,r,i,s,o)=>{var a=br(o)?e:o,l=ZHe(n,r,i!==s?i:s,t,a);return i!==s&&l!=null&&(l=l.map(c=>dA(dA({},c),{},{position:dA(dA({},c.position),{},{offset:c.position.offset-i/2})}))),l},tVe=(t,e)=>{var n=rN(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(o=>o.key===n)}}}};function nVe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&cr(t.zIndex)?t.zIndex:e}var mde=t=>{var{chartData:e}=t,n=kr(),r=Mi();return T.useEffect(()=>r?()=>{}:(n(WW(e)),()=>{n(WW(void 0))}),[e,n,r]),null},$Y={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gde=co({name:"brush",initialState:$Y,reducers:{setBrushSettings(t,e){return e.payload==null?$Y:e.payload}}}),{setBrushSettings:Hgt}=gde.actions,rVe=gde.reducer;function iVe(t,e,n){return(e=sVe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sVe(t){var e=oVe(t,"string");return typeof e=="symbol"?e:e+""}function oVe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zB{static create(e){return new zB(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}iVe(zB,"EPS",1e-4);function aVe(t){return(t%180+180)%180}var lVe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=aVe(i),o=s*Math.PI/180,a=Math.atan(r/n),l=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},cVe={dots:[],areas:[],lines:[]},yde=co({name:"referenceElements",initialState:cVe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ul(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ul(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ul(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Vgt,removeDot:Ggt,addArea:qgt,removeArea:Kgt,addLine:Wgt,removeLine:Ygt}=yde.actions,uVe=yde.reducer,dVe=T.createContext(void 0),fVe=t=>{var{children:e}=t,[n]=T.useState("".concat(w1("recharts"),"-clip")),r=bN();if(r==null)return null;var{x:i,y:s,width:o,height:a}=r;return T.createElement(dVe.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:s,height:a,width:o}))),e)};function xde(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function hVe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return lVe(r,n)}function pVe(t,e,n){var r=n==="width",{x:i,y:s,width:o,height:a}=t;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function L1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function mVe(t,e){return xde(t,e+1)}function gVe(t,e,n,r,i){for(var s=(r||[]).slice(),{start:o,end:a}=e,l=0,c=1,u=o,f=function(){var x=r==null?void 0:r[l];if(x===void 0)return{v:xde(r,c)};var v=l,w,E=()=>(w===void 0&&(w=n(x,v)),w),k=x.coordinate,I=l===0||L1(t,k,E,u,a);I||(l=0,u=o,c+=1),I&&(u=k+t*(E()/2+i),l+=c)},m;c<=s.length;)if(m=f(),m)return m.v;return[]}function yVe(t,e,n,r,i){var s=(r||[]).slice(),o=s.length;if(o===0)return[];for(var{start:a,end:l}=e,c=1;c<=o;c++){for(var u=(o-1)%c,f=a,m=!0,g=function(){var k=r[x],I=x,D,j=()=>(D===void 0&&(D=n(k,I)),D),M=k.coordinate,U=x===u||L1(t,M,j,f,l);if(!U)return m=!1,1;U&&(f=M+t*(j()/2+i))},x=u;x<o&&!g();x+=c);if(m){for(var v=[],w=u;w<o;w+=c)v.push(r[w]);return v}}return[]}function HY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HY(Object(n),!0).forEach(function(r){xVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xVe(t,e,n){return(e=vVe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vVe(t){var e=bVe(t,"string");return typeof e=="symbol"?e:e+""}function bVe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wVe(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,{start:a}=e,{end:l}=e,c=function(m){var g=s[m],x,v=()=>(x===void 0&&(x=n(g,m)),x);if(m===o-1){var w=t*(g.coordinate+t*v()/2-l);s[m]=g=hs(hs({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate})}else s[m]=g=hs(hs({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var E=L1(t,g.tickCoord,v,a,l);E&&(l=g.tickCoord-t*(v()/2+i),s[m]=hs(hs({},g),{},{isShow:!0}))}},u=o-1;u>=0;u--)c(u);return s}function EVe(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,{start:l,end:c}=e;if(s){var u=r[a-1],f=n(u,a-1),m=t*(u.coordinate+t*f/2-c);if(o[a-1]=u=hs(hs({},u),{},{tickCoord:m>0?u.coordinate-m*t:u.coordinate}),u.tickCoord!=null){var g=L1(t,u.tickCoord,()=>f,l,c);g&&(c=u.tickCoord-t*(f/2+i),o[a-1]=hs(hs({},u),{},{isShow:!0}))}}for(var x=s?a-1:a,v=function(k){var I=o[k],D,j=()=>(D===void 0&&(D=n(I,k)),D);if(k===0){var M=t*(I.coordinate-t*j()/2-l);o[k]=I=hs(hs({},I),{},{tickCoord:M<0?I.coordinate-M*t:I.coordinate})}else o[k]=I=hs(hs({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var U=L1(t,I.tickCoord,j,l,c);U&&(l=I.tickCoord+t*(j()/2+i),o[k]=hs(hs({},I),{},{isShow:!0}))}},w=0;w<x;w++)v(w);return o}function $B(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:o,orientation:a,interval:l,tickFormatter:c,unit:u,angle:f}=t;if(!i||!i.length||!r)return[];if(bt(l)||Uw.isSsr){var m;return(m=mVe(i,bt(l)?l:0))!==null&&m!==void 0?m:[]}var g=[],x=a==="top"||a==="bottom"?"width":"height",v=u&&x==="width"?$b(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=(I,D)=>{var j=typeof c=="function"?c(I.value,D):I.value;return x==="width"?hVe($b(j,{fontSize:e,letterSpacing:n}),v,f):$b(j,{fontSize:e,letterSpacing:n})[x]},E=i.length>=2?Ri(i[1].coordinate-i[0].coordinate):1,k=pVe(s,E,x);return l==="equidistantPreserveStart"?gVe(E,k,w,i,o):l==="equidistantPreserveEnd"?yVe(E,k,w,i,o):(l==="preserveStart"||l==="preserveStartEnd"?g=EVe(E,k,w,i,o,l==="preserveStartEnd"):g=wVe(E,k,w,i,o),g.filter(I=>I.isShow))}var SVe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,o=0;if(e){Array.from(e).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>o&&(o=f.width)}});var a=n?n.getBoundingClientRect().width:0,l=i+s,c=o+l+a+(n?r:0);return Math.round(c)}return 0},AVe=["axisLine","width","height","className","hide","ticks","axisType"];function TVe(t,e){if(t==null)return{};var n,r,i=CVe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function CVe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(null,arguments)}function VY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VY(Object(n),!0).forEach(function(r){kVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kVe(t,e,n){return(e=NVe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NVe(t){var e=IVe(t,"string");return typeof e=="symbol"?e:e+""}function IVe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hu={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Zr.axis};function PVe(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:o,axisLine:a,otherSvgProps:l}=t;if(!a)return null;var c=ai(ai(ai({},l),Us(a)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!o||s==="bottom"&&o);c=ai(ai({},c),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var f=+(s==="left"&&!o||s==="right"&&o);c=ai(ai({},c),{},{x1:e+f*r,y1:n,x2:e+f*r,y2:n+i})}return T.createElement("line",wm({},c,{className:In("recharts-cartesian-axis-line",gm(a,"className"))}))}function _Ve(t,e,n,r,i,s,o,a,l){var c,u,f,m,g,x,v=a?-1:1,w=t.tickSize||o,E=bt(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":c=u=t.coordinate,m=n+ +!a*i,f=m-v*w,x=f-v*l,g=E;break;case"left":f=m=t.coordinate,u=e+ +!a*r,c=u-v*w,g=c-v*l,x=E;break;case"right":f=m=t.coordinate,u=e+ +a*r,c=u+v*w,g=c+v*l,x=E;break;default:c=u=t.coordinate,m=n+ +a*i,f=m+v*w,x=f+v*l,g=E;break}return{line:{x1:c,y1:f,x2:u,y2:m},tick:{x:g,y:x}}}function RVe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function OVe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function MVe(t){var{option:e,tickProps:n,value:r}=t,i,s=In(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,ai(ai({},n),{},{className:s}));else if(typeof e=="function")i=e(ai(ai({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=In(o,e==null?void 0:e.className)),i=T.createElement(hN,wm({},n,{className:o}),r)}return i}var DVe=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:o,unit:a,padding:l,tickTextProps:c,orientation:u,mirror:f,x:m,y:g,width:x,height:v,tickSize:w,tickMargin:E,fontSize:k,letterSpacing:I,getTicksConfig:D,events:j,axisType:M}=t,U=$B(ai(ai({},D),{},{ticks:n}),k,I),V=RVe(u,f),F=OVe(u,f),z=Us(D),K=pm(r),H={};typeof i=="object"&&(H=i);var B=ai(ai({},z),{},{fill:"none"},H),A=U.map($=>ai({entry:$},_Ve($,m,g,x,v,u,w,f,E))),P=A.map($=>{var{entry:q,line:te}=$;return T.createElement(Vr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},i&&T.createElement("line",wm({},B,te,{className:In("recharts-cartesian-axis-tick-line",gm(i,"className"))})))}),R=A.map(($,q)=>{var{entry:te,tick:Y}=$,G=ai(ai(ai(ai({textAnchor:V,verticalAnchor:F},z),{},{stroke:"none",fill:s},K),Y),{},{index:q,payload:te,visibleTicksCount:U.length,tickFormatter:o,padding:l},c);return T.createElement(Vr,wm({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},Ik(j,te,q)),r&&T.createElement(MVe,{option:r,tickProps:G,value:"".concat(typeof o=="function"?o(te.value,q):te.value).concat(a||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},R.length>0&&T.createElement(Hs,{zIndex:Zr.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:e},R)),P.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},P))}),LVe=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:o,ticks:a,axisType:l}=t,c=TVe(t,AVe),[u,f]=T.useState(""),[m,g]=T.useState(""),x=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return SVe({ticks:x.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var v=T.useCallback(w=>{if(w){var E=w.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=E;var k=E[0];if(k){var I=window.getComputedStyle(k),D=I.fontSize,j=I.letterSpacing;(D!==u||j!==m)&&(f(D),g(j))}}},[u,m]);return o||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(Hs,{zIndex:t.zIndex},T.createElement(Vr,{className:In("recharts-cartesian-axis",s)},T.createElement(PVe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Us(t)}),T.createElement(DVe,{ref:v,axisType:l,events:c,fontSize:u,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:a,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(_ze,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(zze,{label:t.label,labelRef:t.labelRef}),t.children)))}),HB=T.forwardRef((t,e)=>{var n=fi(t,Hu);return T.createElement(LVe,wm({},n,{ref:e}))});HB.displayName="CartesianAxis";var BVe=["x1","y1","x2","y2","key"],jVe=["offset"],UVe=["xAxisId","yAxisId"],FVe=["xAxisId","yAxisId"];function GY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GY(Object(n),!0).forEach(function(r){zVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zVe(t,e,n){return(e=$Ve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ve(t){var e=HVe(t,"string");return typeof e=="symbol"?e:e+""}function HVe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(null,arguments)}function WC(t,e){if(t==null)return{};var n,r,i=VVe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VVe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var GVe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:o,ry:a}=t;return T.createElement("rect",{x:r,y:i,ry:a,width:s,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vde(t){var{option:e,lineItemProps:n}=t,r;if(T.isValidElement(e))r=T.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:o,x2:a,y2:l,key:c}=n,u=WC(n,BVe),f=(i=Us(u))!==null&&i!==void 0?i:{},{offset:m}=f,g=WC(f,jVe);r=T.createElement("line",wp({},g,{x1:s,y1:o,x2:a,y2:l,fill:"none",key:c}))}return r}function qVe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=t,a=WC(t,UVe),l=i.map((c,u)=>{var f=gs(gs({},a),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(u),index:u});return T.createElement(vde,{key:"line-".concat(u),option:r,lineItemProps:f})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function KVe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=t,a=WC(t,FVe),l=i.map((c,u)=>{var f=gs(gs({},a),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(u),index:u});return T.createElement(vde,{option:r,lineItemProps:f,key:"line-".concat(u)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function WVe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:o,horizontalPoints:a,horizontal:l=!0}=t;if(!l||!e||!e.length||a==null)return null;var c=a.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==c[0]&&c.unshift(0);var u=c.map((f,m)=>{var g=!c[m+1],x=g?i+o-f:c[m+1]-f;if(x<=0)return null;var v=m%e.length;return T.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:x,width:s,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function YVe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:o,height:a,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==c[0]&&c.unshift(0);var u=c.map((f,m)=>{var g=!c[m+1],x=g?i+o-f:c[m+1]-f;if(x<=0)return null;var v=m%n.length;return T.createElement("rect",{key:"react-".concat(m),x:f,y:s,width:x,height:a,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var JVe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return cle($B(gs(gs(gs({},Hu),n),{},{ticks:ule(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},XVe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return cle($B(gs(gs(gs({},Hu),n),{},{ticks:ule(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},QVe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Zr.grid};function B1(t){var e=ble(),n=wle(),r=vle(),i=gs(gs({},fi(t,QVe)),{},{x:bt(t.x)?t.x:r.left,y:bt(t.y)?t.y:r.top,width:bt(t.width)?t.width:r.width,height:bt(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:o,x:a,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:m,verticalValues:g}=i,x=Mi(),v=_t(F=>LW(F,"xAxis",s,x)),w=_t(F=>LW(F,"yAxis",o,x));if(!wc(c)||!wc(u)||!bt(a)||!bt(l))return null;var E=i.verticalCoordinatesGenerator||JVe,k=i.horizontalCoordinatesGenerator||XVe,{horizontalPoints:I,verticalPoints:D}=i;if((!I||!I.length)&&typeof k=="function"){var j=m&&m.length,M=k({yAxis:w?gs(gs({},w),{},{ticks:j?m:w.ticks}):void 0,width:e??c,height:n??u,offset:r},j?!0:f);bC(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(I=M)}if((!D||!D.length)&&typeof E=="function"){var U=g&&g.length,V=E({xAxis:v?gs(gs({},v),{},{ticks:U?g:v.ticks}):void 0,width:e??c,height:n??u,offset:r},U?!0:f);bC(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(D=V)}return T.createElement(Hs,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(GVe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(WVe,wp({},i,{horizontalPoints:I})),T.createElement(YVe,wp({},i,{verticalPoints:D})),T.createElement(qVe,wp({},i,{offset:r,horizontalPoints:I,xAxis:v,yAxis:w})),T.createElement(KVe,wp({},i,{offset:r,verticalPoints:D,xAxis:v,yAxis:w}))))}B1.displayName="CartesianGrid";var ZVe={},bde=co({name:"errorBars",initialState:ZVe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Jgt,replaceErrorBar:Xgt,removeErrorBar:Qgt}=bde.actions,eGe=bde.reducer,tGe=["children"];function nGe(t,e){if(t==null)return{};var n,r,i=rGe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rGe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var iGe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},sGe=T.createContext(iGe);function wde(t){var{children:e}=t,n=nGe(t,tGe);return T.createElement(sGe.Provider,{value:n},e)}function wN(t,e){var n,r,i=_t(c=>Ed(c,t)),s=_t(c=>Sd(c,e)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ei.allowDataOverflow,a=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Si.allowDataOverflow,l=o||a;return{needClip:l,needClipX:o,needClipY:a}}function VB(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=bN(),{needClipX:s,needClipY:o,needClip:a}=wN(e,n);if(!a||!i)return null;var{x:l,y:c,width:u,height:f}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:s?l:l-u/2,y:o?c:c-f/2,width:s?u:u*2,height:o?f:f*2}))}var Ede=(t,e,n,r)=>Ac(t,"xAxis",e,r),Sde=(t,e,n,r)=>Sc(t,"xAxis",e,r),Ade=(t,e,n,r)=>Ac(t,"yAxis",n,r),Tde=(t,e,n,r)=>Sc(t,"yAxis",n,r),oGe=Me([En,Ede,Ade,Sde,Tde],(t,e,n,r,i)=>kc(t,"xAxis")?sh(e,r,!1):sh(n,i,!1)),aGe=(t,e,n,r,i)=>i;function lGe(t){return t.type==="line"}var cGe=Me([Kw,aGe],(t,e)=>t.filter(lGe).find(n=>n.id===e)),uGe=Me([En,Ede,Ade,Sde,Tde,cGe,oGe,z6],(t,e,n,r,i,s,o,a)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=a;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:f,data:m}=s,g;if(m!=null&&m.length>0?g=m:g=l==null?void 0:l.slice(c,u+1),g!=null)return WGe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:o,displayedData:g})}});function Cde(t){var e=pm(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,o=Number(i),a=Number(s);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(a)||a<0)&&(a=r),{r:o,strokeWidth:a}}return{r:n,strokeWidth:r}}var T3={exports:{}},C3={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qY;function dGe(){if(qY)return C3;qY=1;var t=gx();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,a=t.useDebugValue;return C3.useSyncExternalStoreWithSelector=function(l,c,u,f,m){var g=i(null);if(g.current===null){var x={hasValue:!1,value:null};g.current=x}else x=g.current;g=o(function(){function w(j){if(!E){if(E=!0,k=j,j=f(j),m!==void 0&&x.hasValue){var M=x.value;if(m(M,j))return I=M}return I=j}if(M=I,n(k,j))return M;var U=f(j);return m!==void 0&&m(M,U)?(k=j,M):(k=j,I=U)}var E=!1,k,I,D=u===void 0?null:u;return[function(){return w(c())},D===null?void 0:function(){return w(D())}]},[c,u,f,m]);var v=r(l,g[0],g[1]);return s(function(){x.hasValue=!0,x.value=v},[v]),a(v),v},C3}var KY;function fGe(){return KY||(KY=1,T3.exports=dGe()),T3.exports}fGe();function hGe(t){t()}function pGe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){hGe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var WY={notify(){},get:()=>[]};function mGe(t,e){let n,r=WY,i=0,s=!1;function o(v){u();const w=r.subscribe(v);let E=!1;return()=>{E||(E=!0,w(),f())}}function a(){r.notify()}function l(){x.onStateChange&&x.onStateChange()}function c(){return s}function u(){i++,n||(n=t.subscribe(l),r=pGe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=WY)}function m(){s||(s=!0,u())}function g(){s&&(s=!1,f())}const x={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:m,tryUnsubscribe:g,getListeners:()=>r};return x}var gGe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yGe=gGe(),xGe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vGe=xGe(),bGe=()=>yGe||vGe?T.useLayoutEffect:T.useEffect,wGe=bGe();function YY(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function EGe(t,e){if(YY(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!YY(t[n[i]],e[n[i]]))return!1;return!0}var k3=Symbol.for("react-redux-context"),N3=typeof globalThis<"u"?globalThis:{};function SGe(){if(!T.createContext)return{};const t=N3[k3]??(N3[k3]=new Map);let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var AGe=SGe();function TGe(t){const{children:e,context:n,serverState:r,store:i}=t,s=T.useMemo(()=>{const l=mGe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=T.useMemo(()=>i.getState(),[i]);wGe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||AGe;return T.createElement(a.Provider,{value:s},e)}var CGe=TGe,kGe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function NGe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function eE(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(kGe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!EGe(t[r],e[r]))return!1}else if(!NGe(t[r],e[r]))return!1;return!0}var IGe=["id"],PGe=["type","layout","connectNulls","needClip","shape"],_Ge=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function j1(){return j1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j1.apply(null,arguments)}function JY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JY(Object(n),!0).forEach(function(r){RGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RGe(t,e,n){return(e=OGe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OGe(t){var e=MGe(t,"string");return typeof e=="symbol"?e:e+""}function MGe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GB(t,e){if(t==null)return{};var n,r,i=DGe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DGe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LGe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:xh(n,e),payload:t}]},BGe=T.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:o,hide:a,unit:l,tooltipType:c,id:u}=t,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:xh(o,e),hide:a,type:c,color:r,unit:l,graphicalItemId:u}};return T.createElement(yN,{tooltipEntrySettings:f})}),kde=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function jGe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var UGe=(t,e,n)=>{var r=n.reduce((f,m)=>f+m);if(!r)return kde(e,t);for(var i=Math.floor(t/r),s=t%r,o=e-t,a=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>s){a=[...n.slice(0,l),s-c];break}var u=a.length%2===0?[0,o]:[o];return[...jGe(n,i),...a,...u].map(f=>"".concat(f,"px")).join(", ")};function FGe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:o}=r,{id:a}=r,l=GB(r,IGe),c=Us(l);return T.createElement(fde,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:c,needClip:o,clipPathId:e})}function zGe(t){var{showLabels:e,children:n,points:r}=t,i=T.useMemo(()=>r==null?void 0:r.map(s=>{var o,a,l={x:(o=s.x)!==null&&o!==void 0?o:0,y:(a=s.y)!==null&&a!==void 0?a:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Xl(Xl({},l),{},{value:s.value,payload:s.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return T.createElement(IB,{value:e?i:void 0},n)}function XY(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:o,layout:a,connectNulls:l,needClip:c,shape:u}=s,f=GB(s,PGe),m=Xl(Xl({},Ss(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:a,connectNulls:l,strokeDasharray:i??s.strokeDasharray});return T.createElement(T.Fragment,null,(r==null?void 0:r.length)>1&&T.createElement(MB,j1({shapeType:"curve",option:u},m,{pathRef:n})),T.createElement(FGe,{points:r,clipPathId:e,props:s}))}function $Ge(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function HGe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:o,strokeDasharray:a,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:m,width:g,height:x,onAnimationEnd:v,onAnimationStart:w}=n,E=i.current,k=Mx(o,"recharts-line-"),I=T.useRef(k),[D,j]=T.useState(!1),M=!D,U=T.useCallback(()=>{typeof v=="function"&&v(),j(!1)},[v]),V=T.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]),F=$Ge(r.current),z=T.useRef(0);I.current!==k&&(z.current=s.current,I.current=k);var K=z.current;return T.createElement(zGe,{points:o,showLabels:M},n.children,T.createElement(Ox,{animationId:k,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:U,onAnimationStart:V,key:k},H=>{var B=Hn(K,F+K,H),A=Math.min(B,F),P;if(l)if(a){var R="".concat(a).split(/[,\s]+/gim).map(te=>parseFloat(te));P=UGe(A,F,R)}else P=kde(F,A);else P=a==null?void 0:String(a);if(H>0&&F>0&&(i.current=o,s.current=Math.max(s.current,A)),E){var $=E.length/o.length,q=H===1?o:o.map((te,Y)=>{var G=Math.floor(Y*$);if(E[G]){var O=E[G];return Xl(Xl({},te),{},{x:Hn(O.x,te.x,H),y:Hn(O.y,te.y,H)})}return m?Xl(Xl({},te),{},{x:Hn(g*2,te.x,H),y:Hn(x/2,te.y,H)}):Xl(Xl({},te),{},{x:te.x,y:te.y})});return i.current=q,T.createElement(XY,{props:n,points:q,clipPathId:e,pathRef:r,strokeDasharray:P})}return T.createElement(XY,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:P})}),T.createElement(pN,{label:n.label}))}function VGe(t){var{clipPathId:e,props:n}=t,r=T.useRef(null),i=T.useRef(0),s=T.useRef(null);return T.createElement(HGe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var GGe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:qn(t.payload,e)}};class qGe extends T.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:o,top:a,left:l,width:c,height:u,id:f,needClip:m,zIndex:g}=this.props;if(e)return null;var x=In("recharts-line",i),v=f,{r:w,strokeWidth:E}=Cde(n),k=OB(n),I=w*2+E,D=m?"url(#clipPath-".concat(k?"":"dots-").concat(v,")"):void 0;return T.createElement(Hs,{zIndex:g},T.createElement(Vr,{className:x},m&&T.createElement("defs",null,T.createElement(VB,{clipPathId:v,xAxisId:s,yAxisId:o}),!k&&T.createElement("clipPath",{id:"clipPath-dots-".concat(v)},T.createElement("rect",{x:l-I/2,y:a-I/2,width:c+I,height:u+I}))),T.createElement(wde,{xAxisId:s,yAxisId:o,data:r,dataPointFormatter:GGe,errorBarOffset:0},T.createElement(VGe,{props:this.props,clipPathId:v}))),T.createElement(oD,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:D}))}}var Nde={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Zr.line,type:"linear"};function KGe(t){var e=fi(t,Nde),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:a,dot:l,hide:c,isAnimationActive:u,label:f,legendType:m,xAxisId:g,yAxisId:x,id:v}=e,w=GB(e,_Ge),{needClip:E}=wN(g,x),k=bN(),I=vh(),D=Mi(),j=_t(z=>uGe(z,g,x,D,v));if(I!=="horizontal"&&I!=="vertical"||j==null||k==null)return null;var{height:M,width:U,x:V,y:F}=k;return T.createElement(qGe,j1({},w,{id:v,connectNulls:a,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:o,isAnimationActive:u,hide:c,label:f,legendType:m,xAxisId:g,yAxisId:x,points:j,layout:I,height:M,width:U,left:V,top:F,needClip:E}))}function WGe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:o,bandSize:a,displayedData:l}=t;return l.map((c,u)=>{var f=qn(c,o);if(e==="horizontal"){var m=vC({axis:n,ticks:i,bandSize:a,entry:c,index:u}),g=br(f)?null:r.scale(f);return{x:m,y:g,value:f,payload:c}}var x=br(f)?null:n.scale(f),v=vC({axis:r,ticks:s,bandSize:a,entry:c,index:u});return x==null||v==null?null:{x,y:v,value:f,payload:c}}).filter(Boolean)}function YGe(t){var e=fi(t,Nde),n=Mi();return T.createElement(xN,{id:e.id,type:"line"},r=>T.createElement(T.Fragment,null,T.createElement(jB,{legendPayload:LGe(e)}),T.createElement(BGe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),T.createElement(UB,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),T.createElement(KGe,j1({},e,{id:r}))))}var mT=T.memo(YGe,eE);mT.displayName="Line";function Nc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:hde}function Ic(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:hde}var Ide=(t,e,n)=>Ac(t,"xAxis",Nc(t,e),n),Pde=(t,e,n)=>Sc(t,"xAxis",Nc(t,e),n),_de=(t,e,n)=>Ac(t,"yAxis",Ic(t,e),n),Rde=(t,e,n)=>Sc(t,"yAxis",Ic(t,e),n),JGe=Me([En,Ide,_de,Pde,Rde],(t,e,n,r,i)=>kc(t,"xAxis")?sh(e,r,!1):sh(n,i,!1)),XGe=(t,e)=>e,Ode=Me([Kw,XGe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),Mde=t=>{var e=En(t),n=kc(e,"xAxis");return n?"yAxis":"xAxis"},QGe=(t,e)=>{var n=Mde(t);return n==="yAxis"?Ic(t,e):Nc(t,e)},ZGe=(t,e,n)=>FC(t,Mde(t),QGe(t,e),n),eqe=Me([Ode,ZGe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=rN(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,o=s==null?void 0:s.find(a=>a.key===i);if(o!=null)return o.map(a=>[a[0],a[1]])}}}),tqe=Me([En,Ide,_de,Pde,Rde,eqe,Sce,JGe,Ode,Mje],(t,e,n,r,i,s,o,a,l,c)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:m}=o;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{data:g}=l,x;if(g&&g.length>0?x=g:x=u==null?void 0:u.slice(f,m+1),x!=null)return bqe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:f,areaSettings:l,stackedData:s,displayedData:x,chartBaseValue:c,bandSize:a})}}),nqe=["id"],rqe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},em.apply(null,arguments)}function Dde(t,e){if(t==null)return{};var n,r,i=iqe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iqe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function QY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QY(Object(n),!0).forEach(function(r){sqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sqe(t,e,n){return(e=oqe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oqe(t){var e=aqe(t,"string");return typeof e=="symbol"?e:e+""}function aqe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YC(t,e){return t&&t!=="none"?t:e}var lqe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:o}=t;return[{inactive:o,dataKey:e,type:s,color:YC(r,i),value:xh(n,e),payload:t}]},cqe=T.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:o,hide:a,unit:l,tooltipType:c,id:u}=t,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:xh(o,e),hide:a,type:c,color:YC(r,s),unit:l,graphicalItemId:u}};return T.createElement(yN,{tooltipEntrySettings:f})});function uqe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:o}=r,a=Us(r);return T.createElement(fde,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:a,needClip:i,clipPathId:e})}function dqe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var o,a,l={x:(o=s.x)!==null&&o!==void 0?o:0,y:(a=s.y)!==null&&a!==void 0?a:0,width:0,lowerWidth:0,upperWidth:0,height:0};return fg(fg({},l),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return T.createElement(IB,{value:e?i:void 0},n)}function ZY(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:o,type:a,stroke:l,connectNulls:c,isRange:u}=s,{id:f}=s,m=Dde(s,nqe),g=Us(m),x=Ss(m);return T.createElement(T.Fragment,null,(e==null?void 0:e.length)>1&&T.createElement(Vr,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},T.createElement(Bg,em({},x,{id:f,points:e,connectNulls:c,type:a,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),l!=="none"&&T.createElement(Bg,em({},g,{className:"recharts-area-curve",layout:o,type:a,connectNulls:c,fill:"none",points:e})),l!=="none"&&u&&T.createElement(Bg,em({},g,{className:"recharts-area-curve",layout:o,type:a,connectNulls:c,fill:"none",points:n}))),T.createElement(uqe,{points:e,props:m,clipPathId:i}))}function fqe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:o}=t,a=(e=s[0])===null||e===void 0?void 0:e.y,l=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!cr(a)||!cr(l))return null;var c=r*Math.abs(a-l),u=Math.max(...s.map(f=>f.x||0));return bt(i)?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(...i.map(f=>f.x||0),u)),bt(u)?T.createElement("rect",{x:0,y:a<l?a:a-c,width:u+(o?parseInt("".concat(o),10):1),height:Math.floor(c)}):null}function hqe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:o}=t,a=(e=s[0])===null||e===void 0?void 0:e.x,l=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!cr(a)||!cr(l))return null;var c=r*Math.abs(a-l),u=Math.max(...s.map(f=>f.y||0));return bt(i)?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(...i.map(f=>f.y||0),u)),bt(u)?T.createElement("rect",{x:a<l?a:a-c,y:0,width:c,height:Math.floor(u+(o?parseInt("".concat(o),10):1))}):null}function pqe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?T.createElement(fqe,{alpha:e,points:r,baseLine:i,strokeWidth:s}):T.createElement(hqe,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function mqe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:o,baseLine:a,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationStart:m,onAnimationEnd:g}=r,x=T.useMemo(()=>({points:o,baseLine:a}),[o,a]),v=Mx(x,"recharts-area-"),w=d8e(),[E,k]=T.useState(!1),I=!E,D=T.useCallback(()=>{typeof g=="function"&&g(),k(!1)},[g]),j=T.useCallback(()=>{typeof m=="function"&&m(),k(!0)},[m]);if(w==null)return null;var M=i.current,U=s.current;return T.createElement(dqe,{showLabels:I,points:o},r.children,T.createElement(Ox,{animationId:v,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:D,onAnimationStart:j,key:v},V=>{if(M){var F=M.length/o.length,z=V===1?o:o.map((H,B)=>{var A=Math.floor(B*F);if(M[A]){var P=M[A];return fg(fg({},H),{},{x:Hn(P.x,H.x,V),y:Hn(P.y,H.y,V)})}return H}),K;return bt(a)?K=Hn(U,a,V):br(a)||Oa(a)?K=Hn(U,0,V):K=a.map((H,B)=>{var A=Math.floor(B*F);if(Array.isArray(U)&&U[A]){var P=U[A];return fg(fg({},H),{},{x:Hn(P.x,H.x,V),y:Hn(P.y,H.y,V)})}return H}),V>0&&(i.current=z,s.current=K),T.createElement(ZY,{points:z,baseLine:K,needClip:e,clipPathId:n,props:r})}return V>0&&(i.current=o,s.current=a),T.createElement(Vr,null,l&&T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(n)},T.createElement(pqe,{alpha:V,points:o,baseLine:a,layout:w,strokeWidth:r.strokeWidth}))),T.createElement(Vr,{clipPath:"url(#animationClipPath-".concat(n,")")},T.createElement(ZY,{points:o,baseLine:a,needClip:e,clipPathId:n,props:r})))}),T.createElement(pN,{label:r.label}))}function gqe(t){var{needClip:e,clipPathId:n,props:r}=t,i=T.useRef(null),s=T.useRef();return T.createElement(mqe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class yqe extends T.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:o,needClip:a,xAxisId:l,yAxisId:c,width:u,height:f,id:m,baseLine:g,zIndex:x}=this.props;if(e)return null;var v=In("recharts-area",i),w=m,{r:E,strokeWidth:k}=Cde(n),I=OB(n),D=E*2+k,j=a?"url(#clipPath-".concat(I?"":"dots-").concat(w,")"):void 0;return T.createElement(Hs,{zIndex:x},T.createElement(Vr,{className:v},a&&T.createElement("defs",null,T.createElement(VB,{clipPathId:w,xAxisId:l,yAxisId:c}),!I&&T.createElement("clipPath",{id:"clipPath-dots-".concat(w)},T.createElement("rect",{x:o-D/2,y:s-D/2,width:u+D,height:f+D}))),T.createElement(gqe,{needClip:a,clipPathId:w,props:this.props})),T.createElement(oD,{points:r,mainColor:YC(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}),this.props.isRange&&Array.isArray(g)&&T.createElement(oD,{points:g,mainColor:YC(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}))}}var Lde={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Zr.area};function xqe(t){var e,n=fi(t,Lde),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:a,dot:l,fill:c,fillOpacity:u,hide:f,isAnimationActive:m,legendType:g,stroke:x,xAxisId:v,yAxisId:w}=n,E=Dde(n,rqe),k=vh(),I=Uue(),{needClip:D}=wN(v,w),j=Mi(),{points:M,isRange:U,baseLine:V}=(e=_t(A=>tqe(A,t.id,j)))!==null&&e!==void 0?e:{},F=bN();if(k!=="horizontal"&&k!=="vertical"||F==null||I!=="AreaChart"&&I!=="ComposedChart")return null;var{height:z,width:K,x:H,y:B}=F;return!M||!M.length?null:T.createElement(yqe,em({},E,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:o,baseLine:V,connectNulls:a,dot:l,fill:c,fillOpacity:u,height:z,hide:f,layout:k,isAnimationActive:m==="auto"?!Uw.isSsr:m,isRange:U,legendType:g,needClip:D,points:M,stroke:x,width:K,left:H,top:B,xAxisId:v,yAxisId:w}))}var vqe=(t,e,n,r,i)=>{var s=n??e;if(bt(s))return s;var o=t==="horizontal"?i:r,a=o.scale.domain();if(o.type==="number"){var l=Math.max(a[0],a[1]),c=Math.min(a[0],a[1]);return s==="dataMin"?c:s==="dataMax"||l<0?l:Math.max(Math.min(a[0],a[1]),0)}return s==="dataMin"?a[0]:s==="dataMax"?a[1]:a[0]};function bqe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:o,xAxis:a,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:f,yAxisTicks:m,bandSize:g}=t,x=i&&i.length,v=vqe(s,o,n,a,l),w=s==="horizontal",E=!1,k=c.map((D,j)=>{var M,U,V;if(x)V=i[u+j];else{var F=qn(D,r);Array.isArray(F)?(V=F,E=!0):V=[v,F]}var z=(M=(U=V)===null||U===void 0?void 0:U[1])!==null&&M!==void 0?M:null,K=z==null||x&&!e&&qn(D,r)==null;return w?{x:vC({axis:a,ticks:f,bandSize:g,entry:D,index:j}),y:K?null:l.scale(z),value:V,payload:D}:{x:K?null:a.scale(z),y:vC({axis:l,ticks:m,bandSize:g,entry:D,index:j}),value:V,payload:D}}),I;return x||E?I=k.map(D=>{var j=Array.isArray(D.value)?D.value[0]:null;return w?{x:D.x,y:j!=null&&D.y!=null?l.scale(j):null,payload:D.payload}:{x:j!=null?a.scale(j):null,y:D.y,payload:D.payload}}):I=w?l.scale(v):a.scale(v),{points:k,baseLine:I,isRange:E}}function wqe(t){var e=fi(t,Lde),n=Mi();return T.createElement(xN,{id:e.id,type:"area"},r=>T.createElement(T.Fragment,null,T.createElement(jB,{legendPayload:lqe(e)}),T.createElement(cqe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),T.createElement(UB,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:dle(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),T.createElement(xqe,em({},e,{id:r}))))}var EN=T.memo(wqe,eE);EN.displayName="Area";var Eqe="Invariant failed";function Sqe(t,e){throw new Error(Eqe)}function aD(){return aD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aD.apply(null,arguments)}function JC(t){return T.createElement(MB,aD({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Aqe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(bt(e))return e;var s=bt(r)||br(r);return s?e(r,i):(s||Sqe(),n)}},Tqe=(t,e,n)=>n,Cqe=(t,e)=>e,tE=Me([Kw,Cqe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),kqe=Me([tE],t=>t==null?void 0:t.maxBarSize),Nqe=(t,e,n,r)=>r,Iqe=Me([En,Kw,Nc,Ic,Tqe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Pqe=(t,e,n)=>{var r=En(t),i=Nc(t,e),s=Ic(t,e);if(!(i==null||s==null))return r==="horizontal"?FC(t,"yAxis",s,n):FC(t,"xAxis",i,n)},_qe=(t,e)=>{var n=En(t),r=Nc(t,e),i=Ic(t,e);if(!(r==null||i==null))return n==="horizontal"?DW(t,"xAxis",r):DW(t,"yAxis",i)},Rqe=Me([Iqe,Oje,_qe],YHe),Oqe=(t,e,n)=>{var r,i,s=tE(t,e);if(s!=null){var o=Nc(t,e),a=Ic(t,e);if(!(o==null||a==null)){var l=En(t),c=jce(t),{maxBarSize:u}=s,f=br(u)?c:u,m,g;return l==="horizontal"?(m=Ac(t,"xAxis",o,n),g=Sc(t,"xAxis",o,n)):(m=Ac(t,"yAxis",a,n),g=Sc(t,"yAxis",a,n)),(r=(i=sh(m,g,!0))!==null&&i!==void 0?i:f)!==null&&r!==void 0?r:0}}},Bde=(t,e,n)=>{var r=En(t),i=Nc(t,e),s=Ic(t,e);if(!(i==null||s==null)){var o,a;return r==="horizontal"?(o=Ac(t,"xAxis",i,n),a=Sc(t,"xAxis",i,n)):(o=Ac(t,"yAxis",s,n),a=Sc(t,"yAxis",s,n)),sh(o,a)}},Mqe=Me([Rqe,jce,Rje,Uce,Oqe,Bde,kqe],eVe),Dqe=(t,e,n)=>{var r=Nc(t,e);if(r!=null)return Ac(t,"xAxis",r,n)},Lqe=(t,e,n)=>{var r=Ic(t,e);if(r!=null)return Ac(t,"yAxis",r,n)},Bqe=(t,e,n)=>{var r=Nc(t,e);if(r!=null)return Sc(t,"xAxis",r,n)},jqe=(t,e,n)=>{var r=Ic(t,e);if(r!=null)return Sc(t,"yAxis",r,n)},Uqe=Me([Mqe,tE],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Fqe=Me([Pqe,tE],tVe),zqe=Me([yi,p6,Dqe,Lqe,Bqe,jqe,Uqe,En,Sce,Bde,Fqe,tE,Nqe],(t,e,n,r,i,s,o,a,l,c,u,f,m)=>{var{chartData:g,dataStartIndex:x,dataEndIndex:v}=l;if(!(f==null||o==null||e==null||a!=="horizontal"&&a!=="vertical"||n==null||r==null||i==null||s==null||c==null)){var{data:w}=f,E;if(w!=null&&w.length>0?E=w:E=g==null?void 0:g.slice(x,v+1),E!=null)return gKe({layout:a,barSettings:f,pos:o,parentViewBox:e,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:u,displayedData:E,offset:t,cells:m,dataStartIndex:x})}}),$qe=["index"];function lD(){return lD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lD.apply(null,arguments)}function Hqe(t,e){if(t==null)return{};var n,r,i=Vqe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vqe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jde=T.createContext(void 0),Gqe=t=>{var e=T.useContext(jde);if(e!=null)return e.stackId;if(t!=null)return dle(t)},qqe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Kqe=t=>{var e=T.useContext(jde);if(e!=null){var{stackId:n}=e;return"url(#".concat(qqe(n,t),")")}},Wqe=t=>{var{index:e}=t,n=Hqe(t,$qe),r=Kqe(e);return T.createElement(Vr,lD({className:"recharts-bar-stack-layer",clipPath:r},n))},Yqe=["onMouseEnter","onMouseLeave","onClick"],Jqe=["value","background","tooltipPosition"],Xqe=["id"],Qqe=["onMouseEnter","onClick","onMouseLeave"];function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fd.apply(null,arguments)}function eJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eJ(Object(n),!0).forEach(function(r){Zqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eJ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zqe(t,e,n){return(e=eKe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eKe(t){var e=tKe(t,"string");return typeof e=="symbol"?e:e+""}function tKe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XC(t,e){if(t==null)return{};var n,r,i=nKe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nKe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rKe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:xh(n,e),payload:t}]},iKe=T.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:o,unit:a,tooltipType:l,id:c}=t,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:xh(s,e),hide:o,type:l,color:i,unit:a,graphicalItemId:c}};return T.createElement(yN,{tooltipEntrySettings:u})});function sKe(t){var e=_t(ah),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:o,onMouseLeave:a,onClick:l}=s,c=XC(s,Yqe),u=DB(o,r,s.id),f=LB(a),m=BB(l,r,s.id);if(!i||n==null)return null;var g=pm(i);return T.createElement(Hs,{zIndex:nVe(i,Zr.barBackground)},n.map((x,v)=>{var{value:w,background:E,tooltipPosition:k}=x,I=XC(x,Jqe);if(!E)return null;var D=u(x,v),j=f(x,v),M=m(x,v),U=_s(_s(_s(_s(_s({option:i,isActive:String(v)===e},I),{},{fill:"#eee"},E),g),Ik(c,x,v)),{},{onMouseEnter:D,onMouseLeave:j,onClick:M,dataKey:r,index:v,className:"recharts-bar-background-rectangle"});return T.createElement(JC,fd({key:"background-bar-".concat(v)},U))}))}function oKe(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return _s(_s({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return T.createElement(IB,{value:e?i:void 0},n)}function aKe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:o}=t,a=_t(ah),l=_t(EB),c=n&&String(s)===a&&(l==null||o===l),u=c?n:e;return c?T.createElement(Hs,{zIndex:Zr.activeBar},T.createElement(JC,fd({},r,{name:String(r.name)},i,{isActive:c,option:u,index:s,dataKey:o}))):T.createElement(JC,fd({},r,{name:String(r.name)},i,{isActive:c,option:u,index:s,dataKey:o}))}function lKe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return T.createElement(JC,fd({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function cKe(t){var e,{data:n,props:r}=t,i=(e=Us(r))!==null&&e!==void 0?e:{},{id:s}=i,o=XC(i,Xqe),{shape:a,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:f,onMouseLeave:m}=r,g=XC(r,Qqe),x=DB(u,l,s),v=LB(m),w=BB(f,l,s);return n?T.createElement(T.Fragment,null,n.map((E,k)=>T.createElement(Wqe,fd({index:k,key:"rectangle-".concat(E==null?void 0:E.x,"-").concat(E==null?void 0:E.y,"-").concat(E==null?void 0:E.value,"-").concat(k),className:"recharts-bar-rectangle"},Ik(g,E,k),{onMouseEnter:x(E,k),onMouseLeave:v(E,k),onClick:w(E,k)}),c?T.createElement(aKe,{shape:a,activeBar:c,baseProps:o,entry:E,index:k,dataKey:l}):T.createElement(lKe,{shape:a,baseProps:o,entry:E,index:k,dataKey:l})))):null}function uKe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:o,animationDuration:a,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=e,f=n.current,m=Mx(e,"recharts-bar-"),[g,x]=T.useState(!1),v=!g,w=T.useCallback(()=>{typeof c=="function"&&c(),x(!1)},[c]),E=T.useCallback(()=>{typeof u=="function"&&u(),x(!0)},[u]);return T.createElement(oKe,{showLabels:v,rects:r},T.createElement(Ox,{animationId:m,begin:o,duration:a,isActive:s,easing:l,onAnimationEnd:w,onAnimationStart:E,key:m},k=>{var I=k===1?r:r==null?void 0:r.map((D,j)=>{var M=f&&f[j];if(M)return _s(_s({},D),{},{x:Hn(M.x,D.x,k),y:Hn(M.y,D.y,k),width:Hn(M.width,D.width,k),height:Hn(M.height,D.height,k)});if(i==="horizontal"){var U=Hn(0,D.height,k),V=Hn(D.stackedBarStart,D.y,k);return _s(_s({},D),{},{y:V,height:U})}var F=Hn(0,D.width,k),z=Hn(D.stackedBarStart,D.x,k);return _s(_s({},D),{},{width:F,x:z})});return k>0&&(n.current=I??null),I==null?null:T.createElement(Vr,null,T.createElement(cKe,{props:e,data:I}))}),T.createElement(pN,{label:e.label}),e.children)}function dKe(t){var e=T.useRef(null);return T.createElement(uKe,{previousRectanglesRef:e,props:t})}var Ude=0,fKe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:qn(t,e)}};class hKe extends T.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:o,needClip:a,background:l,id:c}=this.props;if(e||n==null)return null;var u=In("recharts-bar",i),f=c;return T.createElement(Vr,{className:u,id:c},a&&T.createElement("defs",null,T.createElement(VB,{clipPathId:f,xAxisId:s,yAxisId:o})),T.createElement(Vr,{className:"recharts-bar-rectangles",clipPath:a?"url(#clipPath-".concat(f,")"):void 0},T.createElement(sKe,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),T.createElement(dKe,this.props)))}}var pKe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Ude,xAxisId:0,yAxisId:0,zIndex:Zr.bar};function mKe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:o,animationBegin:a,animationDuration:l,animationEasing:c,isAnimationActive:u}=t,{needClip:f}=wN(e,n),m=vh(),g=Mi(),x=RB(t.children,Vx),v=_t(k=>zqe(k,t.id,g,x));if(m!=="vertical"&&m!=="horizontal")return null;var w,E=v==null?void 0:v[0];return E==null||E.height==null||E.width==null?w=0:w=m==="vertical"?E.height/2:E.width/2,T.createElement(wde,{xAxisId:e,yAxisId:n,data:v,dataPointFormatter:fKe,errorBarOffset:w},T.createElement(hKe,fd({},t,{layout:m,needClip:f,data:v,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:o,animationBegin:a,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function gKe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:o,yAxis:a,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:m,cells:g,parentViewBox:x,dataStartIndex:v}=t,w=e==="horizontal"?a:o,E=u?w.scale.domain():null,k=PLe({numericAxis:w}),I=w.scale(k);return f.map((D,j)=>{var M,U,V,F,z,K;if(u){var H=u[j+v];if(H==null)return null;M=TLe(H,E)}else M=qn(D,n),Array.isArray(M)||(M=[k,M]);var B=Aqe(r,Ude)(M[1],j);if(e==="horizontal"){var A,[P,R]=[a.scale(M[0]),a.scale(M[1])];U=zq({axis:o,ticks:l,bandSize:s,offset:i.offset,entry:D,index:j}),V=(A=R??P)!==null&&A!==void 0?A:void 0,F=i.size;var $=P-R;if(z=Oa($)?0:$,K={x:U,y:m.top,width:F,height:m.height},Math.abs(B)>0&&Math.abs(z)<Math.abs(B)){var q=Ri(z||B)*(Math.abs(B)-Math.abs(z));V-=q,z+=q}}else{var[te,Y]=[o.scale(M[0]),o.scale(M[1])];if(U=te,V=zq({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:D,index:j}),F=Y-te,z=i.size,K={x:m.left,y:V,width:m.width,height:z},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var G=Ri(F||B)*(Math.abs(B)-Math.abs(F));F+=G}}if(U==null||V==null||F==null||z==null)return null;var O=_s(_s({},D),{},{stackedBarStart:I,x:U,y:V,width:F,height:z,value:u?M:M[1],payload:D,background:K,tooltipPosition:{x:U+F/2,y:V+z/2},parentViewBox:x},g&&g[j]&&g[j].props);return O}).filter(Boolean)}function yKe(t){var e=fi(t,pKe),n=Gqe(e.stackId),r=Mi();return T.createElement(xN,{id:e.id,type:"bar"},i=>T.createElement(T.Fragment,null,T.createElement(jB,{legendPayload:rKe(e)}),T.createElement(iKe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),T.createElement(UB,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),T.createElement(Hs,{zIndex:e.zIndex},T.createElement(mKe,fd({},e,{id:i})))))}var Fde=T.memo(yKe,eE);Fde.displayName="Bar";var xKe=["domain","range"],vKe=["domain","range"];function tJ(t,e){if(t==null)return{};var n,r,i=bKe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bKe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nJ(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function zde(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=tJ(t,xKe),{domain:s,range:o}=e,a=tJ(e,vKe);return!nJ(n,s)||!nJ(r,o)?!1:eE(i,a)}var wKe=["dangerouslySetInnerHTML","ticks","scale"],EKe=["id","scale"];function cD(){return cD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cD.apply(null,arguments)}function rJ(t,e){if(t==null)return{};var n,r,i=SKe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function SKe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function AKe(t){var e=kr(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(MHe(t)):n.current!==t&&e(DHe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(LHe(n.current)),n.current=null)},[e]),null}var TKe=t=>{var{xAxisId:e,className:n}=t,r=_t(p6),i=Mi(),s="xAxis",o=_t(E=>yue(E,s,e,i)),a=_t(E=>hue(E,e)),l=_t(E=>_Ue(E,e)),c=_t(E=>Wce(E,e));if(a==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:u,ticks:f,scale:m}=t,g=rJ(t,wKe),{id:x,scale:v}=c,w=rJ(c,EKe);return T.createElement(HB,cD({},g,w,{x:l.x,y:l.y,width:a.width,height:a.height,className:In("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:o,axisType:s}))},CKe={allowDataOverflow:Ei.allowDataOverflow,allowDecimals:Ei.allowDecimals,allowDuplicatedCategory:Ei.allowDuplicatedCategory,angle:Ei.angle,axisLine:Hu.axisLine,height:Ei.height,hide:!1,includeHidden:Ei.includeHidden,interval:Ei.interval,minTickGap:Ei.minTickGap,mirror:Ei.mirror,orientation:Ei.orientation,padding:Ei.padding,reversed:Ei.reversed,scale:Ei.scale,tick:Ei.tick,tickCount:Ei.tickCount,tickLine:Hu.tickLine,tickSize:Hu.tickSize,type:Ei.type,xAxisId:0},kKe=t=>{var e=fi(t,CKe);return T.createElement(T.Fragment,null,T.createElement(AKe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(TKe,e))},U1=T.memo(kKe,zde);U1.displayName="XAxis";var NKe=["dangerouslySetInnerHTML","ticks","scale"],IKe=["id","scale"];function uD(){return uD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uD.apply(null,arguments)}function iJ(t,e){if(t==null)return{};var n,r,i=PKe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function PKe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _Ke(t){var e=kr(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(BHe(t)):n.current!==t&&e(jHe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(UHe(n.current)),n.current=null)},[e]),null}var RKe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=T.useRef(null),o=T.useRef(null),a=_t(p6),l=Mi(),c=kr(),u="yAxis",f=_t(M=>pue(M,e)),m=_t(M=>OUe(M,e)),g=_t(M=>yue(M,u,e,l)),x=_t(M=>Yce(M,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!f||NB(i)||T.isValidElement(i)||x==null)){var M=s.current;if(M){var U=M.getCalculatedWidth();Math.round(f.width)!==Math.round(U)&&c(FHe({id:e,width:U}))}}},[g,f,c,i,e,r,x]),f==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:v,ticks:w,scale:E}=t,k=iJ(t,NKe),{id:I,scale:D}=x,j=iJ(x,IKe);return T.createElement(HB,uD({},k,j,{ref:s,labelRef:o,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:In("recharts-".concat(u," ").concat(u),n),viewBox:a,ticks:g,axisType:u}))},OKe={allowDataOverflow:Si.allowDataOverflow,allowDecimals:Si.allowDecimals,allowDuplicatedCategory:Si.allowDuplicatedCategory,angle:Si.angle,axisLine:Hu.axisLine,hide:!1,includeHidden:Si.includeHidden,interval:Si.interval,minTickGap:Si.minTickGap,mirror:Si.mirror,orientation:Si.orientation,padding:Si.padding,reversed:Si.reversed,scale:Si.scale,tick:Si.tick,tickCount:Si.tickCount,tickLine:Hu.tickLine,tickSize:Hu.tickSize,type:Si.type,width:Si.width,yAxisId:0},MKe=t=>{var e=fi(t,OKe);return T.createElement(T.Fragment,null,T.createElement(_Ke,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(RKe,e))},F1=T.memo(MKe,zde);F1.displayName="YAxis";var DKe=(t,e)=>e,qB=Me([DKe,En,qce,vi,Oue,Ad,WFe,yi],t9e),KB=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},$de=Ma("mouseClick"),Hde=Lw();Hde.startListening({actionCreator:$de,effect:(t,e)=>{var n=t.payload,r=qB(e.getState(),KB(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(KUe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var dD=Ma("mouseMove"),Vde=Lw(),fA=null;Vde.startListening({actionCreator:dD,effect:(t,e)=>{var n=t.payload;fA!==null&&cancelAnimationFrame(fA);var r=KB(n);fA=requestAnimationFrame(()=>{var i=e.getState(),s=gB(i,i.tooltip.settings.shared);if(s==="axis"){var o=qB(i,r);(o==null?void 0:o.activeIndex)!=null?e.dispatch(Tue({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(Aue())}fA=null})}});function LKe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var sJ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Gde=co({name:"rootProps",initialState:sJ,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:sJ.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),BKe=Gde.reducer,{updateOptions:jKe}=Gde.actions,qde=co({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:UKe}=qde.actions,FKe=qde.reducer,Kde=Ma("keyDown"),Wde=Ma("focus"),WB=Lw();WB.startListening({actionCreator:Kde,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=yB(i,Hx(n),Yw(n),Qw(n)),a=o==null?-1:Number(o);if(!(!Number.isFinite(a)||a<0)){var l=Ad(n);if(s==="Enter"){var c=$C(n,"axis","hover",String(i.index));e.dispatch(eD({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var u=BUe(n),f=u==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,g=a+m*f;if(!(l==null||g>=l.length||g<0)){var x=$C(n,"axis","hover",String(g));e.dispatch(eD({active:!0,activeIndex:g.toString(),activeCoordinate:x}))}}}}}});WB.startListening({actionCreator:Wde,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",o=$C(n,"axis","hover",String(s));e.dispatch(eD({active:!0,activeIndex:s,activeCoordinate:o}))}}}});var la=Ma("externalEvent"),Yde=Lw(),I3=new Map;Yde.startListening({actionCreator:la,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=I3.get(i);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var a=e.getState(),l={activeCoordinate:OFe(a),activeDataKey:EB(a),activeIndex:ah(a),activeLabel:Lue(a),activeTooltipIndex:ah(a),isTooltipActive:MFe(a)};n(l,r)}finally{I3.delete(i)}});I3.set(i,o)}}});var zKe=Me([zx],t=>t.tooltipItemPayloads),$Ke=Me([zKe,Xw,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(a=>a.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var o=e(s,n);return o}}}),Jde=Ma("touchMove"),Xde=Lw();Xde.startListening({actionCreator:Jde,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=gB(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var o=qB(r,KB({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(Tue({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(hle),f=(a=c.getAttribute(ple))!==null&&a!==void 0?a:void 0,m=$x(r).find(v=>v.id===f);if(u==null||m==null||f==null)return;var{dataKey:g}=m,x=$Ke(r,u,f);e.dispatch(Sue({activeDataKey:g,activeIndex:u,activeCoordinate:x,activeGraphicalItemId:f}))}}}});var HKe=Mae({brush:rVe,cartesianAxis:zHe,chartData:_9e,errorBars:eGe,graphicalItems:W$e,layout:vLe,legend:T8e,options:C9e,polarAxis:l$e,polarOptions:FKe,referenceElements:uVe,rootProps:BKe,tooltip:WUe,zIndex:m9e}),VKe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return VDe({reducer:HKe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Hde.middleware,Vde.middleware,WB.middleware,Yde.middleware,Xde.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(Yae({type:"raf"}))},devTools:{serialize:{replacer:LKe},name:"recharts-".concat(n)}})};function Qde(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Mi(),s=T.useRef(null);if(i)return n;s.current==null&&(s.current=VKe(e,r));var o=s6;return T.createElement(CGe,{context:o,store:s.current},n)}function GKe(t){var{layout:e,margin:n}=t,r=kr(),i=Mi();return T.useEffect(()=>{i||(r(gLe(e)),r(mLe(n)))},[r,i,e,n]),null}var Zde=T.memo(GKe,eE);function efe(t){var e=kr();return T.useEffect(()=>{e(jKe(t))},[e,t]),null}function oJ(t){var{zIndex:e,isPanorama:n}=t,r=T.useRef(null),i=kr();return T.useLayoutEffect(()=>(r.current&&i(h9e({zIndex:e,element:r.current,isPanorama:n})),()=>{i(p9e({zIndex:e,isPanorama:n}))}),[i,e,n]),T.createElement("g",{tabIndex:-1,ref:r})}function aJ(t){var{children:e,isPanorama:n}=t,r=_t(r9e);if(!r||r.length===0)return e;var i=r.filter(o=>o<0),s=r.filter(o=>o>0);return T.createElement(T.Fragment,null,i.map(o=>T.createElement(oJ,{key:o,zIndex:o,isPanorama:n})),e,s.map(o=>T.createElement(oJ,{key:o,zIndex:o,isPanorama:n})))}var qKe=["children"];function KKe(t,e){if(t==null)return{};var n,r,i=WKe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WKe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function QC(){return QC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QC.apply(null,arguments)}var YKe={width:"100%",height:"100%",display:"block"},JKe=T.forwardRef((t,e)=>{var n=ble(),r=wle(),i=Rle();if(!wc(n)||!wc(r))return null;var{children:s,otherAttributes:o,title:a,desc:l}=t,c,u;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0),T.createElement(Xoe,QC({},o,{title:a,desc:l,role:u,tabIndex:c,width:n,height:r,style:YKe,ref:e}),s)}),XKe=t=>{var{children:e}=t,n=_t($k);if(!n)return null;var{width:r,height:i,y:s,x:o}=n;return T.createElement(Xoe,{width:r,height:i,x:o,y:s},e)},lJ=T.forwardRef((t,e)=>{var{children:n}=t,r=KKe(t,qKe),i=Mi();return i?T.createElement(XKe,null,T.createElement(aJ,{isPanorama:!0},n)):T.createElement(JKe,QC({ref:e},r),T.createElement(aJ,{isPanorama:!1},n))});function QKe(){var t=kr(),[e,n]=T.useState(null),r=_t(LLe);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;cr(s)&&s!==r&&t(xLe(s))}},[e,t,r]),n}function cJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZKe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cJ(Object(n),!0).forEach(function(r){eWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cJ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eWe(t,e,n){return(e=tWe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tWe(t){var e=nWe(t,"string");return typeof e=="symbol"?e:e+""}function nWe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Em(){return Em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Em.apply(null,arguments)}var rWe=()=>(F9e(),null);function ZC(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var iWe=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[s,o]=T.useState({containerWidth:ZC((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:ZC((r=t.style)===null||r===void 0?void 0:r.height)}),a=T.useCallback((c,u)=>{o(f=>{var m=Math.round(c),g=Math.round(u);return f.containerWidth===m&&f.containerHeight===g?f:{containerWidth:m,containerHeight:g}})},[]),l=T.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:f}=c.getBoundingClientRect();a(u,f);var m=x=>{var{width:v,height:w}=x[0].contentRect;a(v,w)},g=new ResizeObserver(m);g.observe(c),i.current=g}},[e,a]);return T.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[a]),T.createElement(T.Fragment,null,T.createElement(Vk,{width:s.containerWidth,height:s.containerHeight}),T.createElement("div",Em({ref:l},t)))}),sWe=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=T.useState({containerWidth:ZC(n),containerHeight:ZC(r)}),o=T.useCallback((l,c)=>{s(u=>{var f=Math.round(l),m=Math.round(c);return u.containerWidth===f&&u.containerHeight===m?u:{containerWidth:f,containerHeight:m}})},[]),a=T.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:c,height:u}=l.getBoundingClientRect();o(c,u)}},[e,o]);return T.createElement(T.Fragment,null,T.createElement(Vk,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Em({ref:a},t)))}),oWe=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(Vk,{width:n,height:r}),T.createElement("div",Em({ref:e},t)))}),aWe=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return od(n)||od(r)?T.createElement(sWe,Em({},t,{ref:e})):T.createElement(oWe,Em({},t,{ref:e}))});function lWe(t){return t===!0?iWe:aWe}var cWe=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:o,onDoubleClick:a,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:m,onTouchEnd:g,onTouchMove:x,onTouchStart:v,style:w,width:E,responsive:k,dispatchTouchEvents:I=!0}=t,D=T.useRef(null),j=kr(),[M,U]=T.useState(null),[V,F]=T.useState(null),z=QKe(),K=m6(),H=(K==null?void 0:K.width)>0?K.width:E,B=(K==null?void 0:K.height)>0?K.height:i,A=T.useCallback(ue=>{z(ue),typeof e=="function"&&e(ue),U(ue),F(ue),ue!=null&&(D.current=ue)},[z,e,U,F]),P=T.useCallback(ue=>{j($de(ue)),j(la({handler:s,reactEvent:ue}))},[j,s]),R=T.useCallback(ue=>{j(dD(ue)),j(la({handler:c,reactEvent:ue}))},[j,c]),$=T.useCallback(ue=>{j(Aue()),j(la({handler:u,reactEvent:ue}))},[j,u]),q=T.useCallback(ue=>{j(dD(ue)),j(la({handler:f,reactEvent:ue}))},[j,f]),te=T.useCallback(()=>{j(Wde())},[j]),Y=T.useCallback(ue=>{j(Kde(ue.key))},[j]),G=T.useCallback(ue=>{j(la({handler:o,reactEvent:ue}))},[j,o]),O=T.useCallback(ue=>{j(la({handler:a,reactEvent:ue}))},[j,a]),N=T.useCallback(ue=>{j(la({handler:l,reactEvent:ue}))},[j,l]),W=T.useCallback(ue=>{j(la({handler:m,reactEvent:ue}))},[j,m]),X=T.useCallback(ue=>{j(la({handler:v,reactEvent:ue}))},[j,v]),re=T.useCallback(ue=>{I&&j(Jde(ue)),j(la({handler:x,reactEvent:ue}))},[j,I,x]),ae=T.useCallback(ue=>{j(la({handler:g,reactEvent:ue}))},[j,g]),Ee=lWe(k);return T.createElement(Vue.Provider,{value:M},T.createElement(AMe.Provider,{value:V},T.createElement(Ee,{width:H??(w==null?void 0:w.width),height:B??(w==null?void 0:w.height),className:In("recharts-wrapper",r),style:ZKe({position:"relative",cursor:"default",width:H,height:B},w),onClick:P,onContextMenu:G,onDoubleClick:O,onFocus:te,onKeyDown:Y,onMouseDown:N,onMouseEnter:R,onMouseLeave:$,onMouseMove:q,onMouseUp:W,onTouchEnd:ae,onTouchMove:re,onTouchStart:X,ref:A},T.createElement(rWe,null),n)))}),uWe=["width","height","responsive","children","className","style","compact","title","desc"];function dWe(t,e){if(t==null)return{};var n,r,i=fWe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fWe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tfe=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:o,style:a,compact:l,title:c,desc:u}=t,f=dWe(t,uWe),m=Us(f);return l?T.createElement(T.Fragment,null,T.createElement(Vk,{width:n,height:r}),T.createElement(lJ,{otherAttributes:m,title:c,desc:u},s)):T.createElement(cWe,{className:o,style:a,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(lJ,{otherAttributes:m,title:c,desc:u,ref:e},T.createElement(fVe,null,s)))});function fD(){return fD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fD.apply(null,arguments)}var hWe={top:5,right:5,bottom:5,left:5},pWe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:hWe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},YB=T.forwardRef(function(e,n){var r,i=fi(e.categoricalChartProps,pWe),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:a,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:a,tooltipPayloadSearcher:l,eventEmitter:void 0};return T.createElement(Qde,{preloadedState:{options:u},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:s},T.createElement(mde,{chartData:c.data}),T.createElement(Zde,{layout:i.layout,margin:i.margin}),T.createElement(efe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(tfe,fD({},i,{ref:n})))}),mWe=["axis","item"],gWe=T.forwardRef((t,e)=>T.createElement(YB,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mWe,tooltipPayloadSearcher:fN,categoricalChartProps:t,ref:e}));function yWe(t){var e=kr();return T.useEffect(()=>{e(UKe(t))},[e,t]),null}var xWe=["layout"];function hD(){return hD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hD.apply(null,arguments)}function vWe(t,e){if(t==null)return{};var n,r,i=bWe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bWe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wWe={top:5,right:5,bottom:5,left:5},nfe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:wWe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},EWe=T.forwardRef(function(e,n){var r,i=fi(e.categoricalChartProps,nfe),{layout:s}=i,o=vWe(i,xWe),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=e,f={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return T.createElement(Qde,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:a},T.createElement(mde,{chartData:i.data}),T.createElement(Zde,{layout:s,margin:i.margin}),T.createElement(efe,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(yWe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),T.createElement(tfe,hD({},o,{ref:n})))});function uJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uJ(Object(n),!0).forEach(function(r){SWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uJ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SWe(t,e,n){return(e=AWe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AWe(t){var e=TWe(t,"string");return typeof e=="symbol"?e:e+""}function TWe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CWe=["item"],kWe=dJ(dJ({},nfe),{},{layout:"centric",startAngle:0,endAngle:360}),rfe=T.forwardRef((t,e)=>{var n=fi(t,kWe);return T.createElement(EWe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:CWe,tooltipPayloadSearcher:fN,categoricalChartProps:n,ref:e})}),NWe=["axis"],ife=T.forwardRef((t,e)=>T.createElement(YB,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:NWe,tooltipPayloadSearcher:fN,categoricalChartProps:t,ref:e})),IWe=["axis"],PWe=T.forwardRef((t,e)=>T.createElement(YB,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:IWe,tooltipPayloadSearcher:fN,categoricalChartProps:t,ref:e}));const _We="https://api.devnet.solana.com",RWe="HWy1jotHpo6UqeQxx49dpYYdQB8wj9Qk9MdxwjLvDHB8",Qf=[{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},{symbol:"USDC",name:"USD Coin (Devnet)",mint:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",decimals:6,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png"},{symbol:"RAY",name:"Raydium",mint:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",decimals:6,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R/logo.png"}],nc={SOL:145.5,USDC:1,RAY:1.85},fJ=({network:t})=>{const e={solana:"bg-[#9b87f5]/15 text-[#9b87f5] border-[#9b87f5]/30",hyperliquid:"bg-[#34d399]/15 text-[#34d399] border-[#34d399]/30",polymarket:"bg-[#60a5fa]/15 text-[#60a5fa] border-[#60a5fa]/30"},n={solana:"SOL",hyperliquid:"HL",polymarket:"PM"};return h.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-semibold rounded uppercase tracking-[0.05em] border ${e[t]}`,children:n[t]})},OWe=({vault:t,connectOwnerWallet:e,disconnectOwnerWallet:n,connectHLOwnerWallet:r,disconnectHLOwnerWallet:i,connectPMOwnerWallet:s,disconnectPMOwnerWallet:o,assetPrices:a,portfolioHistoryDaily:l,portfolioHistoryLongTerm:c,scheduledTasks:u,assetAllocationData:f,activityFeed:m,activityDisplayCount:g,setActivityDisplayCount:x,setActiveTab:v,refreshData:w,onNewChat:E})=>{const[k,I]=T.useState("all"),[D,j]=T.useState(0),M=2,[U,V]=T.useState("1D"),F=c.length,z=T.useMemo(()=>({"1D":l.length>0||F>=1,"1W":F>=7,"1M":F>=30,"1Y":F>=365}),[F,l.length]),K=T.useMemo(()=>{if(U==="1D")return l;if(c.length===0)return[];const re={"1D":1,"1W":7,"1M":30,"1Y":365}[U]||30;return c.slice(-re)},[l,c,U]),[H,B]=T.useState(0),A=2,[P,R]=T.useState(null),[$,q]=T.useState("pie"),[te,Y]=T.useState(null),[G,O]=T.useState(void 0),N=async X=>{try{await navigator.clipboard.writeText(X),R(X),setTimeout(()=>R(null),2e3)}catch(re){console.error("Failed to copy:",re)}},W=X=>X.network==="solana"&&X.signature?`https://solscan.io/tx/${X.signature}?cluster=devnet`:X.network==="hyperliquid"&&X.signature?`https://app.hyperliquid-testnet.xyz/explorer/tx/${X.signature.replace("hl-","")}`:null;return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 2xl:grid-cols-4 gap-4 lg:gap-6",children:[h.jsxs("div",{className:"flex flex-col gap-4 lg:gap-6",children:[h.jsxs("div",{className:"glass-panel p-5 rounded relative overflow-hidden flex-1 flex flex-col justify-center group",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:h.jsx(Hy,{size:48,className:"text-white"})}),h.jsx("h3",{className:"text-[10px] uppercase tracking-[0.1em] text-[#747580] font-semibold mb-2",children:"Total Net Worth"}),h.jsxs("div",{className:"text-2xl lg:text-3xl font-semibold text-white tracking-tight",children:["$",f.totalValue.toFixed(2)]}),h.jsx("div",{className:"text-[11px] text-[#747580] mt-1",children:"Cross-Chain Unified Portfolio"})]}),h.jsxs("button",{onClick:E,className:"glass-panel p-5 rounded relative overflow-hidden flex-1 flex flex-col justify-center items-start text-left hover:bg-[#1a1b21] transition-colors group border border-dashed border-[#232328] hover:border-[#E7FE55]/50",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity text-[#E7FE55]",children:h.jsx(cu,{size:48})}),h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("div",{className:"p-1.5 rounded bg-[#E7FE55]/15 text-[#E7FE55] group-hover:bg-[#E7FE55] group-hover:text-black transition-colors",children:h.jsx(cu,{size:16})}),h.jsx("h3",{className:"text-[#E7FE55] font-medium text-sm",children:"New Conversation"})]}),h.jsx("div",{className:"text-[11px] text-[#747580]",children:"Start a new task or query"})]})]}),h.jsxs("div",{className:"glass-panel p-6 rounded relative overflow-hidden flex flex-col",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:h.jsx(ao,{size:48,className:"text-white"})}),h.jsx("div",{className:"flex items-center gap-2 mb-2",children:h.jsx("h3",{className:"text-[10px] uppercase tracking-[0.1em] text-[#747580] font-semibold",children:"Solana Vault"})}),h.jsxs("div",{className:"text-xl lg:text-2xl font-semibold text-white tracking-tight",children:[t.solBalance.toFixed(4)," SOL"]}),h.jsxs("div",{className:"text-[11px] text-[#E7FE55] mt-1",children:[" $",(t.solBalance*(a.SOL||nc.SOL)).toFixed(2)]}),h.jsxs("div",{className:"mt-4 pt-3 border-t border-[#232328]",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.05em] text-[#747580]",children:"Vault Address"}),t.publicKey&&h.jsxs("a",{href:`https://solscan.io/address/${t.publicKey}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-[#E7FE55] hover:text-[#f0ff85] flex items-center gap-1",title:"View on Solscan Explorer",children:[h.jsx(KA,{size:10})," Solscan"]})]}),t.publicKey?h.jsxs("div",{onClick:()=>N(t.publicKey),className:"flex items-center gap-2 cursor-pointer group",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#E7FE55]"}),h.jsxs("span",{className:"text-xs text-white font-mono truncate group-hover:text-[#E7FE55] transition-colors",children:[t.publicKey.slice(0,4),"...",t.publicKey.slice(-4)]}),P===t.publicKey?h.jsx("span",{className:"text-[10px] text-[#E7FE55] ml-auto",children:"Copied!"}):h.jsx("span",{className:"text-[10px] text-[#747580] ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to copy"})]}):h.jsx("div",{className:"text-[10px] text-[#747580] italic",children:"Not created"})]}),h.jsxs("div",{className:"mt-3 pt-3 border-t border-[#232328]",children:[h.jsx("div",{className:"flex items-center justify-between mb-2",children:h.jsx("span",{className:"text-[10px] uppercase tracking-[0.05em] font-semibold text-[#747580]",children:"Solana Owner"})}),t.ownerPublicKey?h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{onClick:()=>N(t.ownerPublicKey),className:"flex items-center gap-2 cursor-pointer group flex-1",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#E7FE55]"}),h.jsxs("span",{className:"text-xs text-white font-mono truncate group-hover:text-[#E7FE55] transition-colors",children:[t.ownerPublicKey.slice(0,4),"...",t.ownerPublicKey.slice(-4)]}),P===t.ownerPublicKey?h.jsx("span",{className:"text-[10px] text-[#E7FE55] ml-2",children:"Copied!"}):h.jsx("span",{className:"text-[10px] text-[#747580] ml-2 opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to copy"})]}),h.jsx("button",{onClick:n,className:"ml-2 px-2 py-1 text-[10px] font-medium text-[#747580] hover:text-[#E7FE55] bg-transparent hover:bg-[#E7FE55]/10 rounded border border-[#232328] hover:border-[#E7FE55]/30 transition-colors flex-shrink-0",children:"Disconnect"})]}):h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"text-[10px] text-[#747580] italic",children:"Not connected"}),h.jsx("button",{onClick:e,className:"px-2 py-1 text-[10px] font-medium text-[#E7FE55] hover:text-[#f0ff85] bg-[#E7FE55]/10 hover:bg-[#E7FE55]/20 rounded border border-[#E7FE55]/20 transition-colors flex-shrink-0",children:"Connect"})]})]})]}),h.jsxs("div",{className:"glass-panel p-6 rounded relative overflow-hidden flex flex-col",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:h.jsx(Pn,{size:48,className:"text-white"})}),h.jsx("div",{className:"flex items-center gap-2 mb-2",children:h.jsx("h3",{className:"text-[10px] uppercase tracking-[0.1em] text-[#747580] font-semibold",children:"Hyperliquid Vault"})}),h.jsxs("div",{className:"text-xl lg:text-2xl font-semibold text-white tracking-tight",children:[(t.hlBalance||0).toFixed(2)," USDC"]}),h.jsx("div",{className:"text-[11px] text-[#747580] mt-1",children:t.hlPositions&&t.hlPositions.length>0?`${t.hlPositions.length} open position${t.hlPositions.length>1?"s":""}`:"No open positions"}),h.jsxs("div",{className:"mt-4 pt-3 border-t border-[#232328]",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.05em] text-[#747580]",children:"Vault Address"}),h.jsxs("a",{href:"https://app.hyperliquid-testnet.xyz",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-[#E7FE55] hover:text-[#f0ff85] flex items-center gap-1",title:"Hyperliquid Platform Official Website",children:[h.jsx(Pn,{size:10})," Hyperliquid"]})]}),t.hlPublicKey?h.jsxs("div",{onClick:()=>N(t.hlPublicKey),className:"flex items-center gap-2 cursor-pointer group",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#E7FE55]"}),h.jsxs("span",{className:"text-xs text-white font-mono truncate group-hover:text-[#E7FE55] transition-colors",children:[t.hlPublicKey.slice(0,6),"...",t.hlPublicKey.slice(-4)]}),P===t.hlPublicKey?h.jsx("span",{className:"text-[10px] text-[#E7FE55] ml-auto",children:"Copied!"}):h.jsx("span",{className:"text-[10px] text-[#747580] ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to copy"})]}):h.jsx("div",{className:"text-[10px] text-[#747580] italic",children:"Not created"})]}),h.jsxs("div",{className:"mt-3 pt-3 border-t border-[#232328]",children:[h.jsx("div",{className:"flex items-center justify-between mb-2",children:h.jsx("span",{className:"text-[10px] uppercase tracking-[0.05em] font-semibold text-[#747580]",children:"Hyperliquid Owner"})}),t.hlOwnerPublicKey?h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{onClick:()=>N(t.hlOwnerPublicKey),className:"flex items-center gap-2 cursor-pointer group flex-1",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#E7FE55]"}),h.jsxs("span",{className:"text-xs text-white font-mono truncate group-hover:text-[#E7FE55] transition-colors",children:[t.hlOwnerPublicKey.slice(0,4),"...",t.hlOwnerPublicKey.slice(-4)]}),P===t.hlOwnerPublicKey?h.jsx("span",{className:"text-[10px] text-[#E7FE55] ml-2",children:"Copied!"}):h.jsx("span",{className:"text-[10px] text-[#747580] ml-2 opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to copy"})]}),h.jsx("button",{onClick:i,className:"ml-2 px-2 py-1 text-[10px] font-medium text-[#747580] hover:text-[#E7FE55] bg-transparent hover:bg-[#E7FE55]/10 rounded border border-[#232328] hover:border-[#E7FE55]/30 transition-colors flex-shrink-0",children:"Disconnect"})]}):h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"text-[10px] text-[#747580] italic",children:"Not connected"}),h.jsx("button",{onClick:r,className:"px-2 py-1 text-[10px] font-medium text-[#E7FE55] hover:text-[#f0ff85] bg-[#E7FE55]/10 hover:bg-[#E7FE55]/20 rounded border border-[#E7FE55]/20 transition-colors flex-shrink-0",children:"Connect"})]})]})]}),h.jsxs("div",{className:"glass-panel p-6 rounded relative overflow-hidden flex flex-col",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:h.jsx(KA,{size:48,className:"text-white"})}),h.jsx("div",{className:"flex items-center gap-2 mb-2",children:h.jsx("h3",{className:"text-[10px] uppercase tracking-[0.1em] text-[#747580] font-semibold",children:"Polymarket Vault"})}),h.jsxs("div",{className:"text-xl lg:text-2xl font-semibold text-white tracking-tight",children:[(t.pmBalance||0).toFixed(2)," USDC"]}),h.jsxs("div",{className:"text-[11px] text-[#E7FE55] mt-1",children:[" $",(t.pmBalance||0).toFixed(2)]}),h.jsxs("div",{className:"mt-4 pt-3 border-t border-[#232328]",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.05em] text-[#747580]",children:"Vault Address"}),h.jsxs("a",{href:"https://polymarket.com",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-[#E7FE55] hover:text-[#f0ff85] flex items-center gap-1",title:"Polymarket Platform",children:[h.jsx(KA,{size:10})," Polymarket"]})]}),t.pmPublicKey?h.jsxs("div",{onClick:()=>N(t.pmPublicKey),className:"flex items-center gap-2 cursor-pointer group",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#E7FE55]"}),h.jsxs("span",{className:"text-xs text-white font-mono truncate group-hover:text-[#E7FE55] transition-colors",children:[t.pmPublicKey.slice(0,6),"...",t.pmPublicKey.slice(-4)]}),P===t.pmPublicKey?h.jsx("span",{className:"text-[10px] text-[#E7FE55] ml-auto",children:"Copied!"}):h.jsx("span",{className:"text-[10px] text-[#747580] ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to copy"})]}):h.jsx("div",{className:"text-[10px] text-[#747580] italic",children:"Not created"})]}),h.jsxs("div",{className:"mt-3 pt-3 border-t border-[#232328]",children:[h.jsx("div",{className:"flex items-center justify-between mb-2",children:h.jsx("span",{className:"text-[10px] uppercase tracking-[0.05em] font-semibold text-[#747580]",children:"Polymarket Owner"})}),t.pmOwnerPublicKey?h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{onClick:()=>N(t.pmOwnerPublicKey),className:"flex items-center gap-2 cursor-pointer group flex-1",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#E7FE55]"}),h.jsxs("span",{className:"text-xs text-white font-mono truncate group-hover:text-[#E7FE55] transition-colors",children:[t.pmOwnerPublicKey.slice(0,4),"...",t.pmOwnerPublicKey.slice(-4)]}),P===t.pmOwnerPublicKey?h.jsx("span",{className:"text-[10px] text-[#E7FE55] ml-2",children:"Copied!"}):h.jsx("span",{className:"text-[10px] text-[#747580] ml-2 opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to copy"})]}),h.jsx("button",{onClick:o,className:"ml-2 px-2 py-1 text-[10px] font-medium text-[#747580] hover:text-[#E7FE55] bg-transparent hover:bg-[#E7FE55]/10 rounded border border-[#232328] hover:border-[#E7FE55]/30 transition-colors flex-shrink-0",children:"Disconnect"})]}):h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"text-[10px] text-[#747580] italic",children:"Not connected"}),h.jsx("button",{onClick:s,className:"px-2 py-1 text-[10px] font-medium text-[#E7FE55] hover:text-[#f0ff85] bg-[#E7FE55]/10 hover:bg-[#E7FE55]/20 rounded border border-[#E7FE55]/20 transition-colors flex-shrink-0",children:"Connect"})]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 2xl:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"2xl:col-span-2 space-y-6",children:[h.jsxs("div",{className:"glass-panel p-6 rounded",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-6",children:[h.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[h.jsx(ao,{className:"text-[#E7FE55]",size:18}),"Portfolio Evolution"]}),h.jsx("div",{className:"flex gap-2",children:["1D","1W","1M","1Y"].map(X=>{const re=z[X],ae=X===U;return h.jsx("button",{disabled:!re,onClick:()=>re&&V(X),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${re?ae?"bg-[#E7FE55]/15 text-[#E7FE55] border border-[#E7FE55]/30":"text-[#747580] hover:text-[#a0a1a8] hover:bg-[#1a1b21]":"text-[#3a3a40] cursor-not-allowed"}`,children:X},X)})})]}),h.jsx("div",{className:"h-[250px] lg:h-[300px] w-full",children:h.jsx(T1,{width:"100%",height:"100%",children:h.jsxs(PWe,{data:K.length>0?K:[],children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#E7FE55",stopOpacity:.25}),h.jsx("stop",{offset:"50%",stopColor:"#E7FE55",stopOpacity:.08}),h.jsx("stop",{offset:"95%",stopColor:"#E7FE55",stopOpacity:0})]})}),h.jsx(B1,{strokeDasharray:"3 3",stroke:"#232328",vertical:!1}),h.jsx(U1,{dataKey:"date",stroke:"#747580",tick:{fill:"#747580",fontSize:10},tickLine:!1,axisLine:!1}),h.jsx(F1,{stroke:"#747580",tick:{fill:"#747580",fontSize:10},tickLine:!1,axisLine:!1,tickFormatter:X=>`$${X}`,width:50}),h.jsx(HC,{contentStyle:{backgroundColor:"#14151a",borderColor:"#232328",borderRadius:"4px"},itemStyle:{color:"#e4e5e9"},labelStyle:{color:"#747580"},itemSorter:X=>({value:0,solValue:1,hlValue:2,pmValue:3})[X.dataKey]??10,formatter:(X,re)=>[`$${X.toFixed(2)}`,re==="value"?"Total Value":re==="solValue"?"SOL Value":re==="hlValue"?"HL Value":re==="pmValue"?"PM Value":re]}),h.jsx(EN,{type:"monotone",dataKey:"value",stroke:"#E7FE55",strokeWidth:1.5,fillOpacity:1,fill:"url(#colorValue)"}),h.jsx(mT,{type:"monotone",dataKey:"solValue",stroke:"#9b87f5",strokeWidth:1.5,dot:!1}),h.jsx(mT,{type:"monotone",dataKey:"hlValue",stroke:"#34d399",strokeWidth:1.5,dot:!1}),h.jsx(mT,{type:"monotone",dataKey:"pmValue",stroke:"#60a5fa",strokeWidth:1.5,dot:!1})]})})}),h.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 text-[11px] text-[#747580]",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#E7FE55]"}),h.jsx("span",{children:"Total Value"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#9b87f5]"}),h.jsx("span",{children:"SOL Value"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#34d399]"}),h.jsx("span",{children:"HL Value"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-[#60a5fa]"}),h.jsx("span",{children:"PM Value"})]})]})]}),h.jsxs("div",{className:"glass-panel p-6 rounded",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[h.jsx(Pn,{className:"text-[#E7FE55]",size:18}),"Open Trading"]}),h.jsxs("button",{onClick:()=>v(ke.HYPERLIQUID),className:"text-[10px] px-3 py-1.5 rounded uppercase tracking-wider font-medium transition-colors flex items-center gap-2 text-[#747580] hover:text-[#E7FE55] bg-transparent hover:bg-[#E7FE55]/10 border border-[#232328] hover:border-[#E7FE55]/30",children:[h.jsx(Pn,{size:12}),"Details"]})]}),!t.hlPositions||t.hlPositions.length===0?h.jsx("div",{className:"text-center py-8 text-[#747580] text-sm bg-[#14151a] rounded border border-[#232328]",children:"No open positions. Start trading to see your portfolio grow!"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-left border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-[10px] uppercase tracking-[0.05em] text-[#747580] border-b border-[#232328]",children:[h.jsx("th",{className:"py-3 pl-4 font-medium",children:"Symbol"}),h.jsx("th",{className:"py-3 font-medium",children:"Size"}),h.jsx("th",{className:"py-3 font-medium",children:"Entry Price"}),h.jsx("th",{className:"py-3 font-medium",children:"Mark Price"}),h.jsx("th",{className:"py-3 font-medium",children:"Liq. Price"}),h.jsx("th",{className:"py-3 font-medium",children:"Leverage"}),h.jsx("th",{className:"py-3 pr-4 font-medium text-right",children:"Unrealized PnL"})]})}),h.jsx("tbody",{className:"text-sm",children:t.hlPositions.map((X,re)=>{const ae=parseFloat(X.position.szi),Ee=parseFloat(X.position.entryPx),ue=a[X.position.coin]||Ee,me=parseFloat(X.position.unrealizedPnl),ce=X.position.leverage.value,oe=ae>0,Ce=oe?Ee*(1-.9/ce):Ee*(1+.9/ce);return h.jsxs("tr",{className:"border-b border-[#232328]/50 last:border-0 hover:bg-[#1a1b21] transition-colors",children:[h.jsx("td",{className:"py-3 pl-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-1 h-6 rounded-full ${oe?"bg-[#34d399]":"bg-red-500"}`}),h.jsx("span",{className:"font-semibold text-white",children:X.position.coin}),h.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded uppercase tracking-wider ${oe?"bg-[#34d399]/15 text-[#34d399]":"bg-red-500/15 text-red-400"}`,children:oe?"LONG":"SHORT"})]})}),h.jsx("td",{className:"py-3 text-[#a0a1a8]",children:Math.abs(ae).toFixed(4)}),h.jsxs("td",{className:"py-3 text-[#a0a1a8]",children:["$",Ee.toFixed(4)]}),h.jsxs("td",{className:"py-3 text-[#a0a1a8]",children:["$",ue.toFixed(4)]}),h.jsxs("td",{className:"py-3 text-orange-400/80",children:["$",Ce.toFixed(4)]}),h.jsxs("td",{className:"py-3 text-[#747580]",children:[ce,"x"]}),h.jsxs("td",{className:`py-3 pr-4 text-right font-medium ${me>=0?"text-[#34d399]":"text-red-400"}`,children:[me>=0?"+":"",me.toFixed(2)," USDC"]})]},re)})})]})})]}),h.jsxs("div",{className:"glass-panel p-6 rounded flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[h.jsx(_a,{className:"text-[#E7FE55]",size:18}),"Open Tasks"]}),h.jsxs("span",{className:"text-[10px] bg-[#1a1b21] text-[#747580] px-2 py-1 rounded uppercase tracking-wider",children:[u.filter(X=>X.status==="active").length," Active"]}),h.jsxs("button",{onClick:()=>v(ke.SCHEDULER),className:"text-[10px] px-3 py-1.5 rounded uppercase tracking-wider font-medium transition-colors flex items-center gap-2 text-[#747580] hover:text-[#E7FE55] bg-transparent hover:bg-[#E7FE55]/10 border border-[#232328] hover:border-[#E7FE55]/30",children:[h.jsx(_a,{size:12}),"Details"]})]}),h.jsx("div",{className:"flex-1 flex flex-col",children:u.filter(X=>X.status==="active").length===0?h.jsx("div",{className:"text-center py-8 text-[#747580] text-sm my-auto bg-[#14151a] rounded border border-[#232328]",children:"No active tasks scheduled. Ask the AI to schedule a swap or transfer."}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"space-y-3",children:u.filter(X=>X.status==="active").slice(H*A,(H+1)*A).map(X=>h.jsxs("div",{className:"bg-[#14151a] p-4 rounded border border-[#232328] flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#E7FE55]"}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-medium text-white flex items-center gap-2",children:[X.type,X.type==="HL_ORDER"&&h.jsx(fJ,{network:"hyperliquid"}),X.condition&&h.jsx("span",{className:"text-[10px] text-yellow-500",children:"(Condition)"})]}),h.jsx("div",{className:"text-[11px] text-[#747580]",children:X.condition?`${X.condition.indicator.toUpperCase()} ${X.condition.operator} ${X.condition.value} (${X.condition.symbol})`:`Executes in ${Math.max(0,Math.round(((X.executeAt||0)-Date.now())/6e4))} mins`})]})]}),h.jsxs("div",{className:"text-[10px] font-mono text-[#747580]",children:["ID: ",X.id.slice(-4)]})]},X.id))}),h.jsx("div",{className:"mt-auto",children:u.filter(X=>X.status==="active").length>A&&h.jsxs("div",{className:"flex items-center justify-between mt-4 pt-2 border-t border-[#232328]",children:[h.jsx("button",{onClick:()=>B(Math.max(0,H-1)),disabled:H===0,className:`p-1 rounded hover:bg-[#1a1b21] transition-colors ${H===0?"text-[#3a3b42] cursor-not-allowed":"text-[#747580]"}`,children:h.jsx(BT,{size:16})}),h.jsxs("span",{className:"text-[10px] text-[#747580]",children:["Page ",H+1," of ",Math.ceil(u.filter(X=>X.status==="active").length/A)]}),h.jsx("button",{onClick:()=>B(Math.min(Math.ceil(u.filter(X=>X.status==="active").length/A)-1,H+1)),disabled:H>=Math.ceil(u.filter(X=>X.status==="active").length/A)-1,className:`p-1 rounded hover:bg-[#1a1b21] transition-colors ${H>=Math.ceil(u.filter(X=>X.status==="active").length/A)-1?"text-[#3a3b42] cursor-not-allowed":"text-[#747580]"}`,children:h.jsx(sm,{size:16})})]})})]})})]})]}),h.jsxs("div",{className:"space-y-6 flex flex-col",children:[h.jsxs("div",{className:"glass-panel p-6 rounded flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-white",children:"Asset Allocation"}),h.jsxs("div",{className:"flex gap-1 bg-[#1a1b21] p-1 rounded border border-[#232328]",children:[h.jsx("button",{onClick:()=>q("bar"),className:`p-1.5 rounded transition-colors ${$==="bar"?"bg-[#232328] text-[#E7FE55]":"text-[#747580] hover:text-[#a0a1a8]"}`,title:"Bar View",children:h.jsx(XCe,{size:14})}),h.jsx("button",{onClick:()=>q("pie"),className:`p-1.5 rounded transition-colors ${$==="pie"?"bg-[#232328] text-[#E7FE55]":"text-[#747580] hover:text-[#a0a1a8]"}`,title:"Pie View",children:h.jsx(r1,{size:14})})]})]}),h.jsx("div",{className:"h-[180px] w-full relative flex-shrink-0",children:h.jsx(T1,{width:"100%",height:"100%",children:$==="pie"?h.jsxs(rfe,{children:[h.jsx(FB,{data:f.data,cx:"50%",cy:"50%",innerRadius:45,outerRadius:G!==void 0?65:70,paddingAngle:3,dataKey:"value",onMouseEnter:(X,re)=>O(re),onMouseLeave:()=>O(void 0),animationBegin:0,animationDuration:800,animationEasing:"ease-out",children:f.data.map((X,re)=>h.jsx(Vx,{fill:X.color,stroke:G===re?X.color:"transparent",strokeWidth:G===re?3:0,style:{cursor:"pointer",transition:"all 0.2s ease-out",filter:G===re?`brightness(1.2) drop-shadow(0 0 8px ${X.color})`:"brightness(1)",transform:G===re?"scale(1.05)":"scale(1)",transformOrigin:"center"}},`cell-${re}`))}),G!==void 0&&f.data[G]&&h.jsxs("g",{children:[h.jsx("text",{x:"50%",y:"42%",textAnchor:"middle",fill:"#fff",fontSize:12,fontWeight:"bold",children:f.data[G].symbol}),h.jsxs("text",{x:"50%",y:"54%",textAnchor:"middle",fill:f.data[G].color,fontSize:15,fontWeight:"bold",fontFamily:"monospace",children:["$",f.data[G].value.toFixed(2)]}),h.jsxs("text",{x:"50%",y:"65%",textAnchor:"middle",fill:"#747580",fontSize:10,children:[(f.data[G].value/(f.totalValue||1)*100).toFixed(1),"%"]})]}),G===void 0&&h.jsxs("g",{children:[h.jsx("text",{x:"50%",y:"46%",textAnchor:"middle",fill:"#747580",fontSize:10,style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"Total"}),h.jsxs("text",{x:"50%",y:"58%",textAnchor:"middle",fill:"#fff",fontSize:18,fontWeight:"600",children:["$",f.totalValue.toFixed(0)]})]})]}):h.jsxs(gWe,{data:[f.data.reduce((X,re)=>({...X,[re.symbol]:re.value}),{name:"Total"})],layout:"vertical",margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(B1,{strokeDasharray:"3 3",horizontal:!0,vertical:!0,stroke:"#232328"}),h.jsx(U1,{type:"number",tickFormatter:X=>`$${X}`,tick:{fill:"#747580",fontSize:10},tickLine:!1,axisLine:!1}),h.jsx(F1,{type:"category",dataKey:"name",hide:!0}),h.jsx(HC,{cursor:{fill:"transparent"},content:({active:X,payload:re})=>{if(!X||!re||!re.length||!te)return null;const ae=re.find(Ee=>Ee.dataKey===te);return ae?h.jsxs("div",{className:"bg-[#14151a] border border-[#232328] p-2 rounded shadow-lg",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:ae.color}}),h.jsx("span",{className:"text-[#a0a1a8] font-semibold text-[11px]",children:ae.name})]}),h.jsxs("p",{className:"text-white font-mono text-sm",children:["$",Number(ae.value).toFixed(2)]})]}):null}}),f.data.map((X,re)=>h.jsx(Fde,{dataKey:X.symbol,stackId:"a",fill:X.color,onMouseEnter:()=>Y(X.symbol),onMouseLeave:()=>Y(null),radius:re===0&&f.data.length===1?[4,4,4,4]:re===0?[4,0,0,4]:re===f.data.length-1?[0,4,4,0]:[0,0,0,0],barSize:40},X.symbol))]})})}),h.jsx("div",{className:"mt-4 space-y-1 flex-1 overflow-y-auto pr-2 custom-scrollbar",children:f.data.map((X,re)=>h.jsxs("div",{className:`flex items-center justify-between text-sm p-2 rounded-lg transition-all cursor-pointer ${G===re?"bg-[#232328]":"hover:bg-[#1a1b21]"}`,onMouseEnter:()=>O(re),onMouseLeave:()=>O(void 0),children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0 transition-transform",style:{backgroundColor:X.color,transform:G===re?"scale(1.3)":"scale(1)",boxShadow:G===re?`0 0 8px ${X.color}`:"none"}}),h.jsx("span",{className:`truncate max-w-[80px] sm:max-w-[100px] text-xs transition-colors ${G===re?"text-white":"text-[#a0a1a8]"}`,children:X.symbol}),X.network&&h.jsx("span",{className:`text-[9px] px-1 rounded uppercase tracking-wider ${X.network==="solana"?"bg-[#9b87f5]/15 text-[#9b87f5]":X.network==="hyperliquid"?"bg-[#34d399]/15 text-[#34d399]":"bg-[#60a5fa]/15 text-[#60a5fa]"}`,children:X.network==="solana"?"SOL":X.network==="hyperliquid"?"HL":"PM"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:`text-xs font-mono transition-colors ${G===re?"text-white":"text-[#747580]"}`,children:["$",X.value.toFixed(2)]}),h.jsxs("span",{className:"text-xs font-mono font-semibold",style:{color:X.color},children:[(X.value/(f.totalValue||1)*100).toFixed(1),"%"]})]})]},re))})]}),h.jsxs("div",{className:"glass-panel p-6 rounded flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-white",children:"Recent Activity"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>{I(k==="solana"?"all":"solana"),j(0)},className:`text-[9px] px-2 py-1 rounded uppercase tracking-wider font-medium transition-colors ${k==="solana"?"bg-[#9b87f5] text-white":"bg-[#9b87f5]/15 text-[#9b87f5] hover:bg-[#9b87f5]/25"}`,children:"SOL"}),h.jsx("button",{onClick:()=>{I(k==="hyperliquid"?"all":"hyperliquid"),j(0)},className:`text-[9px] px-2 py-1 rounded uppercase tracking-wider font-medium transition-colors ${k==="hyperliquid"?"bg-[#34d399] text-[#0f1015]":"bg-[#34d399]/15 text-[#34d399] hover:bg-[#34d399]/25"}`,children:"HL"})]})]}),h.jsx("div",{className:"flex-1 flex flex-col",children:m.filter(X=>k==="all"||X.network===k).length===0?h.jsx("div",{className:"text-center text-[#747580] text-sm py-4 my-auto bg-[#14151a] rounded border border-[#232328]",children:"No recent activity"}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"space-y-3",children:m.filter(X=>k==="all"||X.network===k).slice(D*M,(D+1)*M).map((X,re)=>h.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b border-[#232328] last:border-0",children:[h.jsx("div",{className:`mt-1 p-1.5 rounded-full ${X.status==="failed"?"bg-red-500/15 text-red-400":X.network==="solana"?"bg-[#9b87f5]/15 text-[#9b87f5]":"bg-[#34d399]/15 text-[#34d399]"}`,children:X.status==="failed"?h.jsx(HCe,{size:14}):h.jsx(Yne,{size:14})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex justify-between items-start gap-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`text-sm font-medium ${X.status==="failed"?"text-red-400":X.network==="solana"?"text-[#9b87f5]":"text-[#34d399]"}`,children:X.type}),h.jsx(fJ,{network:X.network})]}),h.jsx("span",{className:"text-[10px] text-[#747580] flex-shrink-0",children:X.time})]}),h.jsx("div",{className:"text-[11px] text-[#747580] truncate mt-0.5",children:X.desc}),X.signature&&W(X)&&h.jsxs("a",{href:W(X),target:"_blank",rel:"noopener noreferrer",className:`text-[10px] ${X.network==="solana"?"text-[#9b87f5] hover:text-[#a78bfa]":"text-[#34d399] hover:text-[#4ade80]"} flex items-center gap-1 mt-1`,children:[X.network==="solana"?"View on Solscan Explorer":"View on HL Explorer"," ",h.jsx($y,{size:10})]})]})]},re))}),h.jsx("div",{className:"mt-auto",children:m.filter(X=>k==="all"||X.network===k).length>M&&h.jsxs("div",{className:"flex items-center justify-between mt-4 pt-2 border-t border-[#232328]",children:[h.jsx("button",{onClick:()=>j(Math.max(0,D-1)),disabled:D===0,className:`p-1 rounded hover:bg-[#1a1b21] transition-colors ${D===0?"text-[#3a3b42] cursor-not-allowed":"text-[#747580]"}`,children:h.jsx(BT,{size:16})}),h.jsxs("span",{className:"text-[10px] text-[#747580]",children:["Page ",D+1," of ",Math.ceil(m.filter(X=>k==="all"||X.network===k).length/M)]}),h.jsx("button",{onClick:()=>j(Math.min(Math.ceil(m.filter(X=>k==="all"||X.network===k).length/M)-1,D+1)),disabled:D>=Math.ceil(m.filter(X=>k==="all"||X.network===k).length/M)-1,className:`p-1 rounded hover:bg-[#1a1b21] transition-colors ${D>=Math.ceil(m.filter(X=>k==="all"||X.network===k).length/M)-1?"text-[#3a3b42] cursor-not-allowed":"text-[#747580]"}`,children:h.jsx(sm,{size:16})})]})})]})})]})]})]})]})},MWe=({vault:t,password:e,setPassword:n,withdrawAmount:r,setWithdrawAmount:i,withdrawNetwork:s,setWithdrawNetwork:o,isImporting:a,setIsImporting:l,importKey:c,setImportKey:u,createVault:f,unlockVault:m,requestAirdrop:g,handleWithdraw:x,handleWithdrawHL:v,handleWithdrawPM:w,importVault:E,addNotification:k,isImportingSolana:I,setIsImportingSolana:D,isImportingHyperliquid:j,setIsImportingHyperliquid:M,isImportingPolymarket:U,setIsImportingPolymarket:V,solanaPassword:F,setSolanaPassword:z,hyperliquidPassword:K,setHyperliquidPassword:H,polymarketPassword:B,setPolymarketPassword:A,solanaImportKey:P,setSolanaImportKey:R,hlImportKey:$,setHLImportKey:q,pmImportKey:te,setPMImportKey:Y,createSolanaVault:G,createHyperliquidVault:O,createPolymarketVault:N,importSolanaVault:W,importHyperliquidVault:X,importPolymarketVault:re,setActiveTab:ae,activeVaultTab:Ee,setActiveVaultTab:ue})=>{var St,st,Lt,Xt;const me=T.useMemo(()=>{const qe=(t.solBalance||0)*nc.SOL,At=t.hlBalance||0,an=t.pmBalance||0;return qe+At+an},[t.solBalance,t.hlBalance,t.pmBalance]),ce=T.useMemo(()=>{const qe=(t.solBalance||0)*nc.SOL,At=t.hlBalance||0,an=t.pmBalance||0,_e=qe+At+an;return{solana:{value:qe,percent:_e>0?qe/_e*100:0},hyperliquid:{value:At,percent:_e>0?At/_e*100:0},polymarket:{value:an,percent:_e>0?an/_e*100:0},total:_e}},[t.solBalance,t.hlBalance,t.pmBalance]);!t.publicKey&&!t.hlPublicKey||t.isUnlocked;const oe={solana:"#E7FE55",hyperliquid:"#E7FE55",polymarket:"#60a5fa"},Ce=()=>{const{solana:qe,hyperliquid:At,polymarket:an,total:_e}=ce,[Ve,ft]=T.useState(void 0),lt=T.useMemo(()=>_e===0?[]:[{name:"Solana",value:qe.value,percent:qe.percent,color:oe.solana},{name:"Hyperliquid",value:At.value,percent:At.percent,color:oe.hyperliquid},{name:"Polymarket",value:an.value,percent:an.percent,color:oe.polymarket}].filter(Z=>Z.value>0),[qe,At,an,_e]);if(_e===0)return h.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[h.jsx("div",{className:"w-32 h-32 rounded-full bg-[#1a1b21] border-2 border-dashed border-[#232328] flex items-center justify-center",children:h.jsx(r1,{size:32,className:"text-[#747580]"})}),h.jsx("p",{className:"text-[#747580] text-xs mt-4",children:"No assets"})]});const se=(Z,fe)=>{ft(fe)},J=()=>{ft(void 0)};return h.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full gap-4",children:[h.jsx("div",{className:"w-full h-[180px] relative",children:h.jsx(T1,{width:"100%",height:"100%",children:h.jsxs(rfe,{children:[h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"solanaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#E7FE55",stopOpacity:.8}),h.jsx("stop",{offset:"100%",stopColor:"#E7FE55",stopOpacity:.4})]}),h.jsxs("linearGradient",{id:"hyperliquidGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#f3ffad"}),h.jsx("stop",{offset:"100%",stopColor:"#E7FE55"})]}),h.jsxs("linearGradient",{id:"polymarketGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"#7db4fb"}),h.jsx("stop",{offset:"100%",stopColor:"#60a5fa"})]})]}),h.jsx(FB,{data:lt,cx:"50%",cy:"50%",innerRadius:45,outerRadius:Ve!==void 0?65:70,paddingAngle:3,dataKey:"value",onMouseEnter:se,onMouseLeave:J,animationBegin:0,animationDuration:800,animationEasing:"ease-out",children:lt.map((Z,fe)=>h.jsx(Vx,{fill:Z.color,stroke:Ve===fe?Z.color:"transparent",strokeWidth:Ve===fe?3:0,style:{cursor:"pointer",transition:"all 0.2s ease-out",filter:Ve===fe?`brightness(1.2) drop-shadow(0 0 8px ${Z.color})`:"brightness(1)",transform:Ve===fe?"scale(1.05)":"scale(1)",transformOrigin:"center"}},`cell-${fe}`))}),Ve!==void 0&&lt[Ve]&&h.jsxs("g",{children:[h.jsx("text",{x:"50%",y:"45%",textAnchor:"middle",fill:"#fff",fontSize:13,fontWeight:"bold",children:lt[Ve].name}),h.jsxs("text",{x:"50%",y:"55%",textAnchor:"middle",fill:lt[Ve].color,fontSize:16,fontWeight:"bold",fontFamily:"monospace",children:["$",lt[Ve].value.toFixed(2)]}),h.jsxs("text",{x:"50%",y:"65%",textAnchor:"middle",fill:"#747580",fontSize:10,children:[lt[Ve].percent.toFixed(1),"%"]})]})]})})}),h.jsx("div",{className:"flex flex-col gap-2 w-full",children:lt.map((Z,fe)=>h.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg transition-all cursor-pointer ${Ve===fe?"bg-[#232328]":"hover:bg-[#1a1b21]"}`,onMouseEnter:()=>ft(fe),onMouseLeave:()=>ft(void 0),children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 rounded-full transition-transform",style:{backgroundColor:Z.color,transform:Ve===fe?"scale(1.3)":"scale(1)",boxShadow:Ve===fe?`0 0 8px ${Z.color}`:"none"}}),h.jsx("span",{className:`text-xs transition-colors ${Ve===fe?"text-white":"text-[#747580]"}`,children:Z.name})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:`text-xs font-mono transition-colors ${Ve===fe?"text-white":"text-[#747580]"}`,children:["$",Z.value.toFixed(2)]}),h.jsxs("span",{className:"text-xs font-mono font-semibold",style:{color:Z.color},children:[Z.percent.toFixed(1),"%"]})]})]},Z.name))})]})},Ne=h.jsxs("div",{className:"glass-panel p-4 flex flex-col h-full",children:[h.jsxs("div",{className:"flex items-center gap-2 swiss-label text-[#E7FE55] mb-3",children:[h.jsx(UT,{size:14}),"Fast Withdraw"]}),h.jsxs("div",{className:"flex gap-1 mb-3 bg-[#0f1015] p-1 rounded",children:[h.jsx("button",{onClick:()=>o("SOL"),className:`flex-1 py-1.5 text-[10px] font-semibold uppercase tracking-wider rounded transition-all ${s==="SOL"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-white"}`,children:"SOL"}),h.jsx("button",{onClick:()=>o("HYPE"),className:`flex-1 py-1.5 text-[10px] font-semibold uppercase tracking-wider rounded transition-all ${s==="HYPE"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-white"}`,children:"HYPE"}),h.jsx("button",{onClick:()=>o("POLY"),className:`flex-1 py-1.5 text-[10px] font-semibold uppercase tracking-wider rounded transition-all ${s==="POLY"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-white"}`,children:"POLY"})]}),h.jsxs("div",{className:"flex-1 flex flex-col justify-end space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"swiss-label block mb-1.5",children:"Amount"}),h.jsxs("div",{className:"flex items-center relative",children:[h.jsx("input",{type:"number",value:r,onChange:qe=>i(qe.target.value),className:"w-full bg-[#0f1015] border border-[#232328] rounded pl-3 pr-12 py-2.5 text-sm text-white focus:ring-1 outline-none transition-all focus:ring-[#E7FE55]",placeholder:"0.00"}),h.jsx("button",{onClick:()=>{i(s==="SOL"?Math.max(0,t.solBalance-.005).toFixed(4):s==="HYPE"?Math.max(0,(t.hlBalance||0)-1).toFixed(2):Math.max(0,t.pmBalance||0).toFixed(2))},className:"absolute right-2 text-[9px] font-semibold px-1.5 py-0.5 rounded bg-[#E7FE55]/20 text-[#E7FE55]",children:"MAX"})]})]}),h.jsxs("button",{onClick:s==="SOL"?x:s==="HYPE"?v:w,disabled:s==="SOL"&&!t.publicKey||s==="HYPE"&&!t.hlPublicKey||s==="POLY"&&!t.pmPublicKey,className:`w-full font-semibold py-2.5 rounded transition-all flex items-center justify-center gap-2 text-xs ${s==="SOL"&&t.publicKey||s==="HYPE"&&t.hlPublicKey||s==="POLY"&&t.pmPublicKey?"bg-[#E7FE55] hover:brightness-110 text-black":"bg-[#1a1b21] text-[#747580] cursor-not-allowed"}`,children:[h.jsx(UT,{size:14}),s==="SOL"?"Withdraw SOL":"Withdraw USDC"]})]})]}),$e=h.jsxs("div",{className:"flex flex-col gap-6 flex-1",children:[h.jsxs("div",{className:"glass-panel glass-panel-solana p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 swiss-label text-[#9b87f5] mb-3",children:[h.jsx("img",{src:Qf[0].logoURI,alt:"SOL",className:"w-4 h-4 rounded-full"}),"Solana Vault"]}),t.publicKey?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"bg-[#0f1015] p-2 rounded border border-[#232328] flex items-center justify-between",children:[h.jsx("code",{className:"text-[10px] text-[#747580] font-mono truncate max-w-[200px]",children:t.publicKey}),h.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t.publicKey),k("Copied!")},className:"text-[#747580] hover:text-white",children:h.jsx(kg,{size:12})})]}),h.jsxs("div",{className:"flex justify-between items-end",children:[h.jsxs("div",{children:[h.jsx("div",{className:"swiss-label",children:"Balance"}),h.jsxs("div",{className:"text-xl font-bold text-white leading-none mt-1",children:[t.solBalance.toFixed(4)," ",h.jsx("span",{className:"text-xs text-[#747580]",children:"SOL"})]})]}),h.jsxs("div",{className:"text-xs text-[#9b87f5] font-mono",children:[" $",(t.solBalance*nc.SOL).toFixed(2)]})]})]}):h.jsxs("div",{className:"space-y-3 p-3 bg-[#0f1015] rounded border border-[#232328]",children:[h.jsx("p",{className:"text-xs text-[#747580]",children:"No Solana wallet found."}),h.jsx("input",{type:"password",value:F,onChange:qe=>z(qe.target.value),className:"w-full bg-[#14151a] border border-[#232328] rounded px-2 py-1.5 text-xs text-white focus:ring-1 focus:ring-[#9b87f5] outline-none",placeholder:"Password..."}),I&&h.jsx("input",{type:"password",value:P,onChange:qe=>R(qe.target.value),className:"w-full bg-[#14151a] border border-[#232328] rounded px-2 py-1.5 text-xs text-white focus:ring-1 focus:ring-[#9b87f5] outline-none font-mono",placeholder:"Private Key..."}),h.jsx("div",{className:"flex gap-2",children:I?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:W,className:"flex-1 bg-[#9b87f5] hover:bg-[#a896f7] text-white text-xs font-semibold py-1.5 rounded",children:"Confirm"}),h.jsx("button",{onClick:()=>D(!1),className:"px-2 py-1.5 text-[#747580] text-xs hover:text-white",children:"Cancel"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:G,className:"flex-1 bg-[#9b87f5] hover:bg-[#a896f7] text-white text-xs font-semibold py-1.5 rounded flex items-center justify-center gap-1",children:[h.jsx(cu,{size:12})," New"]}),h.jsxs("button",{onClick:()=>D(!0),className:"flex-1 bg-[#1a1b21] hover:bg-[#232328] text-white text-xs font-semibold py-1.5 rounded flex items-center justify-center gap-1 border border-[#232328]",children:[h.jsx(Io,{size:12})," Import"]})]})})]})]}),t.publicKey&&h.jsxs("div",{className:"glass-panel glass-panel-solana flex flex-col overflow-hidden flex-1",children:[h.jsxs("div",{className:"px-4 py-3 border-b border-[#232328] flex items-center justify-between bg-[#0f1015]/50",children:[h.jsxs("div",{className:"flex items-center gap-2 swiss-label text-[#9b87f5]",children:[h.jsx(xc,{size:12})," Solana Assets"]}),h.jsxs("span",{className:"text-[10px] text-[#747580] font-mono",children:[((St=t.assets)==null?void 0:St.filter(qe=>!qe.isNft&&qe.symbol!=="SOL").length)||0," Assets"]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:h.jsxs("table",{className:"swiss-table w-full",children:[h.jsx("thead",{className:"sticky top-0 bg-[#0f1015]/90 backdrop-blur-sm",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4",children:"Asset"}),h.jsx("th",{className:"px-4 text-right",children:"Balance"}),h.jsx("th",{className:"px-4 text-right",children:"Value"})]})}),h.jsxs("tbody",{children:[h.jsxs("tr",{children:[h.jsx("td",{className:"px-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-6 h-6 rounded bg-[#1a1b21] flex items-center justify-center",children:h.jsx("img",{src:Qf[0].logoURI,alt:"SOL",className:"w-4 h-4 rounded-full"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-xs font-semibold text-white leading-none",children:"SOL"}),h.jsx("span",{className:"text-[9px] text-[#747580]",children:"Native"})]})]})}),h.jsx("td",{className:"px-4 text-right font-mono text-xs text-slate-300",children:t.solBalance.toFixed(4)}),h.jsxs("td",{className:"px-4 text-right font-mono text-xs text-[#9b87f5]",children:["$",(t.solBalance*nc.SOL).toFixed(2)]})]}),t.assets&&t.assets.filter(qe=>!qe.isNft&&qe.symbol!=="SOL").length>0?t.assets.filter(qe=>!qe.isNft&&qe.symbol!=="SOL").map((qe,At)=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-6 h-6 rounded bg-[#1a1b21] flex items-center justify-center text-[10px] font-bold text-[#747580] border border-[#232328]",children:qe.symbol[0]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-xs font-semibold text-white leading-none",children:qe.symbol}),h.jsx("span",{className:"text-[9px] text-[#747580] truncate max-w-[60px]",children:qe.name})]})]})}),h.jsx("td",{className:"px-4 text-right font-mono text-xs text-slate-300",children:(parseFloat(qe.amount)/Math.pow(10,qe.decimals)).toFixed(4)}),h.jsx("td",{className:"px-4 text-right font-mono text-xs text-[#34d399]",children:qe.symbol!=="UNKNOWN"?`$${(parseFloat(qe.amount)/Math.pow(10,qe.decimals)*(nc[qe.symbol]||0)).toFixed(2)}`:"-"})]},At)):null]})]})})]})]}),Ze=h.jsxs("div",{className:"flex flex-col gap-6 flex-1",children:[h.jsxs("div",{className:"glass-panel glass-panel-hyperliquid p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 swiss-label text-[#34d399] mb-3",children:[h.jsx(Pn,{size:14}),"Hyperliquid Vault"]}),t.hlPublicKey?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"bg-[#0f1015] p-2 rounded border border-[#232328] flex items-center justify-between",children:[h.jsx("code",{className:"text-[10px] text-[#747580] font-mono truncate max-w-[200px]",children:t.hlPublicKey}),h.jsx("button",{onClick:()=>{t.hlPublicKey&&(navigator.clipboard.writeText(t.hlPublicKey),k("Copied!"))},className:"text-[#747580] hover:text-white",children:h.jsx(kg,{size:12})})]}),h.jsxs("div",{className:"flex justify-between items-end",children:[h.jsxs("div",{children:[h.jsx("div",{className:"swiss-label",children:"Balance"}),h.jsxs("div",{className:"text-xl font-bold text-white leading-none mt-1",children:[((st=t.hlBalance)==null?void 0:st.toFixed(2))||"0.00"," ",h.jsx("span",{className:"text-xs text-[#747580]",children:"USDC"})]})]}),h.jsx("div",{className:"text-xs text-[#E7FE55] font-mono",children:"Testnet"})]})]}):h.jsxs("div",{className:"space-y-3 p-3 bg-[#0f1015] rounded border border-[#232328]",children:[h.jsx("p",{className:"text-xs text-[#747580]",children:"No Hyperliquid wallet found."}),h.jsx("input",{type:"password",value:K,onChange:qe=>H(qe.target.value),className:"w-full bg-[#14151a] border border-[#232328] rounded px-2 py-1.5 text-xs text-white focus:ring-1 focus:ring-[#E7FE55] outline-none",placeholder:"Password..."}),j&&h.jsx("input",{type:"password",value:$,onChange:qe=>q(qe.target.value),className:"w-full bg-[#14151a] border border-[#232328] rounded px-2 py-1.5 text-xs text-white focus:ring-1 focus:ring-[#E7FE55] outline-none font-mono",placeholder:"PrivKey (0x...)..."}),h.jsx("div",{className:"flex gap-2",children:j?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:X,className:"flex-1 bg-[#E7FE55] hover:brightness-110 text-black text-xs font-semibold py-1.5 rounded",children:"Confirm"}),h.jsx("button",{onClick:()=>M(!1),className:"px-2 py-1.5 text-[#747580] text-xs hover:text-white",children:"Cancel"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:O,className:"flex-1 bg-[#E7FE55] hover:brightness-110 text-black text-xs font-semibold py-1.5 rounded flex items-center justify-center gap-1",children:[h.jsx(cu,{size:12})," New"]}),h.jsxs("button",{onClick:()=>M(!0),className:"flex-1 bg-[#1a1b21] hover:bg-[#232328] text-white text-xs font-semibold py-1.5 rounded flex items-center justify-center gap-1 border border-[#232328]",children:[h.jsx(Io,{size:12})," Import"]})]})})]})]}),t.hlPublicKey&&h.jsxs("div",{className:"glass-panel glass-panel-hyperliquid flex flex-col overflow-hidden flex-1",children:[h.jsxs("div",{className:"px-4 py-3 border-b border-[#232328] flex items-center justify-between bg-[#0f1015]/50",children:[h.jsxs("div",{className:"flex items-center gap-2 swiss-label text-[#34d399]",children:[h.jsx(Pn,{size:12})," Active Positions"]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"text-[10px] text-[#747580] font-mono",children:[((Lt=t.hlPositions)==null?void 0:Lt.filter(qe=>parseFloat(qe.position.szi)!==0).length)||0," Open"]}),h.jsxs("button",{onClick:()=>ae(ke.HYPERLIQUID),className:"text-[10px] bg-[#E7FE55]/15 hover:bg-[#E7FE55]/25 text-[#E7FE55] border border-[#E7FE55]/30 px-2 py-1 rounded transition-colors flex items-center gap-1",children:[h.jsx(Pn,{size:10}),"Details"]})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:h.jsxs("table",{className:"swiss-table w-full",children:[h.jsx("thead",{className:"sticky top-0 bg-[#0f1015]/90 backdrop-blur-sm",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-3",children:"Ticker"}),h.jsx("th",{className:"px-3",children:"Side"}),h.jsx("th",{className:"px-3 text-right",children:"Size"}),h.jsx("th",{className:"px-3 text-right",children:"PnL"})]})}),h.jsx("tbody",{children:t.hlPositions&&t.hlPositions.filter(qe=>parseFloat(qe.position.szi)!==0).length>0?t.hlPositions.filter(qe=>parseFloat(qe.position.szi)!==0).map((qe,At)=>{const an=parseFloat(qe.position.szi),_e=an>0,Ve=parseFloat(qe.position.unrealizedPnl||"0");return h.jsxs("tr",{children:[h.jsx("td",{className:"px-3",children:h.jsx("span",{className:"text-xs font-semibold text-white",children:qe.position.coin})}),h.jsx("td",{className:"px-3",children:h.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-semibold ${_e?"bg-[#34d399]/15 text-[#34d399]":"bg-red-500/15 text-red-400"}`,children:_e?"LONG":"SHORT"})}),h.jsx("td",{className:"px-3 text-right font-mono text-xs text-slate-300",children:Math.abs(an).toFixed(4)}),h.jsxs("td",{className:`px-3 text-right font-mono text-xs font-semibold ${Ve>=0?"text-[#34d399]":"text-red-400"}`,children:[Ve>=0?"+":"",Ve.toFixed(2)]})]},`hl-${At}`)}):h.jsx("tr",{children:h.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-[#747580] text-xs italic",children:"No active positions."})})})]})})]})]}),Ye=h.jsxs("div",{className:"flex flex-col gap-6 flex-1",children:[h.jsxs("div",{className:"glass-panel glass-panel-polymarket p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 swiss-label text-[#60a5fa] mb-3",children:[h.jsx(al,{size:14}),"Polymarket Vault"]}),t.pmPublicKey?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"bg-[#0f1015] p-2 rounded border border-[#232328] flex items-center justify-between",children:[h.jsx("code",{className:"text-[10px] text-[#747580] font-mono truncate max-w-[200px]",children:t.pmPublicKey}),h.jsx("button",{onClick:()=>{t.pmPublicKey&&(navigator.clipboard.writeText(t.pmPublicKey),k("Copied!"))},className:"text-[#747580] hover:text-white",children:h.jsx(kg,{size:12})})]}),h.jsxs("div",{className:"flex justify-between items-end",children:[h.jsxs("div",{children:[h.jsx("div",{className:"swiss-label",children:"Balance"}),h.jsxs("div",{className:"text-xl font-bold text-white leading-none mt-1",children:[((Xt=t.pmBalance)==null?void 0:Xt.toFixed(2))||"0.00"," ",h.jsx("span",{className:"text-xs text-[#747580]",children:"USDC"})]})]}),h.jsx("div",{className:"text-xs text-[#60a5fa] font-mono",children:"Polygon"})]})]}):h.jsxs("div",{className:"space-y-3 p-3 bg-[#0f1015] rounded border border-[#232328]",children:[h.jsx("p",{className:"text-xs text-[#747580]",children:"No Polymarket wallet found."}),h.jsx("input",{type:"password",value:B,onChange:qe=>A(qe.target.value),className:"w-full bg-[#14151a] border border-[#232328] rounded px-2 py-1.5 text-xs text-white focus:ring-1 focus:ring-[#60a5fa] outline-none",placeholder:"Password..."}),U&&h.jsx("input",{type:"password",value:te,onChange:qe=>Y(qe.target.value),className:"w-full bg-[#14151a] border border-[#232328] rounded px-2 py-1.5 text-xs text-white focus:ring-1 focus:ring-[#60a5fa] outline-none font-mono",placeholder:"PrivKey (0x...)..."}),h.jsx("div",{className:"flex gap-2",children:U?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:re,className:"flex-1 bg-[#60a5fa] hover:bg-[#7db4fb] text-white text-xs font-semibold py-1.5 rounded",children:"Confirm"}),h.jsx("button",{onClick:()=>V(!1),className:"px-2 py-1.5 text-[#747580] text-xs hover:text-white",children:"Cancel"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:N,className:"flex-1 bg-[#60a5fa] hover:bg-[#7db4fb] text-white text-xs font-semibold py-1.5 rounded flex items-center justify-center gap-1",children:[h.jsx(cu,{size:12})," New"]}),h.jsxs("button",{onClick:()=>V(!0),className:"flex-1 bg-[#1a1b21] hover:bg-[#232328] text-white text-xs font-semibold py-1.5 rounded flex items-center justify-center gap-1 border border-[#232328]",children:[h.jsx(Io,{size:12})," Import"]})]})})]})]}),t.pmPublicKey&&h.jsxs("div",{className:"glass-panel glass-panel-polymarket flex flex-col overflow-hidden flex-1",children:[h.jsxs("div",{className:"px-4 py-3 border-b border-[#232328] flex items-center justify-between bg-[#0f1015]/50",children:[h.jsxs("div",{className:"flex items-center gap-2 swiss-label text-[#60a5fa]",children:[h.jsx(al,{size:12})," Market Positions"]}),h.jsxs("button",{onClick:()=>ae(ke.POLYMARKET_DASHBOARD),className:"text-[10px] bg-[#60a5fa]/15 hover:bg-[#60a5fa]/25 text-[#60a5fa] border border-[#60a5fa]/30 px-2 py-1 rounded transition-colors flex items-center gap-1",children:[h.jsx(al,{size:10}),"Details"]})]}),h.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:h.jsx("p",{className:"text-xs text-[#747580] text-center",children:"View your Polymarket positions in the Polymarket Dealer dashboard."})})]})]}),We=h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 flex-1",children:[h.jsxs("div",{className:"glass-panel p-4 flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2 swiss-label text-white",children:[h.jsx(r1,{size:14}),"Asset Allocation"]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-[10px] text-[#747580] uppercase tracking-wider",children:"Net Worth"}),h.jsxs("div",{className:"text-lg font-bold font-mono text-white",children:["$",me.toFixed(2)]})]})]}),h.jsx("div",{className:"flex-1 flex items-center justify-center min-h-[200px]",children:h.jsx(Ce,{})})]}),Ne]});return h.jsx("div",{className:"h-full flex flex-col gap-6 overflow-y-auto custom-scrollbar p-1",children:!t.publicKey&&!t.hlPublicKey?h.jsxs(tn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl mx-auto relative z-10 flex flex-col items-center justify-center flex-1",children:[h.jsxs(tn.div,{initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:20},className:"w-20 h-20 glass-panel rounded-full flex items-center justify-center mb-6 border-[#E7FE55]/30 relative group",children:[h.jsx("div",{className:"absolute inset-0 bg-[#E7FE55]/5 rounded-full blur-xl group-hover:bg-[#E7FE55]/10 transition-colors"}),h.jsx(i1,{size:32,className:"text-[#E7FE55] relative z-10"})]}),h.jsx("h2",{className:"text-3xl font-bold text-white mb-2 text-center tracking-tight",children:"Configure Your Vault"}),h.jsx("p",{className:"text-[#747580] text-center mb-8 text-sm",children:"Securely manage your assets across multiple networks."}),h.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"glass-panel glass-panel-solana p-6 space-y-4 border-[#9b87f5]/20 transition-transform duration-200 hover:-translate-y-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 bg-[#9b87f5]/10 rounded-lg flex items-center justify-center border border-[#9b87f5]/20",children:h.jsx("img",{src:Qf[0].logoURI,alt:"SOL",className:"w-5 h-5 rounded-full"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-semibold",children:"Solana"}),h.jsx("span",{className:"text-[10px] text-[#9b87f5] uppercase tracking-widest font-bold",children:"Devnet"})]})]}),h.jsx("input",{type:"password",value:F,onChange:qe=>z(qe.target.value),className:"w-full bg-[#0f1015]/50 border border-[#232328] rounded-md px-3 py-3 text-white text-sm focus:ring-1 focus:ring-[#9b87f5]/50 outline-none transition-all placeholder:text-[#747580]",placeholder:"Wallet Password"}),I&&h.jsx("input",{type:"password",value:P,onChange:qe=>R(qe.target.value),className:"w-full bg-[#0f1015]/50 border border-[#232328] rounded-md px-3 py-3 text-white text-sm focus:ring-1 focus:ring-[#9b87f5]/50 outline-none transition-all font-mono placeholder:text-[#747580]",placeholder:"Private Key (Base58)"}),h.jsx("div",{className:"flex gap-2",children:I?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:W,className:"flex-1 bg-[#9b87f5] hover:bg-[#a896f7] text-white font-bold py-3 rounded-md transition-all flex items-center justify-center gap-2 text-xs uppercase tracking-wider",children:[h.jsx(Io,{size:14})," Import"]}),h.jsx("button",{onClick:()=>D(!1),className:"px-3 py-3 text-[#747580] hover:text-white text-xs font-semibold",children:"Cancel"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:G,className:"flex-1 bg-[#9b87f5] hover:bg-[#a896f7] text-white font-bold py-3 rounded-md transition-all flex items-center justify-center gap-2 text-xs uppercase tracking-wider",children:[h.jsx(cu,{size:14})," Create"]}),h.jsxs("button",{onClick:()=>D(!0),className:"flex-1 bg-[#1a1b21] hover:bg-[#232328] text-white font-bold py-3 rounded-md transition-all flex items-center justify-center gap-2 text-xs uppercase tracking-wider border border-[#232328]",children:[h.jsx(Io,{size:14})," Import"]})]})})]}),h.jsxs("div",{className:"glass-panel p-6 space-y-4 border-[#34d399]/20 transition-transform duration-200 hover:-translate-y-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 bg-[#34d399]/10 rounded-lg flex items-center justify-center border border-[#34d399]/20",children:h.jsx(Pn,{size:20,className:"text-[#34d399]"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-semibold",children:"Hyperliquid"}),h.jsx("span",{className:"text-[10px] text-[#34d399] uppercase tracking-widest font-bold",children:"Testnet"})]})]}),h.jsx("input",{type:"password",value:K,onChange:qe=>H(qe.target.value),className:"w-full bg-[#0f1015]/50 border border-[#232328] rounded-md px-3 py-3 text-white text-sm focus:ring-1 focus:ring-[#34d399]/50 outline-none transition-all placeholder:text-[#747580]",placeholder:"Wallet Password"}),j&&h.jsx("input",{type:"password",value:$,onChange:qe=>q(qe.target.value),className:"w-full bg-[#0f1015]/50 border border-[#232328] rounded-md px-3 py-3 text-white text-sm focus:ring-1 focus:ring-[#34d399]/50 outline-none transition-all font-mono placeholder:text-[#747580]",placeholder:"Private Key (0x...)"}),h.jsx("div",{className:"flex gap-2",children:j?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:X,className:"flex-1 bg-[#34d399] hover:bg-[#4ade80] text-white font-bold py-3 rounded-md transition-all flex items-center justify-center gap-2 text-xs uppercase tracking-wider",children:[h.jsx(Io,{size:14})," Import"]}),h.jsx("button",{onClick:()=>M(!1),className:"px-3 py-3 text-[#747580] hover:text-white text-xs font-semibold",children:"Cancel"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:O,className:"flex-1 bg-[#34d399] hover:bg-[#4ade80] text-white font-bold py-3 rounded-md transition-all flex items-center justify-center gap-2 text-xs uppercase tracking-wider",children:[h.jsx(cu,{size:14})," Create"]}),h.jsxs("button",{onClick:()=>M(!0),className:"flex-1 bg-[#1a1b21] hover:bg-[#232328] text-white font-bold py-3 rounded-md transition-all flex items-center justify-center gap-2 text-xs uppercase tracking-wider border border-[#232328]",children:[h.jsx(Io,{size:14})," Import"]})]})})]}),h.jsxs("div",{className:"glass-panel glass-panel-polymarket p-6 space-y-4 border-[#60a5fa]/20 transition-transform duration-200 hover:-translate-y-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 bg-[#60a5fa]/10 rounded-lg flex items-center justify-center border border-[#60a5fa]/20",children:h.jsx(al,{size:20,className:"text-[#60a5fa]"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-semibold",children:"Polymarket"}),h.jsx("span",{className:"text-[10px] text-[#60a5fa] uppercase tracking-widest font-bold",children:"Polygon"})]})]}),h.jsx("input",{type:"password",value:B,onChange:qe=>A(qe.target.value),className:"w-full bg-[#0f1015]/50 border border-[#232328] rounded-md px-3 py-3 text-white text-sm focus:ring-1 focus:ring-[#60a5fa]/50 outline-none transition-all placeholder:text-[#747580]",placeholder:"Wallet Password"}),U&&h.jsx("input",{type:"password",value:te,onChange:qe=>Y(qe.target.value),className:"w-full bg-[#0f1015]/50 border border-[#232328] rounded-md px-3 py-3 text-white text-sm focus:ring-1 focus:ring-[#60a5fa]/50 outline-none transition-all font-mono placeholder:text-[#747580]",placeholder:"Private Key (0x...)"}),h.jsx("div",{className:"flex gap-2",children:U?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:re,className:"flex-1 bg-[#60a5fa] hover:bg-[#7db4fb] text-white font-bold py-3 rounded-md transition-all flex items-center justify-center gap-2 text-xs uppercase tracking-wider",children:[h.jsx(Io,{size:14})," Import"]}),h.jsx("button",{onClick:()=>V(!1),className:"px-3 py-3 text-[#747580] hover:text-white text-xs font-semibold",children:"Cancel"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:N,className:"flex-1 bg-[#60a5fa] hover:bg-[#7db4fb] text-white font-bold py-3 rounded-md transition-all flex items-center justify-center gap-2 text-xs uppercase tracking-wider",children:[h.jsx(cu,{size:14})," Create"]}),h.jsxs("button",{onClick:()=>V(!0),className:"flex-1 bg-[#1a1b21] hover:bg-[#232328] text-white font-bold py-3 rounded-md transition-all flex items-center justify-center gap-2 text-xs uppercase tracking-wider border border-[#232328]",children:[h.jsx(Io,{size:14})," Import"]})]})})]})]}),h.jsx("p",{className:"text-xs text-[#747580] mt-8 text-center max-w-sm",children:"Wallets are stored locally and encrypted. Never share your private keys or password."})]}):t.isUnlocked?h.jsxs("div",{className:"flex flex-col gap-6 flex-1",children:[Ee==="main"&&We,Ee==="solana"&&$e,Ee==="hyperliquid"&&Ze,Ee==="polymarket"&&Ye]}):h.jsxs(tn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},className:"max-w-md mx-auto relative z-10 flex flex-col items-center justify-center flex-1 w-full",children:[h.jsxs(tn.div,{animate:{rotate:[0,-10,10,-10,10,0]},transition:{delay:.5,duration:.5,ease:"easeInOut"},className:"w-24 h-24 glass-panel rounded-full flex items-center justify-center mb-8 border-[#E7FE55]/30 relative",children:[h.jsx("div",{className:"absolute inset-0 bg-[#E7FE55]/10 rounded-full blur-2xl animate-pulse"}),h.jsx(i1,{size:40,className:"text-[#E7FE55] relative z-10"})]}),h.jsx("h2",{className:"text-3xl font-bold text-white mb-2 text-center tracking-tight",children:"Vault Locked"}),h.jsx("p",{className:"text-[#747580] text-center mb-10 text-sm",children:"Authentication required to access your assets."}),h.jsxs("div",{className:"w-full glass-panel p-8 space-y-6 border-[#E7FE55]/10 shadow-2xl",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"swiss-label px-1",children:"Security Password"}),h.jsx("input",{type:"password",value:e,onChange:qe=>n(qe.target.value),className:"w-full bg-[#0f1015]/80 border border-[#232328] rounded-md px-4 py-4 text-white focus:ring-1 focus:ring-[#E7FE55]/50 outline-none transition-all placeholder:text-[#333540] text-lg font-mono",placeholder:"",onKeyDown:qe=>qe.key==="Enter"&&m()})]}),h.jsxs("button",{onClick:m,className:"w-full bg-[#E7FE55] hover:brightness-110 active:scale-[0.98] text-black font-bold py-4 rounded-md transition-all flex items-center justify-center gap-2 text-sm uppercase tracking-widest",children:[h.jsx(ere,{size:18})," Unlock Vault"]})]})]})})};function DWe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const LWe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,BWe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jWe={};function hJ(t,e){return(jWe.jsx?BWe:LWe).test(t)}const UWe=/[ \t\n\f\r]/g;function FWe(t){return typeof t=="object"?t.type==="text"?pJ(t.value):!1:pJ(t)}function pJ(t){return t.replace(UWe,"")===""}class nE{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}nE.prototype.normal={};nE.prototype.property={};nE.prototype.space=void 0;function sfe(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new nE(n,r,e)}function pD(t){return t.toLowerCase()}class uo{constructor(e,n){this.attribute=n,this.property=e}}uo.prototype.attribute="";uo.prototype.booleanish=!1;uo.prototype.boolean=!1;uo.prototype.commaOrSpaceSeparated=!1;uo.prototype.commaSeparated=!1;uo.prototype.defined=!1;uo.prototype.mustUseProperty=!1;uo.prototype.number=!1;uo.prototype.overloadedBoolean=!1;uo.prototype.property="";uo.prototype.spaceSeparated=!1;uo.prototype.space=void 0;let zWe=0;const cn=Bm(),si=Bm(),mD=Bm(),ot=Bm(),dr=Bm(),Ug=Bm(),So=Bm();function Bm(){return 2**++zWe}const gD=Object.freeze(Object.defineProperty({__proto__:null,boolean:cn,booleanish:si,commaOrSpaceSeparated:So,commaSeparated:Ug,number:ot,overloadedBoolean:mD,spaceSeparated:dr},Symbol.toStringTag,{value:"Module"})),P3=Object.keys(gD);class JB extends uo{constructor(e,n,r,i){let s=-1;if(super(e,n),mJ(this,"space",i),typeof r=="number")for(;++s<P3.length;){const o=P3[s];mJ(this,P3[s],(r&gD[o])===gD[o])}}}JB.prototype.defined=!0;function mJ(t,e,n){n&&(t[e]=n)}function Gx(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new JB(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[pD(r)]=r,n[pD(s.attribute)]=r}return new nE(e,n,t.space)}const ofe=Gx({properties:{ariaActiveDescendant:null,ariaAtomic:si,ariaAutoComplete:null,ariaBusy:si,ariaChecked:si,ariaColCount:ot,ariaColIndex:ot,ariaColSpan:ot,ariaControls:dr,ariaCurrent:null,ariaDescribedBy:dr,ariaDetails:null,ariaDisabled:si,ariaDropEffect:dr,ariaErrorMessage:null,ariaExpanded:si,ariaFlowTo:dr,ariaGrabbed:si,ariaHasPopup:null,ariaHidden:si,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:dr,ariaLevel:ot,ariaLive:null,ariaModal:si,ariaMultiLine:si,ariaMultiSelectable:si,ariaOrientation:null,ariaOwns:dr,ariaPlaceholder:null,ariaPosInSet:ot,ariaPressed:si,ariaReadOnly:si,ariaRelevant:null,ariaRequired:si,ariaRoleDescription:dr,ariaRowCount:ot,ariaRowIndex:ot,ariaRowSpan:ot,ariaSelected:si,ariaSetSize:ot,ariaSort:null,ariaValueMax:ot,ariaValueMin:ot,ariaValueNow:ot,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function afe(t,e){return e in t?t[e]:e}function lfe(t,e){return afe(t,e.toLowerCase())}const $We=Gx({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ug,acceptCharset:dr,accessKey:dr,action:null,allow:null,allowFullScreen:cn,allowPaymentRequest:cn,allowUserMedia:cn,alt:null,as:null,async:cn,autoCapitalize:null,autoComplete:dr,autoFocus:cn,autoPlay:cn,blocking:dr,capture:null,charSet:null,checked:cn,cite:null,className:dr,cols:ot,colSpan:null,content:null,contentEditable:si,controls:cn,controlsList:dr,coords:ot|Ug,crossOrigin:null,data:null,dateTime:null,decoding:null,default:cn,defer:cn,dir:null,dirName:null,disabled:cn,download:mD,draggable:si,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:cn,formTarget:null,headers:dr,height:ot,hidden:mD,high:ot,href:null,hrefLang:null,htmlFor:dr,httpEquiv:dr,id:null,imageSizes:null,imageSrcSet:null,inert:cn,inputMode:null,integrity:null,is:null,isMap:cn,itemId:null,itemProp:dr,itemRef:dr,itemScope:cn,itemType:dr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:cn,low:ot,manifest:null,max:null,maxLength:ot,media:null,method:null,min:null,minLength:ot,multiple:cn,muted:cn,name:null,nonce:null,noModule:cn,noValidate:cn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:cn,optimum:ot,pattern:null,ping:dr,placeholder:null,playsInline:cn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:cn,referrerPolicy:null,rel:dr,required:cn,reversed:cn,rows:ot,rowSpan:ot,sandbox:dr,scope:null,scoped:cn,seamless:cn,selected:cn,shadowRootClonable:cn,shadowRootDelegatesFocus:cn,shadowRootMode:null,shape:null,size:ot,sizes:null,slot:null,span:ot,spellCheck:si,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ot,step:null,style:null,tabIndex:ot,target:null,title:null,translate:null,type:null,typeMustMatch:cn,useMap:null,value:si,width:ot,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:dr,axis:null,background:null,bgColor:null,border:ot,borderColor:null,bottomMargin:ot,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:cn,declare:cn,event:null,face:null,frame:null,frameBorder:null,hSpace:ot,leftMargin:ot,link:null,longDesc:null,lowSrc:null,marginHeight:ot,marginWidth:ot,noResize:cn,noHref:cn,noShade:cn,noWrap:cn,object:null,profile:null,prompt:null,rev:null,rightMargin:ot,rules:null,scheme:null,scrolling:si,standby:null,summary:null,text:null,topMargin:ot,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ot,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:cn,disableRemotePlayback:cn,prefix:null,property:null,results:ot,security:null,unselectable:null},space:"html",transform:lfe}),HWe=Gx({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:So,accentHeight:ot,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ot,amplitude:ot,arabicForm:null,ascent:ot,attributeName:null,attributeType:null,azimuth:ot,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ot,by:null,calcMode:null,capHeight:ot,className:dr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ot,diffuseConstant:ot,direction:null,display:null,dur:null,divisor:ot,dominantBaseline:null,download:cn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ot,enableBackground:null,end:null,event:null,exponent:ot,externalResourcesRequired:null,fill:null,fillOpacity:ot,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ug,g2:Ug,glyphName:Ug,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ot,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ot,horizOriginX:ot,horizOriginY:ot,id:null,ideographic:ot,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ot,k:ot,k1:ot,k2:ot,k3:ot,k4:ot,kernelMatrix:So,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ot,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ot,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ot,overlineThickness:ot,paintOrder:null,panose1:null,path:null,pathLength:ot,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:dr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ot,pointsAtY:ot,pointsAtZ:ot,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:So,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:So,rev:So,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:So,requiredFeatures:So,requiredFonts:So,requiredFormats:So,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ot,specularExponent:ot,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ot,strikethroughThickness:ot,string:null,stroke:null,strokeDashArray:So,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ot,strokeOpacity:ot,strokeWidth:null,style:null,surfaceScale:ot,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:So,tabIndex:ot,tableValues:null,target:null,targetX:ot,targetY:ot,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:So,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ot,underlineThickness:ot,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ot,values:null,vAlphabetic:ot,vMathematical:ot,vectorEffect:null,vHanging:ot,vIdeographic:ot,version:null,vertAdvY:ot,vertOriginX:ot,vertOriginY:ot,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ot,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:afe}),cfe=Gx({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),ufe=Gx({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:lfe}),dfe=Gx({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),VWe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},GWe=/[A-Z]/g,gJ=/-[a-z]/g,qWe=/^data[-\w.:]+$/i;function KWe(t,e){const n=pD(e);let r=e,i=uo;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&qWe.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(gJ,YWe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!gJ.test(s)){let o=s.replace(GWe,WWe);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=JB}return new i(r,e)}function WWe(t){return"-"+t.toLowerCase()}function YWe(t){return t.charAt(1).toUpperCase()}const JWe=sfe([ofe,$We,cfe,ufe,dfe],"html"),XB=sfe([ofe,HWe,cfe,ufe,dfe],"svg");function XWe(t){return t.join(" ").trim()}var L0={},_3,yJ;function QWe(){if(yJ)return _3;yJ=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",u="*",f="",m="comment",g="declaration";function x(w,E){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];E=E||{};var k=1,I=1;function D(A){var P=A.match(e);P&&(k+=P.length);var R=A.lastIndexOf(l);I=~R?A.length-R:I+A.length}function j(){var A={line:k,column:I};return function(P){return P.position=new M(A),F(),P}}function M(A){this.start=A,this.end={line:k,column:I},this.source=E.source}M.prototype.content=w;function U(A){var P=new Error(E.source+":"+k+":"+I+": "+A);if(P.reason=A,P.filename=E.source,P.line=k,P.column=I,P.source=w,!E.silent)throw P}function V(A){var P=A.exec(w);if(P){var R=P[0];return D(R),w=w.slice(R.length),P}}function F(){V(n)}function z(A){var P;for(A=A||[];P=K();)P!==!1&&A.push(P);return A}function K(){var A=j();if(!(c!=w.charAt(0)||u!=w.charAt(1))){for(var P=2;f!=w.charAt(P)&&(u!=w.charAt(P)||c!=w.charAt(P+1));)++P;if(P+=2,f===w.charAt(P-1))return U("End of comment missing");var R=w.slice(2,P-2);return I+=2,D(R),w=w.slice(P),I+=2,A({type:m,comment:R})}}function H(){var A=j(),P=V(r);if(P){if(K(),!V(i))return U("property missing ':'");var R=V(s),$=A({type:g,property:v(P[0].replace(t,f)),value:R?v(R[0].replace(t,f)):f});return V(o),$}}function B(){var A=[];z(A);for(var P;P=H();)P!==!1&&(A.push(P),z(A));return A}return F(),B()}function v(w){return w?w.replace(a,f):f}return _3=x,_3}var xJ;function ZWe(){if(xJ)return L0;xJ=1;var t=L0&&L0.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(L0,"__esModule",{value:!0}),L0.default=n;const e=t(QWe());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const o=(0,e.default)(r),a=typeof i=="function";return o.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:u}=l;a?i(c,u,l):u&&(s=s||{},s[c]=u)}),s}return L0}var lb={},vJ;function eYe(){if(vJ)return lb;vJ=1,Object.defineProperty(lb,"__esModule",{value:!0}),lb.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||t.test(c)},o=function(c,u){return u.toUpperCase()},a=function(c,u){return"".concat(u,"-")},l=function(c,u){return u===void 0&&(u={}),s(c)?c:(c=c.toLowerCase(),u.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(e,o))};return lb.camelCase=l,lb}var cb,bJ;function tYe(){if(bJ)return cb;bJ=1;var t=cb&&cb.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(ZWe()),n=eYe();function r(i,s){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,cb=r,cb}var nYe=tYe();const rYe=ts(nYe),ffe=hfe("end"),QB=hfe("start");function hfe(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function iYe(t){const e=QB(t),n=ffe(t);if(e&&n)return{start:e,end:n}}function Hb(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?wJ(t.position):"start"in t||"end"in t?wJ(t):"line"in t||"column"in t?yD(t):""}function yD(t){return EJ(t&&t.line)+":"+EJ(t&&t.column)}function wJ(t){return yD(t&&t.start)+"-"+yD(t&&t.end)}function EJ(t){return t&&typeof t=="number"?t:1}class As extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Hb(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}As.prototype.file="";As.prototype.name="";As.prototype.reason="";As.prototype.message="";As.prototype.stack="";As.prototype.column=void 0;As.prototype.line=void 0;As.prototype.ancestors=void 0;As.prototype.cause=void 0;As.prototype.fatal=void 0;As.prototype.place=void 0;As.prototype.ruleId=void 0;As.prototype.source=void 0;const ZB={}.hasOwnProperty,sYe=new Map,oYe=/[A-Z]/g,aYe=new Set(["table","tbody","thead","tfoot","tr"]),lYe=new Set(["td","th"]),pfe="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function cYe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=yYe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=gYe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?XB:JWe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=mfe(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function mfe(t,e,n){if(e.type==="element")return uYe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return dYe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return hYe(t,e,n);if(e.type==="mdxjsEsm")return fYe(t,e);if(e.type==="root")return pYe(t,e,n);if(e.type==="text")return mYe(t,e)}function uYe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=XB,t.schema=i),t.ancestors.push(e);const s=yfe(t,e.tagName,!1),o=xYe(t,e);let a=t7(t,e);return aYe.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!FWe(l):!0})),gfe(t,o,s,e),e7(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function dYe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}z1(t,e.position)}function fYe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);z1(t,e.position)}function hYe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=XB,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:yfe(t,e.name,!0),o=vYe(t,e),a=t7(t,e);return gfe(t,o,s,e),e7(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function pYe(t,e,n){const r={};return e7(r,t7(t,e)),t.create(e,t.Fragment,r,n)}function mYe(t,e){return e.value}function gfe(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function e7(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function gYe(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function yYe(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=QB(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function xYe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&ZB.call(e.properties,i)){const s=bYe(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&lYe.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function vYe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else z1(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else z1(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function t7(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:sYe;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=mfe(t,s,o);a!==void 0&&n.push(a)}return n}function bYe(t,e,n){const r=KWe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?DWe(n):XWe(n)),r.property==="style"){let i=typeof n=="object"?n:wYe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=EYe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?VWe[r.property]||r.property:r.attribute,n]}}function wYe(t,e){try{return rYe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new As("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=pfe+"#cannot-parse-style-attribute",i}}function yfe(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=hJ(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=hJ(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return ZB.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);z1(t)}function z1(t,e){const n=new As("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=pfe+"#cannot-handle-mdx-estrees-without-createevaluater",n}function EYe(t){const e={};let n;for(n in t)ZB.call(t,n)&&(e[SYe(n)]=t[n]);return e}function SYe(t){let e=t.replace(oYe,AYe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function AYe(t){return"-"+t.toLowerCase()}const R3={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},TYe={};function n7(t,e){const n=TYe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return xfe(t,r,i)}function xfe(t,e,n){if(CYe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return SJ(t.children,e,n)}return Array.isArray(t)?SJ(t,e,n):""}function SJ(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=xfe(t[i],e,n);return r.join("")}function CYe(t){return!!(t&&typeof t=="object")}const AJ=document.createElement("i");function r7(t){const e="&"+t+";";AJ.innerHTML=e;const n=AJ.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Uo(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Ea(t,e){return t.length>0?(Uo(t,t.length,0,e),t):e}const TJ={}.hasOwnProperty;function vfe(t){const e={};let n=-1;for(;++n<t.length;)kYe(e,t[n]);return e}function kYe(t,e){let n;for(n in e){const i=(TJ.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){TJ.call(i,o)||(i[o]=[]);const a=s[o];NYe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function NYe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Uo(t,0,0,r)}function bfe(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function dl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Rs=Eh(/[A-Za-z]/),xs=Eh(/[\dA-Za-z]/),IYe=Eh(/[#-'*+\--9=?A-Z^-~]/);function e2(t){return t!==null&&(t<32||t===127)}const xD=Eh(/\d/),PYe=Eh(/[\dA-Fa-f]/),_Ye=Eh(/[!-/:-@[-`{-~]/);function Vt(t){return t!==null&&t<-2}function lr(t){return t!==null&&(t<0||t===32)}function wn(t){return t===-2||t===-1||t===32}const SN=Eh(new RegExp("\\p{P}|\\p{S}","u")),Sm=Eh(/\s/);function Eh(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function qx(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&xs(t.charCodeAt(n+1))&&xs(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Nn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return wn(l)?(t.enter(n),a(l)):e(l)}function a(l){return wn(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const RYe={tokenize:OYe};function OYe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Nn(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return Vt(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const MYe={tokenize:DYe},CJ={tokenize:LYe};function DYe(t){const e=this,n=[];let r=0,i,s,o;return a;function a(I){if(r<n.length){const D=n[r];return e.containerState=D[1],t.attempt(D[0].continuation,l,c)(I)}return c(I)}function l(I){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&k();const D=e.events.length;let j=D,M;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){M=e.events[j][1].end;break}E(r);let U=D;for(;U<e.events.length;)e.events[U][1].end={...M},U++;return Uo(e.events,j+1,0,e.events.slice(D)),e.events.length=U,c(I)}return a(I)}function c(I){if(r===n.length){if(!i)return m(I);if(i.currentConstruct&&i.currentConstruct.concrete)return x(I);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(CJ,u,f)(I)}function u(I){return i&&k(),E(r),m(I)}function f(I){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,x(I)}function m(I){return e.containerState={},t.attempt(CJ,g,x)(I)}function g(I){return r++,n.push([e.currentConstruct,e.containerState]),m(I)}function x(I){if(I===null){i&&k(),E(0),t.consume(I);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),v(I)}function v(I){if(I===null){w(t.exit("chunkFlow"),!0),E(0),t.consume(I);return}return Vt(I)?(t.consume(I),w(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(I),v)}function w(I,D){const j=e.sliceStream(I);if(D&&j.push(null),I.previous=s,s&&(s.next=I),s=I,i.defineSkip(I.start),i.write(j),e.parser.lazy[I.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<o&&(!i.events[M][1].end||i.events[M][1].end.offset>o))return;const U=e.events.length;let V=U,F,z;for(;V--;)if(e.events[V][0]==="exit"&&e.events[V][1].type==="chunkFlow"){if(F){z=e.events[V][1].end;break}F=!0}for(E(r),M=U;M<e.events.length;)e.events[M][1].end={...z},M++;Uo(e.events,V+1,0,e.events.slice(U)),e.events.length=M}}function E(I){let D=n.length;for(;D-- >I;){const j=n[D];e.containerState=j[1],j[0].exit.call(e,t)}n.length=I}function k(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function LYe(t,e,n){return Nn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function lx(t){if(t===null||lr(t)||Sm(t))return 1;if(SN(t))return 2}function AN(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const vD={name:"attention",resolveAll:BYe,tokenize:jYe};function BYe(t,e){let n=-1,r,i,s,o,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},m={...t[n][1].start};kJ(f,-l),kJ(m,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:m},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Ea(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Ea(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=Ea(c,AN(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Ea(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Ea(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,Uo(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function jYe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=lx(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),u=lx(l),f=!u||u===2&&i||n.includes(l),m=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?f:f&&(i||!m)),c._close=!!(s===42?m:m&&(u||!f)),e(l)}}function kJ(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const UYe={name:"autolink",tokenize:FYe};function FYe(t,e,n){let r=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(g){return Rs(g)?(t.consume(g),o):g===64?n(g):c(g)}function o(g){return g===43||g===45||g===46||xs(g)?(r=1,a(g)):c(g)}function a(g){return g===58?(t.consume(g),r=0,l):(g===43||g===45||g===46||xs(g))&&r++<32?(t.consume(g),a):(r=0,c(g))}function l(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||e2(g)?n(g):(t.consume(g),l)}function c(g){return g===64?(t.consume(g),u):IYe(g)?(t.consume(g),c):n(g)}function u(g){return xs(g)?f(g):n(g)}function f(g){return g===46?(t.consume(g),r=0,u):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):m(g)}function m(g){if((g===45||xs(g))&&r++<63){const x=g===45?m:f;return t.consume(g),x}return n(g)}}const rE={partial:!0,tokenize:zYe};function zYe(t,e,n){return r;function r(s){return wn(s)?Nn(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Vt(s)?e(s):n(s)}}const wfe={continuation:{tokenize:HYe},exit:VYe,name:"blockQuote",tokenize:$Ye};function $Ye(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return wn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function HYe(t,e,n){const r=this;return i;function i(o){return wn(o)?Nn(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(wfe,e,n)(o)}}function VYe(t){t.exit("blockQuote")}const Efe={name:"characterEscape",tokenize:GYe};function GYe(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return _Ye(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const Sfe={name:"characterReference",tokenize:qYe};function qYe(t,e,n){const r=this;let i=0,s,o;return a;function a(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=xs,u(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=PYe,u):(t.enter("characterReferenceValue"),s=7,o=xD,u(f))}function u(f){if(f===59&&i){const m=t.exit("characterReferenceValue");return o===xs&&!r7(r.sliceSerialize(m))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(f)&&i++<s?(t.consume(f),u):n(f)}}const NJ={partial:!0,tokenize:WYe},IJ={concrete:!0,name:"codeFenced",tokenize:KYe};function KYe(t,e,n){const r=this,i={partial:!0,tokenize:j};let s=0,o=0,a;return l;function l(M){return c(M)}function c(M){const U=r.events[r.events.length-1];return s=U&&U[1].type==="linePrefix"?U[2].sliceSerialize(U[1],!0).length:0,a=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(M)}function u(M){return M===a?(o++,t.consume(M),u):o<3?n(M):(t.exit("codeFencedFenceSequence"),wn(M)?Nn(t,f,"whitespace")(M):f(M))}function f(M){return M===null||Vt(M)?(t.exit("codeFencedFence"),r.interrupt?e(M):t.check(NJ,v,D)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(M))}function m(M){return M===null||Vt(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(M)):wn(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Nn(t,g,"whitespace")(M)):M===96&&M===a?n(M):(t.consume(M),m)}function g(M){return M===null||Vt(M)?f(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(M))}function x(M){return M===null||Vt(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(M)):M===96&&M===a?n(M):(t.consume(M),x)}function v(M){return t.attempt(i,D,w)(M)}function w(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),E}function E(M){return s>0&&wn(M)?Nn(t,k,"linePrefix",s+1)(M):k(M)}function k(M){return M===null||Vt(M)?t.check(NJ,v,D)(M):(t.enter("codeFlowValue"),I(M))}function I(M){return M===null||Vt(M)?(t.exit("codeFlowValue"),k(M)):(t.consume(M),I)}function D(M){return t.exit("codeFenced"),e(M)}function j(M,U,V){let F=0;return z;function z(P){return M.enter("lineEnding"),M.consume(P),M.exit("lineEnding"),K}function K(P){return M.enter("codeFencedFence"),wn(P)?Nn(M,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):H(P)}function H(P){return P===a?(M.enter("codeFencedFenceSequence"),B(P)):V(P)}function B(P){return P===a?(F++,M.consume(P),B):F>=o?(M.exit("codeFencedFenceSequence"),wn(P)?Nn(M,A,"whitespace")(P):A(P)):V(P)}function A(P){return P===null||Vt(P)?(M.exit("codeFencedFence"),U(P)):V(P)}}}function WYe(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const O3={name:"codeIndented",tokenize:JYe},YYe={partial:!0,tokenize:XYe};function JYe(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Nn(t,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):Vt(c)?t.attempt(YYe,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||Vt(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function XYe(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Vt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Nn(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Vt(o)?i(o):n(o)}}const QYe={name:"codeText",previous:eJe,resolve:ZYe,tokenize:tJe};function ZYe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function eJe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tJe(t,e,n){let r=0,i,s;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),a(f)}function a(f){return f===96?(t.consume(f),r++,a):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(s=t.enter("codeTextSequence"),i=0,u(f)):Vt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Vt(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function u(f){return f===96?(t.consume(f),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",c(f))}}class nJe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ub(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ub(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ub(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ub(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ub(this.left,n.reverse())}}}function ub(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Afe(t){const e={};let n=-1,r,i,s,o,a,l,c;const u=new nJe(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,rJe(u,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return Uo(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function rJe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let u,f,m=-1,g=n,x=0,v=0;const w=[v];for(;g;){for(;t.get(++i)[1]!==g;);s.push(i),g._tokenizer||(u=r.sliceStream(g),g.next||u.push(null),f&&o.defineSkip(g.start),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=g,g=g.next}for(g=n;++m<a.length;)a[m][0]==="exit"&&a[m-1][0]==="enter"&&a[m][1].type===a[m-1][1].type&&a[m][1].start.line!==a[m][1].end.line&&(v=m+1,w.push(v),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(o.events=[],g?(g._tokenizer=void 0,g.previous=void 0):w.pop(),m=w.length;m--;){const E=a.slice(w[m],w[m+1]),k=s.pop();l.push([k,k+E.length-1]),t.splice(k,2,E)}for(l.reverse(),m=-1;++m<l.length;)c[x+l[m][0]]=x+l[m][1],x+=l[m][1]-l[m][0]-1;return c}const iJe={resolve:oJe,tokenize:aJe},sJe={partial:!0,tokenize:lJe};function oJe(t){return Afe(t),t}function aJe(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Vt(a)?t.check(sJe,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function lJe(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Nn(t,s,"linePrefix")}function s(o){if(o===null||Vt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function Tfe(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return f;function f(E){return E===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(E),t.exit(s),m):E===null||E===32||E===41||e2(E)?n(E):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),v(E))}function m(E){return E===62?(t.enter(s),t.consume(E),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===62?(t.exit("chunkString"),t.exit(a),m(E)):E===null||E===60||Vt(E)?n(E):(t.consume(E),E===92?x:g)}function x(E){return E===60||E===62||E===92?(t.consume(E),g):g(E)}function v(E){return!u&&(E===null||E===41||lr(E))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(E)):u<c&&E===40?(t.consume(E),u++,v):E===41?(t.consume(E),u--,v):E===null||E===32||E===40||e2(E)?n(E):(t.consume(E),E===92?w:v)}function w(E){return E===40||E===41||E===92?(t.consume(E),v):v(E)}}function Cfe(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(g){return t.enter(r),t.enter(i),t.consume(g),t.exit(i),t.enter(s),u}function u(g){return a>999||g===null||g===91||g===93&&!l||g===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(g):g===93?(t.exit(s),t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):Vt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===null||g===91||g===93||Vt(g)||a++>999?(t.exit("chunkString"),u(g)):(t.consume(g),l||(l=!wn(g)),g===92?m:f)}function m(g){return g===91||g===92||g===93?(t.consume(g),a++,f):f(g)}}function kfe(t,e,n,r,i,s){let o;return a;function a(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),o=m===40?41:m,l):n(m)}function l(m){return m===o?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(s),c(m))}function c(m){return m===o?(t.exit(s),l(o)):m===null?n(m):Vt(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),Nn(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(m))}function u(m){return m===o||m===null||Vt(m)?(t.exit("chunkString"),c(m)):(t.consume(m),m===92?f:u)}function f(m){return m===o||m===92?(t.consume(m),u):u(m)}}function Vb(t,e){let n;return r;function r(i){return Vt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):wn(i)?Nn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const cJe={name:"definition",tokenize:dJe},uJe={partial:!0,tokenize:fJe};function dJe(t,e,n){const r=this;let i;return s;function s(g){return t.enter("definition"),o(g)}function o(g){return Cfe.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function a(g){return i=dl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),l):n(g)}function l(g){return lr(g)?Vb(t,c)(g):c(g)}function c(g){return Tfe(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function u(g){return t.attempt(uJe,f,f)(g)}function f(g){return wn(g)?Nn(t,m,"whitespace")(g):m(g)}function m(g){return g===null||Vt(g)?(t.exit("definition"),r.parser.defined.push(i),e(g)):n(g)}}function fJe(t,e,n){return r;function r(a){return lr(a)?Vb(t,i)(a):n(a)}function i(a){return kfe(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return wn(a)?Nn(t,o,"whitespace")(a):o(a)}function o(a){return a===null||Vt(a)?e(a):n(a)}}const hJe={name:"hardBreakEscape",tokenize:pJe};function pJe(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return Vt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const mJe={name:"headingAtx",resolve:gJe,tokenize:yJe};function gJe(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Uo(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function yJe(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),s(u)}function s(u){return t.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(t.consume(u),o):u===null||lr(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||Vt(u)?(t.exit("atxHeading"),e(u)):wn(u)?Nn(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||lr(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const xJe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],PJ=["pre","script","style","textarea"],vJe={concrete:!0,name:"htmlFlow",resolveTo:EJe,tokenize:SJe},bJe={partial:!0,tokenize:TJe},wJe={partial:!0,tokenize:AJe};function EJe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function SJe(t,e,n){const r=this;let i,s,o,a,l;return c;function c(N){return u(N)}function u(N){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(N),f}function f(N){return N===33?(t.consume(N),m):N===47?(t.consume(N),s=!0,v):N===63?(t.consume(N),i=3,r.interrupt?e:Y):Rs(N)?(t.consume(N),o=String.fromCharCode(N),w):n(N)}function m(N){return N===45?(t.consume(N),i=2,g):N===91?(t.consume(N),i=5,a=0,x):Rs(N)?(t.consume(N),i=4,r.interrupt?e:Y):n(N)}function g(N){return N===45?(t.consume(N),r.interrupt?e:Y):n(N)}function x(N){const W="CDATA[";return N===W.charCodeAt(a++)?(t.consume(N),a===W.length?r.interrupt?e:H:x):n(N)}function v(N){return Rs(N)?(t.consume(N),o=String.fromCharCode(N),w):n(N)}function w(N){if(N===null||N===47||N===62||lr(N)){const W=N===47,X=o.toLowerCase();return!W&&!s&&PJ.includes(X)?(i=1,r.interrupt?e(N):H(N)):xJe.includes(o.toLowerCase())?(i=6,W?(t.consume(N),E):r.interrupt?e(N):H(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):s?k(N):I(N))}return N===45||xs(N)?(t.consume(N),o+=String.fromCharCode(N),w):n(N)}function E(N){return N===62?(t.consume(N),r.interrupt?e:H):n(N)}function k(N){return wn(N)?(t.consume(N),k):z(N)}function I(N){return N===47?(t.consume(N),z):N===58||N===95||Rs(N)?(t.consume(N),D):wn(N)?(t.consume(N),I):z(N)}function D(N){return N===45||N===46||N===58||N===95||xs(N)?(t.consume(N),D):j(N)}function j(N){return N===61?(t.consume(N),M):wn(N)?(t.consume(N),j):I(N)}function M(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),l=N,U):wn(N)?(t.consume(N),M):V(N)}function U(N){return N===l?(t.consume(N),l=null,F):N===null||Vt(N)?n(N):(t.consume(N),U)}function V(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||lr(N)?j(N):(t.consume(N),V)}function F(N){return N===47||N===62||wn(N)?I(N):n(N)}function z(N){return N===62?(t.consume(N),K):n(N)}function K(N){return N===null||Vt(N)?H(N):wn(N)?(t.consume(N),K):n(N)}function H(N){return N===45&&i===2?(t.consume(N),R):N===60&&i===1?(t.consume(N),$):N===62&&i===4?(t.consume(N),G):N===63&&i===3?(t.consume(N),Y):N===93&&i===5?(t.consume(N),te):Vt(N)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(bJe,O,B)(N)):N===null||Vt(N)?(t.exit("htmlFlowData"),B(N)):(t.consume(N),H)}function B(N){return t.check(wJe,A,O)(N)}function A(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),P}function P(N){return N===null||Vt(N)?B(N):(t.enter("htmlFlowData"),H(N))}function R(N){return N===45?(t.consume(N),Y):H(N)}function $(N){return N===47?(t.consume(N),o="",q):H(N)}function q(N){if(N===62){const W=o.toLowerCase();return PJ.includes(W)?(t.consume(N),G):H(N)}return Rs(N)&&o.length<8?(t.consume(N),o+=String.fromCharCode(N),q):H(N)}function te(N){return N===93?(t.consume(N),Y):H(N)}function Y(N){return N===62?(t.consume(N),G):N===45&&i===2?(t.consume(N),Y):H(N)}function G(N){return N===null||Vt(N)?(t.exit("htmlFlowData"),O(N)):(t.consume(N),G)}function O(N){return t.exit("htmlFlow"),e(N)}}function AJe(t,e,n){const r=this;return i;function i(o){return Vt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function TJe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(rE,e,n)}}const CJe={name:"htmlText",tokenize:kJe};function kJe(t,e,n){const r=this;let i,s,o;return a;function a(Y){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(Y),l}function l(Y){return Y===33?(t.consume(Y),c):Y===47?(t.consume(Y),j):Y===63?(t.consume(Y),I):Rs(Y)?(t.consume(Y),V):n(Y)}function c(Y){return Y===45?(t.consume(Y),u):Y===91?(t.consume(Y),s=0,x):Rs(Y)?(t.consume(Y),k):n(Y)}function u(Y){return Y===45?(t.consume(Y),g):n(Y)}function f(Y){return Y===null?n(Y):Y===45?(t.consume(Y),m):Vt(Y)?(o=f,$(Y)):(t.consume(Y),f)}function m(Y){return Y===45?(t.consume(Y),g):f(Y)}function g(Y){return Y===62?R(Y):Y===45?m(Y):f(Y)}function x(Y){const G="CDATA[";return Y===G.charCodeAt(s++)?(t.consume(Y),s===G.length?v:x):n(Y)}function v(Y){return Y===null?n(Y):Y===93?(t.consume(Y),w):Vt(Y)?(o=v,$(Y)):(t.consume(Y),v)}function w(Y){return Y===93?(t.consume(Y),E):v(Y)}function E(Y){return Y===62?R(Y):Y===93?(t.consume(Y),E):v(Y)}function k(Y){return Y===null||Y===62?R(Y):Vt(Y)?(o=k,$(Y)):(t.consume(Y),k)}function I(Y){return Y===null?n(Y):Y===63?(t.consume(Y),D):Vt(Y)?(o=I,$(Y)):(t.consume(Y),I)}function D(Y){return Y===62?R(Y):I(Y)}function j(Y){return Rs(Y)?(t.consume(Y),M):n(Y)}function M(Y){return Y===45||xs(Y)?(t.consume(Y),M):U(Y)}function U(Y){return Vt(Y)?(o=U,$(Y)):wn(Y)?(t.consume(Y),U):R(Y)}function V(Y){return Y===45||xs(Y)?(t.consume(Y),V):Y===47||Y===62||lr(Y)?F(Y):n(Y)}function F(Y){return Y===47?(t.consume(Y),R):Y===58||Y===95||Rs(Y)?(t.consume(Y),z):Vt(Y)?(o=F,$(Y)):wn(Y)?(t.consume(Y),F):R(Y)}function z(Y){return Y===45||Y===46||Y===58||Y===95||xs(Y)?(t.consume(Y),z):K(Y)}function K(Y){return Y===61?(t.consume(Y),H):Vt(Y)?(o=K,$(Y)):wn(Y)?(t.consume(Y),K):F(Y)}function H(Y){return Y===null||Y===60||Y===61||Y===62||Y===96?n(Y):Y===34||Y===39?(t.consume(Y),i=Y,B):Vt(Y)?(o=H,$(Y)):wn(Y)?(t.consume(Y),H):(t.consume(Y),A)}function B(Y){return Y===i?(t.consume(Y),i=void 0,P):Y===null?n(Y):Vt(Y)?(o=B,$(Y)):(t.consume(Y),B)}function A(Y){return Y===null||Y===34||Y===39||Y===60||Y===61||Y===96?n(Y):Y===47||Y===62||lr(Y)?F(Y):(t.consume(Y),A)}function P(Y){return Y===47||Y===62||lr(Y)?F(Y):n(Y)}function R(Y){return Y===62?(t.consume(Y),t.exit("htmlTextData"),t.exit("htmlText"),e):n(Y)}function $(Y){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(Y),t.exit("lineEnding"),q}function q(Y){return wn(Y)?Nn(t,te,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):te(Y)}function te(Y){return t.enter("htmlTextData"),o(Y)}}const i7={name:"labelEnd",resolveAll:_Je,resolveTo:RJe,tokenize:OJe},NJe={tokenize:MJe},IJe={tokenize:DJe},PJe={tokenize:LJe};function _Je(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Uo(t,0,t.length,n),t}function RJe(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},u={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=Ea(a,t.slice(s+1,s+r+3)),a=Ea(a,[["enter",u,e]]),a=Ea(a,AN(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=Ea(a,[["exit",u,e],t[o-2],t[o-1],["exit",c,e]]),a=Ea(a,t.slice(o+1)),a=Ea(a,[["exit",l,e]]),Uo(t,s,t.length,a),t}function OJe(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(m){return s?s._inactive?f(m):(o=r.parser.defined.includes(dl(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),l):n(m)}function l(m){return m===40?t.attempt(NJe,u,o?u:f)(m):m===91?t.attempt(IJe,u,o?c:f)(m):o?u(m):f(m)}function c(m){return t.attempt(PJe,u,f)(m)}function u(m){return e(m)}function f(m){return s._balanced=!0,n(m)}}function MJe(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return lr(f)?Vb(t,s)(f):s(f)}function s(f){return f===41?u(f):Tfe(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return lr(f)?Vb(t,l)(f):u(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?kfe(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):u(f)}function c(f){return lr(f)?Vb(t,u)(f):u(f)}function u(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function DJe(t,e,n){const r=this;return i;function i(a){return Cfe.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(dl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function LJe(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const BJe={name:"labelStartImage",resolveAll:i7.resolveAll,tokenize:jJe};function jJe(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const UJe={name:"labelStartLink",resolveAll:i7.resolveAll,tokenize:FJe};function FJe(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const M3={name:"lineEnding",tokenize:zJe};function zJe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Nn(t,e,"linePrefix")}}const gT={name:"thematicBreak",tokenize:$Je};function $Je(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Vt(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),wn(c)?Nn(t,a,"whitespace")(c):a(c))}}const Xs={continuation:{tokenize:qJe},exit:WJe,name:"list",tokenize:GJe},HJe={partial:!0,tokenize:YJe},VJe={partial:!0,tokenize:KJe};function GJe(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(g){const x=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:xD(g)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(gT,n,c)(g):c(g);if(!r.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(g)}return n(g)}function l(g){return xD(g)&&++o<10?(t.consume(g),l):(!r.interrupt||o<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),c(g)):n(g)}function c(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,t.check(rE,r.interrupt?n:u,t.attempt(HJe,m,f))}function u(g){return r.containerState.initialBlankLine=!0,s++,m(g)}function f(g){return wn(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),m):n(g)}function m(g){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function qJe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(rE,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Nn(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!wn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(VJe,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Nn(t,t.attempt(Xs,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function KJe(t,e,n){const r=this;return Nn(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function WJe(t){t.exit(this.containerState.type)}function YJe(t,e,n){const r=this;return Nn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!wn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const _J={name:"setextUnderline",resolveTo:JJe,tokenize:XJe};function JJe(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function XJe(t,e,n){const r=this;let i;return s;function s(c){let u=r.events.length,f;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){f=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),wn(c)?Nn(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Vt(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const QJe={tokenize:ZJe};function ZJe(t){const e=this,n=t.attempt(rE,r,t.attempt(this.parser.constructs.flowInitial,i,Nn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(iJe,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const eXe={resolveAll:Ife()},tXe=Nfe("string"),nXe=Nfe("text");function Nfe(t){return{resolveAll:Ife(t==="text"?rXe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const f=i[u];let m=-1;if(f)for(;++m<f.length;){const g=f[m];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function Ife(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function rXe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const iXe={42:Xs,43:Xs,45:Xs,48:Xs,49:Xs,50:Xs,51:Xs,52:Xs,53:Xs,54:Xs,55:Xs,56:Xs,57:Xs,62:wfe},sXe={91:cJe},oXe={[-2]:O3,[-1]:O3,32:O3},aXe={35:mJe,42:gT,45:[_J,gT],60:vJe,61:_J,95:gT,96:IJ,126:IJ},lXe={38:Sfe,92:Efe},cXe={[-5]:M3,[-4]:M3,[-3]:M3,33:BJe,38:Sfe,42:vD,60:[UYe,CJe],91:UJe,92:[hJe,Efe],93:i7,95:vD,96:QYe},uXe={null:[vD,eXe]},dXe={null:[42,95]},fXe={null:[]},hXe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:dXe,contentInitial:sXe,disable:fXe,document:iXe,flow:aXe,flowInitial:oXe,insideSpan:uXe,string:lXe,text:cXe},Symbol.toStringTag,{value:"Module"}));function pXe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:U(j),check:U(M),consume:k,enter:I,exit:D,interrupt:U(M,{interrupt:!0})},c={code:null,containerState:{},defineSkip:v,events:[],now:x,parser:t,previous:null,sliceSerialize:m,sliceStream:g,write:f};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function f(K){return o=Ea(o,K),w(),o[o.length-1]!==null?[]:(V(e,0),c.events=AN(s,c.events,c),c.events)}function m(K,H){return gXe(g(K),H)}function g(K){return mXe(o,K)}function x(){const{_bufferIndex:K,_index:H,line:B,column:A,offset:P}=r;return{_bufferIndex:K,_index:H,line:B,column:A,offset:P}}function v(K){i[K.line]=K.column,z()}function w(){let K;for(;r._index<o.length;){const H=o[r._index];if(typeof H=="string")for(K=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===K&&r._bufferIndex<H.length;)E(H.charCodeAt(r._bufferIndex));else E(H)}}function E(K){u=u(K)}function k(K){Vt(K)?(r.line++,r.column=1,r.offset+=K===-3?2:1,z()):K!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=K}function I(K,H){const B=H||{};return B.type=K,B.start=x(),c.events.push(["enter",B,c]),a.push(B),B}function D(K){const H=a.pop();return H.end=x(),c.events.push(["exit",H,c]),H}function j(K,H){V(K,H.from)}function M(K,H){H.restore()}function U(K,H){return B;function B(A,P,R){let $,q,te,Y;return Array.isArray(A)?O(A):"tokenize"in A?O([A]):G(A);function G(re){return ae;function ae(Ee){const ue=Ee!==null&&re[Ee],me=Ee!==null&&re.null,ce=[...Array.isArray(ue)?ue:ue?[ue]:[],...Array.isArray(me)?me:me?[me]:[]];return O(ce)(Ee)}}function O(re){return $=re,q=0,re.length===0?R:N(re[q])}function N(re){return ae;function ae(Ee){return Y=F(),te=re,re.partial||(c.currentConstruct=re),re.name&&c.parser.constructs.disable.null.includes(re.name)?X():re.tokenize.call(H?Object.assign(Object.create(c),H):c,l,W,X)(Ee)}}function W(re){return K(te,Y),P}function X(re){return Y.restore(),++q<$.length?N($[q]):R}}}function V(K,H){K.resolveAll&&!s.includes(K)&&s.push(K),K.resolve&&Uo(c.events,H,c.events.length-H,K.resolve(c.events.slice(H),c)),K.resolveTo&&(c.events=K.resolveTo(c.events,c))}function F(){const K=x(),H=c.previous,B=c.currentConstruct,A=c.events.length,P=Array.from(a);return{from:A,restore:R};function R(){r=K,c.previous=H,c.currentConstruct=B,c.events.length=A,a=P,z()}}function z(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function mXe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function gXe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function yXe(t){const r={constructs:vfe([hXe,...(t||{}).extensions||[]]),content:i(RYe),defined:[],document:i(MYe),flow:i(QJe),lazy:{},string:i(tXe),text:i(nXe)};return r;function i(s){return o;function o(a){return pXe(r,s,a)}}}function xXe(t){for(;!Afe(t););return t}const RJ=/[\0\t\n\r]/g;function vXe(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,f,m,g;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(RJ.lastIndex=f,c=RJ.exec(s),m=c&&c.index!==void 0?c.index:s.length,g=s.charCodeAt(m),!c){e=s.slice(f);break}if(g===10&&f===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<m&&(l.push(s.slice(f,m)),t+=m-f),g){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=m+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const bXe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function wXe(t){return t.replace(bXe,EXe)}function EXe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return bfe(n.slice(s?2:1),s?16:10)}return r7(n)||t}const Pfe={}.hasOwnProperty;function SXe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),AXe(n)(xXe(yXe(n).document().write(vXe()(t,e,!0))))}function AXe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(St),autolinkProtocol:F,autolinkEmail:F,atxHeading:s($e),blockQuote:s(me),characterEscape:F,characterReference:F,codeFenced:s(ce),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ce,o),codeText:s(oe,o),codeTextData:F,data:F,codeFlowValue:F,definition:s(Ce),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Ne),hardBreakEscape:s(Ze),hardBreakTrailing:s(Ze),htmlFlow:s(Ye,o),htmlFlowData:F,htmlText:s(Ye,o),htmlTextData:F,image:s(We),label:o,link:s(St),listItem:s(Lt),listItemValue:m,listOrdered:s(st,f),listUnordered:s(st),paragraph:s(Xt),reference:N,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s($e),strong:s(qe),thematicBreak:s(an)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:ue,autolinkProtocol:Ee,blockQuote:l(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:X,characterReferenceMarkerNumeric:X,characterReferenceValue:re,characterReference:ae,codeFenced:l(w),codeFencedFence:v,codeFencedFenceInfo:g,codeFencedFenceMeta:x,codeFlowValue:z,codeIndented:l(E),codeText:l(P),codeTextData:z,data:z,definition:l(),definitionDestinationString:D,definitionLabelString:k,definitionTitleString:I,emphasis:l(),hardBreakEscape:l(H),hardBreakTrailing:l(H),htmlFlow:l(B),htmlFlowData:z,htmlText:l(A),htmlTextData:z,image:l($),label:te,labelText:q,lineEnding:K,link:l(R),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:W,resourceDestinationString:Y,resourceTitleString:G,resource:O,setextHeading:l(V),setextHeadingLineSequence:U,setextHeadingText:M,strong:l(),thematicBreak:l()}};_fe(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(_e){let Ve={type:"root",children:[]};const ft={stack:[Ve],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:u,data:n},lt=[];let se=-1;for(;++se<_e.length;)if(_e[se][1].type==="listOrdered"||_e[se][1].type==="listUnordered")if(_e[se][0]==="enter")lt.push(se);else{const J=lt.pop();se=i(_e,J,se)}for(se=-1;++se<_e.length;){const J=e[_e[se][0]];Pfe.call(J,_e[se][1].type)&&J[_e[se][1].type].call(Object.assign({sliceSerialize:_e[se][2].sliceSerialize},ft),_e[se][1])}if(ft.tokenStack.length>0){const J=ft.tokenStack[ft.tokenStack.length-1];(J[1]||OJ).call(ft,void 0,J[0])}for(Ve.position={start:af(_e.length>0?_e[0][1].start:{line:1,column:1,offset:0}),end:af(_e.length>0?_e[_e.length-2][1].end:{line:1,column:1,offset:0})},se=-1;++se<e.transforms.length;)Ve=e.transforms[se](Ve)||Ve;return Ve}function i(_e,Ve,ft){let lt=Ve-1,se=-1,J=!1,Z,fe,be,he;for(;++lt<=ft;){const ye=_e[lt];switch(ye[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ye[0]==="enter"?se++:se--,he=void 0;break}case"lineEndingBlank":{ye[0]==="enter"&&(Z&&!he&&!se&&!be&&(be=lt),he=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:he=void 0}if(!se&&ye[0]==="enter"&&ye[1].type==="listItemPrefix"||se===-1&&ye[0]==="exit"&&(ye[1].type==="listUnordered"||ye[1].type==="listOrdered")){if(Z){let Xe=lt;for(fe=void 0;Xe--;){const et=_e[Xe];if(et[1].type==="lineEnding"||et[1].type==="lineEndingBlank"){if(et[0]==="exit")continue;fe&&(_e[fe][1].type="lineEndingBlank",J=!0),et[1].type="lineEnding",fe=Xe}else if(!(et[1].type==="linePrefix"||et[1].type==="blockQuotePrefix"||et[1].type==="blockQuotePrefixWhitespace"||et[1].type==="blockQuoteMarker"||et[1].type==="listItemIndent"))break}be&&(!fe||be<fe)&&(Z._spread=!0),Z.end=Object.assign({},fe?_e[fe][1].start:ye[1].end),_e.splice(fe||lt,0,["exit",Z,ye[2]]),lt++,ft++}if(ye[1].type==="listItemPrefix"){const Xe={type:"listItem",_spread:!1,start:Object.assign({},ye[1].start),end:void 0};Z=Xe,_e.splice(lt,0,["enter",Xe,ye[2]]),lt++,ft++,be=void 0,he=!0}}}return _e[Ve][1]._spread=J,ft}function s(_e,Ve){return ft;function ft(lt){a.call(this,_e(lt),lt),Ve&&Ve.call(this,lt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(_e,Ve,ft){this.stack[this.stack.length-1].children.push(_e),this.stack.push(_e),this.tokenStack.push([Ve,ft||void 0]),_e.position={start:af(Ve.start),end:void 0}}function l(_e){return Ve;function Ve(ft){_e&&_e.call(this,ft),c.call(this,ft)}}function c(_e,Ve){const ft=this.stack.pop(),lt=this.tokenStack.pop();if(lt)lt[0].type!==_e.type&&(Ve?Ve.call(this,_e,lt[0]):(lt[1]||OJ).call(this,_e,lt[0]));else throw new Error("Cannot close `"+_e.type+"` ("+Hb({start:_e.start,end:_e.end})+"): its not open");ft.position.end=af(_e.end)}function u(){return n7(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(_e){if(this.data.expectingFirstListItemValue){const Ve=this.stack[this.stack.length-2];Ve.start=Number.parseInt(this.sliceSerialize(_e),10),this.data.expectingFirstListItemValue=void 0}}function g(){const _e=this.resume(),Ve=this.stack[this.stack.length-1];Ve.lang=_e}function x(){const _e=this.resume(),Ve=this.stack[this.stack.length-1];Ve.meta=_e}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const _e=this.resume(),Ve=this.stack[this.stack.length-1];Ve.value=_e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const _e=this.resume(),Ve=this.stack[this.stack.length-1];Ve.value=_e.replace(/(\r?\n|\r)$/g,"")}function k(_e){const Ve=this.resume(),ft=this.stack[this.stack.length-1];ft.label=Ve,ft.identifier=dl(this.sliceSerialize(_e)).toLowerCase()}function I(){const _e=this.resume(),Ve=this.stack[this.stack.length-1];Ve.title=_e}function D(){const _e=this.resume(),Ve=this.stack[this.stack.length-1];Ve.url=_e}function j(_e){const Ve=this.stack[this.stack.length-1];if(!Ve.depth){const ft=this.sliceSerialize(_e).length;Ve.depth=ft}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function U(_e){const Ve=this.stack[this.stack.length-1];Ve.depth=this.sliceSerialize(_e).codePointAt(0)===61?1:2}function V(){this.data.setextHeadingSlurpLineEnding=void 0}function F(_e){const ft=this.stack[this.stack.length-1].children;let lt=ft[ft.length-1];(!lt||lt.type!=="text")&&(lt=At(),lt.position={start:af(_e.start),end:void 0},ft.push(lt)),this.stack.push(lt)}function z(_e){const Ve=this.stack.pop();Ve.value+=this.sliceSerialize(_e),Ve.position.end=af(_e.end)}function K(_e){const Ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ft=Ve.children[Ve.children.length-1];ft.position.end=af(_e.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ve.type)&&(F.call(this,_e),z.call(this,_e))}function H(){this.data.atHardBreak=!0}function B(){const _e=this.resume(),Ve=this.stack[this.stack.length-1];Ve.value=_e}function A(){const _e=this.resume(),Ve=this.stack[this.stack.length-1];Ve.value=_e}function P(){const _e=this.resume(),Ve=this.stack[this.stack.length-1];Ve.value=_e}function R(){const _e=this.stack[this.stack.length-1];if(this.data.inReference){const Ve=this.data.referenceType||"shortcut";_e.type+="Reference",_e.referenceType=Ve,delete _e.url,delete _e.title}else delete _e.identifier,delete _e.label;this.data.referenceType=void 0}function $(){const _e=this.stack[this.stack.length-1];if(this.data.inReference){const Ve=this.data.referenceType||"shortcut";_e.type+="Reference",_e.referenceType=Ve,delete _e.url,delete _e.title}else delete _e.identifier,delete _e.label;this.data.referenceType=void 0}function q(_e){const Ve=this.sliceSerialize(_e),ft=this.stack[this.stack.length-2];ft.label=wXe(Ve),ft.identifier=dl(Ve).toLowerCase()}function te(){const _e=this.stack[this.stack.length-1],Ve=this.resume(),ft=this.stack[this.stack.length-1];if(this.data.inReference=!0,ft.type==="link"){const lt=_e.children;ft.children=lt}else ft.alt=Ve}function Y(){const _e=this.resume(),Ve=this.stack[this.stack.length-1];Ve.url=_e}function G(){const _e=this.resume(),Ve=this.stack[this.stack.length-1];Ve.title=_e}function O(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function W(_e){const Ve=this.resume(),ft=this.stack[this.stack.length-1];ft.label=Ve,ft.identifier=dl(this.sliceSerialize(_e)).toLowerCase(),this.data.referenceType="full"}function X(_e){this.data.characterReferenceType=_e.type}function re(_e){const Ve=this.sliceSerialize(_e),ft=this.data.characterReferenceType;let lt;ft?(lt=bfe(Ve,ft==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):lt=r7(Ve);const se=this.stack[this.stack.length-1];se.value+=lt}function ae(_e){const Ve=this.stack.pop();Ve.position.end=af(_e.end)}function Ee(_e){z.call(this,_e);const Ve=this.stack[this.stack.length-1];Ve.url=this.sliceSerialize(_e)}function ue(_e){z.call(this,_e);const Ve=this.stack[this.stack.length-1];Ve.url="mailto:"+this.sliceSerialize(_e)}function me(){return{type:"blockquote",children:[]}}function ce(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function Ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ne(){return{type:"emphasis",children:[]}}function $e(){return{type:"heading",depth:0,children:[]}}function Ze(){return{type:"break"}}function Ye(){return{type:"html",value:""}}function We(){return{type:"image",title:null,url:"",alt:null}}function St(){return{type:"link",title:null,url:"",children:[]}}function st(_e){return{type:"list",ordered:_e.type==="listOrdered",start:null,spread:_e._spread,children:[]}}function Lt(_e){return{type:"listItem",spread:_e._spread,checked:null,children:[]}}function Xt(){return{type:"paragraph",children:[]}}function qe(){return{type:"strong",children:[]}}function At(){return{type:"text",value:""}}function an(){return{type:"thematicBreak"}}}function af(t){return{line:t.line,column:t.column,offset:t.offset}}function _fe(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?_fe(t,r):TXe(t,r)}}function TXe(t,e){let n;for(n in e)if(Pfe.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function OJ(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Hb({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Hb({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Hb({start:e.start,end:e.end})+") is still open")}function CXe(t){const e=this;e.parser=n;function n(r){return SXe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function kXe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function NXe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function IXe(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function PXe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function _Xe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function RXe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=qx(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function OXe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function MXe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Rfe(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function DXe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Rfe(t,e);const i={src:qx(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function LXe(t,e){const n={src:qx(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function BXe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function jXe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Rfe(t,e);const i={href:qx(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function UXe(t,e){const n={href:qx(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function FXe(t,e,n){const r=t.all(e),i=n?zXe(n):Ofe(e),s={},o=[];if(typeof e.checked=="boolean"){const u=r[0];let f;u&&u.type==="element"&&u.tagName==="p"?f=u:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function zXe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Ofe(n[r])}return e}function Ofe(t){const e=t.spread;return e??t.children.length>1}function $Xe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function HXe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function VXe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function GXe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function qXe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=QB(e.children[1]),l=ffe(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function KXe(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const f=e.children[l],m={},g=o?o[l]:void 0;g&&(m.align=g);let x={type:"element",tagName:s,properties:m,children:[]};f&&(x.children=t.all(f),t.patch(f,x),x=t.applyData(f,x)),c.push(x)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function WXe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const MJ=9,DJ=32;function YXe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(LJ(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(LJ(e.slice(i),i>0,!1)),s.join("")}function LJ(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===MJ||s===DJ;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===MJ||s===DJ;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function JXe(t,e){const n={type:"text",value:YXe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function XXe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const QXe={blockquote:kXe,break:NXe,code:IXe,delete:PXe,emphasis:_Xe,footnoteReference:RXe,heading:OXe,html:MXe,imageReference:DXe,image:LXe,inlineCode:BXe,linkReference:jXe,link:UXe,listItem:FXe,list:$Xe,paragraph:HXe,root:VXe,strong:GXe,table:qXe,tableCell:WXe,tableRow:KXe,text:JXe,thematicBreak:XXe,toml:hA,yaml:hA,definition:hA,footnoteDefinition:hA};function hA(){}const Mfe=-1,TN=0,Gb=1,t2=2,s7=3,o7=4,a7=5,l7=6,Dfe=7,Lfe=8,BJ=typeof self=="object"?self:globalThis,ZXe=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case TN:case Mfe:return n(o,i);case Gb:{const a=n([],i);for(const l of o)a.push(r(l));return a}case t2:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case s7:return n(new Date(o),i);case o7:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case a7:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case l7:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case Dfe:{const{name:a,message:l}=o;return n(new BJ[a](l),i)}case Lfe:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new BJ[s](o),i)};return r},jJ=t=>ZXe(new Map,t)(0),B0="",{toString:eQe}={},{keys:tQe}=Object,db=t=>{const e=typeof t;if(e!=="object"||!t)return[TN,e];const n=eQe.call(t).slice(8,-1);switch(n){case"Array":return[Gb,B0];case"Object":return[t2,B0];case"Date":return[s7,B0];case"RegExp":return[o7,B0];case"Map":return[a7,B0];case"Set":return[l7,B0];case"DataView":return[Gb,n]}return n.includes("Array")?[Gb,n]:n.includes("Error")?[Dfe,n]:[t2,n]},pA=([t,e])=>t===TN&&(e==="function"||e==="symbol"),nQe=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=db(o);switch(a){case TN:{let u=o;switch(l){case"bigint":a=Lfe,u=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([Mfe],o)}return i([a,u],o)}case Gb:{if(l){let m=o;return l==="DataView"?m=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(m=new Uint8Array(o)),i([l,[...m]],o)}const u=[],f=i([a,u],o);for(const m of o)u.push(s(m));return f}case t2:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const u=[],f=i([a,u],o);for(const m of tQe(o))(t||!pA(db(o[m])))&&u.push([s(m),s(o[m])]);return f}case s7:return i([a,o.toISOString()],o);case o7:{const{source:u,flags:f}=o;return i([a,{source:u,flags:f}],o)}case a7:{const u=[],f=i([a,u],o);for(const[m,g]of o)(t||!(pA(db(m))||pA(db(g))))&&u.push([s(m),s(g)]);return f}case l7:{const u=[],f=i([a,u],o);for(const m of o)(t||!pA(db(m)))&&u.push(s(m));return f}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},UJ=(t,{json:e,lossy:n}={})=>{const r=[];return nQe(!(e||n),!!e,new Map,r)(t),r},n2=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?jJ(UJ(t,e)):structuredClone(t):(t,e)=>jJ(UJ(t,e));function rQe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function iQe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function sQe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||rQe,r=t.options.footnoteBackLabel||iQe,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),f=String(c.identifier).toUpperCase(),m=qx(f.toLowerCase());let g=0;const x=[],v=t.footnoteCounts.get(f);for(;v!==void 0&&++g<=v;){x.length>0&&x.push({type:"text",value:" "});let k=typeof n=="string"?n:n(l,g);typeof k=="string"&&(k={type:"text",value:k}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,g),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const w=u[u.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const k=w.children[w.children.length-1];k&&k.type==="text"?k.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...x)}else u.push(...x);const E={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(u,!0)};t.patch(c,E),a.push(E)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...n2(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const CN=(function(t){if(t==null)return cQe;if(typeof t=="function")return kN(t);if(typeof t=="object")return Array.isArray(t)?oQe(t):aQe(t);if(typeof t=="string")return lQe(t);throw new Error("Expected function, string, or object as test")});function oQe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=CN(t[n]);return kN(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function aQe(t){const e=t;return kN(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function lQe(t){return kN(e);function e(n){return n&&n.type===t}}function kN(t){return e;function e(n,r,i){return!!(uQe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function cQe(){return!0}function uQe(t){return t!==null&&typeof t=="object"&&"type"in t}const Bfe=[],dQe=!0,bD=!1,fQe="skip";function jfe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=CN(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,u){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const g=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(g?"<"+g+">":""))+")"})}return m;function m(){let g=Bfe,x,v,w;if((!e||s(l,c,u[u.length-1]||void 0))&&(g=hQe(n(l,u)),g[0]===bD))return g;if("children"in l&&l.children){const E=l;if(E.children&&g[0]!==fQe)for(v=(r?E.children.length:-1)+o,w=u.concat(E);v>-1&&v<E.children.length;){const k=E.children[v];if(x=a(k,v,w)(),x[0]===bD)return x;v=typeof x[1]=="number"?x[1]:v+o}}return g}}}function hQe(t){return Array.isArray(t)?t:typeof t=="number"?[dQe,t]:t==null?Bfe:[t]}function c7(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),jfe(t,s,a,i);function a(l,c){const u=c[c.length-1],f=u?u.children.indexOf(l):void 0;return o(l,f,u)}}const wD={}.hasOwnProperty,pQe={};function mQe(t,e){const n=e||pQe,r=new Map,i=new Map,s=new Map,o={...QXe,...n.handlers},a={all:c,applyData:yQe,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:gQe,wrap:vQe};return c7(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const f=u.type==="definition"?r:i,m=String(u.identifier).toUpperCase();f.has(m)||f.set(m,u)}}),a;function l(u,f){const m=u.type,g=a.handlers[m];if(wD.call(a.handlers,m)&&g)return g(a,u,f);if(a.options.passThrough&&a.options.passThrough.includes(m)){if("children"in u){const{children:v,...w}=u,E=n2(w);return E.children=a.all(u),E}return n2(u)}return(a.options.unknownHandler||xQe)(a,u,f)}function c(u){const f=[];if("children"in u){const m=u.children;let g=-1;for(;++g<m.length;){const x=a.one(m[g],u);if(x){if(g&&m[g-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=FJ(x.value)),!Array.isArray(x)&&x.type==="element")){const v=x.children[0];v&&v.type==="text"&&(v.value=FJ(v.value))}Array.isArray(x)?f.push(...x):f.push(x)}}}return f}}function gQe(t,e){t.position&&(e.position=iYe(t))}function yQe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,n2(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function xQe(t,e){const n=e.data||{},r="value"in e&&!(wD.call(n,"hProperties")||wD.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function vQe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function FJ(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function zJ(t,e){const n=mQe(t,e),r=n.one(t,void 0),i=sQe(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function bQe(t,e){return t&&"run"in t?async function(n,r){const i=zJ(n,{file:r,...e});await t.run(i,r)}:function(n,r){return zJ(n,{file:r,...t||e})}}function $J(t){if(t)throw t}var D3,HJ;function wQe(){if(HJ)return D3;HJ=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},s=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var u=t.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!f)return!1;var m;for(m in c);return typeof m>"u"||t.call(c,m)},o=function(c,u){n&&u.name==="__proto__"?n(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},a=function(c,u){if(u==="__proto__")if(t.call(c,u)){if(r)return r(c,u).value}else return;return c[u]};return D3=function l(){var c,u,f,m,g,x,v=arguments[0],w=1,E=arguments.length,k=!1;for(typeof v=="boolean"&&(k=v,v=arguments[1]||{},w=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});w<E;++w)if(c=arguments[w],c!=null)for(u in c)f=a(v,u),m=a(c,u),v!==m&&(k&&m&&(s(m)||(g=i(m)))?(g?(g=!1,x=f&&i(f)?f:[]):x=f&&s(f)?f:{},o(v,{name:u,newValue:l(k,x,m)})):typeof m<"u"&&o(v,{name:u,newValue:m}));return v},D3}var EQe=wQe();const L3=ts(EQe);function ED(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function SQe(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=t[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,u?AQe(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function AQe(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const jl={basename:TQe,dirname:CQe,extname:kQe,join:NQe,sep:"/"};function TQe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');iE(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function CQe(t){if(iE(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function kQe(t){iE(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function NQe(...t){let e=-1,n;for(;++e<t.length;)iE(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":IQe(n)}function IQe(t){iE(t);const e=t.codePointAt(0)===47;let n=PQe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function PQe(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function iE(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const _Qe={cwd:RQe};function RQe(){return"/"}function SD(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function OQe(t){if(typeof t=="string")t=new URL(t);else if(!SD(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return MQe(t)}function MQe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const B3=["history","path","basename","stem","extname","dirname"];class Ufe{constructor(e){let n;e?SD(e)?n={path:e}:typeof e=="string"||DQe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":_Qe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<B3.length;){const s=B3[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)B3.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?jl.basename(this.path):void 0}set basename(e){U3(e,"basename"),j3(e,"basename"),this.path=jl.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?jl.dirname(this.path):void 0}set dirname(e){VJ(this.basename,"dirname"),this.path=jl.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?jl.extname(this.path):void 0}set extname(e){if(j3(e,"extname"),VJ(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=jl.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){SD(e)&&(e=OQe(e)),U3(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?jl.basename(this.path,this.extname):void 0}set stem(e){U3(e,"stem"),j3(e,"stem"),this.path=jl.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new As(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function j3(t,e){if(t&&t.includes(jl.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+jl.sep+"`")}function U3(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function VJ(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function DQe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const LQe=(function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),BQe={}.hasOwnProperty;class u7 extends LQe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=SQe()}copy(){const e=new u7;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(L3(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?($3("data",this.frozen),this.namespace[e]=n,this):BQe.call(this.namespace,e)&&this.namespace[e]||void 0:e?($3("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=mA(e),r=this.parser||this.Parser;return F3("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),F3("process",this.parser||this.Parser),z3("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=mA(e),l=r.parse(a);r.run(l,a,function(u,f,m){if(u||!f||!m)return c(u);const g=f,x=r.stringify(g,m);FQe(x)?m.value=x:m.result=x,c(u,m)});function c(u,f){u||!f?o(u):s?s(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),F3("processSync",this.parser||this.Parser),z3("processSync",this.compiler||this.Compiler),this.process(e,i),qJ("processSync","process",n),r;function i(s,o){n=!0,$J(s),r=o}}run(e,n,r){GJ(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=mA(n);i.run(e,l,c);function c(u,f,m){const g=f||e;u?a(u):o?o(g):r(void 0,g,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),qJ("runSync","run",r),i;function s(o,a){$J(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=mA(n),i=this.compiler||this.Compiler;return z3("stringify",i),GJ(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if($3("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...f]=c;l(u,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=L3(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const f=c[u];s(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let f=-1,m=-1;for(;++f<r.length;)if(r[f][0]===c){m=f;break}if(m===-1)r.push([c,...u]);else if(u.length>0){let[g,...x]=u;const v=r[m][1];ED(v)&&ED(g)&&(g=L3(!0,v,g)),r[m]=[c,g,...x]}}}}const jQe=new u7().freeze();function F3(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function z3(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function $3(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function GJ(t){if(!ED(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function qJ(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function mA(t){return UQe(t)?t:new Ufe(t)}function UQe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function FQe(t){return typeof t=="string"||zQe(t)}function zQe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const $Qe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",KJ=[],WJ={allowDangerousHtml:!0},HQe=/^(https?|ircs?|mailto|xmpp)$/i,VQe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function GQe(t){const e=qQe(t),n=KQe(t);return WQe(e.runSync(e.parse(n),n),t)}function qQe(t){const e=t.rehypePlugins||KJ,n=t.remarkPlugins||KJ,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...WJ}:WJ;return jQe().use(CXe).use(n).use(bQe,r).use(e)}function KQe(t){const e=t.children||"",n=new Ufe;return typeof e=="string"&&(n.value=e),n}function WQe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||YQe;for(const u of VQe)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+$Qe+u.id,void 0);return c7(t,c),cYe(t,{Fragment:h.Fragment,components:i,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function c(u,f,m){if(u.type==="raw"&&m&&typeof f=="number")return o?m.children.splice(f,1):m.children[f]={type:"text",value:u.value},f;if(u.type==="element"){let g;for(g in R3)if(Object.hasOwn(R3,g)&&Object.hasOwn(u.properties,g)){const x=u.properties[g],v=R3[g];(v===null||v.includes(u.tagName))&&(u.properties[g]=l(String(x||""),g,u))}}if(u.type==="element"){let g=n?!n.includes(u.tagName):s?s.includes(u.tagName):!1;if(!g&&r&&typeof f=="number"&&(g=!r(u,f,m)),g&&m&&typeof f=="number")return a&&u.children?m.children.splice(f,1,...u.children):m.children.splice(f,1),f}}}function YQe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||HQe.test(t.slice(0,e))?t:""}function YJ(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function JQe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function XQe(t,e,n){const i=CN((n||{}).ignore||[]),s=QQe(e);let o=-1;for(;++o<s.length;)jfe(t,"text",a);function a(c,u){let f=-1,m;for(;++f<u.length;){const g=u[f],x=m?m.children:void 0;if(i(g,x?x.indexOf(g):void 0,m))return;m=g}if(m)return l(c,u)}function l(c,u){const f=u[u.length-1],m=s[o][0],g=s[o][1];let x=0;const w=f.children.indexOf(c);let E=!1,k=[];m.lastIndex=0;let I=m.exec(c.value);for(;I;){const D=I.index,j={index:I.index,input:I.input,stack:[...u,c]};let M=g(...I,j);if(typeof M=="string"&&(M=M.length>0?{type:"text",value:M}:void 0),M===!1?m.lastIndex=D+1:(x!==D&&k.push({type:"text",value:c.value.slice(x,D)}),Array.isArray(M)?k.push(...M):M&&k.push(M),x=D+I[0].length,E=!0),!m.global)break;I=m.exec(c.value)}return E?(x<c.value.length&&k.push({type:"text",value:c.value.slice(x)}),f.children.splice(w,1,...k)):k=[c],w+k.length}}function QQe(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([ZQe(i[0]),eZe(i[1])])}return e}function ZQe(t){return typeof t=="string"?new RegExp(JQe(t),"g"):t}function eZe(t){return typeof t=="function"?t:function(){return t}}const H3="phrasing",V3=["autolink","link","image","label"];function tZe(){return{transforms:[lZe],enter:{literalAutolink:rZe,literalAutolinkEmail:G3,literalAutolinkHttp:G3,literalAutolinkWww:G3},exit:{literalAutolink:aZe,literalAutolinkEmail:oZe,literalAutolinkHttp:iZe,literalAutolinkWww:sZe}}}function nZe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:H3,notInConstruct:V3},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:H3,notInConstruct:V3},{character:":",before:"[ps]",after:"\\/",inConstruct:H3,notInConstruct:V3}]}}function rZe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function G3(t){this.config.enter.autolinkProtocol.call(this,t)}function iZe(t){this.config.exit.autolinkProtocol.call(this,t)}function sZe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function oZe(t){this.config.exit.autolinkEmail.call(this,t)}function aZe(t){this.exit(t)}function lZe(t){XQe(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,cZe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),uZe]],{ignore:["link","linkReference"]})}function cZe(t,e,n,r,i){let s="";if(!Ffe(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!dZe(n)))return!1;const o=fZe(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function uZe(t,e,n,r){return!Ffe(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function dZe(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function fZe(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=YJ(t,"(");let s=YJ(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function Ffe(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Sm(n)||SN(n))&&(!e||n!==47)}zfe.peek=wZe;function hZe(){this.buffer()}function pZe(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function mZe(){this.buffer()}function gZe(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function yZe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=dl(this.sliceSerialize(t)).toLowerCase(),n.label=e}function xZe(t){this.exit(t)}function vZe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=dl(this.sliceSerialize(t)).toLowerCase(),n.label=e}function bZe(t){this.exit(t)}function wZe(){return"["}function zfe(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function EZe(){return{enter:{gfmFootnoteCallString:hZe,gfmFootnoteCall:pZe,gfmFootnoteDefinitionLabelString:mZe,gfmFootnoteDefinition:gZe},exit:{gfmFootnoteCallString:yZe,gfmFootnoteCall:xZe,gfmFootnoteDefinitionLabelString:vZe,gfmFootnoteDefinition:bZe}}}function SZe(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:zfe},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),u=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),u(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?$fe:AZe))),c(),l}}function AZe(t,e,n){return e===0?t:$fe(t,e,n)}function $fe(t,e,n){return(n?"":"    ")+t}const TZe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Hfe.peek=PZe;function CZe(){return{canContainEols:["delete"],enter:{strikethrough:NZe},exit:{strikethrough:IZe}}}function kZe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:TZe}],handlers:{delete:Hfe}}}function NZe(t){this.enter({type:"delete",children:[]},t)}function IZe(t){this.exit(t)}function Hfe(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function PZe(){return"~"}function _Ze(t){return t.length}function RZe(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||_Ze,s=[],o=[],a=[],l=[];let c=0,u=-1;for(;++u<t.length;){const v=[],w=[];let E=-1;for(t[u].length>c&&(c=t[u].length);++E<t[u].length;){const k=OZe(t[u][E]);if(n.alignDelimiters!==!1){const I=i(k);w[E]=I,(l[E]===void 0||I>l[E])&&(l[E]=I)}v.push(k)}o[u]=v,a[u]=w}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)s[f]=JJ(r[f]);else{const v=JJ(r);for(;++f<c;)s[f]=v}f=-1;const m=[],g=[];for(;++f<c;){const v=s[f];let w="",E="";v===99?(w=":",E=":"):v===108?w=":":v===114&&(E=":");let k=n.alignDelimiters===!1?1:Math.max(1,l[f]-w.length-E.length);const I=w+"-".repeat(k)+E;n.alignDelimiters!==!1&&(k=w.length+k+E.length,k>l[f]&&(l[f]=k),g[f]=k),m[f]=I}o.splice(1,0,m),a.splice(1,0,g),u=-1;const x=[];for(;++u<o.length;){const v=o[u],w=a[u];f=-1;const E=[];for(;++f<c;){const k=v[f]||"";let I="",D="";if(n.alignDelimiters!==!1){const j=l[f]-(w[f]||0),M=s[f];M===114?I=" ".repeat(j):M===99?j%2?(I=" ".repeat(j/2+.5),D=" ".repeat(j/2-.5)):(I=" ".repeat(j/2),D=I):D=" ".repeat(j)}n.delimiterStart!==!1&&!f&&E.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&k==="")&&(n.delimiterStart!==!1||f)&&E.push(" "),n.alignDelimiters!==!1&&E.push(I),E.push(k),n.alignDelimiters!==!1&&E.push(D),n.padding!==!1&&E.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&E.push("|")}x.push(n.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return x.join(`
`)}function OZe(t){return t==null?"":String(t)}function JJ(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function MZe(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),DZe);return i(),o}function DZe(t,e,n){return">"+(n?"":" ")+t}function LZe(t,e){return XJ(t,e.inConstruct,!0)&&!XJ(t,e.notInConstruct,!1)}function XJ(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function QJ(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&LZe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function BZe(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function jZe(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function UZe(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function FZe(t,e,n,r){const i=UZe(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(jZe(t,n)){const f=n.enter("codeIndented"),m=n.indentLines(s,zZe);return f(),m}const a=n.createTracker(r),l=i.repeat(Math.max(BZe(s,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(t.lang){const f=n.enter(`codeFencedLang${o}`);u+=a.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...a.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${o}`);u+=a.move(" "),u+=a.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...a.current()})),f()}return u+=a.move(`
`),s&&(u+=a.move(s+`
`)),u+=a.move(l),c(),u}function zZe(t,e,n){return(n?"":"    ")+t}function d7(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function $Ze(t,e,n,r){const i=d7(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function HZe(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function $1(t){return"&#x"+t.toString(16).toUpperCase()+";"}function r2(t,e,n){const r=lx(t),i=lx(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Vfe.peek=VZe;function Vfe(t,e,n,r){const i=HZe(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=r2(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=$1(c)+l.slice(1));const f=l.charCodeAt(l.length-1),m=r2(r.after.charCodeAt(0),f,i);m.inside&&(l=l.slice(0,-1)+$1(f));const g=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:m.outside,before:u.outside},a+l+g}function VZe(t,e,n){return n.options.emphasis||"*"}function GZe(t,e){let n=!1;return c7(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,bD}),!!((!t.depth||t.depth<3)&&n7(t)&&(e.options.setext||n))}function qZe(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(GZe(t,n)){const u=n.enter("headingSetext"),f=n.enter("phrasing"),m=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return f(),u(),m+`
`+(i===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=$1(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}Gfe.peek=KZe;function Gfe(t){return t.value||""}function KZe(){return"<"}qfe.peek=WZe;function qfe(t,e,n,r){const i=d7(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function WZe(){return"!"}Kfe.peek=YZe;function Kfe(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==f?l+=a.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function YZe(){return"!"}Wfe.peek=JZe;function Wfe(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function JZe(){return"`"}function Yfe(t,e){const n=n7(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Jfe.peek=XZe;function Jfe(t,e,n,r){const i=d7(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(Yfe(t,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(t,{before:f,after:">",...o.current()})),f+=o.move(">"),a(),n.stack=u,f}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function XZe(t,e,n){return Yfe(t,n)?"<":"["}Xfe.peek=QZe;function Xfe(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==f?l+=a.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function QZe(){return"["}function f7(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function ZZe(t){const e=f7(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function eet(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Qfe(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function tet(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?eet(n):f7(n);const a=t.ordered?o==="."?")":".":ZZe(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),Qfe(n)===o&&u){let f=-1;for(;++f<t.children.length;){const m=t.children[f];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function net(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function ret(t,e,n,r){const i=net(n);let s=n.bulletCurrent||f7(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),u);return l(),c;function u(f,m,g){return m?(g?"":" ".repeat(o))+f:(g?s:s+" ".repeat(o-s.length))+f}}function iet(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const set=CN(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function oet(t,e,n,r){return(t.children.some(function(o){return set(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function aet(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Zfe.peek=cet;function Zfe(t,e,n,r){const i=aet(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=r2(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=$1(c)+l.slice(1));const f=l.charCodeAt(l.length-1),m=r2(r.after.charCodeAt(0),f,i);m.inside&&(l=l.slice(0,-1)+$1(f));const g=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:m.outside,before:u.outside},a+l+g}function cet(t,e,n){return n.options.strong||"*"}function uet(t,e,n,r){return n.safe(t.value,r)}function det(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function fet(t,e,n){const r=(Qfe(n)+(n.options.ruleSpaces?" ":"")).repeat(det(n));return n.options.ruleSpaces?r.slice(0,-1):r}const ehe={blockquote:MZe,break:QJ,code:FZe,definition:$Ze,emphasis:Vfe,hardBreak:QJ,heading:qZe,html:Gfe,image:qfe,imageReference:Kfe,inlineCode:Wfe,link:Jfe,linkReference:Xfe,list:tet,listItem:ret,paragraph:iet,root:oet,strong:Zfe,text:uet,thematicBreak:fet};function het(){return{enter:{table:pet,tableData:ZJ,tableHeader:ZJ,tableRow:get},exit:{codeText:yet,table:met,tableData:q3,tableHeader:q3,tableRow:q3}}}function pet(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function met(t){this.exit(t),this.data.inTable=void 0}function get(t){this.enter({type:"tableRow",children:[]},t)}function q3(t){this.exit(t)}function ZJ(t){this.enter({type:"tableCell",children:[]},t)}function yet(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,xet));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function xet(t,e){return e==="|"?e:t}function vet(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:o,tableCell:l,tableRow:a}};function o(g,x,v,w){return c(u(g,v,w),g.align)}function a(g,x,v,w){const E=f(g,v,w),k=c([E]);return k.slice(0,k.indexOf(`
`))}function l(g,x,v,w){const E=v.enter("tableCell"),k=v.enter("phrasing"),I=v.containerPhrasing(g,{...w,before:s,after:s});return k(),E(),I}function c(g,x){return RZe(g,{align:x,alignDelimiters:r,padding:n,stringLength:i})}function u(g,x,v){const w=g.children;let E=-1;const k=[],I=x.enter("table");for(;++E<w.length;)k[E]=f(w[E],x,v);return I(),k}function f(g,x,v){const w=g.children;let E=-1;const k=[],I=x.enter("tableRow");for(;++E<w.length;)k[E]=l(w[E],g,x,v);return I(),k}function m(g,x,v){let w=ehe.inlineCode(g,x,v);return v.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function bet(){return{exit:{taskListCheckValueChecked:eX,taskListCheckValueUnchecked:eX,paragraph:Eet}}}function wet(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Aet}}}function eX(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function Eet(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Aet(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=ehe.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function Tet(){return[tZe(),EZe(),CZe(),het(),bet()]}function Cet(t){return{extensions:[nZe(),SZe(t),kZe(),vet(t),wet()]}}const ket={tokenize:Oet,partial:!0},the={tokenize:Met,partial:!0},nhe={tokenize:Det,partial:!0},rhe={tokenize:Let,partial:!0},Net={tokenize:Bet,partial:!0},ihe={name:"wwwAutolink",tokenize:_et,previous:ohe},she={name:"protocolAutolink",tokenize:Ret,previous:ahe},Td={name:"emailAutolink",tokenize:Pet,previous:lhe},Pc={};function Iet(){return{text:Pc}}let Wh=48;for(;Wh<123;)Pc[Wh]=Td,Wh++,Wh===58?Wh=65:Wh===91&&(Wh=97);Pc[43]=Td;Pc[45]=Td;Pc[46]=Td;Pc[95]=Td;Pc[72]=[Td,she];Pc[104]=[Td,she];Pc[87]=[Td,ihe];Pc[119]=[Td,ihe];function Pet(t,e,n){const r=this;let i,s;return o;function o(f){return!AD(f)||!lhe.call(r,r.previous)||h7(r.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(f))}function a(f){return AD(f)?(t.consume(f),a):f===64?(t.consume(f),l):n(f)}function l(f){return f===46?t.check(Net,u,c)(f):f===45||f===95||xs(f)?(s=!0,t.consume(f),l):u(f)}function c(f){return t.consume(f),i=!0,l}function u(f){return s&&i&&Rs(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function _et(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!ohe.call(r,r.previous)||h7(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(ket,t.attempt(the,t.attempt(nhe,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function Ret(t,e,n){const r=this;let i="",s=!1;return o;function o(f){return(f===72||f===104)&&ahe.call(r,r.previous)&&!h7(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),t.consume(f),a):n(f)}function a(f){if(Rs(f)&&i.length<5)return i+=String.fromCodePoint(f),t.consume(f),a;if(f===58){const m=i.toLowerCase();if(m==="http"||m==="https")return t.consume(f),l}return n(f)}function l(f){return f===47?(t.consume(f),s?c:(s=!0,l)):n(f)}function c(f){return f===null||e2(f)||lr(f)||Sm(f)||SN(f)?n(f):t.attempt(the,t.attempt(nhe,u),n)(f)}function u(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function Oet(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function Met(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(rhe,l,a)(c):c===null||lr(c)||Sm(c)||c!==45&&SN(c)?l(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function l(c){return i||r||!s?n(c):e(c)}}function Det(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(rhe,e,s)(o):o===null||lr(o)||Sm(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function Let(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||lr(a)||Sm(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||lr(a)||Sm(a)?e(a):r(a)}function s(a){return Rs(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):Rs(a)?(t.consume(a),o):n(a)}}function Bet(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return xs(s)?n(s):e(s)}}function ohe(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||lr(t)}function ahe(t){return!Rs(t)}function lhe(t){return!(t===47||AD(t))}function AD(t){return t===43||t===45||t===46||t===95||xs(t)}function h7(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const jet={tokenize:qet,partial:!0};function Uet(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Het,continuation:{tokenize:Vet},exit:Get}},text:{91:{name:"gfmFootnoteCall",tokenize:$et},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Fet,resolveTo:zet}}}}function Fet(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=dl(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function zet(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function $et(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(f){if(s>999||f===93&&!o||f===null||f===91||lr(f))return n(f);if(f===93){t.exit("chunkString");const m=t.exit("gfmFootnoteCallString");return i.includes(dl(r.sliceSerialize(m)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return lr(f)||(o=!0),s++,t.consume(f),f===92?u:c}function u(f){return f===91||f===92||f===93?(t.consume(f),s++,c):c(f)}}function Het(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(x){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(x){return x===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):n(x)}function u(x){if(o>999||x===93&&!a||x===null||x===91||lr(x))return n(x);if(x===93){t.exit("chunkString");const v=t.exit("gfmFootnoteDefinitionLabelString");return s=dl(r.sliceSerialize(v)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),m}return lr(x)||(a=!0),o++,t.consume(x),x===92?f:u}function f(x){return x===91||x===92||x===93?(t.consume(x),o++,u):u(x)}function m(x){return x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),i.includes(s)||i.push(s),Nn(t,g,"gfmFootnoteDefinitionWhitespace")):n(x)}function g(x){return e(x)}}function Vet(t,e,n){return t.check(rE,e,t.attempt(jet,e,n))}function Get(t){t.exit("gfmFootnoteDefinition")}function qet(t,e,n){const r=this;return Nn(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function Ket(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},f={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},m=[["enter",u,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",f,a]],g=a.parser.constructs.insideSpan.null;g&&Uo(m,m.length,0,AN(g,o.slice(c+1,l),a)),Uo(m,m.length,0,[["exit",f,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",u,a]]),Uo(o,c-1,l-c+3,m),l=c+m.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,u=this.events;let f=0;return m;function m(x){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(x):(o.enter("strikethroughSequenceTemporary"),g(x))}function g(x){const v=lx(c);if(x===126)return f>1?l(x):(o.consume(x),f++,g);if(f<2&&!n)return l(x);const w=o.exit("strikethroughSequenceTemporary"),E=lx(x);return w._open=!E||E===2&&!!v,w._close=!v||v===2&&!!E,a(x)}}}class Wet{constructor(){this.map=[]}add(e,n,r){Yet(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function Yet(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Jet(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function Xet(){return{flow:{null:{name:"table",tokenize:Qet,resolveAll:Zet}}}}function Qet(t,e,n){const r=this;let i=0,s=0,o;return a;function a(z){let K=r.events.length-1;for(;K>-1;){const A=r.events[K][1].type;if(A==="lineEnding"||A==="linePrefix")K--;else break}const H=K>-1?r.events[K][1].type:null,B=H==="tableHead"||H==="tableRow"?M:l;return B===M&&r.parser.lazy[r.now().line]?n(z):B(z)}function l(z){return t.enter("tableHead"),t.enter("tableRow"),c(z)}function c(z){return z===124||(o=!0,s+=1),u(z)}function u(z){return z===null?n(z):Vt(z)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),g):n(z):wn(z)?Nn(t,u,"whitespace")(z):(s+=1,o&&(o=!1,i+=1),z===124?(t.enter("tableCellDivider"),t.consume(z),t.exit("tableCellDivider"),o=!0,u):(t.enter("data"),f(z)))}function f(z){return z===null||z===124||lr(z)?(t.exit("data"),u(z)):(t.consume(z),z===92?m:f)}function m(z){return z===92||z===124?(t.consume(z),f):f(z)}function g(z){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(z):(t.enter("tableDelimiterRow"),o=!1,wn(z)?Nn(t,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):x(z))}function x(z){return z===45||z===58?w(z):z===124?(o=!0,t.enter("tableCellDivider"),t.consume(z),t.exit("tableCellDivider"),v):j(z)}function v(z){return wn(z)?Nn(t,w,"whitespace")(z):w(z)}function w(z){return z===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(z),t.exit("tableDelimiterMarker"),E):z===45?(s+=1,E(z)):z===null||Vt(z)?D(z):j(z)}function E(z){return z===45?(t.enter("tableDelimiterFiller"),k(z)):j(z)}function k(z){return z===45?(t.consume(z),k):z===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(z),t.exit("tableDelimiterMarker"),I):(t.exit("tableDelimiterFiller"),I(z))}function I(z){return wn(z)?Nn(t,D,"whitespace")(z):D(z)}function D(z){return z===124?x(z):z===null||Vt(z)?!o||i!==s?j(z):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(z)):j(z)}function j(z){return n(z)}function M(z){return t.enter("tableRow"),U(z)}function U(z){return z===124?(t.enter("tableCellDivider"),t.consume(z),t.exit("tableCellDivider"),U):z===null||Vt(z)?(t.exit("tableRow"),e(z)):wn(z)?Nn(t,U,"whitespace")(z):(t.enter("data"),V(z))}function V(z){return z===null||z===124||lr(z)?(t.exit("data"),U(z)):(t.consume(z),z===92?F:V)}function F(z){return z===92||z===124?(t.consume(z),V):V(z)}}function Zet(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,u,f;const m=new Wet;for(;++n<t.length;){const g=t[n],x=g[1];g[0]==="enter"?x.type==="tableHead"?(a=!1,l!==0&&(tX(m,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},m.add(n,0,[["enter",c,e]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},m.add(n,0,[["enter",u,e]])),i=x.type==="tableDelimiterRow"?2:u?3:1):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],f=gA(m,e,s,i,void 0,f),s=[0,0,0,0]),o[2]=n)):x.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],f=gA(m,e,s,i,void 0,f)),s=o,o=[s[1],n,0,0])):x.type==="tableHead"?(a=!0,l=n):x.type==="tableRow"||x.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],f=gA(m,e,s,i,n,f)):o[1]!==0&&(f=gA(m,e,o,i,n,f)),i=0):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&tX(m,e,l,c,u),m.consume(e.events),n=-1;++n<e.events.length;){const g=e.events[n];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=Jet(e.events,n))}return t}function gA(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Q0(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=Q0(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=Q0(e.events,n[2]),u=Q0(e.events,n[3]),f={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(t.add(n[2],0,[["enter",f,e]]),r!==2){const m=e.events[n[2]],g=e.events[n[3]];if(m[1].end=Object.assign({},g[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const x=n[2]+1,v=n[3]-n[2]-1;t.add(x,v,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return i!==void 0&&(s.end=Object.assign({},Q0(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function tX(t,e,n,r,i){const s=[],o=Q0(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function Q0(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const ett={name:"tasklistCheck",tokenize:ntt};function ttt(){return{text:{91:ett}}}function ntt(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return lr(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return Vt(l)?e(l):wn(l)?t.check({tokenize:rtt},e,n)(l):n(l)}}function rtt(t,e,n){return Nn(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function itt(t){return vfe([Iet(),Uet(),Ket(t),Xet(),ttt()])}const stt={};function ott(t){const e=this,n=t||stt,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(itt(n)),s.push(Tet()),o.push(Cet(n))}const Is=T.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:jt("rounded border border-[#232328] bg-[#14151a] text-card-foreground shadow-sm",t),...e}));Is.displayName="Card";const TD=T.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:jt("flex flex-col space-y-1.5 p-6",t),...e}));TD.displayName="CardHeader";const CD=T.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:jt("font-semibold leading-none tracking-tight text-white",t),...e}));CD.displayName="CardTitle";const kD=T.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:jt("text-sm text-muted-foreground",t),...e}));kD.displayName="CardDescription";const iu=T.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:jt("p-6 pt-0",t),...e}));iu.displayName="CardContent";const att=T.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:jt("flex items-center p-6 pt-0",t),...e}));att.displayName="CardFooter";const ltt=({messages:t})=>{const e=T.useRef(null),n=T.useMemo(()=>{const r=[];return t.forEach(i=>{i.role==="model"&&i.toolResults&&i.toolResults.length>0&&i.toolResults.forEach(s=>{if(s.type==="error")return;const o=s.title||"",a=s.details||"";if(o.includes("Swap")||o.includes("Order")||o.includes("Transfer")||o.includes("Withdraw")||o.includes("Position")||o.includes("Leverage")){let l="info";o.includes("Swap")?l="swap":o.includes("Order")||o.includes("Position")||o.includes("Leverage")?l="order":(o.includes("Transfer")||o.includes("Withdraw"))&&(l="transfer"),r.push({type:l,title:o,details:a.split(`
`)[0]||a,subDetails:s.tx?"Transaction Executed":void 0,timestamp:i.timestamp,tx:s.tx})}else o.includes("Task")||o.includes("Scheduled")?r.push({type:"info",title:o,details:a,timestamp:i.timestamp}):o.includes("Price")||o.includes("OHLCV")||o.includes("Indicator")||o.includes("TradingView")||o.includes("Summary")||o.includes("Market Data")?r.push({type:"price",title:o,details:a,timestamp:i.timestamp}):o.includes("Balance")?r.push({type:"balance",title:"Balance Checked",details:a.split(`
`)[0],subDetails:"View specific assets in chat",timestamp:i.timestamp}):r.push({type:"info",title:o,details:a.substring(0,100)+(a.length>100?"...":""),timestamp:i.timestamp})})}),r},[t]);return T.useEffect(()=>{e.current&&e.current.scrollTo({top:e.current.scrollHeight,behavior:"smooth"})},[n.length]),n.length===0?null:h.jsxs("div",{ref:e,className:"w-full h-full overflow-y-auto pr-1 custom-scrollbar space-y-3 pb-4",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1 sticky top-0 bg-slate-900/90 backdrop-blur-sm py-2 z-10",children:[h.jsx(ao,{size:12,className:"text-indigo-400"}),h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500",children:"Activity Feed"})]}),h.jsx(Lo,{children:n.map((r,i)=>{var l;const s=r.tx,o=r.title.includes("Hyperliquid")||r.title.includes("Order"),a=s?o?`https://app.hyperliquid.xyz/explorer/tx/${s}`:`https://solscan.io/tx/${s}`:null;return h.jsx(tn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i*.05},children:h.jsxs(Is,{className:"p-3 relative overflow-hidden group hover:border-indigo-500/30 transition-all duration-300",children:[h.jsx("div",{className:"absolute top-0 right-0 w-12 h-12 bg-indigo-500/5 rounded-full blur-xl -z-10 transition-all duration-700 group-hover:bg-indigo-500/10"}),h.jsx("div",{className:"flex items-center justify-between mb-1.5",children:h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:jt("w-1 h-1 rounded-full",r.type==="error"?"bg-red-500":"bg-indigo-500")}),h.jsx("span",{className:"text-[9px] text-slate-600 font-mono",children:new Date(r.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("h3",{className:"text-xs font-bold text-white leading-tight",children:r.title}),h.jsx("div",{className:"py-1",children:r.type==="swap"?h.jsx("div",{className:"bg-slate-800/50 rounded-lg p-2 border border-slate-700/50",children:h.jsx("p",{className:"text-[10px] text-slate-300 font-medium",children:r.details})}):r.type==="price"&&r.details.includes(":")&&!r.details.includes(`
`)?h.jsxs("div",{className:"flex flex-col gap-0.5",children:[h.jsx("div",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300",children:(l=r.details.split(":")[1])==null?void 0:l.trim()}),h.jsx("div",{className:"text-[10px] text-slate-400 font-medium",children:r.details.split(":")[0]})]}):h.jsx("p",{className:"text-[10px] text-slate-300 font-medium",children:r.details})}),h.jsxs("div",{className:"flex items-center justify-between mt-1 pt-1 border-t border-slate-800/50",children:[r.subDetails&&!s&&h.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-emerald-400 font-medium",children:r.subDetails}),s&&h.jsxs("a",{href:a||"#",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-[10px] text-indigo-400 hover:text-indigo-300 transition-colors group/link ml-auto",children:["View Transaction",h.jsx(Yne,{size:10,className:"group-hover/link:translate-x-0.5 group-hover/link:-translate-y-0.5 transition-transform"})]})]})]})]})},`${r.timestamp}-${i}`)})})]})};var ctt=Symbol.for("react.lazy"),i2=$2[" use ".trim().toString()];function utt(t){return typeof t=="object"&&t!==null&&"then"in t}function che(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===ctt&&"_payload"in t&&utt(t._payload)}function dtt(t){const e=htt(t),n=T.forwardRef((r,i)=>{let{children:s,...o}=r;che(s)&&typeof i2=="function"&&(s=i2(s._payload));const a=T.Children.toArray(s),l=a.find(mtt);if(l){const c=l.props.children,u=a.map(f=>f===l?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:f);return h.jsx(e,{...o,ref:i,children:T.isValidElement(c)?T.cloneElement(c,void 0,u):null})}return h.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var ftt=dtt("Slot");function htt(t){const e=T.forwardRef((n,r)=>{let{children:i,...s}=n;if(che(i)&&typeof i2=="function"&&(i=i2(i._payload)),T.isValidElement(i)){const o=ytt(i),a=gtt(s,i.props);return i.type!==T.Fragment&&(a.ref=r?Nx(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ptt=Symbol("radix.slottable");function mtt(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ptt}function gtt(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function ytt(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const nX=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,rX=In,uhe=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return rX(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=s==null?void 0:s[c];if(u===null)return null;const m=nX(u)||nX(f);return i[c][m]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,m]=u;return m===void 0||(c[f]=m),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:m,...g}=u;return Object.entries(g).every(x=>{let[v,w]=x;return Array.isArray(w)?w.includes({...s,...a}[v]):{...s,...a}[v]===w})?[...c,f,m]:c},[]);return rX(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},xtt=uhe("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-slate-700 bg-transparent hover:bg-slate-800 hover:text-slate-100",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-slate-800 hover:text-slate-100",link:"text-primary underline-offset-4 hover:underline",success:"bg-emerald-600 text-white shadow hover:bg-emerald-700"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Oi=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?ftt:"button";return h.jsx(o,{className:jt(xtt({variant:e,size:n,className:t})),ref:s,...i})});Oi.displayName="Button";const cx=T.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:jt("flex h-10 w-full rounded-lg border border-slate-700 bg-slate-800/50 px-3 py-2 text-sm text-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-500/50 focus-visible:border-slate-500/50 disabled:cursor-not-allowed disabled:opacity-50 transition-colors",t),ref:r,...n}));cx.displayName="Input";const vtt=({messages:t,inputMessage:e,setInputMessage:n,handleSendMessage:r,isAiProcessing:i,aiStatus:s,scrollRef:o,isVaultUnlocked:a,password:l,setPassword:c,unlockVault:u,hasVault:f,onNavigate:m})=>{const g=T.useRef(null),x=T.useMemo(()=>t.some(v=>v.role==="model"&&v.toolResults&&v.toolResults.length>0&&v.toolResults.some(w=>w.type!=="error")),[t]);return T.useEffect(()=>{!i&&a&&g.current&&g.current.focus()},[i,a]),T.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[t,o]),!a&&f?h.jsx(tn.div,{className:"flex flex-col h-[calc(100vh-8rem)] items-center justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:h.jsxs("div",{className:"max-w-md w-full mx-auto space-y-6 p-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(tn.div,{className:"w-16 h-16 bg-[#1a1b21] rounded-full flex items-center justify-center mx-auto mb-4 border border-[#232328]",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:h.jsx(i1,{size:32,className:"text-[#E7FE55]"})}),h.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:"Unlock Vault Operator"}),h.jsx("p",{className:"text-[#747580] mt-2 text-sm",children:"Enter your password to start using Vault Operator."})]}),h.jsxs(Is,{className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-semibold text-[#747580] uppercase tracking-[0.1em] mb-2",children:"Password"}),h.jsx(cx,{type:"password",value:l,onChange:v=>c(v.target.value),placeholder:"Enter password...",onKeyDown:v=>v.key==="Enter"&&u(),className:"focus-visible:ring-[#E7FE55]/20 focus-visible:border-[#E7FE55]/30",autoFocus:!0})]}),h.jsxs(Oi,{onClick:u,className:"w-full",size:"lg",children:[h.jsx(ere,{size:18})," Unlock Vault Operator"]})]}),h.jsx("p",{className:"text-center text-[11px] text-[#747580]",children:"This is the same password used to unlock your Vault."})]})}):f?h.jsxs("div",{className:"flex h-[calc(100vh-9rem)] gap-6",children:[h.jsxs("div",{className:jt("flex-1 flex flex-col bg-transparent rounded overflow-hidden relative min-w-0",x&&"lg:pr-2"),children:[h.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",ref:o,children:[h.jsxs(Lo,{children:[t.length===0&&h.jsxs(tn.div,{className:"flex flex-col items-center justify-center h-full text-[#747580] opacity-60",initial:{opacity:0},animate:{opacity:.6},children:[h.jsx(og,{size:48,className:"mb-4 text-[#E7FE55]"}),h.jsx("p",{className:"text-sm font-semibold text-white",children:"Vault Operator Ready"}),h.jsx("p",{className:"text-[11px] text-[#747580]",children:"Ask me to check balances, swap tokens, or schedule automations."})]}),t.map((v,w)=>h.jsx(tn.div,{className:jt("flex",v.role==="user"?"justify-end":"justify-start"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.05},children:h.jsxs("div",{className:jt("flex gap-4",x?"max-w-[85%]":"max-w-[90%]",v.role==="user"?"flex-row-reverse":"flex-row"),children:[h.jsx("div",{className:jt("w-9 h-9 rounded-full flex items-center justify-center flex-shrink-0 border",v.role==="user"?"bg-[#9b87f5]/10 border-[#9b87f5]/20":"bg-[#E7FE55]/10 border-[#E7FE55]/20"),children:v.role==="user"?h.jsx(cke,{size:18,className:"text-[#9b87f5]"}):h.jsx(og,{size:18,className:"text-[#E7FE55]"})}),h.jsxs("div",{className:jt("flex flex-col",v.role==="user"?"items-end":"items-start"),children:[h.jsxs("div",{className:jt("px-4 py-3 rounded-lg bg-[#1a1b21] text-[#e4e5e9] border border-[#232328]",v.role==="user"?"rounded-tr-sm":"rounded-tl-sm"),children:[v.toolResults&&v.toolResults.length>0&&h.jsx("div",{className:"mb-4 space-y-3 w-full",children:v.toolResults.map((E,k)=>h.jsxs("div",{className:jt("text-[11px] p-3 rounded border",E.type==="success"?"bg-[#34d399]/10 border-[#34d399]/30 text-[#34d399]":E.type==="error"?"bg-red-500/10 border-red-500/30 text-red-400":"bg-[#60a5fa]/10 border-[#60a5fa]/30 text-[#60a5fa]"),children:[h.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[E.type==="success"?h.jsx(yM,{size:14}):E.type==="error"?h.jsx(Xu,{size:14}):h.jsx(C2e,{size:14}),E.title]}),h.jsx("div",{className:"whitespace-pre-wrap font-mono opacity-90",children:E.details}),E.tx&&h.jsxs("div",{className:"mt-2 pt-2 border-t border-white/10 text-[10px] font-mono opacity-70 truncate",children:["TX: ",E.tx]})]},k))}),h.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:h.jsx(GQe,{remarkPlugins:[ott],components:{a:({href:E,children:k})=>{if(E!=null&&E.startsWith("nav://")){const I=E.replace("nav://",""),j={DEALER_CONFIG:ke.DEALER_CONFIG,DEALER_DASHBOARD:ke.DEALER_DASHBOARD,DEALER_THINKING:ke.DEALER_THINKING,VAULT_DEALER:ke.VAULT_DEALER,DASHBOARD:ke.DASHBOARD,VAULT:ke.VAULT,SCHEDULER:ke.SCHEDULER}[I];return j&&m?h.jsxs(Oi,{onClick:M=>{M.preventDefault(),M.stopPropagation(),m(j)},className:"mt-3 inline-flex",children:[h.jsx(jT,{size:16}),h.jsx("span",{children:k}),h.jsx(Wne,{size:14})]}):h.jsx("span",{className:"text-indigo-400",children:k})}return h.jsx("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:text-indigo-300 underline",children:k})},pre:({children:E})=>h.jsx("pre",{className:"overflow-x-auto overflow-y-auto max-h-[400px] custom-scrollbar bg-[#0f1015] rounded border border-[#232328] p-4 my-4",children:E}),code:({node:E,inline:k,className:I,children:D,...j})=>k?h.jsx("code",{className:"bg-[#1a1b21] px-1.5 py-0.5 rounded text-sm text-[#E7FE55] font-mono border border-[#232328]",...j,children:D}):h.jsx("code",{className:`${I} text-sm`,...j,children:D})},children:v.content})})]}),h.jsx("span",{className:"text-[10px] text-[#747580] mt-1.5 px-1",children:new Date(v.timestamp).toLocaleTimeString()})]})]})},v.id))]}),h.jsx(Lo,{children:i&&h.jsx(tn.div,{className:"flex justify-start",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},children:h.jsxs("div",{className:"flex gap-4 max-w-[80%]",children:[h.jsx(tn.div,{className:"w-9 h-9 rounded-full bg-[#E7FE55]/10 border border-[#E7FE55]/20 flex items-center justify-center flex-shrink-0",animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:h.jsx(og,{size:18,className:"text-[#E7FE55]"})}),h.jsxs("div",{className:"bg-[#1a1b21] px-4 py-3 rounded-lg rounded-tl-sm border border-[#232328] flex items-center gap-3",children:[h.jsxs("div",{className:"flex space-x-1",children:[h.jsx(tn.div,{className:"w-1.5 h-1.5 bg-[#E7FE55] rounded-full",animate:{y:[0,-6,0]},transition:{duration:.5,repeat:1/0,delay:0}}),h.jsx(tn.div,{className:"w-1.5 h-1.5 bg-[#E7FE55] rounded-full",animate:{y:[0,-6,0]},transition:{duration:.5,repeat:1/0,delay:.15}}),h.jsx(tn.div,{className:"w-1.5 h-1.5 bg-[#E7FE55] rounded-full",animate:{y:[0,-6,0]},transition:{duration:.5,repeat:1/0,delay:.3}})]}),h.jsx("span",{className:"text-[11px] text-[#E7FE55] font-medium",children:s})]})]})})})]}),h.jsxs("div",{className:"p-4 bg-transparent z-10 box-border",children:[h.jsxs("div",{className:"relative",children:[h.jsx(cx,{ref:g,type:"text",value:e,onChange:v=>n(v.target.value),onKeyDown:v=>v.key==="Enter"&&!i&&a&&r(),placeholder:"Ask Vault Operator to swap tokens, check prices, or schedule a task...",className:"pl-5 pr-14 py-5 text-sm bg-[#1a1b21] border-[#232328] focus-visible:ring-1 focus-visible:ring-[#E7FE55]/20 focus-visible:border-[#E7FE55]/30 placeholder:text-[#747580]",disabled:i}),h.jsx(Oi,{onClick:r,disabled:!e.trim()||i,size:"icon",className:"absolute right-2 top-2 bottom-2 h-auto bg-[#E7FE55] hover:bg-[#f0ff7a] text-black",children:i?h.jsx(_a,{size:18,className:"animate-spin"}):h.jsx(J2e,{size:18})})]}),h.jsx("p",{className:"text-center mt-3 text-[10px] text-[#747580] tracking-wide",children:"Vault Operator can make mistakes. Always verify transactions."})]})]}),h.jsx(Lo,{children:x&&h.jsx(tn.div,{className:"hidden lg:block w-64 xl:w-72 h-full flex-shrink-0",initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},children:h.jsx(ltt,{messages:t})})})]}):h.jsx(tn.div,{className:"flex flex-col h-[calc(100vh-8rem)] items-center justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:h.jsxs("div",{className:"max-w-md w-full mx-auto space-y-6 p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-[#1a1b21] rounded-full flex items-center justify-center mx-auto mb-4 border border-[#232328]",children:h.jsx(og,{size:32,className:"text-[#747580]"})}),h.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:"Create a Vault First"}),h.jsxs("p",{className:"text-[#747580] text-sm",children:["You need to create a vault before using Vault Operator. Go to the ",h.jsx("span",{className:"text-[#E7FE55]",children:"Vault"})," page to set up your wallets."]})]})})},btt=uhe("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-red-500/20 text-red-400 border-red-500/30",outline:"text-foreground border-slate-600",success:"border-transparent bg-emerald-500/20 text-emerald-400 border-emerald-500/30",warning:"border-transparent bg-yellow-500/20 text-yellow-400 border-yellow-500/30",info:"border-transparent bg-blue-500/20 text-blue-400 border-blue-500/30",purple:"border-transparent bg-purple-500/20 text-purple-400 border-purple-500/30"}},defaultVariants:{variant:"default"}});function vl({className:t,variant:e,...n}){return h.jsx("div",{className:jt(btt({variant:e}),t),...n})}const wtt=({scheduledTasks:t,setScheduledTasks:e,addNotification:n})=>{const r=t.filter(a=>a.status==="active"||a.status==="executing"),i=t.filter(a=>a.status==="completed"||a.status==="failed").sort((a,l)=>(l.lastExecuted||0)-(a.lastExecuted||0)),s=()=>{window.confirm("Clear all task history?")&&(e(a=>{const l=a.filter(c=>c.status==="active"||c.status==="executing");return Pe.setItem(Pe.getUserKey("agent_scheduled_tasks"),JSON.stringify(l)),l}),n("Task history cleared"))},o=a=>{window.confirm("Cancel this task?")&&(e(l=>{const c=l.map(u=>u.id===a?{...u,status:"failed",result:"Cancelled by user"}:u);return Pe.setItem(Pe.getUserKey("agent_scheduled_tasks"),JSON.stringify(c)),c}),n(`Task #${a.slice(-4)} cancelled`))};return h.jsx(tn.div,{className:"space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[h.jsx(_a,{size:20,className:"text-emerald-400"})," Active Tasks"]}),h.jsx(Lo,{children:r.length===0?h.jsx(tn.div,{initial:{opacity:0},animate:{opacity:1},children:h.jsxs(Is,{className:"p-8 text-center border-dashed border-2 border-slate-800",children:[h.jsx(n8,{size:48,className:"mx-auto text-slate-700 mb-4"}),h.jsx("p",{className:"text-slate-500",children:"No active tasks."}),h.jsx("p",{className:"text-xs text-slate-600 mt-2",children:'Ask the AI to "schedule a swap in 10 mins" or "alert me when BTC > 100k"'})]})}):r.map((a,l)=>{const c=JSON.parse(a.params||"{}");let u=0,f=0,m=0;if(a.type==="HL_ORDER"&&c.price&&c.size){const{price:g,size:x,leverage:v=1,side:w,takeProfit:E,stopLoss:k}=c,I=w==="B";E&&(u=(I?E-g:g-E)*x),k&&(f=(I?g-k:k-g)*x);const D=1/v-.005;m=I?g*(1-D):g*(1+D)}return h.jsx(tn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:l*.1},children:h.jsxs(Is,{className:"p-5 border-l-4 border-l-emerald-500 relative overflow-hidden",children:[a.status==="executing"&&h.jsx("div",{className:"absolute top-2 right-2",children:h.jsxs("span",{className:"relative flex h-3 w-3",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-emerald-500"})]})}),h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(vl,{variant:a.type==="SWAP"||a.type==="TRANSFER"?"info":a.type==="HL_ORDER"?"purple":a.type==="ALERT"?"warning":"secondary",children:a.type}),h.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["#",a.id.slice(-4)]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"text-xs text-slate-400",children:["Created: ",new Date(a.createdAt).toLocaleTimeString()]}),a.status!=="executing"&&h.jsxs(Oi,{variant:"ghost",size:"sm",onClick:()=>o(a.id),className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",children:[h.jsx(am,{size:12})," Cancel"]})]})]}),h.jsxs("div",{className:"mb-3 space-y-2",children:[a.type==="SWAP"&&h.jsxs("div",{className:"bg-slate-950/50 p-3 rounded-lg border border-slate-800",children:[h.jsx("div",{className:"text-xs text-slate-500 mb-1 font-bold uppercase",children:"Swap Details"}),h.jsxs("div",{className:"text-sm text-white font-medium",children:[c.amount," ",c.inputToken,"  ",c.outputToken]})]}),a.type==="HL_ORDER"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-slate-950/50 p-3 rounded-lg border border-purple-900/30 space-y-2",children:[h.jsx("div",{className:"text-xs text-slate-500 mb-2 font-bold uppercase",children:"Hyperliquid Order"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-500",children:"Asset:"}),h.jsx("span",{className:"ml-2 text-white font-bold",children:c.coin})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-500",children:"Direction:"}),h.jsx("span",{className:jt("ml-2 font-bold",c.side==="B"?"text-emerald-400":"text-red-400"),children:c.side==="B"?"LONG":"SHORT"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-500",children:"Size:"}),h.jsx("span",{className:"ml-2 text-white font-medium",children:c.size})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-500",children:"Type:"}),h.jsx("span",{className:"ml-2 text-white font-medium uppercase",children:c.orderType})]}),c.price&&h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-500",children:"Price:"}),h.jsxs("span",{className:"ml-2 text-white font-medium",children:["$",c.price.toLocaleString()]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-500",children:"Leverage:"}),h.jsxs("span",{className:"ml-2 text-yellow-400 font-bold",children:[c.leverage,"x"]})]})]}),(c.stopLoss||c.takeProfit)&&h.jsxs("div",{className:"pt-2 border-t border-slate-800 grid grid-cols-2 gap-2 text-xs",children:[c.stopLoss&&h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-500",children:"Stop Loss:"}),h.jsxs("span",{className:"ml-2 text-red-400 font-medium",children:["$",c.stopLoss.toLocaleString()]})]}),c.takeProfit&&h.jsxs("div",{children:[h.jsx("span",{className:"text-slate-500",children:"Take Profit:"}),h.jsxs("span",{className:"ml-2 text-emerald-400 font-medium",children:["$",c.takeProfit.toLocaleString()]})]})]})]}),c.price&&h.jsxs("div",{className:"bg-gradient-to-br from-slate-950/80 to-purple-950/20 p-3 rounded-lg border border-purple-900/40 space-y-2",children:[h.jsxs("div",{className:"text-xs text-purple-300 mb-2 font-bold uppercase flex items-center gap-2",children:[h.jsx(Pn,{size:12})," Risk Analysis"]}),h.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[c.takeProfit&&h.jsxs("div",{className:"bg-emerald-900/20 p-2 rounded border border-emerald-800/30",children:[h.jsx("div",{className:"text-emerald-500 text-[10px] mb-1",children:"MAX PROFIT"}),h.jsxs("div",{className:"text-emerald-400 font-bold",children:["$",u.toFixed(2)]})]}),c.stopLoss&&h.jsxs("div",{className:"bg-red-900/20 p-2 rounded border border-red-800/30",children:[h.jsx("div",{className:"text-red-500 text-[10px] mb-1",children:"MAX LOSS"}),h.jsxs("div",{className:"text-red-400 font-bold",children:["-$",f.toFixed(2)]})]}),h.jsxs("div",{className:"bg-orange-900/20 p-2 rounded border border-orange-800/30",children:[h.jsx("div",{className:"text-orange-500 text-[10px] mb-1",children:"LIQUIDATION"}),h.jsxs("div",{className:"text-orange-400 font-bold",children:["$",m.toFixed(2)]})]})]})]})]})]}),h.jsxs("div",{className:"bg-slate-950/50 p-3 rounded-lg border border-slate-800 text-xs",children:[h.jsx("div",{className:"flex items-center gap-2 mb-2 text-slate-500 font-bold uppercase tracking-wider",children:"Trigger Condition"}),a.condition?h.jsx("div",{className:"space-y-1",children:h.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 font-medium",children:[h.jsx(Pn,{size:14}),a.condition.indicator.toUpperCase()," (",a.condition.symbol,") ",a.condition.operator," ",a.condition.value]})}):h.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[h.jsx(_a,{size:14}),"Time: ",new Date(a.executeAt).toLocaleString()]})]})]})},a.id)})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[h.jsx(yM,{size:20,className:"text-slate-400"})," History"]}),h.jsxs(Oi,{variant:"ghost",size:"sm",onClick:s,className:"text-slate-500 hover:text-white",children:[h.jsx(am,{size:14})," Clear History"]})]}),h.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto custom-scrollbar pr-2",children:i.length===0?h.jsx("div",{className:"text-center py-8 text-slate-600 text-sm",children:"No history available."}):i.map((a,l)=>h.jsx(tn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:l*.05},children:h.jsxs(Is,{className:jt("p-4",a.status==="completed"?"opacity-70 hover:opacity-100 transition-opacity":"border-red-900/30 bg-red-900/10"),children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[a.status==="completed"?h.jsx(yM,{size:16,className:"text-emerald-500"}):h.jsx(Xu,{size:16,className:"text-red-500"}),h.jsx(vl,{variant:a.status==="completed"?"success":"destructive",children:a.status.toUpperCase()})]}),h.jsx("span",{className:"text-xs text-slate-500",children:a.lastExecuted?new Date(a.lastExecuted).toLocaleString():"Unknown"})]}),h.jsxs("div",{className:"text-xs text-slate-300 mb-2",children:[a.type," - ",a.condition?"Condition":"Time"," Trigger"]}),h.jsx("div",{className:"bg-black/30 p-2 rounded text-[10px] font-mono text-slate-400 break-all",children:a.result})]})},a.id))})]})]})})},Ett=5,Stt="dealer_cycle_summary",fb={recentCycles:[],aiSummary:null,lastSummaryTime:0,isGenerating:!1};class Att{constructor(){this.state=new Map,this.listeners=new Map,this.initialized=new Map,this.state.set("hyperliquid",{...fb}),this.state.set("polymarket",{...fb}),this.listeners.set("hyperliquid",new Set),this.listeners.set("polymarket",new Set),this.initialized.set("hyperliquid",!1),this.initialized.set("polymarket",!1)}getStorageKey(e){return Pe.getUserKey(`${Stt}_${e}`)}async loadState(e){var n;if(!this.initialized.get(e)){try{const r=this.getStorageKey(e),i=await Pe.getItem(r);if(i){const s=JSON.parse(i);this.state.set(e,{...fb,...s,isGenerating:!1}),console.log(`[CycleSummaryStore] Loaded ${e} state: ${((n=s.recentCycles)==null?void 0:n.length)||0} cycles`)}}catch(r){console.warn(`[CycleSummaryStore] Failed to load ${e} state:`,r)}this.initialized.set(e,!0)}}async saveState(e){try{const n=this.getStorageKey(e),r=this.state.get(e);if(r){const{isGenerating:i,...s}=r;await Pe.setItem(n,JSON.stringify(s))}}catch(n){console.warn(`[CycleSummaryStore] Failed to save ${e} state:`,n)}}getSnapshot(e){return this.state.get(e)||{...fb}}subscribe(e,n){const r=this.listeners.get(e);return r&&r.add(n),()=>{r==null||r.delete(n)}}notify(e){const n=this.listeners.get(e);n==null||n.forEach(r=>r())}recordCycle(e,n){const r=this.state.get(e);if(!r)return;const i=r.recentCycles.length+1,o=[{...n,cycleNumber:i},...r.recentCycles].slice(0,Ett);this.state.set(e,{...r,recentCycles:o}),this.notify(e),this.saveState(e),console.log(`[CycleSummaryStore] Recorded ${e} cycle #${i}: ${n.decisions.length} decisions`)}setGenerating(e,n){const r=this.state.get(e);r&&(this.state.set(e,{...r,isGenerating:n}),this.notify(e))}setSummary(e,n){const r=this.state.get(e);r&&(this.state.set(e,{...r,aiSummary:n,lastSummaryTime:Date.now(),isGenerating:!1}),this.notify(e),this.saveState(e),console.log(`[CycleSummaryStore] Updated ${e} AI summary (${n.length} chars)`))}clear(e){this.state.set(e,{...fb}),this.notify(e),this.saveState(e)}getContextForAI(e){const n=this.state.get(e);return!n||!n.aiSummary?null:n.aiSummary}getCyclesForSummary(e){const n=this.state.get(e);return(n==null?void 0:n.recentCycles)||[]}}const Vu=new Att;let iX=class{constructor(e,n,r){this.next=r,r&&(r.prev=this),this.prev=n,n&&(n.next=this),this.data=e}};class dhe{constructor(){this._length=0}get head(){return this._head&&this._head.data}get tail(){return this._tail&&this._tail.data}get current(){return this._current&&this._current.data}get length(){return this._length}push(e){this._tail=new iX(e,this._tail),this._length===0&&(this._head=this._tail,this._current=this._head,this._next=this._head),this._length++}pop(){var e=this._tail;if(this._length!==0)return this._length--,this._length===0?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._tail=e.prev,this._tail.next=void 0,this._current===e&&(this._current=this._tail,this._next=void 0),e.data)}shift(){var e=this._head;if(this._length!==0)return this._length--,this._length===0?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._head=this._head.next,this._current===e&&(this._current=this._head,this._next=this._current.next),e.data)}unshift(e){this._head=new iX(e,void 0,this._head),this._length===0&&(this._tail=this._head,this._next=this._head),this._length++}unshiftCurrent(){var e=this._current;return e===this._head||this._length<2?e&&e.data:(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.next=this._head,e.prev=void 0,this._head.prev=e,this._head=e,e.data)}removeCurrent(){var e=this._current;if(this._length!==0)return this._length--,this._length===0?(this._head=this._tail=this._current=this._next=void 0,e.data):(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):e===this._head?(this._head=e.next,this._head.prev=void 0,this._current=this._head):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.data)}resetCursor(){return this._current=this._next=this._head,this}next(){var e=this._next;if(e!==void 0)return this._next=e.next,this._current=e,e.data}}class Fg extends dhe{constructor(e,n,r,i){if(super(),this.size=e,this.maintainHigh=n,this.maintainLow=r,this.maintainSum=i,this.totalPushed=0,this.periodHigh=0,this.periodLow=1/0,this.periodSum=0,!e||typeof e!="number")throw"Size required and should be a number.";this._push=this.push,this.push=function(s){this.add(s),this.totalPushed++}}add(e){this.length===this.size?(this.lastShift=this.shift(),this._push(e),this.maintainHigh&&this.lastShift==this.periodHigh&&this.calculatePeriodHigh(),this.maintainLow&&this.lastShift==this.periodLow&&this.calculatePeriodLow(),this.maintainSum&&(this.periodSum=this.periodSum-this.lastShift)):this._push(e),this.maintainHigh&&this.periodHigh<=e&&(this.periodHigh=e),this.maintainLow&&this.periodLow>=e&&(this.periodLow=e),this.maintainSum&&(this.periodSum=this.periodSum+e)}*iterator(){for(this.resetCursor();this.next();)yield this.current}calculatePeriodHigh(){for(this.resetCursor(),this.next()&&(this.periodHigh=this.current);this.next();)this.periodHigh<=this.current&&(this.periodHigh=this.current)}calculatePeriodLow(){for(this.resetCursor(),this.next()&&(this.periodLow=this.current);this.next();)this.periodLow>=this.current&&(this.periodLow=this.current)}}let Ttt={};function Ctt(t){return Ttt[t]}function ktt(t){let e=Ctt("precision");return e?parseFloat(t.toPrecision(e)):t}class $t{constructor(e){this.format=e.format||ktt}static reverseInputs(e){e.reversedInput&&(e.values&&e.values.reverse(),e.open&&e.open.reverse(),e.high&&e.high.reverse(),e.low&&e.low.reverse(),e.close&&e.close.reverse(),e.volume&&e.volume.reverse(),e.timestamp&&e.timestamp.reverse())}getResult(){return this.result}}class bl extends $t{constructor(e){super(e),this.period=e.period,this.price=e.values;var n=(function*(r){var i=new dhe,s=0,o=1,a=yield,l;for(i.push(0);;)o<r?(o++,i.push(a),s=s+a):(s=s-i.shift()+a,l=s/r,i.push(a)),a=yield l});this.generator=n(this.period),this.generator.next(),this.result=[],this.price.forEach(r=>{var i=this.generator.next(r);i.value!==void 0&&this.result.push(this.format(i.value))})}nextValue(e){var n=this.generator.next(e).value;if(n!=null)return this.format(n)}}bl.calculate=Ntt;function Ntt(t){$t.reverseInputs(t);var e=new bl(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class ux extends $t{constructor(e){super(e);var n=e.period,r=e.values,i=2/(n+1),s;this.result=[],s=new bl({period:n,values:[]});var o=(function*(){for(var a=yield,l;;)l!==void 0&&a!==void 0?(l=(a-l)*i+l,a=yield l):(a=yield,l=s.nextValue(a),l&&(a=yield l))});this.generator=o(),this.generator.next(),this.generator.next(),r.forEach(a=>{var l=this.generator.next(a);l.value!=null&&this.result.push(this.format(l.value))})}nextValue(e){var n=this.generator.next(e).value;if(n!=null)return this.format(n)}}ux.calculate=Itt;function Itt(t){$t.reverseInputs(t);var e=new ux(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class NN extends $t{constructor(e){super(e);var n=e.period,r=e.values,i=1/n,s;this.result=[],s=new bl({period:n,values:[]});var o=(function*(){for(var a=yield,l;;)l!==void 0&&a!==void 0?(l=(a-l)*i+l,a=yield l):(a=yield,l=s.nextValue(a),l!==void 0&&(a=yield l))});this.generator=o(),this.generator.next(),this.generator.next(),r.forEach(a=>{var l=this.generator.next(a);l.value!=null&&this.result.push(this.format(l.value))})}nextValue(e){var n=this.generator.next(e).value;if(n!=null)return this.format(n)}}NN.calculate=Ptt;function Ptt(t){$t.reverseInputs(t);var e=new NN(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class s2 extends $t{constructor(e){super(e);var n=e.SimpleMAOscillator?bl:ux,r=e.SimpleMASignal?bl:ux,i=new n({period:e.fastPeriod,values:[],format:l=>l}),s=new n({period:e.slowPeriod,values:[],format:l=>l}),o=new r({period:e.signalPeriod,values:[],format:l=>l}),a=this.format;this.result=[],this.generator=(function*(){for(var l=0,c,u,f,m,g,x;;){if(l<e.slowPeriod){c=yield,g=i.nextValue(c),x=s.nextValue(c),l++;continue}g&&x&&(u=g-x,f=o.nextValue(u)),m=u-f,c=yield{MACD:a(u),signal:f?a(f):void 0,histogram:isNaN(m)?void 0:a(m)},g=i.nextValue(c),x=s.nextValue(c)}})(),this.generator.next(),e.values.forEach(l=>{var c=this.generator.next(l);c.value!=null&&this.result.push(c.value)})}nextValue(e){var n=this.generator.next(e).value;return n}}s2.calculate=_tt;function _tt(t){$t.reverseInputs(t);var e=new s2(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class p7 extends $t{constructor(e){super(e);let n=e.values,r=e.period,i=this.format;this.generator=(function*(s){var o=yield,a=1,l=0,c,u,f=o;for(o=yield;;)u=o-f,u=u>0?u:0,u>0&&(l=l+u),a<s?a++:c===void 0?c=l/s:c=(c*(s-1)+u)/s,f=o,c=c!==void 0?i(c):void 0,o=yield c})(r),this.generator.next(),this.result=[],n.forEach(s=>{var o=this.generator.next(s);o.value!==void 0&&this.result.push(o.value)})}nextValue(e){return this.generator.next(e).value}}p7.calculate=Rtt;function Rtt(t){$t.reverseInputs(t);var e=new p7(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class m7 extends $t{constructor(e){super(e);let n=e.values,r=e.period,i=this.format;this.generator=(function*(s){var o=yield,a=1,l=0,c,u,f=o;for(o=yield;;)u=f-o,u=u>0?u:0,u>0&&(l=l+u),a<s?a++:c===void 0?c=l/s:c=(c*(s-1)+u)/s,f=o,c=c!==void 0?i(c):void 0,o=yield c})(r),this.generator.next(),this.result=[],n.forEach(s=>{var o=this.generator.next(s);o.value!==void 0&&this.result.push(o.value)})}nextValue(e){return this.generator.next(e).value}}m7.calculate=Ott;function Ott(t){$t.reverseInputs(t);var e=new m7(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class o2 extends $t{constructor(e){super(e);var n=e.period,r=e.values,i=new p7({period:n,values:[]}),s=new m7({period:n,values:[]});this.generator=(function*(o){for(var a=yield,l,c,u,f;;)l=i.nextValue(a),c=s.nextValue(a),l!==void 0&&c!==void 0&&(c===0?f=100:l===0?f=0:(u=l/c,u=isNaN(u)?0:u,f=parseFloat((100-100/(1+u)).toFixed(2)))),a=yield f})(),this.generator.next(),this.result=[],r.forEach(o=>{var a=this.generator.next(o);a.value!==void 0&&this.result.push(a.value)})}nextValue(e){return this.generator.next(e).value}}o2.calculate=Mtt;function Mtt(t){$t.reverseInputs(t);var e=new o2(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class g7 extends $t{constructor(e){super(e);var n=e.period,r=e.values,i=new bl({period:n,values:[],format:s=>s});this.result=[],this.generator=(function*(){var s,o,a=new Fg(n);s=yield;for(var l;;){if(a.push(s),o=i.nextValue(s),o){let c=0;for(let u of a.iterator())c=c+Math.pow(u-o,2);l=Math.sqrt(c/n)}s=yield l}})(),this.generator.next(),r.forEach(s=>{var o=this.generator.next(s);o.value!=null&&this.result.push(this.format(o.value))})}nextValue(e){var n=this.generator.next(e);if(n.value!=null)return this.format(n.value)}}g7.calculate=Dtt;function Dtt(t){$t.reverseInputs(t);var e=new g7(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class a2 extends $t{constructor(e){super(e);var n=e.period,r=e.values,i=e.stdDev,s=this.format,o,a;this.result=[],o=new bl({period:n,values:[],format:l=>l}),a=new g7({period:n,values:[],format:l=>l}),this.generator=(function*(){var l,c,u,f;for(c=yield;;){if(u=o.nextValue(c),f=a.nextValue(c),u){let m=s(u),g=s(u+f*i),x=s(u-f*i),v=s((c-x)/(g-x));l={middle:m,upper:g,lower:x,pb:v}}c=yield l}})(),this.generator.next(),r.forEach(l=>{var c=this.generator.next(l);c.value!=null&&this.result.push(c.value)})}nextValue(e){return this.generator.next(e).value}}a2.calculate=Ltt;function Ltt(t){$t.reverseInputs(t);var e=new a2(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class qb extends $t{constructor(e){super(e),this.period=e.period,this.price=e.values;var n=(function*(r){for(var i=0,s=1,o=yield,a=0;;)s<r?(s++,i=i+o,a=void 0):s==r?(s++,i=i+o,a=i):a=a-a/r+o,o=yield a});this.generator=n(this.period),this.generator.next(),this.result=[],this.price.forEach(r=>{var i=this.generator.next(r);i.value!=null&&this.result.push(this.format(i.value))})}nextValue(e){var n=this.generator.next(e).value;if(n!=null)return this.format(n)}}qb.calculate=Btt;function Btt(t){$t.reverseInputs(t);var e=new qb(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class y7 extends $t{constructor(e){super(e);var n=e.low,r=e.high,i=this.format;if(n.length!=r.length)throw"Inputs(low,high) not of equal size";this.result=[],this.generator=(function*(){for(var s,o=yield,a;;){if(a){let l=o.high-a.high,c=a.low-o.low;s=i(c>l&&c>0?c:0)}a=o,o=yield s}})(),this.generator.next(),n.forEach((s,o)=>{var a=this.generator.next({high:r[o],low:n[o]});a.value!==void 0&&this.result.push(a.value)})}static calculate(e){$t.reverseInputs(e);var n=new y7(e).result;return e.reversedInput&&n.reverse(),$t.reverseInputs(e),n}nextValue(e){return this.generator.next(e).value}}class x7 extends $t{constructor(e){super(e);var n=e.low,r=e.high,i=this.format;if(n.length!=r.length)throw"Inputs(low,high) not of equal size";this.result=[],this.generator=(function*(){for(var s,o=yield,a;;){if(a){let l=o.high-a.high,c=a.low-o.low;s=i(l>c&&l>0?l:0)}a=o,o=yield s}})(),this.generator.next(),n.forEach((s,o)=>{var a=this.generator.next({high:r[o],low:n[o]});a.value!==void 0&&this.result.push(a.value)})}static calculate(e){$t.reverseInputs(e);var n=new x7(e).result;return e.reversedInput&&n.reverse(),$t.reverseInputs(e),n}nextValue(e){return this.generator.next(e).value}}class IN extends $t{constructor(e){super(e);var n=e.low,r=e.high,i=e.close,s=this.format;if(n.length!=r.length)throw"Inputs(low,high) not of equal size";this.result=[],this.generator=(function*(){for(var o=yield,a,l;;)a===void 0&&(a=o.close,o=yield l),l=Math.max(o.high-o.low,isNaN(Math.abs(o.high-a))?0:Math.abs(o.high-a),isNaN(Math.abs(o.low-a))?0:Math.abs(o.low-a)),a=o.close,l!=null&&(l=s(l)),o=yield l})(),this.generator.next(),n.forEach((o,a)=>{var l=this.generator.next({high:r[a],low:n[a],close:i[a]});l.value!=null&&this.result.push(l.value)})}nextValue(e){return this.generator.next(e).value}}IN.calculate=jtt;function jtt(t){$t.reverseInputs(t);var e=new IN(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class l2 extends $t{constructor(e){super(e);var n=e.low,r=e.high,i=e.close,s=e.period,o=this.format,a=new x7({high:[],low:[]}),l=new y7({high:[],low:[]}),c=new qb({period:s,values:[],format:x=>x}),u=new qb({period:s,values:[],format:x=>x}),f=new qb({period:s,values:[],format:x=>x}),m=new NN({period:s,values:[],format:x=>x}),g=new IN({low:[],high:[],close:[]});if(!(n.length===r.length&&r.length===i.length))throw"Inputs(low,high, close) not of equal size";this.result=[],this.generator=(function*(){for(var x=yield,v,w,E,k;;){let I=g.nextValue(x),D=a.nextValue(x),j=l.nextValue(x);if(I===void 0){x=yield;continue}let M=f.nextValue(I),U=c.nextValue(D),V=u.nextValue(j);if(M!=null&&U!=null&&V!=null){v=U*100/M,w=V*100/M;let F=Math.abs(v-w),z=v+w;E=F/z*100,k=m.nextValue(E)}x=yield{adx:k,pdi:v,mdi:w}}})(),this.generator.next(),n.forEach((x,v)=>{var w=this.generator.next({high:r[v],low:n[v],close:i[v]});w.value!=null&&w.value.adx!=null&&this.result.push({adx:o(w.value.adx),pdi:o(w.value.pdi),mdi:o(w.value.mdi)})})}nextValue(e){let n=this.generator.next(e).value;if(n!=null&&n.adx!=null)return{adx:this.format(n.adx),pdi:this.format(n.pdi),mdi:this.format(n.mdi)}}}l2.calculate=Utt;function Utt(t){$t.reverseInputs(t);var e=new l2(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class c2 extends $t{constructor(e){super(e);var n=e.low,r=e.high,i=e.close,s=e.period,o=this.format;if(!(n.length===r.length&&r.length===i.length))throw"Inputs(low,high, close) not of equal size";var a=new IN({low:[],high:[],close:[]}),l=new NN({period:s,values:[],format:c=>c});this.result=[],this.generator=(function*(){for(var c=yield,u,f;;)f=a.nextValue({low:c.low,high:c.high,close:c.close}),f===void 0?u=void 0:u=l.nextValue(f),c=yield u})(),this.generator.next(),n.forEach((c,u)=>{var f=this.generator.next({high:r[u],low:n[u],close:i[u]});f.value!==void 0&&this.result.push(o(f.value))})}nextValue(e){return this.generator.next(e).value}}c2.calculate=Ftt;function Ftt(t){$t.reverseInputs(t);var e=new c2(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class u2 extends $t{constructor(e){super(e);let n=e.low,r=e.high,i=e.close,s=e.period,o=e.signalPeriod,a=this.format;if(!(n.length===r.length&&r.length===i.length))throw"Inputs(low,high, close) not of equal size";this.result=[],this.generator=(function*(){let l=1,c=new Fg(s,!0,!1),u=new Fg(s,!1,!0),f=new bl({period:o,values:[],format:v=>v}),m,g;for(var x=yield;;){if(c.push(x.high),u.push(x.low),l<s){l++,x=yield;continue}let v=u.periodLow;m=(x.close-v)/(c.periodHigh-v)*100,m=isNaN(m)?0:m,g=f.nextValue(m),x=yield{k:a(m),d:g!==void 0?a(g):void 0}}})(),this.generator.next(),n.forEach((l,c)=>{var u=this.generator.next({high:r[c],low:n[c],close:i[c]});u.value!==void 0&&this.result.push(u.value)})}nextValue(e){let n=this.generator.next(e);if(n.value!==void 0)return n.value}}u2.calculate=ztt;function ztt(t){$t.reverseInputs(t);var e=new u2(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class d2 extends $t{constructor(e){super(e);var n=e.close,r=e.volume;this.result=[],this.generator=(function*(){var i=0,s,o;for(s=yield,s.close&&typeof s.close=="number"&&(o=s.close,s=yield);;)o<s.close?i=i+s.volume:s.close<o&&(i=i-s.volume),o=s.close,s=yield i})(),this.generator.next(),n.forEach((i,s)=>{let o={close:n[s],volume:r[s]},a=this.generator.next(o);a.value!=null&&this.result.push(a.value)})}nextValue(e){return this.generator.next(e).value}}d2.calculate=$tt;function $tt(t){$t.reverseInputs(t);var e=new d2(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class f2 extends $t{constructor(e){super(e),this.result=[];var n={conversionPeriod:9,basePeriod:26,spanPeriod:52,displacement:26},r=Object.assign({},n,e),i=new Fg(r.conversionPeriod*2,!0,!0,!1),s=new Fg(r.basePeriod*2,!0,!0,!1),o=new Fg(r.spanPeriod*2,!0,!0,!1);this.generator=(function*(){let a,l,c=Math.max(r.conversionPeriod,r.basePeriod,r.spanPeriod,r.displacement),u=1;for(l=yield;;){if(i.push(l.high),i.push(l.low),s.push(l.high),s.push(l.low),o.push(l.high),o.push(l.low),u<c)u++;else{let f=(i.periodHigh+i.periodLow)/2,m=(s.periodHigh+s.periodLow)/2,g=(f+m)/2,x=(o.periodHigh+o.periodLow)/2;a={conversion:f,base:m,spanA:g,spanB:x}}l=yield a}})(),this.generator.next(),e.low.forEach((a,l)=>{var c=this.generator.next({high:e.high[l],low:e.low[l]});c.value&&this.result.push(c.value)})}nextValue(e){return this.generator.next(e).value}}f2.calculate=Htt;function Htt(t){$t.reverseInputs(t);var e=new f2(t).result;return t.reversedInput&&e.reverse(),$t.reverseInputs(t),e}class Vtt{normalizeInterval(e){const n=e.toLowerCase();return{1:"1m",5:"5m",15:"15m",60:"1h",240:"4h",d:"1d","1d":"1d",w:"1d","1w":"1d","7d":"1d"}[n]||"1h"}async getMarketPrice(e){try{const n=e.replace(/USDT$/i,"").replace(/USD$/i,"");return{price:await Ft.getCurrentPrice(n),exchange:"Hyperliquid",lastUpdate:new Date().toISOString()}}catch(n){throw console.error(`Error fetching market price for ${e}:`,n),new Error(`Failed to get market price: ${n.message}`)}}async getOHLCV(e,n="60"){try{const r=e.replace(/USDT$/i,"").replace(/USD$/i,""),i=this.normalizeInterval(n),s=await Ft.getCandles(r,i,1);if(!s||s.length===0)throw new Error("No candle data available");const o=s[s.length-1];return{open:o.open,high:o.high,low:o.low,close:o.close,volume:o.volume||0,timestamp:new Date(o.time).toISOString()}}catch(r){throw console.error(`Error fetching OHLCV for ${e}:`,r),new Error(`Failed to get OHLCV data: ${r.message}`)}}async getHistory(e,n="1D",r=100){try{const i=e.replace(/USDT$/i,"").replace(/USD$/i,""),s=this.normalizeInterval(n);return(await Ft.getCandles(i,s,r)).map(a=>({time:Math.floor(a.time/1e3),open:a.open,high:a.high,low:a.low,close:a.close,volume:a.volume}))}catch(i){return console.error(`Error fetching history for ${e}:`,i),[]}}async getIndicator(e,n,r="60",i){try{const s=e.replace(/USDT$/i,"").replace(/USD$/i,""),o=this.normalizeInterval(r),a=await Ft.getCandles(s,o,200);if(!a||a.length===0)throw new Error("No data available for indicator calculation");const l=a.map(v=>v.close),c=a.map(v=>v.high),u=a.map(v=>v.low),f=a.map(v=>v.volume||0);let m=0,g=[];switch(n.toLowerCase()){case"rsi":const v=(i==null?void 0:i.period)||14,w={values:l,period:v},E=o2.calculate(w);m=E[E.length-1],g=E.slice(-100);break;case"macd":const k={values:l,fastPeriod:(i==null?void 0:i.fast)||12,slowPeriod:(i==null?void 0:i.slow)||26,signalPeriod:(i==null?void 0:i.signal)||9,SimpleMAOscillator:!1,SimpleMASignal:!1},I=s2.calculate(k),D=I[I.length-1];m={macd:(D==null?void 0:D.MACD)||0,signal:(D==null?void 0:D.signal)||0,histogram:(D==null?void 0:D.histogram)||0},g=I.slice(-100);break;case"ema":const M={period:(i==null?void 0:i.period)||20,values:l},U=ux.calculate(M);m=U[U.length-1],g=U.slice(-100);break;case"sma":const F={period:(i==null?void 0:i.period)||20,values:l},z=bl.calculate(F);m=z[z.length-1],g=z.slice(-100);break;case"stoch":const K={high:c,low:u,close:l,period:(i==null?void 0:i.period)||14,signalPeriod:(i==null?void 0:i.signalPeriod)||3},H=u2.calculate(K),B=H[H.length-1];m={k:(B==null?void 0:B.k)||0,d:(B==null?void 0:B.d)||0},g=H.slice(-100);break;case"bollinger":const A=(i==null?void 0:i.period)||20,P=(i==null?void 0:i.stdDev)||2,R={period:A,values:l,stdDev:P},$=a2.calculate(R),q=$[$.length-1],te=l[l.length-1],Y=q?(te-q.lower)/(q.upper-q.lower):.5;m={upper:(q==null?void 0:q.upper)||0,middle:(q==null?void 0:q.middle)||0,lower:(q==null?void 0:q.lower)||0,pb:Y},g=$.slice(-100);break;case"atr":const G=(i==null?void 0:i.period)||14,O={high:c,low:u,close:l,period:G},N=c2.calculate(O);m=N[N.length-1]||0,g=N.slice(-100);break;case"adx":const W=(i==null?void 0:i.period)||14,X={high:c,low:u,close:l,period:W},re=l2.calculate(X),ae=re[re.length-1];m={adx:(ae==null?void 0:ae.adx)||0,pdi:(ae==null?void 0:ae.pdi)||0,mdi:(ae==null?void 0:ae.mdi)||0},g=re.slice(-100);break;case"obv":const Ee={close:l,volume:f},ue=d2.calculate(Ee);m=ue[ue.length-1]||0,g=ue.slice(-100);break;case"vwap":let me=0,ce=0;const oe=[];for(let st=0;st<a.length;st++){const Lt=(c[st]+u[st]+l[st])/3;me+=Lt*f[st],ce+=f[st],oe.push(ce>0?me/ce:Lt)}m=oe[oe.length-1]||l[l.length-1],g=oe.slice(-100);break;case"ichimoku":const Ce=(i==null?void 0:i.conversion)||9,Ne=(i==null?void 0:i.base)||26,$e=(i==null?void 0:i.spanB)||52,Ze=(i==null?void 0:i.displacement)||26,Ye={high:c,low:u,conversionPeriod:Ce,basePeriod:Ne,spanPeriod:$e,displacement:Ze},We=f2.calculate(Ye),St=We[We.length-1];m={tenkanSen:(St==null?void 0:St.conversion)||0,kijunSen:(St==null?void 0:St.base)||0,senkouSpanA:(St==null?void 0:St.spanA)||0,senkouSpanB:(St==null?void 0:St.spanB)||0,chikouSpan:l[l.length-Ze]||l[l.length-1]},g=We.slice(-100);break;case"price":m=l[l.length-1],g=l.slice(-100);break;default:throw new Error(`Unsupported indicator: ${n}`)}return{symbol:e,indicator:n.toUpperCase(),value:m,history:g,timestamp:Date.now()}}catch(s){throw console.error(`Error calculating indicator ${n} for ${e}:`,s),new Error(`Failed to calculate indicator: ${s.message}`)}}async getTradingViewSummary(e){try{const n=e.replace(/USDT$/i,"").replace(/USD$/i,""),r=await Ft.getCandles(n,"1h",12);if(!r||r.length<2)return{buy:0,sell:0,neutral:1,recommendation:"NEUTRAL"};let i=0,s=0;for(let l=1;l<r.length;l++)r[l].close>r[l-1].close?i++:s++;const o=Math.max(0,r.length-1-i-s);let a;return i>8?a="STRONG_BUY":i>6?a="BUY":s>8?a="STRONG_SELL":s>6?a="SELL":a="NEUTRAL",{buy:i,sell:s,neutral:o,recommendation:a}}catch(n){return console.error(`Error fetching summary for ${e}:`,n),{buy:0,sell:0,neutral:1,recommendation:"NEUTRAL"}}}detectDivergences(e,n,r){const i=[];if(e.length<20||n.length<20)return i;const o=(m,g=5)=>{const x=[],v=[];for(let w=g;w<m.length-g;w++){let E=!0,k=!0;for(let I=w-g;I<=w+g;I++)I!==w&&(m[I]<=m[w]&&(E=!1),m[I]>=m[w]&&(k=!1));E&&x.push(w),k&&v.push(w)}return{minima:x,maxima:v}},a=e.slice(-20),l=n.slice(-20),c=r.slice(-20),u=o(a),f=o(l);if(u.minima.length>=2&&f.minima.length>=2){const m=u.minima[u.minima.length-1],g=u.minima[u.minima.length-2],x=f.minima[f.minima.length-1],v=f.minima[f.minima.length-2],w=a[m]<a[g],E=l[x]>l[v];if(w&&E){const D=l[x]<30?"STRONG":l[x]<40?"MODERATE":"WEAK";i.push({type:"BULLISH",indicator:"RSI",description:`Price made lower low (${a[g].toFixed(2)}  ${a[m].toFixed(2)}) but RSI made higher low (${l[v].toFixed(1)}  ${l[x].toFixed(1)}). Potential reversal UP.`,strength:D,priceRange:{start:a[g],end:a[m]},indicatorRange:{start:l[v],end:l[x]}})}const k=a[m]>a[g],I=l[x]<l[v];k&&I&&i.push({type:"HIDDEN_BULLISH",indicator:"RSI",description:"Price made higher low but RSI made lower low. Bullish trend continuation signal.",strength:"MODERATE",priceRange:{start:a[g],end:a[m]},indicatorRange:{start:l[v],end:l[x]}})}if(u.maxima.length>=2&&f.maxima.length>=2){const m=u.maxima[u.maxima.length-1],g=u.maxima[u.maxima.length-2],x=f.maxima[f.maxima.length-1],v=f.maxima[f.maxima.length-2],w=a[m]>a[g],E=l[x]<l[v];if(w&&E){const D=l[x]>70?"STRONG":l[x]>60?"MODERATE":"WEAK";i.push({type:"BEARISH",indicator:"RSI",description:`Price made higher high (${a[g].toFixed(2)}  ${a[m].toFixed(2)}) but RSI made lower high (${l[v].toFixed(1)}  ${l[x].toFixed(1)}). Potential reversal DOWN.`,strength:D,priceRange:{start:a[g],end:a[m]},indicatorRange:{start:l[v],end:l[x]}})}const k=a[m]<a[g],I=l[x]>l[v];k&&I&&i.push({type:"HIDDEN_BEARISH",indicator:"RSI",description:"Price made lower high but RSI made higher high. Bearish trend continuation signal.",strength:"MODERATE",priceRange:{start:a[g],end:a[m]},indicatorRange:{start:l[v],end:l[x]}})}if(c.length>=10){const m=c[c.length-1]-c[c.length-5],g=a[a.length-1]-a[a.length-5];m<-.5&&g>0&&i.push({type:"BEARISH",indicator:"MACD",description:"MACD histogram declining while price rising. Momentum weakening.",strength:"WEAK",priceRange:{start:a[a.length-5],end:a[a.length-1]},indicatorRange:{start:c[c.length-5],end:c[c.length-1]}}),m>.5&&g<0&&i.push({type:"BULLISH",indicator:"MACD",description:"MACD histogram rising while price falling. Momentum building.",strength:"WEAK",priceRange:{start:a[a.length-5],end:a[a.length-1]},indicatorRange:{start:c[c.length-5],end:c[c.length-1]}})}return i}calculateIndicatorFromCandles(e,n,r){if(!e||e.length===0)return{value:0,history:[]};const i=e.map(f=>f.close),s=e.map(f=>f.high),o=e.map(f=>f.low),a=e.map(f=>f.volume||0);let l=0,c=[];switch(n.toLowerCase()){case"rsi":const f=(r==null?void 0:r.period)||14,m=o2.calculate({values:i,period:f});l=m[m.length-1]||0,c=m.slice(-100);break;case"macd":const g=s2.calculate({values:i,fastPeriod:(r==null?void 0:r.fast)||12,slowPeriod:(r==null?void 0:r.slow)||26,signalPeriod:(r==null?void 0:r.signal)||9,SimpleMAOscillator:!1,SimpleMASignal:!1}),x=g[g.length-1];l={macd:(x==null?void 0:x.MACD)||0,signal:(x==null?void 0:x.signal)||0,histogram:(x==null?void 0:x.histogram)||0},c=g.slice(-100).map($=>({macd:($==null?void 0:$.MACD)||0,signal:($==null?void 0:$.signal)||0,histogram:($==null?void 0:$.histogram)||0}));break;case"ema":const v=ux.calculate({period:(r==null?void 0:r.period)||20,values:i});l=v[v.length-1]||0,c=v.slice(-100);break;case"sma":const w=bl.calculate({period:(r==null?void 0:r.period)||20,values:i});l=w[w.length-1]||0,c=w.slice(-100);break;case"stoch":const E=u2.calculate({high:s,low:o,close:i,period:(r==null?void 0:r.period)||14,signalPeriod:(r==null?void 0:r.signalPeriod)||3}),k=E[E.length-1];l={k:(k==null?void 0:k.k)||0,d:(k==null?void 0:k.d)||0},c=E.slice(-100);break;case"bollinger":const I=a2.calculate({period:(r==null?void 0:r.period)||20,values:i,stdDev:(r==null?void 0:r.stdDev)||2}),D=I[I.length-1],j=i[i.length-1],M=D?(j-D.lower)/(D.upper-D.lower):.5;l={upper:(D==null?void 0:D.upper)||0,middle:(D==null?void 0:D.middle)||0,lower:(D==null?void 0:D.lower)||0,pb:M},c=I.slice(-100);break;case"atr":const U=c2.calculate({high:s,low:o,close:i,period:(r==null?void 0:r.period)||14});l=U[U.length-1]||0,c=U.slice(-100);break;case"adx":const V=l2.calculate({high:s,low:o,close:i,period:(r==null?void 0:r.period)||14}),F=V[V.length-1];l={adx:(F==null?void 0:F.adx)||0,pdi:(F==null?void 0:F.pdi)||0,mdi:(F==null?void 0:F.mdi)||0},c=V.slice(-100);break;case"obv":const z=d2.calculate({close:i,volume:a});l=z[z.length-1]||0,c=z.slice(-100);break;case"vwap":let K=0,H=0;const B=[];for(let $=0;$<e.length;$++){const q=(s[$]+o[$]+i[$])/3;K+=q*a[$],H+=a[$],B.push(H>0?K/H:q)}l=B[B.length-1]||i[i.length-1],c=B.slice(-100);break;case"ichimoku":const A=f2.calculate({high:s,low:o,conversionPeriod:(r==null?void 0:r.conversion)||9,basePeriod:(r==null?void 0:r.base)||26,spanPeriod:(r==null?void 0:r.spanB)||52,displacement:(r==null?void 0:r.displacement)||26}),P=A[A.length-1],R=(r==null?void 0:r.displacement)||26;l={tenkanSen:(P==null?void 0:P.conversion)||0,kijunSen:(P==null?void 0:P.base)||0,senkouSpanA:(P==null?void 0:P.spanA)||0,senkouSpanB:(P==null?void 0:P.spanB)||0,chikouSpan:i[i.length-R]||i[i.length-1]},c=A.slice(-100);break;default:console.warn(`[MarketDataMCP] Unknown indicator: ${n}`)}return{value:l,history:c}}}const no=new Vtt,zn={async getMarketData(t){return await Ft.getMarketData(t)},async getPositions(t){return(await Ft.getUserState(t)).assetPositions},async getOpenOrders(t){return await Ft.getOpenOrders(t)},async getUserFills(t){return await Ft.getUserFills(t)},async createOrder(t,e,n,r,i,s){return await Ft.placeOrder(t,e,n,r,i,s)},async cancelOrder(t,e,n){return await Ft.cancelOrder(t,e,n)},async getUserState(t){return await Ft.getUserState(t)},async updateLeverage(t,e,n,r){return await Ft.updateLeverage(t,e,n,r)},async updateIsolatedMargin(t,e,n,r){return await Ft.updateIsolatedMargin(t,e,n,r)},async closePosition(t,e,n,r="market",i){return await Ft.closePosition(t,e,n,r,i)},async withdrawUSDC(t,e,n){return await Ft.withdrawUSDC(t,e,n)},async getAvailableAssets(){return await Ft.getAllAvailableAssets()},async getAssetDecimals(t){return await Ft.getAssetDecimals(t)},async validateAsset(t){return await Ft.isValidAsset(t)},async getAssetContexts(){return await Ft.getAssetContexts()},async getFundingRate(t){return await Ft.getFundingRate(t)},async getUserFees(t){return await Ft.getUserFees(t)},async getUserFundingHistory(t,e,n){return await Ft.getUserFundingHistory(t,e,n)},calculateBreakevenPrice(t,e,n,r,i,s,o){return Ft.calculateBreakevenPrice(t,e,n,r,i,s,o)}};function fhe(t){for(const[e,n]of Object.entries(K2))if(n.indicators.includes(t))return e;return null}function hhe(t,e){return K2[e].indicators.filter(r=>{var i;return(i=t[r])==null?void 0:i.enabled}).length}function phe(t,e){return hhe(t,e)>=K2[e].maxIndicators}function mhe(t){return Object.values(t).filter(e=>e.enabled).length}function ghe(t){return mhe(t)>=cte}function sX(t,e){var r;if((r=t[e])!=null&&r.enabled)return!0;if(ghe(t))return!1;const n=fhe(e);return!(n&&phe(t,n))}function Gtt(t,e){const r={...e||Tg};for(const i of Object.keys(r))r[i]={...r[i],enabled:!1};if(t!=="custom"){const i=Uu[t];for(const s of i.indicators)r[s]&&(r[s]={...r[s],enabled:!0})}return r}function qtt(t){const e=Object.keys(t).filter(n=>t[n].enabled).sort();for(const[n,r]of Object.entries(Uu)){if(n==="custom")continue;const i=[...r.indicators].sort();if(JSON.stringify(e)===JSON.stringify(i))return n}return"custom"}class Ktt{constructor(){this.userFeesCache=null,this.userFeesCacheTime=0,this.FEES_CACHE_TTL=300*1e3}async getUserFeesFromCache(e){const n=Date.now();if(this.userFeesCache&&n-this.userFeesCacheTime<this.FEES_CACHE_TTL)return this.userFeesCache;if(e)try{const r=await zn.getUserFees(e);return this.userFeesCache={makerFee:r.makerFee,takerFee:r.takerFee},this.userFeesCacheTime=n,this.userFeesCache}catch{console.warn("[DealerMCP] Failed to fetch user fees, using defaults")}return{makerFee:2e-4,takerFee:5e-4}}async getMarketContext(e,n,r="60",i,s=100){var a,l;const o=`${e}USDT`;try{const c=await no.getMarketPrice(o),f=await no.getHistory(o,r,200),m=f.slice(-s);console.log(`[DealerMCP] Fetched ${f.length} candles, using last ${m.length} for history (config: ${s})`);const g={},x=[],v=f.map(H=>({open:H.open,high:H.high,low:H.low,close:H.close,volume:H.volume||0})),w=i?Object.entries(i).filter(([H,B])=>B.enabled).map(([H,B])=>({name:H,params:B.params})):[{name:"rsi",params:{period:14}},{name:"macd",params:{fast:12,slow:26,signal:9}}];for(const{name:H,params:B}of w)try{const A=no.calculateIndicatorFromCandles(v,H,B),P=i==null?void 0:i[H],R=(P==null?void 0:P.weight)??1,$=fhe(H);g[H]={value:A.value,history:A.history,weight:R,category:$},x.push(H)}catch(A){console.warn(`[DealerMCP] Failed to calculate ${H} for ${e}:`,A)}const[E,k,I]=await Promise.all([zn.getFundingRate(e).catch(()=>null),this.getUserFeesFromCache(n),Ft.getOrderBookMetrics(e).catch(()=>null)]),D=(E==null?void 0:E.funding)||0,j=Math.abs(D)*3,M={fundingRate:D,dailyHoldingCost:j},U=((a=g.rsi)==null?void 0:a.history)||[],F=(((l=g.macd)==null?void 0:l.history)||[]).map(H=>(H==null?void 0:H.histogram)||0),z=m.map(H=>H.close),K=no.detectDivergences(z,U,F);return K.length>0&&console.log(`[DealerMCP] Divergences detected for ${e}:`,K.map(H=>`${H.type}(${H.indicator})`).join(", ")),console.log(`[DealerMCP] Context for ${e} (${r}m): Price=${c.price}, Indicators=[${x.join(",")}], Divergences=${K.length}, OrderBook=${I?"OK":"N/A"}`),{symbol:e,currentPrice:c.price,history:m,indicators:g,divergences:K,tradingCosts:M,orderBook:I||void 0,ts:Math.floor(Date.now()/1e3)}}catch(c){return console.error(`[DealerMCP] Failed to gather context for ${e}:`,c),{symbol:e,currentPrice:0,history:[],indicators:{},divergences:[],tradingCosts:{fundingRate:0,dailyHoldingCost:0},error:c.message||"Data unavailable",ts:Math.floor(Date.now()/1e3)}}}calculatePositionBreakevens(e,n,r){return e.map(i=>{var v,w,E,k,I,D,j;const s=((v=i.position)==null?void 0:v.coin)||i.coin,o=parseFloat(((w=i.position)==null?void 0:w.entryPx)||i.entryPx||"0"),a=((k=(E=i.position)==null?void 0:E.leverage)==null?void 0:k.value)||1,c=parseFloat(((I=i.position)==null?void 0:I.szi)||i.szi||"0")>0,u=r.get(s)||0,f=zn.calculateBreakevenPrice(o,a,c,n.makerFee,n.takerFee,u,8),m=parseFloat(((D=i.position)==null?void 0:D.unrealizedPnl)||"0"),g=parseFloat(((j=i.position)==null?void 0:j.positionValue)||"0"),x=g>0?m/g*100:0;return{coin:s,entryPrice:o,breakevenPrice:f.breakevenPrice,minProfitPrice:f.minProfitPrice,currentPnlPercent:x,isAboveBreakeven:m>0}})}async getMacroSnapshot(e,n,r){const i=`${e}USDT`;try{const o=await no.getHistory(i,n,50);if(o.length<20)return console.warn(`[DealerMCP] Insufficient candles for macro ${e}@${n}`),{timeframe:n,indicators:{},ts:Math.floor(Date.now()/1e3)};const a=o.map(u=>({open:u.open,high:u.high,low:u.low,close:u.close,volume:u.volume||0})),l={},c=r?Object.entries(r).filter(([u,f])=>f.enabled).map(([u,f])=>({name:u,params:f.params})):[{name:"rsi",params:{period:14}},{name:"macd",params:{fast:12,slow:26,signal:9}}];for(const{name:u,params:f}of c)try{const m=no.calculateIndicatorFromCandles(a,u,f);l[u]={value:m.value}}catch(m){console.warn(`[DealerMCP] Failed to calc macro ${u} for ${e}:`,m)}return console.log(`[DealerMCP] Macro snapshot for ${e}@${n}: ${Object.keys(l).join(",")}`),{timeframe:n,indicators:l,ts:Math.floor(Date.now()/1e3)}}catch(s){return console.error(`[DealerMCP] Macro snapshot failed for ${e}:`,s),{timeframe:n,indicators:{},ts:Math.floor(Date.now()/1e3)}}}}const K3=new Ktt;var Wtt={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ytt,Jtt;function Xtt(){return{geminiUrl:Ytt,vertexUrl:Jtt}}function Qtt(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const o=Xtt();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cd{}function yt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function C(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const a=o.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let c=0;c<l.length;c++){const u=l[c];C(u,e.slice(s+1),n[c])}else for(const c of l)C(c,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const a=o.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];C(l[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function S(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(a=>S(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Ztt(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),o=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&s.length>a)for(let l=a;l<s.length;l++){const c=s[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&o.add(c)}ND(t,i,s,0,o)}}function ND(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2),a=t;if(o in a&&Array.isArray(a[o]))for(const l of a[o])ND(l,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,a=Object.keys(o).filter(c=>!c.startsWith("_")&&!i.has(c)),l={};for(const c of a)l[c]=o[c];for(const[c,u]of Object.entries(l)){const f=[];for(const m of n.slice(r))m==="*"?f.push(c):f.push(m);C(o,f,u)}for(const c of a)delete o[c]}}else{const o=t;s in o&&ND(o[s],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v7(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ent(t){const e={},n=S(t,["operationName"]);n!=null&&C(e,["operationName"],n);const r=S(t,["resourceName"]);return r!=null&&C(e,["_url","resourceName"],r),e}function tnt(t){const e={},n=S(t,["name"]);n!=null&&C(e,["name"],n);const r=S(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=S(t,["done"]);i!=null&&C(e,["done"],i);const s=S(t,["error"]);s!=null&&C(e,["error"],s);const o=S(t,["response","generateVideoResponse"]);return o!=null&&C(e,["response"],rnt(o)),e}function nnt(t){const e={},n=S(t,["name"]);n!=null&&C(e,["name"],n);const r=S(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=S(t,["done"]);i!=null&&C(e,["done"],i);const s=S(t,["error"]);s!=null&&C(e,["error"],s);const o=S(t,["response"]);return o!=null&&C(e,["response"],int(o)),e}function rnt(t){const e={},n=S(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>snt(o))),C(e,["generatedVideos"],s)}const r=S(t,["raiMediaFilteredCount"]);r!=null&&C(e,["raiMediaFilteredCount"],r);const i=S(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function int(t){const e={},n=S(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>ont(o))),C(e,["generatedVideos"],s)}const r=S(t,["raiMediaFilteredCount"]);r!=null&&C(e,["raiMediaFilteredCount"],r);const i=S(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function snt(t){const e={},n=S(t,["video"]);return n!=null&&C(e,["video"],fnt(n)),e}function ont(t){const e={},n=S(t,["_self"]);return n!=null&&C(e,["video"],hnt(n)),e}function ant(t){const e={},n=S(t,["operationName"]);return n!=null&&C(e,["_url","operationName"],n),e}function lnt(t){const e={},n=S(t,["operationName"]);return n!=null&&C(e,["_url","operationName"],n),e}function cnt(t){const e={},n=S(t,["name"]);n!=null&&C(e,["name"],n);const r=S(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=S(t,["done"]);i!=null&&C(e,["done"],i);const s=S(t,["error"]);s!=null&&C(e,["error"],s);const o=S(t,["response"]);return o!=null&&C(e,["response"],unt(o)),e}function unt(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["parent"]);r!=null&&C(e,["parent"],r);const i=S(t,["documentName"]);return i!=null&&C(e,["documentName"],i),e}function yhe(t){const e={},n=S(t,["name"]);n!=null&&C(e,["name"],n);const r=S(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=S(t,["done"]);i!=null&&C(e,["done"],i);const s=S(t,["error"]);s!=null&&C(e,["error"],s);const o=S(t,["response"]);return o!=null&&C(e,["response"],dnt(o)),e}function dnt(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["parent"]);r!=null&&C(e,["parent"],r);const i=S(t,["documentName"]);return i!=null&&C(e,["documentName"],i),e}function fnt(t){const e={},n=S(t,["uri"]);n!=null&&C(e,["uri"],n);const r=S(t,["encodedVideo"]);r!=null&&C(e,["videoBytes"],v7(r));const i=S(t,["encoding"]);return i!=null&&C(e,["mimeType"],i),e}function hnt(t){const e={},n=S(t,["gcsUri"]);n!=null&&C(e,["uri"],n);const r=S(t,["bytesBase64Encoded"]);r!=null&&C(e,["videoBytes"],v7(r));const i=S(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oX;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(oX||(oX={}));var aX;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(aX||(aX={}));var lX;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(lX||(lX={}));var Be;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Be||(Be={}));var cX;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(cX||(cX={}));var uX;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(uX||(uX={}));var dX;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(dX||(dX={}));var fX;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fX||(fX={}));var hX;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hX||(hX={}));var pX;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(pX||(pX={}));var mX;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(mX||(mX={}));var gX;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(gX||(gX={}));var yX;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(yX||(yX={}));var xX;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(xX||(xX={}));var vX;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(vX||(vX={}));var bX;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(bX||(bX={}));var wX;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(wX||(wX={}));var EX;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(EX||(EX={}));var SX;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(SX||(SX={}));var h2;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(h2||(h2={}));var AX;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(AX||(AX={}));var TX;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(TX||(TX={}));var CX;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(CX||(CX={}));var ID;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ID||(ID={}));var kX;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(kX||(kX={}));var NX;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(NX||(NX={}));var IX;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(IX||(IX={}));var PX;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(PX||(PX={}));var _X;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(_X||(_X={}));var RX;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(RX||(RX={}));var OX;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(OX||(OX={}));var MX;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(MX||(MX={}));var DX;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(DX||(DX={}));var LX;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(LX||(LX={}));var BX;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(BX||(BX={}));var jX;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(jX||(jX={}));var UX;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(UX||(UX={}));var FX;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(FX||(FX={}));var zX;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(zX||(zX={}));var $X;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})($X||($X={}));var HX;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(HX||(HX={}));var VX;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(VX||(VX={}));var GX;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(GX||(GX={}));var qX;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(qX||(qX={}));var KX;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(KX||(KX={}));var WX;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(WX||(WX={}));var YX;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(YX||(YX={}));var JX;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(JX||(JX={}));var XX;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(XX||(XX={}));var QX;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(QX||(QX={}));var ZX;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ZX||(ZX={}));var eQ;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(eQ||(eQ={}));var tQ;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(tQ||(tQ={}));var nQ;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(nQ||(nQ={}));var rQ;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(rQ||(rQ={}));var hg;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(hg||(hg={}));class PD{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class hb{get text(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const f=[];for(const m of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[g,x]of Object.entries(m))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(x!==null||x!==void 0)&&f.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;u=!0,c+=m.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const f of(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[m,g]of Object.entries(f))m!=="inlineData"&&(g!==null||g!==void 0)&&u.push(m);f.inlineData&&typeof f.inlineData.data=="string"&&(c+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,s,o,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,s,o,a,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,s,o,a,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(a=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class iQ{}class sQ{}class pnt{}class mnt{}class gnt{}class ynt{}class oQ{}class aQ{}class lQ{}class xnt{}class p2{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new p2;let i;const s=e;return n?i=nnt(s):i=tnt(s),Object.assign(r,i),r}}class cQ{}class uQ{}class dQ{}class fQ{}class vnt{}class bnt{}class wnt{}class b7{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new b7,s=cnt(e);return Object.assign(r,s),r}}class Ent{}class Snt{}class Ant{}class hQ{}class Tnt{get text(){var e,n,r;let i="",s=!1;const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(a))l!=="text"&&l!=="thought"&&c!==null&&o.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;s=!0,i+=a.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(o))a!=="inlineData"&&l!==null&&s.push(a);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Cnt{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class w7{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new w7,s=yhe(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function xhe(t,e){const n=jn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function vhe(t){return Array.isArray(t)?t.map(e=>m2(e)):[m2(t)]}function m2(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function bhe(t){const e=m2(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function whe(t){const e=m2(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function pQ(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Ehe(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>pQ(e)):[pQ(t)]}function _D(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function mQ(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function gQ(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function vs(t){if(t==null)throw new Error("ContentUnion is required");return _D(t)?t:{role:"user",parts:Ehe(t)}}function E7(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=vs(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=vs(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>vs(n)):[vs(e)]}function Ia(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(mQ(t)||gQ(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vs(t)]}const e=[],n=[],r=_D(t[0]);for(const i of t){const s=_D(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(mQ(i)||gQ(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Ehe(n)}),e}function knt(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Be).includes(n[0].toUpperCase())?n[0].toUpperCase():Be.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Be).includes(r.toUpperCase())?r.toUpperCase():Be.TYPE_UNSPECIFIED})}}function zg(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&knt(t.type,e);for(const[o,a]of Object.entries(t))if(a!=null)if(o=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Be).includes(a.toUpperCase())?a.toUpperCase():Be.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=zg(a);else if(r.includes(o)){const l=[];for(const c of a){if(c.type=="null"){e.nullable=!0;continue}l.push(zg(c))}e[o]=l}else if(i.includes(o)){const l={};for(const[c,u]of Object.entries(a))l[c]=zg(u);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=a}return e}function S7(t){return zg(t)}function A7(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function T7(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Kx(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=zg(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=zg(e.response));return t}function Wx(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Nnt(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function kd(t,e){if(typeof e!="string")throw new Error("name must be a string");return Nnt(t,e,"cachedContents")}function She(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Sh(t){return v7(t)}function Int(t){return t!=null&&typeof t=="object"&&"name"in t}function Pnt(t){return t!=null&&typeof t=="object"&&"video"in t}function _nt(t){return t!=null&&typeof t=="object"&&"uri"in t}function Ahe(t){var e;let n;if(Int(t)&&(n=t.name),!(_nt(t)&&(n=t.uri,n===void 0))&&!(Pnt(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function The(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Che(t){for(const e of["models","tunedModels","publisherModels"])if(Rnt(t,e))return t[e];return[]}function Rnt(t,e){return t!==null&&typeof t=="object"&&e in t}function Ont(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Mnt(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=Ont(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function khe(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Dnt(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Nhe(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Yx(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Ihe(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lnt(t){const e={},n=S(t,["responsesFile"]);n!=null&&C(e,["fileName"],n);const r=S(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>grt(o))),C(e,["inlinedResponses"],s)}const i=S(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),C(e,["inlinedEmbedContentResponses"],s)}return e}function Bnt(t){const e={},n=S(t,["predictionsFormat"]);n!=null&&C(e,["format"],n);const r=S(t,["gcsDestination","outputUriPrefix"]);r!=null&&C(e,["gcsUri"],r);const i=S(t,["bigqueryDestination","outputUri"]);return i!=null&&C(e,["bigqueryUri"],i),e}function jnt(t){const e={},n=S(t,["format"]);n!=null&&C(e,["predictionsFormat"],n);const r=S(t,["gcsUri"]);r!=null&&C(e,["gcsDestination","outputUriPrefix"],r);const i=S(t,["bigqueryUri"]);if(i!=null&&C(e,["bigqueryDestination","outputUri"],i),S(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(S(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(S(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function yT(t){const e={},n=S(t,["name"]);n!=null&&C(e,["name"],n);const r=S(t,["metadata","displayName"]);r!=null&&C(e,["displayName"],r);const i=S(t,["metadata","state"]);i!=null&&C(e,["state"],Ihe(i));const s=S(t,["metadata","createTime"]);s!=null&&C(e,["createTime"],s);const o=S(t,["metadata","endTime"]);o!=null&&C(e,["endTime"],o);const a=S(t,["metadata","updateTime"]);a!=null&&C(e,["updateTime"],a);const l=S(t,["metadata","model"]);l!=null&&C(e,["model"],l);const c=S(t,["metadata","output"]);return c!=null&&C(e,["dest"],Lnt(Nhe(c))),e}function RD(t){const e={},n=S(t,["name"]);n!=null&&C(e,["name"],n);const r=S(t,["displayName"]);r!=null&&C(e,["displayName"],r);const i=S(t,["state"]);i!=null&&C(e,["state"],Ihe(i));const s=S(t,["error"]);s!=null&&C(e,["error"],s);const o=S(t,["createTime"]);o!=null&&C(e,["createTime"],o);const a=S(t,["startTime"]);a!=null&&C(e,["startTime"],a);const l=S(t,["endTime"]);l!=null&&C(e,["endTime"],l);const c=S(t,["updateTime"]);c!=null&&C(e,["updateTime"],c);const u=S(t,["model"]);u!=null&&C(e,["model"],u);const f=S(t,["inputConfig"]);f!=null&&C(e,["src"],Unt(f));const m=S(t,["outputConfig"]);m!=null&&C(e,["dest"],Bnt(Nhe(m)));const g=S(t,["completionStats"]);return g!=null&&C(e,["completionStats"],g),e}function Unt(t){const e={},n=S(t,["instancesFormat"]);n!=null&&C(e,["format"],n);const r=S(t,["gcsSource","uris"]);r!=null&&C(e,["gcsUri"],r);const i=S(t,["bigquerySource","inputUri"]);return i!=null&&C(e,["bigqueryUri"],i),e}function Fnt(t,e){const n={};if(S(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(S(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(S(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=S(e,["fileName"]);r!=null&&C(n,["fileName"],r);const i=S(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>mrt(t,o))),C(n,["requests","requests"],s)}return n}function znt(t){const e={},n=S(t,["format"]);n!=null&&C(e,["instancesFormat"],n);const r=S(t,["gcsUri"]);r!=null&&C(e,["gcsSource","uris"],r);const i=S(t,["bigqueryUri"]);if(i!=null&&C(e,["bigquerySource","inputUri"],i),S(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(S(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function $nt(t){const e={},n=S(t,["data"]);if(n!=null&&C(e,["data"],n),S(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=S(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function Hnt(t,e){const n={},r=S(e,["name"]);return r!=null&&C(n,["_url","name"],Yx(t,r)),n}function Vnt(t,e){const n={},r=S(e,["name"]);return r!=null&&C(n,["_url","name"],Yx(t,r)),n}function Gnt(t){const e={},n=S(t,["content"]);n!=null&&C(e,["content"],n);const r=S(t,["citationMetadata"]);r!=null&&C(e,["citationMetadata"],qnt(r));const i=S(t,["tokenCount"]);i!=null&&C(e,["tokenCount"],i);const s=S(t,["finishReason"]);s!=null&&C(e,["finishReason"],s);const o=S(t,["avgLogprobs"]);o!=null&&C(e,["avgLogprobs"],o);const a=S(t,["groundingMetadata"]);a!=null&&C(e,["groundingMetadata"],a);const l=S(t,["index"]);l!=null&&C(e,["index"],l);const c=S(t,["logprobsResult"]);c!=null&&C(e,["logprobsResult"],c);const u=S(t,["safetyRatings"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>g)),C(e,["safetyRatings"],m)}const f=S(t,["urlContextMetadata"]);return f!=null&&C(e,["urlContextMetadata"],f),e}function qnt(t){const e={},n=S(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),C(e,["citations"],r)}return e}function Phe(t){const e={},n=S(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Srt(s))),C(e,["parts"],i)}const r=S(t,["role"]);return r!=null&&C(e,["role"],r),e}function Knt(t,e){const n={},r=S(t,["displayName"]);if(e!==void 0&&r!=null&&C(e,["batch","displayName"],r),S(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Wnt(t,e){const n={},r=S(t,["displayName"]);e!==void 0&&r!=null&&C(e,["displayName"],r);const i=S(t,["dest"]);return e!==void 0&&i!=null&&C(e,["outputConfig"],jnt(Dnt(i))),n}function yQ(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["src"]);i!=null&&C(n,["batch","inputConfig"],Fnt(t,khe(t,i)));const s=S(e,["config"]);return s!=null&&Knt(s,n),n}function Ynt(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["model"],jn(t,r));const i=S(e,["src"]);i!=null&&C(n,["inputConfig"],znt(khe(t,i)));const s=S(e,["config"]);return s!=null&&Wnt(s,n),n}function Jnt(t,e){const n={},r=S(t,["displayName"]);return e!==void 0&&r!=null&&C(e,["batch","displayName"],r),n}function Xnt(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["src"]);i!=null&&C(n,["batch","inputConfig"],irt(t,i));const s=S(e,["config"]);return s!=null&&Jnt(s,n),n}function Qnt(t,e){const n={},r=S(e,["name"]);return r!=null&&C(n,["_url","name"],Yx(t,r)),n}function Znt(t,e){const n={},r=S(e,["name"]);return r!=null&&C(n,["_url","name"],Yx(t,r)),n}function ert(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["name"]);r!=null&&C(e,["name"],r);const i=S(t,["done"]);i!=null&&C(e,["done"],i);const s=S(t,["error"]);return s!=null&&C(e,["error"],s),e}function trt(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["name"]);r!=null&&C(e,["name"],r);const i=S(t,["done"]);i!=null&&C(e,["done"],i);const s=S(t,["error"]);return s!=null&&C(e,["error"],s),e}function nrt(t,e){const n={},r=S(e,["contents"]);if(r!=null){let s=E7(t,r);Array.isArray(s)&&(s=s.map(o=>o)),C(n,["requests[]","request","content"],s)}const i=S(e,["config"]);return i!=null&&(C(n,["_self"],rrt(i,n)),Ztt(n,{"requests[].*":"requests[].request.*"})),n}function rrt(t,e){const n={},r=S(t,["taskType"]);e!==void 0&&r!=null&&C(e,["requests[]","taskType"],r);const i=S(t,["title"]);e!==void 0&&i!=null&&C(e,["requests[]","title"],i);const s=S(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&C(e,["requests[]","outputDimensionality"],s),S(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(S(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function irt(t,e){const n={},r=S(e,["fileName"]);r!=null&&C(n,["file_name"],r);const i=S(e,["inlinedRequests"]);return i!=null&&C(n,["requests"],nrt(t,i)),n}function srt(t){const e={};if(S(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=S(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=S(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function ort(t){const e={},n=S(t,["id"]);n!=null&&C(e,["id"],n);const r=S(t,["args"]);r!=null&&C(e,["args"],r);const i=S(t,["name"]);if(i!=null&&C(e,["name"],i),S(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(S(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function art(t){const e={},n=S(t,["mode"]);n!=null&&C(e,["mode"],n);const r=S(t,["allowedFunctionNames"]);if(r!=null&&C(e,["allowedFunctionNames"],r),S(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function lrt(t,e,n){const r={},i=S(e,["systemInstruction"]);n!==void 0&&i!=null&&C(n,["systemInstruction"],Phe(vs(i)));const s=S(e,["temperature"]);s!=null&&C(r,["temperature"],s);const o=S(e,["topP"]);o!=null&&C(r,["topP"],o);const a=S(e,["topK"]);a!=null&&C(r,["topK"],a);const l=S(e,["candidateCount"]);l!=null&&C(r,["candidateCount"],l);const c=S(e,["maxOutputTokens"]);c!=null&&C(r,["maxOutputTokens"],c);const u=S(e,["stopSequences"]);u!=null&&C(r,["stopSequences"],u);const f=S(e,["responseLogprobs"]);f!=null&&C(r,["responseLogprobs"],f);const m=S(e,["logprobs"]);m!=null&&C(r,["logprobs"],m);const g=S(e,["presencePenalty"]);g!=null&&C(r,["presencePenalty"],g);const x=S(e,["frequencyPenalty"]);x!=null&&C(r,["frequencyPenalty"],x);const v=S(e,["seed"]);v!=null&&C(r,["seed"],v);const w=S(e,["responseMimeType"]);w!=null&&C(r,["responseMimeType"],w);const E=S(e,["responseSchema"]);E!=null&&C(r,["responseSchema"],S7(E));const k=S(e,["responseJsonSchema"]);if(k!=null&&C(r,["responseJsonSchema"],k),S(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(S(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=S(e,["safetySettings"]);if(n!==void 0&&I!=null){let B=I;Array.isArray(B)&&(B=B.map(A=>Art(A))),C(n,["safetySettings"],B)}const D=S(e,["tools"]);if(n!==void 0&&D!=null){let B=Wx(D);Array.isArray(B)&&(B=B.map(A=>Crt(Kx(A)))),C(n,["tools"],B)}const j=S(e,["toolConfig"]);if(n!==void 0&&j!=null&&C(n,["toolConfig"],Trt(j)),S(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=S(e,["cachedContent"]);n!==void 0&&M!=null&&C(n,["cachedContent"],kd(t,M));const U=S(e,["responseModalities"]);U!=null&&C(r,["responseModalities"],U);const V=S(e,["mediaResolution"]);V!=null&&C(r,["mediaResolution"],V);const F=S(e,["speechConfig"]);if(F!=null&&C(r,["speechConfig"],A7(F)),S(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=S(e,["thinkingConfig"]);z!=null&&C(r,["thinkingConfig"],z);const K=S(e,["imageConfig"]);K!=null&&C(r,["imageConfig"],prt(K));const H=S(e,["enableEnhancedCivicAnswers"]);return H!=null&&C(r,["enableEnhancedCivicAnswers"],H),r}function crt(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Gnt(c))),C(e,["candidates"],l)}const i=S(t,["modelVersion"]);i!=null&&C(e,["modelVersion"],i);const s=S(t,["promptFeedback"]);s!=null&&C(e,["promptFeedback"],s);const o=S(t,["responseId"]);o!=null&&C(e,["responseId"],o);const a=S(t,["usageMetadata"]);return a!=null&&C(e,["usageMetadata"],a),e}function urt(t,e){const n={},r=S(e,["name"]);return r!=null&&C(n,["_url","name"],Yx(t,r)),n}function drt(t,e){const n={},r=S(e,["name"]);return r!=null&&C(n,["_url","name"],Yx(t,r)),n}function frt(t){const e={};if(S(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=S(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function hrt(t){const e={};if(S(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(S(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=S(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function prt(t){const e={},n=S(t,["aspectRatio"]);n!=null&&C(e,["aspectRatio"],n);const r=S(t,["imageSize"]);if(r!=null&&C(e,["imageSize"],r),S(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(S(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function mrt(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["request","model"],jn(t,r));const i=S(e,["contents"]);if(i!=null){let a=Ia(i);Array.isArray(a)&&(a=a.map(l=>Phe(l))),C(n,["request","contents"],a)}const s=S(e,["metadata"]);s!=null&&C(n,["metadata"],s);const o=S(e,["config"]);return o!=null&&C(n,["request","generationConfig"],lrt(t,o,S(n,["request"],{}))),n}function grt(t){const e={},n=S(t,["response"]);n!=null&&C(e,["response"],crt(n));const r=S(t,["error"]);return r!=null&&C(e,["error"],r),e}function yrt(t,e){const n={},r=S(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=S(t,["pageToken"]);if(e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),S(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function xrt(t,e){const n={},r=S(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=S(t,["pageToken"]);e!==void 0&&i!=null&&C(e,["_query","pageToken"],i);const s=S(t,["filter"]);return e!==void 0&&s!=null&&C(e,["_query","filter"],s),n}function vrt(t){const e={},n=S(t,["config"]);return n!=null&&yrt(n,e),e}function brt(t){const e={},n=S(t,["config"]);return n!=null&&xrt(n,e),e}function wrt(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=S(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>yT(o))),C(e,["batchJobs"],s)}return e}function Ert(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=S(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>RD(o))),C(e,["batchJobs"],s)}return e}function Srt(t){const e={},n=S(t,["mediaResolution"]);n!=null&&C(e,["mediaResolution"],n);const r=S(t,["codeExecutionResult"]);r!=null&&C(e,["codeExecutionResult"],r);const i=S(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const s=S(t,["fileData"]);s!=null&&C(e,["fileData"],srt(s));const o=S(t,["functionCall"]);o!=null&&C(e,["functionCall"],ort(o));const a=S(t,["functionResponse"]);a!=null&&C(e,["functionResponse"],a);const l=S(t,["inlineData"]);l!=null&&C(e,["inlineData"],$nt(l));const c=S(t,["text"]);c!=null&&C(e,["text"],c);const u=S(t,["thought"]);u!=null&&C(e,["thought"],u);const f=S(t,["thoughtSignature"]);f!=null&&C(e,["thoughtSignature"],f);const m=S(t,["videoMetadata"]);return m!=null&&C(e,["videoMetadata"],m),e}function Art(t){const e={},n=S(t,["category"]);if(n!=null&&C(e,["category"],n),S(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=S(t,["threshold"]);return r!=null&&C(e,["threshold"],r),e}function Trt(t){const e={},n=S(t,["functionCallingConfig"]);n!=null&&C(e,["functionCallingConfig"],art(n));const r=S(t,["retrievalConfig"]);return r!=null&&C(e,["retrievalConfig"],r),e}function Crt(t){const e={},n=S(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>f)),C(e,["functionDeclarations"],u)}if(S(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=S(t,["googleSearchRetrieval"]);r!=null&&C(e,["googleSearchRetrieval"],r);const i=S(t,["computerUse"]);i!=null&&C(e,["computerUse"],i);const s=S(t,["fileSearch"]);s!=null&&C(e,["fileSearch"],s);const o=S(t,["codeExecution"]);if(o!=null&&C(e,["codeExecution"],o),S(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=S(t,["googleMaps"]);a!=null&&C(e,["googleMaps"],frt(a));const l=S(t,["googleSearch"]);l!=null&&C(e,["googleSearch"],hrt(l));const c=S(t,["urlContext"]);return c!=null&&C(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hd;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(hd||(hd={}));class jm{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class krt extends Cd{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jm(hd.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=yQ(this.apiClient,e),r=n._url,i=yt("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,c=[];for(const u of l){const f=Object.assign({},u);if(f.systemInstruction){const m=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=m,f.request=g}c.push(f)}return a.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Ynt(this.apiClient,e);return a=yt("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>RD(u))}else{const c=yQ(this.apiClient,e);return a=yt("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>yT(u))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Xnt(this.apiClient,e);return s=yt("{model}:asyncBatchEmbedContent",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>yT(l))}}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=drt(this.apiClient,e);return a=yt("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>RD(u))}else{const c=urt(this.apiClient,e);return a=yt("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>yT(u))}}async cancel(e){var n,r,i,s;let o="",a={};if(this.apiClient.isVertexAI()){const l=Vnt(this.apiClient,e);o=yt("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Hnt(this.apiClient,e);o=yt("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=brt(e);return a=yt("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=Ert(u),m=new hQ;return Object.assign(m,f),m})}else{const c=vrt(e);return a=yt("batches",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=wrt(u),m=new hQ;return Object.assign(m,f),m})}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Znt(this.apiClient,e);return a=yt("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>trt(u))}else{const c=Qnt(this.apiClient,e);return a=yt("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>ert(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nrt(t){const e={},n=S(t,["data"]);if(n!=null&&C(e,["data"],n),S(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=S(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function xQ(t){const e={},n=S(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Xrt(s))),C(e,["parts"],i)}const r=S(t,["role"]);return r!=null&&C(e,["role"],r),e}function Irt(t,e){const n={},r=S(t,["ttl"]);e!==void 0&&r!=null&&C(e,["ttl"],r);const i=S(t,["expireTime"]);e!==void 0&&i!=null&&C(e,["expireTime"],i);const s=S(t,["displayName"]);e!==void 0&&s!=null&&C(e,["displayName"],s);const o=S(t,["contents"]);if(e!==void 0&&o!=null){let u=Ia(o);Array.isArray(u)&&(u=u.map(f=>xQ(f))),C(e,["contents"],u)}const a=S(t,["systemInstruction"]);e!==void 0&&a!=null&&C(e,["systemInstruction"],xQ(vs(a)));const l=S(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Zrt(f))),C(e,["tools"],u)}const c=S(t,["toolConfig"]);if(e!==void 0&&c!=null&&C(e,["toolConfig"],Qrt(c)),S(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Prt(t,e){const n={},r=S(t,["ttl"]);e!==void 0&&r!=null&&C(e,["ttl"],r);const i=S(t,["expireTime"]);e!==void 0&&i!=null&&C(e,["expireTime"],i);const s=S(t,["displayName"]);e!==void 0&&s!=null&&C(e,["displayName"],s);const o=S(t,["contents"]);if(e!==void 0&&o!=null){let f=Ia(o);Array.isArray(f)&&(f=f.map(m=>m)),C(e,["contents"],f)}const a=S(t,["systemInstruction"]);e!==void 0&&a!=null&&C(e,["systemInstruction"],vs(a));const l=S(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>eit(m))),C(e,["tools"],f)}const c=S(t,["toolConfig"]);e!==void 0&&c!=null&&C(e,["toolConfig"],c);const u=S(t,["kmsKeyName"]);return e!==void 0&&u!=null&&C(e,["encryption_spec","kmsKeyName"],u),n}function _rt(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["model"],xhe(t,r));const i=S(e,["config"]);return i!=null&&Irt(i,n),n}function Rrt(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["model"],xhe(t,r));const i=S(e,["config"]);return i!=null&&Prt(i,n),n}function Ort(t,e){const n={},r=S(e,["name"]);return r!=null&&C(n,["_url","name"],kd(t,r)),n}function Mrt(t,e){const n={},r=S(e,["name"]);return r!=null&&C(n,["_url","name"],kd(t,r)),n}function Drt(t){const e={},n=S(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function Lrt(t){const e={},n=S(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function Brt(t){const e={};if(S(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=S(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=S(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function jrt(t){const e={},n=S(t,["id"]);n!=null&&C(e,["id"],n);const r=S(t,["args"]);r!=null&&C(e,["args"],r);const i=S(t,["name"]);if(i!=null&&C(e,["name"],i),S(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(S(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Urt(t){const e={},n=S(t,["mode"]);n!=null&&C(e,["mode"],n);const r=S(t,["allowedFunctionNames"]);if(r!=null&&C(e,["allowedFunctionNames"],r),S(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Frt(t){const e={};if(S(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=S(t,["description"]);n!=null&&C(e,["description"],n);const r=S(t,["name"]);r!=null&&C(e,["name"],r);const i=S(t,["parameters"]);i!=null&&C(e,["parameters"],i);const s=S(t,["parametersJsonSchema"]);s!=null&&C(e,["parametersJsonSchema"],s);const o=S(t,["response"]);o!=null&&C(e,["response"],o);const a=S(t,["responseJsonSchema"]);return a!=null&&C(e,["responseJsonSchema"],a),e}function zrt(t,e){const n={},r=S(e,["name"]);return r!=null&&C(n,["_url","name"],kd(t,r)),n}function $rt(t,e){const n={},r=S(e,["name"]);return r!=null&&C(n,["_url","name"],kd(t,r)),n}function Hrt(t){const e={};if(S(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=S(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function Vrt(t){const e={};if(S(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(S(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=S(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function Grt(t,e){const n={},r=S(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=S(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),n}function qrt(t,e){const n={},r=S(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=S(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),n}function Krt(t){const e={},n=S(t,["config"]);return n!=null&&Grt(n,e),e}function Wrt(t){const e={},n=S(t,["config"]);return n!=null&&qrt(n,e),e}function Yrt(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=S(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),C(e,["cachedContents"],s)}return e}function Jrt(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=S(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),C(e,["cachedContents"],s)}return e}function Xrt(t){const e={},n=S(t,["mediaResolution"]);n!=null&&C(e,["mediaResolution"],n);const r=S(t,["codeExecutionResult"]);r!=null&&C(e,["codeExecutionResult"],r);const i=S(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const s=S(t,["fileData"]);s!=null&&C(e,["fileData"],Brt(s));const o=S(t,["functionCall"]);o!=null&&C(e,["functionCall"],jrt(o));const a=S(t,["functionResponse"]);a!=null&&C(e,["functionResponse"],a);const l=S(t,["inlineData"]);l!=null&&C(e,["inlineData"],Nrt(l));const c=S(t,["text"]);c!=null&&C(e,["text"],c);const u=S(t,["thought"]);u!=null&&C(e,["thought"],u);const f=S(t,["thoughtSignature"]);f!=null&&C(e,["thoughtSignature"],f);const m=S(t,["videoMetadata"]);return m!=null&&C(e,["videoMetadata"],m),e}function Qrt(t){const e={},n=S(t,["functionCallingConfig"]);n!=null&&C(e,["functionCallingConfig"],Urt(n));const r=S(t,["retrievalConfig"]);return r!=null&&C(e,["retrievalConfig"],r),e}function Zrt(t){const e={},n=S(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>f)),C(e,["functionDeclarations"],u)}if(S(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=S(t,["googleSearchRetrieval"]);r!=null&&C(e,["googleSearchRetrieval"],r);const i=S(t,["computerUse"]);i!=null&&C(e,["computerUse"],i);const s=S(t,["fileSearch"]);s!=null&&C(e,["fileSearch"],s);const o=S(t,["codeExecution"]);if(o!=null&&C(e,["codeExecution"],o),S(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=S(t,["googleMaps"]);a!=null&&C(e,["googleMaps"],Hrt(a));const l=S(t,["googleSearch"]);l!=null&&C(e,["googleSearch"],Vrt(l));const c=S(t,["urlContext"]);return c!=null&&C(e,["urlContext"],c),e}function eit(t){const e={},n=S(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>Frt(m))),C(e,["functionDeclarations"],f)}const r=S(t,["retrieval"]);r!=null&&C(e,["retrieval"],r);const i=S(t,["googleSearchRetrieval"]);i!=null&&C(e,["googleSearchRetrieval"],i);const s=S(t,["computerUse"]);if(s!=null&&C(e,["computerUse"],s),S(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=S(t,["codeExecution"]);o!=null&&C(e,["codeExecution"],o);const a=S(t,["enterpriseWebSearch"]);a!=null&&C(e,["enterpriseWebSearch"],a);const l=S(t,["googleMaps"]);l!=null&&C(e,["googleMaps"],l);const c=S(t,["googleSearch"]);c!=null&&C(e,["googleSearch"],c);const u=S(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}function tit(t,e){const n={},r=S(t,["ttl"]);e!==void 0&&r!=null&&C(e,["ttl"],r);const i=S(t,["expireTime"]);return e!==void 0&&i!=null&&C(e,["expireTime"],i),n}function nit(t,e){const n={},r=S(t,["ttl"]);e!==void 0&&r!=null&&C(e,["ttl"],r);const i=S(t,["expireTime"]);return e!==void 0&&i!=null&&C(e,["expireTime"],i),n}function rit(t,e){const n={},r=S(e,["name"]);r!=null&&C(n,["_url","name"],kd(t,r));const i=S(e,["config"]);return i!=null&&tit(i,n),n}function iit(t,e){const n={},r=S(e,["name"]);r!=null&&C(n,["_url","name"],kd(t,r));const i=S(e,["config"]);return i!=null&&nit(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sit extends Cd{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jm(hd.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Rrt(this.apiClient,e);return a=yt("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}else{const c=_rt(this.apiClient,e);return a=yt("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=$rt(this.apiClient,e);return a=yt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}else{const c=zrt(this.apiClient,e);return a=yt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Mrt(this.apiClient,e);return a=yt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=Lrt(u),m=new dQ;return Object.assign(m,f),m})}else{const c=Ort(this.apiClient,e);return a=yt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=Drt(u),m=new dQ;return Object.assign(m,f),m})}}async update(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=iit(this.apiClient,e);return a=yt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}else{const c=rit(this.apiClient,e);return a=yt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Wrt(e);return a=yt("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=Jrt(u),m=new fQ;return Object.assign(m,f),m})}else{const c=Krt(e);return a=yt("cachedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=Yrt(u),m=new fQ;return Object.assign(m,f),m})}}}function g2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vQ(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zt(t){return this instanceof Zt?(this.v=t,this):new Zt(t)}function fl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(x){return Promise.resolve(x).then(g,f)}}function a(g,x){r[g]&&(i[g]=function(v){return new Promise(function(w,E){s.push([g,v,w,E])>1||l(g,v)})},x&&(i[g]=x(i[g])))}function l(g,x){try{c(r[g](x))}catch(v){m(s[0][3],v)}}function c(g){g.value instanceof Zt?Promise.resolve(g.value.v).then(u,f):m(s[0][2],g)}function u(g){l("next",g)}function f(g){l("throw",g)}function m(g,x){g(x),s.shift(),s.length&&l(s[0][0],s[0][1])}}function hl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vQ=="function"?vQ(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oit(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:_he(n)}function _he(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ait(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function bQ(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!_he(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class lit{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new cit(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class cit{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),ait(s)}async sendMessage(e){var n;await this.sendPromise;const r=vs(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,a;const l=await i,c=(o=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,u=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let m=[];u!=null&&(m=(a=u.slice(f))!==null&&a!==void 0?a:[]);const g=c?[c]:[];this.recordHistory(r,g,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=vs(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?bQ(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return fl(this,arguments,function*(){var i,s,o,a,l,c;const u=[];try{for(var f=!0,m=hl(e),g;g=yield Zt(m.next()),i=g.done,!i;f=!0){a=g.value,f=!1;const x=a;if(oit(x)){const v=(c=(l=x.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;v!==void 0&&u.push(v)}yield yield Zt(x)}}catch(x){s={error:x}}finally{try{!f&&!i&&(o=m.return)&&(yield Zt(o.call(m)))}finally{if(s)throw s.error}}this.recordHistory(n,u)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...bQ(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PN extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,PN.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uit(t){const e={},n=S(t,["file"]);return n!=null&&C(e,["file"],n),e}function dit(t){const e={},n=S(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function fit(t){const e={},n=S(t,["name"]);return n!=null&&C(e,["_url","file"],Ahe(n)),e}function hit(t){const e={},n=S(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function pit(t){const e={},n=S(t,["name"]);return n!=null&&C(e,["_url","file"],Ahe(n)),e}function mit(t,e){const n={},r=S(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=S(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),n}function git(t){const e={},n=S(t,["config"]);return n!=null&&mit(n,e),e}function yit(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=S(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),C(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xit extends Cd{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jm(hd.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=git(e);return s=yt("files",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=yit(l),u=new Ent;return Object.assign(u,c),u})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=uit(e);return s=yt("upload/v1beta/files",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=dit(l),u=new Snt;return Object.assign(u,c),u})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pit(e);return s=yt("files/{file}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=fit(e);return s=yt("files/{file}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=hit(l),u=new Ant;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xT(t){const e={},n=S(t,["data"]);if(n!=null&&C(e,["data"],n),S(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=S(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function vit(t){const e={},n=S(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Dit(s))),C(e,["parts"],i)}const r=S(t,["role"]);return r!=null&&C(e,["role"],r),e}function bit(t){const e={};if(S(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=S(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=S(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function wit(t){const e={},n=S(t,["id"]);n!=null&&C(e,["id"],n);const r=S(t,["args"]);r!=null&&C(e,["args"],r);const i=S(t,["name"]);if(i!=null&&C(e,["name"],i),S(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(S(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Eit(t){const e={};if(S(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=S(t,["description"]);n!=null&&C(e,["description"],n);const r=S(t,["name"]);r!=null&&C(e,["name"],r);const i=S(t,["parameters"]);i!=null&&C(e,["parameters"],i);const s=S(t,["parametersJsonSchema"]);s!=null&&C(e,["parametersJsonSchema"],s);const o=S(t,["response"]);o!=null&&C(e,["response"],o);const a=S(t,["responseJsonSchema"]);return a!=null&&C(e,["responseJsonSchema"],a),e}function Sit(t){const e={},n=S(t,["modelSelectionConfig"]);n!=null&&C(e,["modelConfig"],n);const r=S(t,["responseJsonSchema"]);r!=null&&C(e,["responseJsonSchema"],r);const i=S(t,["audioTimestamp"]);i!=null&&C(e,["audioTimestamp"],i);const s=S(t,["candidateCount"]);s!=null&&C(e,["candidateCount"],s);const o=S(t,["enableAffectiveDialog"]);o!=null&&C(e,["enableAffectiveDialog"],o);const a=S(t,["frequencyPenalty"]);a!=null&&C(e,["frequencyPenalty"],a);const l=S(t,["logprobs"]);l!=null&&C(e,["logprobs"],l);const c=S(t,["maxOutputTokens"]);c!=null&&C(e,["maxOutputTokens"],c);const u=S(t,["mediaResolution"]);u!=null&&C(e,["mediaResolution"],u);const f=S(t,["presencePenalty"]);f!=null&&C(e,["presencePenalty"],f);const m=S(t,["responseLogprobs"]);m!=null&&C(e,["responseLogprobs"],m);const g=S(t,["responseMimeType"]);g!=null&&C(e,["responseMimeType"],g);const x=S(t,["responseModalities"]);x!=null&&C(e,["responseModalities"],x);const v=S(t,["responseSchema"]);v!=null&&C(e,["responseSchema"],v);const w=S(t,["routingConfig"]);w!=null&&C(e,["routingConfig"],w);const E=S(t,["seed"]);E!=null&&C(e,["seed"],E);const k=S(t,["speechConfig"]);k!=null&&C(e,["speechConfig"],k);const I=S(t,["stopSequences"]);I!=null&&C(e,["stopSequences"],I);const D=S(t,["temperature"]);D!=null&&C(e,["temperature"],D);const j=S(t,["thinkingConfig"]);j!=null&&C(e,["thinkingConfig"],j);const M=S(t,["topK"]);M!=null&&C(e,["topK"],M);const U=S(t,["topP"]);if(U!=null&&C(e,["topP"],U),S(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Ait(t){const e={};if(S(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=S(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function Tit(t){const e={};if(S(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(S(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=S(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function Cit(t,e){const n={},r=S(t,["generationConfig"]);e!==void 0&&r!=null&&C(e,["setup","generationConfig"],r);const i=S(t,["responseModalities"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig","responseModalities"],i);const s=S(t,["temperature"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig","temperature"],s);const o=S(t,["topP"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","topP"],o);const a=S(t,["topK"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","topK"],a);const l=S(t,["maxOutputTokens"]);e!==void 0&&l!=null&&C(e,["setup","generationConfig","maxOutputTokens"],l);const c=S(t,["mediaResolution"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","mediaResolution"],c);const u=S(t,["seed"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","seed"],u);const f=S(t,["speechConfig"]);e!==void 0&&f!=null&&C(e,["setup","generationConfig","speechConfig"],T7(f));const m=S(t,["thinkingConfig"]);e!==void 0&&m!=null&&C(e,["setup","generationConfig","thinkingConfig"],m);const g=S(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=S(t,["systemInstruction"]);e!==void 0&&x!=null&&C(e,["setup","systemInstruction"],vit(vs(x)));const v=S(t,["tools"]);if(e!==void 0&&v!=null){let M=Wx(v);Array.isArray(M)&&(M=M.map(U=>Bit(Kx(U)))),C(e,["setup","tools"],M)}const w=S(t,["sessionResumption"]);e!==void 0&&w!=null&&C(e,["setup","sessionResumption"],Lit(w));const E=S(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&C(e,["setup","inputAudioTranscription"],E);const k=S(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&C(e,["setup","outputAudioTranscription"],k);const I=S(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&C(e,["setup","realtimeInputConfig"],I);const D=S(t,["contextWindowCompression"]);e!==void 0&&D!=null&&C(e,["setup","contextWindowCompression"],D);const j=S(t,["proactivity"]);if(e!==void 0&&j!=null&&C(e,["setup","proactivity"],j),S(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function kit(t,e){const n={},r=S(t,["generationConfig"]);e!==void 0&&r!=null&&C(e,["setup","generationConfig"],Sit(r));const i=S(t,["responseModalities"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig","responseModalities"],i);const s=S(t,["temperature"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig","temperature"],s);const o=S(t,["topP"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","topP"],o);const a=S(t,["topK"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","topK"],a);const l=S(t,["maxOutputTokens"]);e!==void 0&&l!=null&&C(e,["setup","generationConfig","maxOutputTokens"],l);const c=S(t,["mediaResolution"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","mediaResolution"],c);const u=S(t,["seed"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","seed"],u);const f=S(t,["speechConfig"]);e!==void 0&&f!=null&&C(e,["setup","generationConfig","speechConfig"],T7(f));const m=S(t,["thinkingConfig"]);e!==void 0&&m!=null&&C(e,["setup","generationConfig","thinkingConfig"],m);const g=S(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=S(t,["systemInstruction"]);e!==void 0&&x!=null&&C(e,["setup","systemInstruction"],vs(x));const v=S(t,["tools"]);if(e!==void 0&&v!=null){let U=Wx(v);Array.isArray(U)&&(U=U.map(V=>jit(Kx(V)))),C(e,["setup","tools"],U)}const w=S(t,["sessionResumption"]);e!==void 0&&w!=null&&C(e,["setup","sessionResumption"],w);const E=S(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&C(e,["setup","inputAudioTranscription"],E);const k=S(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&C(e,["setup","outputAudioTranscription"],k);const I=S(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&C(e,["setup","realtimeInputConfig"],I);const D=S(t,["contextWindowCompression"]);e!==void 0&&D!=null&&C(e,["setup","contextWindowCompression"],D);const j=S(t,["proactivity"]);e!==void 0&&j!=null&&C(e,["setup","proactivity"],j);const M=S(t,["explicitVadSignal"]);return e!==void 0&&M!=null&&C(e,["setup","explicitVadSignal"],M),n}function Nit(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["setup","model"],jn(t,r));const i=S(e,["config"]);return i!=null&&C(n,["config"],Cit(i,n)),n}function Iit(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["setup","model"],jn(t,r));const i=S(e,["config"]);return i!=null&&C(n,["config"],kit(i,n)),n}function Pit(t){const e={},n=S(t,["musicGenerationConfig"]);return n!=null&&C(e,["musicGenerationConfig"],n),e}function _it(t){const e={},n=S(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),C(e,["weightedPrompts"],r)}return e}function Rit(t){const e={},n=S(t,["media"]);if(n!=null){let c=vhe(n);Array.isArray(c)&&(c=c.map(u=>xT(u))),C(e,["mediaChunks"],c)}const r=S(t,["audio"]);r!=null&&C(e,["audio"],xT(whe(r)));const i=S(t,["audioStreamEnd"]);i!=null&&C(e,["audioStreamEnd"],i);const s=S(t,["video"]);s!=null&&C(e,["video"],xT(bhe(s)));const o=S(t,["text"]);o!=null&&C(e,["text"],o);const a=S(t,["activityStart"]);a!=null&&C(e,["activityStart"],a);const l=S(t,["activityEnd"]);return l!=null&&C(e,["activityEnd"],l),e}function Oit(t){const e={},n=S(t,["media"]);if(n!=null){let c=vhe(n);Array.isArray(c)&&(c=c.map(u=>u)),C(e,["mediaChunks"],c)}const r=S(t,["audio"]);r!=null&&C(e,["audio"],whe(r));const i=S(t,["audioStreamEnd"]);i!=null&&C(e,["audioStreamEnd"],i);const s=S(t,["video"]);s!=null&&C(e,["video"],bhe(s));const o=S(t,["text"]);o!=null&&C(e,["text"],o);const a=S(t,["activityStart"]);a!=null&&C(e,["activityStart"],a);const l=S(t,["activityEnd"]);return l!=null&&C(e,["activityEnd"],l),e}function Mit(t){const e={},n=S(t,["setupComplete"]);n!=null&&C(e,["setupComplete"],n);const r=S(t,["serverContent"]);r!=null&&C(e,["serverContent"],r);const i=S(t,["toolCall"]);i!=null&&C(e,["toolCall"],i);const s=S(t,["toolCallCancellation"]);s!=null&&C(e,["toolCallCancellation"],s);const o=S(t,["usageMetadata"]);o!=null&&C(e,["usageMetadata"],Uit(o));const a=S(t,["goAway"]);a!=null&&C(e,["goAway"],a);const l=S(t,["sessionResumptionUpdate"]);l!=null&&C(e,["sessionResumptionUpdate"],l);const c=S(t,["voiceActivityDetectionSignal"]);return c!=null&&C(e,["voiceActivityDetectionSignal"],c),e}function Dit(t){const e={},n=S(t,["mediaResolution"]);n!=null&&C(e,["mediaResolution"],n);const r=S(t,["codeExecutionResult"]);r!=null&&C(e,["codeExecutionResult"],r);const i=S(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const s=S(t,["fileData"]);s!=null&&C(e,["fileData"],bit(s));const o=S(t,["functionCall"]);o!=null&&C(e,["functionCall"],wit(o));const a=S(t,["functionResponse"]);a!=null&&C(e,["functionResponse"],a);const l=S(t,["inlineData"]);l!=null&&C(e,["inlineData"],xT(l));const c=S(t,["text"]);c!=null&&C(e,["text"],c);const u=S(t,["thought"]);u!=null&&C(e,["thought"],u);const f=S(t,["thoughtSignature"]);f!=null&&C(e,["thoughtSignature"],f);const m=S(t,["videoMetadata"]);return m!=null&&C(e,["videoMetadata"],m),e}function Lit(t){const e={},n=S(t,["handle"]);if(n!=null&&C(e,["handle"],n),S(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Bit(t){const e={},n=S(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>f)),C(e,["functionDeclarations"],u)}if(S(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=S(t,["googleSearchRetrieval"]);r!=null&&C(e,["googleSearchRetrieval"],r);const i=S(t,["computerUse"]);i!=null&&C(e,["computerUse"],i);const s=S(t,["fileSearch"]);s!=null&&C(e,["fileSearch"],s);const o=S(t,["codeExecution"]);if(o!=null&&C(e,["codeExecution"],o),S(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=S(t,["googleMaps"]);a!=null&&C(e,["googleMaps"],Ait(a));const l=S(t,["googleSearch"]);l!=null&&C(e,["googleSearch"],Tit(l));const c=S(t,["urlContext"]);return c!=null&&C(e,["urlContext"],c),e}function jit(t){const e={},n=S(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>Eit(m))),C(e,["functionDeclarations"],f)}const r=S(t,["retrieval"]);r!=null&&C(e,["retrieval"],r);const i=S(t,["googleSearchRetrieval"]);i!=null&&C(e,["googleSearchRetrieval"],i);const s=S(t,["computerUse"]);if(s!=null&&C(e,["computerUse"],s),S(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=S(t,["codeExecution"]);o!=null&&C(e,["codeExecution"],o);const a=S(t,["enterpriseWebSearch"]);a!=null&&C(e,["enterpriseWebSearch"],a);const l=S(t,["googleMaps"]);l!=null&&C(e,["googleMaps"],l);const c=S(t,["googleSearch"]);c!=null&&C(e,["googleSearch"],c);const u=S(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}function Uit(t){const e={},n=S(t,["promptTokenCount"]);n!=null&&C(e,["promptTokenCount"],n);const r=S(t,["cachedContentTokenCount"]);r!=null&&C(e,["cachedContentTokenCount"],r);const i=S(t,["candidatesTokenCount"]);i!=null&&C(e,["responseTokenCount"],i);const s=S(t,["toolUsePromptTokenCount"]);s!=null&&C(e,["toolUsePromptTokenCount"],s);const o=S(t,["thoughtsTokenCount"]);o!=null&&C(e,["thoughtsTokenCount"],o);const a=S(t,["totalTokenCount"]);a!=null&&C(e,["totalTokenCount"],a);const l=S(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(x=>x)),C(e,["promptTokensDetails"],g)}const c=S(t,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(x=>x)),C(e,["cacheTokensDetails"],g)}const u=S(t,["candidatesTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(x=>x)),C(e,["responseTokensDetails"],g)}const f=S(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(x=>x)),C(e,["toolUsePromptTokensDetails"],g)}const m=S(t,["trafficType"]);return m!=null&&C(e,["trafficType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fit(t){const e={},n=S(t,["data"]);if(n!=null&&C(e,["data"],n),S(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=S(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function zit(t){const e={},n=S(t,["content"]);n!=null&&C(e,["content"],n);const r=S(t,["citationMetadata"]);r!=null&&C(e,["citationMetadata"],$it(r));const i=S(t,["tokenCount"]);i!=null&&C(e,["tokenCount"],i);const s=S(t,["finishReason"]);s!=null&&C(e,["finishReason"],s);const o=S(t,["avgLogprobs"]);o!=null&&C(e,["avgLogprobs"],o);const a=S(t,["groundingMetadata"]);a!=null&&C(e,["groundingMetadata"],a);const l=S(t,["index"]);l!=null&&C(e,["index"],l);const c=S(t,["logprobsResult"]);c!=null&&C(e,["logprobsResult"],c);const u=S(t,["safetyRatings"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>g)),C(e,["safetyRatings"],m)}const f=S(t,["urlContextMetadata"]);return f!=null&&C(e,["urlContextMetadata"],f),e}function $it(t){const e={},n=S(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),C(e,["citations"],r)}return e}function Hit(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["contents"]);if(i!=null){let s=Ia(i);Array.isArray(s)&&(s=s.map(o=>o)),C(n,["contents"],s)}return n}function Vit(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),C(e,["tokensInfo"],i)}return e}function Git(t){const e={},n=S(t,["values"]);n!=null&&C(e,["values"],n);const r=S(t,["statistics"]);return r!=null&&C(e,["statistics"],qit(r)),e}function qit(t){const e={},n=S(t,["truncated"]);n!=null&&C(e,["truncated"],n);const r=S(t,["token_count"]);return r!=null&&C(e,["tokenCount"],r),e}function _N(t){const e={},n=S(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>tot(s))),C(e,["parts"],i)}const r=S(t,["role"]);return r!=null&&C(e,["role"],r),e}function Kit(t){const e={},n=S(t,["controlType"]);n!=null&&C(e,["controlType"],n);const r=S(t,["enableControlImageComputation"]);return r!=null&&C(e,["computeControl"],r),e}function Wit(t){const e={};if(S(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(S(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(S(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Yit(t,e){const n={},r=S(t,["systemInstruction"]);e!==void 0&&r!=null&&C(e,["systemInstruction"],vs(r));const i=S(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Dhe(a))),C(e,["tools"],o)}const s=S(t,["generationConfig"]);return e!==void 0&&s!=null&&C(e,["generationConfig"],Fst(s)),n}function Jit(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["contents"]);if(i!=null){let o=Ia(i);Array.isArray(o)&&(o=o.map(a=>_N(a))),C(n,["contents"],o)}const s=S(e,["config"]);return s!=null&&Wit(s),n}function Xit(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["contents"]);if(i!=null){let o=Ia(i);Array.isArray(o)&&(o=o.map(a=>a)),C(n,["contents"],o)}const s=S(e,["config"]);return s!=null&&Yit(s,n),n}function Qit(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["totalTokens"]);r!=null&&C(e,["totalTokens"],r);const i=S(t,["cachedContentTokenCount"]);return i!=null&&C(e,["cachedContentTokenCount"],i),e}function Zit(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["totalTokens"]);return r!=null&&C(e,["totalTokens"],r),e}function est(t,e){const n={},r=S(e,["model"]);return r!=null&&C(n,["_url","name"],jn(t,r)),n}function tst(t,e){const n={},r=S(e,["model"]);return r!=null&&C(n,["_url","name"],jn(t,r)),n}function nst(t){const e={},n=S(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function rst(t){const e={},n=S(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function ist(t,e){const n={},r=S(t,["outputGcsUri"]);e!==void 0&&r!=null&&C(e,["parameters","storageUri"],r);const i=S(t,["negativePrompt"]);e!==void 0&&i!=null&&C(e,["parameters","negativePrompt"],i);const s=S(t,["numberOfImages"]);e!==void 0&&s!=null&&C(e,["parameters","sampleCount"],s);const o=S(t,["aspectRatio"]);e!==void 0&&o!=null&&C(e,["parameters","aspectRatio"],o);const a=S(t,["guidanceScale"]);e!==void 0&&a!=null&&C(e,["parameters","guidanceScale"],a);const l=S(t,["seed"]);e!==void 0&&l!=null&&C(e,["parameters","seed"],l);const c=S(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&C(e,["parameters","safetySetting"],c);const u=S(t,["personGeneration"]);e!==void 0&&u!=null&&C(e,["parameters","personGeneration"],u);const f=S(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&C(e,["parameters","includeSafetyAttributes"],f);const m=S(t,["includeRaiReason"]);e!==void 0&&m!=null&&C(e,["parameters","includeRaiReason"],m);const g=S(t,["language"]);e!==void 0&&g!=null&&C(e,["parameters","language"],g);const x=S(t,["outputMimeType"]);e!==void 0&&x!=null&&C(e,["parameters","outputOptions","mimeType"],x);const v=S(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&C(e,["parameters","outputOptions","compressionQuality"],v);const w=S(t,["addWatermark"]);e!==void 0&&w!=null&&C(e,["parameters","addWatermark"],w);const E=S(t,["labels"]);e!==void 0&&E!=null&&C(e,["labels"],E);const k=S(t,["editMode"]);e!==void 0&&k!=null&&C(e,["parameters","editMode"],k);const I=S(t,["baseSteps"]);return e!==void 0&&I!=null&&C(e,["parameters","editConfig","baseSteps"],I),n}function sst(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const s=S(e,["referenceImages"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>aot(l))),C(n,["instances[0]","referenceImages"],a)}const o=S(e,["config"]);return o!=null&&ist(o,n),n}function ost(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>RN(s))),C(e,["generatedImages"],i)}return e}function ast(t,e){const n={},r=S(t,["taskType"]);e!==void 0&&r!=null&&C(e,["requests[]","taskType"],r);const i=S(t,["title"]);e!==void 0&&i!=null&&C(e,["requests[]","title"],i);const s=S(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&C(e,["requests[]","outputDimensionality"],s),S(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(S(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function lst(t,e){const n={},r=S(t,["taskType"]);e!==void 0&&r!=null&&C(e,["instances[]","task_type"],r);const i=S(t,["title"]);e!==void 0&&i!=null&&C(e,["instances[]","title"],i);const s=S(t,["outputDimensionality"]);e!==void 0&&s!=null&&C(e,["parameters","outputDimensionality"],s);const o=S(t,["mimeType"]);e!==void 0&&o!=null&&C(e,["instances[]","mimeType"],o);const a=S(t,["autoTruncate"]);return e!==void 0&&a!=null&&C(e,["parameters","autoTruncate"],a),n}function cst(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["contents"]);if(i!=null){let a=E7(t,i);Array.isArray(a)&&(a=a.map(l=>l)),C(n,["requests[]","content"],a)}const s=S(e,["config"]);s!=null&&ast(s,n);const o=S(e,["model"]);return o!==void 0&&C(n,["requests[]","model"],jn(t,o)),n}function ust(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["contents"]);if(i!=null){let o=E7(t,i);Array.isArray(o)&&(o=o.map(a=>a)),C(n,["instances[]","content"],o)}const s=S(e,["config"]);return s!=null&&lst(s,n),n}function dst(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),C(e,["embeddings"],s)}const i=S(t,["metadata"]);return i!=null&&C(e,["metadata"],i),e}function fst(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Git(o))),C(e,["embeddings"],s)}const i=S(t,["metadata"]);return i!=null&&C(e,["metadata"],i),e}function hst(t){const e={},n=S(t,["endpoint"]);n!=null&&C(e,["name"],n);const r=S(t,["deployedModelId"]);return r!=null&&C(e,["deployedModelId"],r),e}function pst(t){const e={};if(S(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=S(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=S(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function mst(t){const e={},n=S(t,["id"]);n!=null&&C(e,["id"],n);const r=S(t,["args"]);r!=null&&C(e,["args"],r);const i=S(t,["name"]);if(i!=null&&C(e,["name"],i),S(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(S(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gst(t){const e={},n=S(t,["mode"]);n!=null&&C(e,["mode"],n);const r=S(t,["allowedFunctionNames"]);if(r!=null&&C(e,["allowedFunctionNames"],r),S(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yst(t){const e={};if(S(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=S(t,["description"]);n!=null&&C(e,["description"],n);const r=S(t,["name"]);r!=null&&C(e,["name"],r);const i=S(t,["parameters"]);i!=null&&C(e,["parameters"],i);const s=S(t,["parametersJsonSchema"]);s!=null&&C(e,["parametersJsonSchema"],s);const o=S(t,["response"]);o!=null&&C(e,["response"],o);const a=S(t,["responseJsonSchema"]);return a!=null&&C(e,["responseJsonSchema"],a),e}function xst(t,e,n){const r={},i=S(e,["systemInstruction"]);n!==void 0&&i!=null&&C(n,["systemInstruction"],_N(vs(i)));const s=S(e,["temperature"]);s!=null&&C(r,["temperature"],s);const o=S(e,["topP"]);o!=null&&C(r,["topP"],o);const a=S(e,["topK"]);a!=null&&C(r,["topK"],a);const l=S(e,["candidateCount"]);l!=null&&C(r,["candidateCount"],l);const c=S(e,["maxOutputTokens"]);c!=null&&C(r,["maxOutputTokens"],c);const u=S(e,["stopSequences"]);u!=null&&C(r,["stopSequences"],u);const f=S(e,["responseLogprobs"]);f!=null&&C(r,["responseLogprobs"],f);const m=S(e,["logprobs"]);m!=null&&C(r,["logprobs"],m);const g=S(e,["presencePenalty"]);g!=null&&C(r,["presencePenalty"],g);const x=S(e,["frequencyPenalty"]);x!=null&&C(r,["frequencyPenalty"],x);const v=S(e,["seed"]);v!=null&&C(r,["seed"],v);const w=S(e,["responseMimeType"]);w!=null&&C(r,["responseMimeType"],w);const E=S(e,["responseSchema"]);E!=null&&C(r,["responseSchema"],S7(E));const k=S(e,["responseJsonSchema"]);if(k!=null&&C(r,["responseJsonSchema"],k),S(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(S(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=S(e,["safetySettings"]);if(n!==void 0&&I!=null){let B=I;Array.isArray(B)&&(B=B.map(A=>lot(A))),C(n,["safetySettings"],B)}const D=S(e,["tools"]);if(n!==void 0&&D!=null){let B=Wx(D);Array.isArray(B)&&(B=B.map(A=>mot(Kx(A)))),C(n,["tools"],B)}const j=S(e,["toolConfig"]);if(n!==void 0&&j!=null&&C(n,["toolConfig"],pot(j)),S(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=S(e,["cachedContent"]);n!==void 0&&M!=null&&C(n,["cachedContent"],kd(t,M));const U=S(e,["responseModalities"]);U!=null&&C(r,["responseModalities"],U);const V=S(e,["mediaResolution"]);V!=null&&C(r,["mediaResolution"],V);const F=S(e,["speechConfig"]);if(F!=null&&C(r,["speechConfig"],A7(F)),S(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=S(e,["thinkingConfig"]);z!=null&&C(r,["thinkingConfig"],z);const K=S(e,["imageConfig"]);K!=null&&C(r,["imageConfig"],Gst(K));const H=S(e,["enableEnhancedCivicAnswers"]);return H!=null&&C(r,["enableEnhancedCivicAnswers"],H),r}function vst(t,e,n){const r={},i=S(e,["systemInstruction"]);n!==void 0&&i!=null&&C(n,["systemInstruction"],vs(i));const s=S(e,["temperature"]);s!=null&&C(r,["temperature"],s);const o=S(e,["topP"]);o!=null&&C(r,["topP"],o);const a=S(e,["topK"]);a!=null&&C(r,["topK"],a);const l=S(e,["candidateCount"]);l!=null&&C(r,["candidateCount"],l);const c=S(e,["maxOutputTokens"]);c!=null&&C(r,["maxOutputTokens"],c);const u=S(e,["stopSequences"]);u!=null&&C(r,["stopSequences"],u);const f=S(e,["responseLogprobs"]);f!=null&&C(r,["responseLogprobs"],f);const m=S(e,["logprobs"]);m!=null&&C(r,["logprobs"],m);const g=S(e,["presencePenalty"]);g!=null&&C(r,["presencePenalty"],g);const x=S(e,["frequencyPenalty"]);x!=null&&C(r,["frequencyPenalty"],x);const v=S(e,["seed"]);v!=null&&C(r,["seed"],v);const w=S(e,["responseMimeType"]);w!=null&&C(r,["responseMimeType"],w);const E=S(e,["responseSchema"]);E!=null&&C(r,["responseSchema"],S7(E));const k=S(e,["responseJsonSchema"]);k!=null&&C(r,["responseJsonSchema"],k);const I=S(e,["routingConfig"]);I!=null&&C(r,["routingConfig"],I);const D=S(e,["modelSelectionConfig"]);D!=null&&C(r,["modelConfig"],D);const j=S(e,["safetySettings"]);if(n!==void 0&&j!=null){let R=j;Array.isArray(R)&&(R=R.map($=>$)),C(n,["safetySettings"],R)}const M=S(e,["tools"]);if(n!==void 0&&M!=null){let R=Wx(M);Array.isArray(R)&&(R=R.map($=>Dhe(Kx($)))),C(n,["tools"],R)}const U=S(e,["toolConfig"]);n!==void 0&&U!=null&&C(n,["toolConfig"],U);const V=S(e,["labels"]);n!==void 0&&V!=null&&C(n,["labels"],V);const F=S(e,["cachedContent"]);n!==void 0&&F!=null&&C(n,["cachedContent"],kd(t,F));const z=S(e,["responseModalities"]);z!=null&&C(r,["responseModalities"],z);const K=S(e,["mediaResolution"]);K!=null&&C(r,["mediaResolution"],K);const H=S(e,["speechConfig"]);H!=null&&C(r,["speechConfig"],A7(H));const B=S(e,["audioTimestamp"]);B!=null&&C(r,["audioTimestamp"],B);const A=S(e,["thinkingConfig"]);A!=null&&C(r,["thinkingConfig"],A);const P=S(e,["imageConfig"]);if(P!=null&&C(r,["imageConfig"],qst(P)),S(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function wQ(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["contents"]);if(i!=null){let o=Ia(i);Array.isArray(o)&&(o=o.map(a=>_N(a))),C(n,["contents"],o)}const s=S(e,["config"]);return s!=null&&C(n,["generationConfig"],xst(t,s,n)),n}function EQ(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["contents"]);if(i!=null){let o=Ia(i);Array.isArray(o)&&(o=o.map(a=>a)),C(n,["contents"],o)}const s=S(e,["config"]);return s!=null&&C(n,["generationConfig"],vst(t,s,n)),n}function SQ(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>zit(c))),C(e,["candidates"],l)}const i=S(t,["modelVersion"]);i!=null&&C(e,["modelVersion"],i);const s=S(t,["promptFeedback"]);s!=null&&C(e,["promptFeedback"],s);const o=S(t,["responseId"]);o!=null&&C(e,["responseId"],o);const a=S(t,["usageMetadata"]);return a!=null&&C(e,["usageMetadata"],a),e}function AQ(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>u)),C(e,["candidates"],c)}const i=S(t,["createTime"]);i!=null&&C(e,["createTime"],i);const s=S(t,["modelVersion"]);s!=null&&C(e,["modelVersion"],s);const o=S(t,["promptFeedback"]);o!=null&&C(e,["promptFeedback"],o);const a=S(t,["responseId"]);a!=null&&C(e,["responseId"],a);const l=S(t,["usageMetadata"]);return l!=null&&C(e,["usageMetadata"],l),e}function bst(t,e){const n={};if(S(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(S(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=S(t,["numberOfImages"]);e!==void 0&&r!=null&&C(e,["parameters","sampleCount"],r);const i=S(t,["aspectRatio"]);e!==void 0&&i!=null&&C(e,["parameters","aspectRatio"],i);const s=S(t,["guidanceScale"]);if(e!==void 0&&s!=null&&C(e,["parameters","guidanceScale"],s),S(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=S(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&C(e,["parameters","safetySetting"],o);const a=S(t,["personGeneration"]);e!==void 0&&a!=null&&C(e,["parameters","personGeneration"],a);const l=S(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&C(e,["parameters","includeSafetyAttributes"],l);const c=S(t,["includeRaiReason"]);e!==void 0&&c!=null&&C(e,["parameters","includeRaiReason"],c);const u=S(t,["language"]);e!==void 0&&u!=null&&C(e,["parameters","language"],u);const f=S(t,["outputMimeType"]);e!==void 0&&f!=null&&C(e,["parameters","outputOptions","mimeType"],f);const m=S(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&C(e,["parameters","outputOptions","compressionQuality"],m),S(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(S(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=S(t,["imageSize"]);if(e!==void 0&&g!=null&&C(e,["parameters","sampleImageSize"],g),S(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function wst(t,e){const n={},r=S(t,["outputGcsUri"]);e!==void 0&&r!=null&&C(e,["parameters","storageUri"],r);const i=S(t,["negativePrompt"]);e!==void 0&&i!=null&&C(e,["parameters","negativePrompt"],i);const s=S(t,["numberOfImages"]);e!==void 0&&s!=null&&C(e,["parameters","sampleCount"],s);const o=S(t,["aspectRatio"]);e!==void 0&&o!=null&&C(e,["parameters","aspectRatio"],o);const a=S(t,["guidanceScale"]);e!==void 0&&a!=null&&C(e,["parameters","guidanceScale"],a);const l=S(t,["seed"]);e!==void 0&&l!=null&&C(e,["parameters","seed"],l);const c=S(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&C(e,["parameters","safetySetting"],c);const u=S(t,["personGeneration"]);e!==void 0&&u!=null&&C(e,["parameters","personGeneration"],u);const f=S(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&C(e,["parameters","includeSafetyAttributes"],f);const m=S(t,["includeRaiReason"]);e!==void 0&&m!=null&&C(e,["parameters","includeRaiReason"],m);const g=S(t,["language"]);e!==void 0&&g!=null&&C(e,["parameters","language"],g);const x=S(t,["outputMimeType"]);e!==void 0&&x!=null&&C(e,["parameters","outputOptions","mimeType"],x);const v=S(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&C(e,["parameters","outputOptions","compressionQuality"],v);const w=S(t,["addWatermark"]);e!==void 0&&w!=null&&C(e,["parameters","addWatermark"],w);const E=S(t,["labels"]);e!==void 0&&E!=null&&C(e,["labels"],E);const k=S(t,["imageSize"]);e!==void 0&&k!=null&&C(e,["parameters","sampleImageSize"],k);const I=S(t,["enhancePrompt"]);return e!==void 0&&I!=null&&C(e,["parameters","enhancePrompt"],I),n}function Est(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const s=S(e,["config"]);return s!=null&&bst(s,n),n}function Sst(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const s=S(e,["config"]);return s!=null&&wst(s,n),n}function Ast(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Lst(o))),C(e,["generatedImages"],s)}const i=S(t,["positivePromptSafetyAttributes"]);return i!=null&&C(e,["positivePromptSafetyAttributes"],Ohe(i)),e}function Tst(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>RN(o))),C(e,["generatedImages"],s)}const i=S(t,["positivePromptSafetyAttributes"]);return i!=null&&C(e,["positivePromptSafetyAttributes"],Mhe(i)),e}function Cst(t,e){const n={},r=S(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&C(e,["parameters","sampleCount"],r),S(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(S(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=S(t,["durationSeconds"]);if(e!==void 0&&i!=null&&C(e,["parameters","durationSeconds"],i),S(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=S(t,["aspectRatio"]);e!==void 0&&s!=null&&C(e,["parameters","aspectRatio"],s);const o=S(t,["resolution"]);e!==void 0&&o!=null&&C(e,["parameters","resolution"],o);const a=S(t,["personGeneration"]);if(e!==void 0&&a!=null&&C(e,["parameters","personGeneration"],a),S(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=S(t,["negativePrompt"]);e!==void 0&&l!=null&&C(e,["parameters","negativePrompt"],l);const c=S(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&C(e,["parameters","enhancePrompt"],c),S(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const u=S(t,["lastFrame"]);e!==void 0&&u!=null&&C(e,["instances[0]","lastFrame"],ON(u));const f=S(t,["referenceImages"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>Not(g))),C(e,["instances[0]","referenceImages"],m)}if(S(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(S(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function kst(t,e){const n={},r=S(t,["numberOfVideos"]);e!==void 0&&r!=null&&C(e,["parameters","sampleCount"],r);const i=S(t,["outputGcsUri"]);e!==void 0&&i!=null&&C(e,["parameters","storageUri"],i);const s=S(t,["fps"]);e!==void 0&&s!=null&&C(e,["parameters","fps"],s);const o=S(t,["durationSeconds"]);e!==void 0&&o!=null&&C(e,["parameters","durationSeconds"],o);const a=S(t,["seed"]);e!==void 0&&a!=null&&C(e,["parameters","seed"],a);const l=S(t,["aspectRatio"]);e!==void 0&&l!=null&&C(e,["parameters","aspectRatio"],l);const c=S(t,["resolution"]);e!==void 0&&c!=null&&C(e,["parameters","resolution"],c);const u=S(t,["personGeneration"]);e!==void 0&&u!=null&&C(e,["parameters","personGeneration"],u);const f=S(t,["pubsubTopic"]);e!==void 0&&f!=null&&C(e,["parameters","pubsubTopic"],f);const m=S(t,["negativePrompt"]);e!==void 0&&m!=null&&C(e,["parameters","negativePrompt"],m);const g=S(t,["enhancePrompt"]);e!==void 0&&g!=null&&C(e,["parameters","enhancePrompt"],g);const x=S(t,["generateAudio"]);e!==void 0&&x!=null&&C(e,["parameters","generateAudio"],x);const v=S(t,["lastFrame"]);e!==void 0&&v!=null&&C(e,["instances[0]","lastFrame"],Al(v));const w=S(t,["referenceImages"]);if(e!==void 0&&w!=null){let I=w;Array.isArray(I)&&(I=I.map(D=>Iot(D))),C(e,["instances[0]","referenceImages"],I)}const E=S(t,["mask"]);e!==void 0&&E!=null&&C(e,["instances[0]","mask"],kot(E));const k=S(t,["compressionQuality"]);return e!==void 0&&k!=null&&C(e,["parameters","compressionQuality"],k),n}function Nst(t){const e={},n=S(t,["name"]);n!=null&&C(e,["name"],n);const r=S(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=S(t,["done"]);i!=null&&C(e,["done"],i);const s=S(t,["error"]);s!=null&&C(e,["error"],s);const o=S(t,["response","generateVideoResponse"]);return o!=null&&C(e,["response"],Rst(o)),e}function Ist(t){const e={},n=S(t,["name"]);n!=null&&C(e,["name"],n);const r=S(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=S(t,["done"]);i!=null&&C(e,["done"],i);const s=S(t,["error"]);s!=null&&C(e,["error"],s);const o=S(t,["response"]);return o!=null&&C(e,["response"],Ost(o)),e}function Pst(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const s=S(e,["image"]);s!=null&&C(n,["instances[0]","image"],ON(s));const o=S(e,["video"]);o!=null&&C(n,["instances[0]","video"],Lhe(o));const a=S(e,["source"]);a!=null&&Mst(a,n);const l=S(e,["config"]);return l!=null&&Cst(l,n),n}function _st(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["prompt"]);i!=null&&C(n,["instances[0]","prompt"],i);const s=S(e,["image"]);s!=null&&C(n,["instances[0]","image"],Al(s));const o=S(e,["video"]);o!=null&&C(n,["instances[0]","video"],Bhe(o));const a=S(e,["source"]);a!=null&&Dst(a,n);const l=S(e,["config"]);return l!=null&&kst(l,n),n}function Rst(t){const e={},n=S(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>jst(o))),C(e,["generatedVideos"],s)}const r=S(t,["raiMediaFilteredCount"]);r!=null&&C(e,["raiMediaFilteredCount"],r);const i=S(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function Ost(t){const e={},n=S(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Ust(o))),C(e,["generatedVideos"],s)}const r=S(t,["raiMediaFilteredCount"]);r!=null&&C(e,["raiMediaFilteredCount"],r);const i=S(t,["raiMediaFilteredReasons"]);return i!=null&&C(e,["raiMediaFilteredReasons"],i),e}function Mst(t,e){const n={},r=S(t,["prompt"]);e!==void 0&&r!=null&&C(e,["instances[0]","prompt"],r);const i=S(t,["image"]);e!==void 0&&i!=null&&C(e,["instances[0]","image"],ON(i));const s=S(t,["video"]);return e!==void 0&&s!=null&&C(e,["instances[0]","video"],Lhe(s)),n}function Dst(t,e){const n={},r=S(t,["prompt"]);e!==void 0&&r!=null&&C(e,["instances[0]","prompt"],r);const i=S(t,["image"]);e!==void 0&&i!=null&&C(e,["instances[0]","image"],Al(i));const s=S(t,["video"]);return e!==void 0&&s!=null&&C(e,["instances[0]","video"],Bhe(s)),n}function Lst(t){const e={},n=S(t,["_self"]);n!=null&&C(e,["image"],Kst(n));const r=S(t,["raiFilteredReason"]);r!=null&&C(e,["raiFilteredReason"],r);const i=S(t,["_self"]);return i!=null&&C(e,["safetyAttributes"],Ohe(i)),e}function RN(t){const e={},n=S(t,["_self"]);n!=null&&C(e,["image"],Rhe(n));const r=S(t,["raiFilteredReason"]);r!=null&&C(e,["raiFilteredReason"],r);const i=S(t,["_self"]);i!=null&&C(e,["safetyAttributes"],Mhe(i));const s=S(t,["prompt"]);return s!=null&&C(e,["enhancedPrompt"],s),e}function Bst(t){const e={},n=S(t,["_self"]);n!=null&&C(e,["mask"],Rhe(n));const r=S(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),C(e,["labels"],i)}return e}function jst(t){const e={},n=S(t,["video"]);return n!=null&&C(e,["video"],Tot(n)),e}function Ust(t){const e={},n=S(t,["_self"]);return n!=null&&C(e,["video"],Cot(n)),e}function Fst(t){const e={},n=S(t,["modelSelectionConfig"]);n!=null&&C(e,["modelConfig"],n);const r=S(t,["responseJsonSchema"]);r!=null&&C(e,["responseJsonSchema"],r);const i=S(t,["audioTimestamp"]);i!=null&&C(e,["audioTimestamp"],i);const s=S(t,["candidateCount"]);s!=null&&C(e,["candidateCount"],s);const o=S(t,["enableAffectiveDialog"]);o!=null&&C(e,["enableAffectiveDialog"],o);const a=S(t,["frequencyPenalty"]);a!=null&&C(e,["frequencyPenalty"],a);const l=S(t,["logprobs"]);l!=null&&C(e,["logprobs"],l);const c=S(t,["maxOutputTokens"]);c!=null&&C(e,["maxOutputTokens"],c);const u=S(t,["mediaResolution"]);u!=null&&C(e,["mediaResolution"],u);const f=S(t,["presencePenalty"]);f!=null&&C(e,["presencePenalty"],f);const m=S(t,["responseLogprobs"]);m!=null&&C(e,["responseLogprobs"],m);const g=S(t,["responseMimeType"]);g!=null&&C(e,["responseMimeType"],g);const x=S(t,["responseModalities"]);x!=null&&C(e,["responseModalities"],x);const v=S(t,["responseSchema"]);v!=null&&C(e,["responseSchema"],v);const w=S(t,["routingConfig"]);w!=null&&C(e,["routingConfig"],w);const E=S(t,["seed"]);E!=null&&C(e,["seed"],E);const k=S(t,["speechConfig"]);k!=null&&C(e,["speechConfig"],k);const I=S(t,["stopSequences"]);I!=null&&C(e,["stopSequences"],I);const D=S(t,["temperature"]);D!=null&&C(e,["temperature"],D);const j=S(t,["thinkingConfig"]);j!=null&&C(e,["thinkingConfig"],j);const M=S(t,["topK"]);M!=null&&C(e,["topK"],M);const U=S(t,["topP"]);if(U!=null&&C(e,["topP"],U),S(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function zst(t,e){const n={},r=S(e,["model"]);return r!=null&&C(n,["_url","name"],jn(t,r)),n}function $st(t,e){const n={},r=S(e,["model"]);return r!=null&&C(n,["_url","name"],jn(t,r)),n}function Hst(t){const e={};if(S(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=S(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function Vst(t){const e={};if(S(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(S(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=S(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function Gst(t){const e={},n=S(t,["aspectRatio"]);n!=null&&C(e,["aspectRatio"],n);const r=S(t,["imageSize"]);if(r!=null&&C(e,["imageSize"],r),S(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(S(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function qst(t){const e={},n=S(t,["aspectRatio"]);n!=null&&C(e,["aspectRatio"],n);const r=S(t,["imageSize"]);r!=null&&C(e,["imageSize"],r);const i=S(t,["outputMimeType"]);i!=null&&C(e,["imageOutputOptions","mimeType"],i);const s=S(t,["outputCompressionQuality"]);return s!=null&&C(e,["imageOutputOptions","compressionQuality"],s),e}function Kst(t){const e={},n=S(t,["bytesBase64Encoded"]);n!=null&&C(e,["imageBytes"],Sh(n));const r=S(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function Rhe(t){const e={},n=S(t,["gcsUri"]);n!=null&&C(e,["gcsUri"],n);const r=S(t,["bytesBase64Encoded"]);r!=null&&C(e,["imageBytes"],Sh(r));const i=S(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function ON(t){const e={};if(S(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=S(t,["imageBytes"]);n!=null&&C(e,["bytesBase64Encoded"],Sh(n));const r=S(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function Al(t){const e={},n=S(t,["gcsUri"]);n!=null&&C(e,["gcsUri"],n);const r=S(t,["imageBytes"]);r!=null&&C(e,["bytesBase64Encoded"],Sh(r));const i=S(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function Wst(t,e,n){const r={},i=S(e,["pageSize"]);n!==void 0&&i!=null&&C(n,["_query","pageSize"],i);const s=S(e,["pageToken"]);n!==void 0&&s!=null&&C(n,["_query","pageToken"],s);const o=S(e,["filter"]);n!==void 0&&o!=null&&C(n,["_query","filter"],o);const a=S(e,["queryBase"]);return n!==void 0&&a!=null&&C(n,["_url","models_url"],The(t,a)),r}function Yst(t,e,n){const r={},i=S(e,["pageSize"]);n!==void 0&&i!=null&&C(n,["_query","pageSize"],i);const s=S(e,["pageToken"]);n!==void 0&&s!=null&&C(n,["_query","pageToken"],s);const o=S(e,["filter"]);n!==void 0&&o!=null&&C(n,["_query","filter"],o);const a=S(e,["queryBase"]);return n!==void 0&&a!=null&&C(n,["_url","models_url"],The(t,a)),r}function Jst(t,e){const n={},r=S(e,["config"]);return r!=null&&Wst(t,r,n),n}function Xst(t,e){const n={},r=S(e,["config"]);return r!=null&&Yst(t,r,n),n}function Qst(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=S(t,["_self"]);if(i!=null){let s=Che(i);Array.isArray(s)&&(s=s.map(o=>OD(o))),C(e,["models"],s)}return e}function Zst(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=S(t,["_self"]);if(i!=null){let s=Che(i);Array.isArray(s)&&(s=s.map(o=>MD(o))),C(e,["models"],s)}return e}function eot(t){const e={},n=S(t,["maskMode"]);n!=null&&C(e,["maskMode"],n);const r=S(t,["segmentationClasses"]);r!=null&&C(e,["maskClasses"],r);const i=S(t,["maskDilation"]);return i!=null&&C(e,["dilation"],i),e}function OD(t){const e={},n=S(t,["name"]);n!=null&&C(e,["name"],n);const r=S(t,["displayName"]);r!=null&&C(e,["displayName"],r);const i=S(t,["description"]);i!=null&&C(e,["description"],i);const s=S(t,["version"]);s!=null&&C(e,["version"],s);const o=S(t,["_self"]);o!=null&&C(e,["tunedModelInfo"],got(o));const a=S(t,["inputTokenLimit"]);a!=null&&C(e,["inputTokenLimit"],a);const l=S(t,["outputTokenLimit"]);l!=null&&C(e,["outputTokenLimit"],l);const c=S(t,["supportedGenerationMethods"]);c!=null&&C(e,["supportedActions"],c);const u=S(t,["temperature"]);u!=null&&C(e,["temperature"],u);const f=S(t,["maxTemperature"]);f!=null&&C(e,["maxTemperature"],f);const m=S(t,["topP"]);m!=null&&C(e,["topP"],m);const g=S(t,["topK"]);g!=null&&C(e,["topK"],g);const x=S(t,["thinking"]);return x!=null&&C(e,["thinking"],x),e}function MD(t){const e={},n=S(t,["name"]);n!=null&&C(e,["name"],n);const r=S(t,["displayName"]);r!=null&&C(e,["displayName"],r);const i=S(t,["description"]);i!=null&&C(e,["description"],i);const s=S(t,["versionId"]);s!=null&&C(e,["version"],s);const o=S(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>hst(m))),C(e,["endpoints"],f)}const a=S(t,["labels"]);a!=null&&C(e,["labels"],a);const l=S(t,["_self"]);l!=null&&C(e,["tunedModelInfo"],yot(l));const c=S(t,["defaultCheckpointId"]);c!=null&&C(e,["defaultCheckpointId"],c);const u=S(t,["checkpoints"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),C(e,["checkpoints"],f)}return e}function tot(t){const e={},n=S(t,["mediaResolution"]);n!=null&&C(e,["mediaResolution"],n);const r=S(t,["codeExecutionResult"]);r!=null&&C(e,["codeExecutionResult"],r);const i=S(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const s=S(t,["fileData"]);s!=null&&C(e,["fileData"],pst(s));const o=S(t,["functionCall"]);o!=null&&C(e,["functionCall"],mst(o));const a=S(t,["functionResponse"]);a!=null&&C(e,["functionResponse"],a);const l=S(t,["inlineData"]);l!=null&&C(e,["inlineData"],Fit(l));const c=S(t,["text"]);c!=null&&C(e,["text"],c);const u=S(t,["thought"]);u!=null&&C(e,["thought"],u);const f=S(t,["thoughtSignature"]);f!=null&&C(e,["thoughtSignature"],f);const m=S(t,["videoMetadata"]);return m!=null&&C(e,["videoMetadata"],m),e}function not(t){const e={},n=S(t,["productImage"]);return n!=null&&C(e,["image"],Al(n)),e}function rot(t,e){const n={},r=S(t,["numberOfImages"]);e!==void 0&&r!=null&&C(e,["parameters","sampleCount"],r);const i=S(t,["baseSteps"]);e!==void 0&&i!=null&&C(e,["parameters","baseSteps"],i);const s=S(t,["outputGcsUri"]);e!==void 0&&s!=null&&C(e,["parameters","storageUri"],s);const o=S(t,["seed"]);e!==void 0&&o!=null&&C(e,["parameters","seed"],o);const a=S(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&C(e,["parameters","safetySetting"],a);const l=S(t,["personGeneration"]);e!==void 0&&l!=null&&C(e,["parameters","personGeneration"],l);const c=S(t,["addWatermark"]);e!==void 0&&c!=null&&C(e,["parameters","addWatermark"],c);const u=S(t,["outputMimeType"]);e!==void 0&&u!=null&&C(e,["parameters","outputOptions","mimeType"],u);const f=S(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&C(e,["parameters","outputOptions","compressionQuality"],f);const m=S(t,["enhancePrompt"]);e!==void 0&&m!=null&&C(e,["parameters","enhancePrompt"],m);const g=S(t,["labels"]);return e!==void 0&&g!=null&&C(e,["labels"],g),n}function iot(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["source"]);i!=null&&oot(i,n);const s=S(e,["config"]);return s!=null&&rot(s,n),n}function sot(t){const e={},n=S(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>RN(i))),C(e,["generatedImages"],r)}return e}function oot(t,e){const n={},r=S(t,["prompt"]);e!==void 0&&r!=null&&C(e,["instances[0]","prompt"],r);const i=S(t,["personImage"]);e!==void 0&&i!=null&&C(e,["instances[0]","personImage","image"],Al(i));const s=S(t,["productImages"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>not(a))),C(e,["instances[0]","productImages"],o)}return n}function aot(t){const e={},n=S(t,["referenceImage"]);n!=null&&C(e,["referenceImage"],Al(n));const r=S(t,["referenceId"]);r!=null&&C(e,["referenceId"],r);const i=S(t,["referenceType"]);i!=null&&C(e,["referenceType"],i);const s=S(t,["maskImageConfig"]);s!=null&&C(e,["maskImageConfig"],eot(s));const o=S(t,["controlImageConfig"]);o!=null&&C(e,["controlImageConfig"],Kit(o));const a=S(t,["styleImageConfig"]);a!=null&&C(e,["styleImageConfig"],a);const l=S(t,["subjectImageConfig"]);return l!=null&&C(e,["subjectImageConfig"],l),e}function Ohe(t){const e={},n=S(t,["safetyAttributes","categories"]);n!=null&&C(e,["categories"],n);const r=S(t,["safetyAttributes","scores"]);r!=null&&C(e,["scores"],r);const i=S(t,["contentType"]);return i!=null&&C(e,["contentType"],i),e}function Mhe(t){const e={},n=S(t,["safetyAttributes","categories"]);n!=null&&C(e,["categories"],n);const r=S(t,["safetyAttributes","scores"]);r!=null&&C(e,["scores"],r);const i=S(t,["contentType"]);return i!=null&&C(e,["contentType"],i),e}function lot(t){const e={},n=S(t,["category"]);if(n!=null&&C(e,["category"],n),S(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=S(t,["threshold"]);return r!=null&&C(e,["threshold"],r),e}function cot(t){const e={},n=S(t,["image"]);return n!=null&&C(e,["image"],Al(n)),e}function uot(t,e){const n={},r=S(t,["mode"]);e!==void 0&&r!=null&&C(e,["parameters","mode"],r);const i=S(t,["maxPredictions"]);e!==void 0&&i!=null&&C(e,["parameters","maxPredictions"],i);const s=S(t,["confidenceThreshold"]);e!==void 0&&s!=null&&C(e,["parameters","confidenceThreshold"],s);const o=S(t,["maskDilation"]);e!==void 0&&o!=null&&C(e,["parameters","maskDilation"],o);const a=S(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&C(e,["parameters","binaryColorThreshold"],a);const l=S(t,["labels"]);return e!==void 0&&l!=null&&C(e,["labels"],l),n}function dot(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["source"]);i!=null&&hot(i,n);const s=S(e,["config"]);return s!=null&&uot(s,n),n}function fot(t){const e={},n=S(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Bst(i))),C(e,["generatedMasks"],r)}return e}function hot(t,e){const n={},r=S(t,["prompt"]);e!==void 0&&r!=null&&C(e,["instances[0]","prompt"],r);const i=S(t,["image"]);e!==void 0&&i!=null&&C(e,["instances[0]","image"],Al(i));const s=S(t,["scribbleImage"]);return e!==void 0&&s!=null&&C(e,["instances[0]","scribble"],cot(s)),n}function pot(t){const e={},n=S(t,["functionCallingConfig"]);n!=null&&C(e,["functionCallingConfig"],gst(n));const r=S(t,["retrievalConfig"]);return r!=null&&C(e,["retrievalConfig"],r),e}function mot(t){const e={},n=S(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>f)),C(e,["functionDeclarations"],u)}if(S(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=S(t,["googleSearchRetrieval"]);r!=null&&C(e,["googleSearchRetrieval"],r);const i=S(t,["computerUse"]);i!=null&&C(e,["computerUse"],i);const s=S(t,["fileSearch"]);s!=null&&C(e,["fileSearch"],s);const o=S(t,["codeExecution"]);if(o!=null&&C(e,["codeExecution"],o),S(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=S(t,["googleMaps"]);a!=null&&C(e,["googleMaps"],Hst(a));const l=S(t,["googleSearch"]);l!=null&&C(e,["googleSearch"],Vst(l));const c=S(t,["urlContext"]);return c!=null&&C(e,["urlContext"],c),e}function Dhe(t){const e={},n=S(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>yst(m))),C(e,["functionDeclarations"],f)}const r=S(t,["retrieval"]);r!=null&&C(e,["retrieval"],r);const i=S(t,["googleSearchRetrieval"]);i!=null&&C(e,["googleSearchRetrieval"],i);const s=S(t,["computerUse"]);if(s!=null&&C(e,["computerUse"],s),S(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=S(t,["codeExecution"]);o!=null&&C(e,["codeExecution"],o);const a=S(t,["enterpriseWebSearch"]);a!=null&&C(e,["enterpriseWebSearch"],a);const l=S(t,["googleMaps"]);l!=null&&C(e,["googleMaps"],l);const c=S(t,["googleSearch"]);c!=null&&C(e,["googleSearch"],c);const u=S(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}function got(t){const e={},n=S(t,["baseModel"]);n!=null&&C(e,["baseModel"],n);const r=S(t,["createTime"]);r!=null&&C(e,["createTime"],r);const i=S(t,["updateTime"]);return i!=null&&C(e,["updateTime"],i),e}function yot(t){const e={},n=S(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&C(e,["baseModel"],n);const r=S(t,["createTime"]);r!=null&&C(e,["createTime"],r);const i=S(t,["updateTime"]);return i!=null&&C(e,["updateTime"],i),e}function xot(t,e){const n={},r=S(t,["displayName"]);e!==void 0&&r!=null&&C(e,["displayName"],r);const i=S(t,["description"]);e!==void 0&&i!=null&&C(e,["description"],i);const s=S(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&C(e,["defaultCheckpointId"],s),n}function vot(t,e){const n={},r=S(t,["displayName"]);e!==void 0&&r!=null&&C(e,["displayName"],r);const i=S(t,["description"]);e!==void 0&&i!=null&&C(e,["description"],i);const s=S(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&C(e,["defaultCheckpointId"],s),n}function bot(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","name"],jn(t,r));const i=S(e,["config"]);return i!=null&&xot(i,n),n}function wot(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["config"]);return i!=null&&vot(i,n),n}function Eot(t,e){const n={},r=S(t,["outputGcsUri"]);e!==void 0&&r!=null&&C(e,["parameters","storageUri"],r);const i=S(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&C(e,["parameters","safetySetting"],i);const s=S(t,["personGeneration"]);e!==void 0&&s!=null&&C(e,["parameters","personGeneration"],s);const o=S(t,["includeRaiReason"]);e!==void 0&&o!=null&&C(e,["parameters","includeRaiReason"],o);const a=S(t,["outputMimeType"]);e!==void 0&&a!=null&&C(e,["parameters","outputOptions","mimeType"],a);const l=S(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&C(e,["parameters","outputOptions","compressionQuality"],l);const c=S(t,["enhanceInputImage"]);e!==void 0&&c!=null&&C(e,["parameters","upscaleConfig","enhanceInputImage"],c);const u=S(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&C(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const f=S(t,["labels"]);e!==void 0&&f!=null&&C(e,["labels"],f);const m=S(t,["numberOfImages"]);e!==void 0&&m!=null&&C(e,["parameters","sampleCount"],m);const g=S(t,["mode"]);return e!==void 0&&g!=null&&C(e,["parameters","mode"],g),n}function Sot(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["_url","model"],jn(t,r));const i=S(e,["image"]);i!=null&&C(n,["instances[0]","image"],Al(i));const s=S(e,["upscaleFactor"]);s!=null&&C(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=S(e,["config"]);return o!=null&&Eot(o,n),n}function Aot(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>RN(s))),C(e,["generatedImages"],i)}return e}function Tot(t){const e={},n=S(t,["uri"]);n!=null&&C(e,["uri"],n);const r=S(t,["encodedVideo"]);r!=null&&C(e,["videoBytes"],Sh(r));const i=S(t,["encoding"]);return i!=null&&C(e,["mimeType"],i),e}function Cot(t){const e={},n=S(t,["gcsUri"]);n!=null&&C(e,["uri"],n);const r=S(t,["bytesBase64Encoded"]);r!=null&&C(e,["videoBytes"],Sh(r));const i=S(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function kot(t){const e={},n=S(t,["image"]);n!=null&&C(e,["_self"],Al(n));const r=S(t,["maskMode"]);return r!=null&&C(e,["maskMode"],r),e}function Not(t){const e={},n=S(t,["image"]);n!=null&&C(e,["image"],ON(n));const r=S(t,["referenceType"]);return r!=null&&C(e,["referenceType"],r),e}function Iot(t){const e={},n=S(t,["image"]);n!=null&&C(e,["image"],Al(n));const r=S(t,["referenceType"]);return r!=null&&C(e,["referenceType"],r),e}function Lhe(t){const e={},n=S(t,["uri"]);n!=null&&C(e,["uri"],n);const r=S(t,["videoBytes"]);r!=null&&C(e,["encodedVideo"],Sh(r));const i=S(t,["mimeType"]);return i!=null&&C(e,["encoding"],i),e}function Bhe(t){const e={},n=S(t,["uri"]);n!=null&&C(e,["gcsUri"],n);const r=S(t,["videoBytes"]);r!=null&&C(e,["bytesBase64Encoded"],Sh(r));const i=S(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pot(t,e){const n={},r=S(t,["displayName"]);return e!==void 0&&r!=null&&C(e,["displayName"],r),n}function _ot(t){const e={},n=S(t,["config"]);return n!=null&&Pot(n,e),e}function Rot(t,e){const n={},r=S(t,["force"]);return e!==void 0&&r!=null&&C(e,["_query","force"],r),n}function Oot(t){const e={},n=S(t,["name"]);n!=null&&C(e,["_url","name"],n);const r=S(t,["config"]);return r!=null&&Rot(r,e),e}function Mot(t){const e={},n=S(t,["name"]);return n!=null&&C(e,["_url","name"],n),e}function Dot(t,e){const n={},r=S(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),C(e,["customMetadata"],s)}const i=S(t,["chunkingConfig"]);return e!==void 0&&i!=null&&C(e,["chunkingConfig"],i),n}function Lot(t){const e={},n=S(t,["name"]);n!=null&&C(e,["name"],n);const r=S(t,["metadata"]);r!=null&&C(e,["metadata"],r);const i=S(t,["done"]);i!=null&&C(e,["done"],i);const s=S(t,["error"]);s!=null&&C(e,["error"],s);const o=S(t,["response"]);return o!=null&&C(e,["response"],jot(o)),e}function Bot(t){const e={},n=S(t,["fileSearchStoreName"]);n!=null&&C(e,["_url","file_search_store_name"],n);const r=S(t,["fileName"]);r!=null&&C(e,["fileName"],r);const i=S(t,["config"]);return i!=null&&Dot(i,e),e}function jot(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["parent"]);r!=null&&C(e,["parent"],r);const i=S(t,["documentName"]);return i!=null&&C(e,["documentName"],i),e}function Uot(t,e){const n={},r=S(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=S(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),n}function Fot(t){const e={},n=S(t,["config"]);return n!=null&&Uot(n,e),e}function zot(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=S(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),C(e,["fileSearchStores"],s)}return e}function jhe(t,e){const n={},r=S(t,["mimeType"]);e!==void 0&&r!=null&&C(e,["mimeType"],r);const i=S(t,["displayName"]);e!==void 0&&i!=null&&C(e,["displayName"],i);const s=S(t,["customMetadata"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),C(e,["customMetadata"],a)}const o=S(t,["chunkingConfig"]);return e!==void 0&&o!=null&&C(e,["chunkingConfig"],o),n}function $ot(t){const e={},n=S(t,["fileSearchStoreName"]);n!=null&&C(e,["_url","file_search_store_name"],n);const r=S(t,["config"]);return r!=null&&jhe(r,e),e}function Hot(t){const e={},n=S(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vot="Content-Type",Got="X-Server-Timeout",qot="User-Agent",DD="x-goog-api-client",Kot="1.34.0",Wot=`google-genai-sdk/${Kot}`,Yot="v1beta1",Jot="v1beta";class Xot{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Yot,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Jot,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,a]of Object.entries(e.queryParams))i.searchParams.append(o,String(a));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>s.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&Qot(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await TQ(i),new PD(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await TQ(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return fl(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:u}=yield Zt(i.read());if(c){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(u,{stream:!0});try{const x=JSON.parse(f);if("error"in x){const v=JSON.parse(JSON.stringify(x.error)),w=v.status,E=v.code,k=`got status: ${w}. ${JSON.stringify(x)}`;if(E>=400&&E<600)throw new PN({message:k,status:E})}}catch(x){if(x.name==="ApiError")throw x}o+=f;let m=-1,g=0;for(;;){m=-1,g=0;for(const w of l){const E=o.indexOf(w);E!==-1&&(m===-1||E<m)&&(m=E,g=w.length)}if(m===-1)break;const x=o.substring(0,m);o=o.substring(m+g);const v=x.trim();if(v.startsWith(a)){const w=v.substring(a.length).trim();try{const E=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Zt(new PD(E))}catch(E){throw new Error(`exception parsing stream chunk ${w}. ${E}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Wot+" "+this.clientOptions.userAgentExtra;return e[qot]=n,e[DD]=n,e[Vot]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(Got,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},c=this.getFileName(e),u=yt("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(u,i.sizeBytes,i.mimeType,c,l,n==null?void 0:n.httpOptions);return s.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,o=await s.stat(n),a=String(o.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(n),f={};r!=null&&jhe(r,f);const m=await this.fetchUploadUrl(c,a,l,u,f,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,o){var a;let l={};o?l=o:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(a=c==null?void 0:c.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function TQ(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new PN({message:i,status:n}):new Error(i)}}function Qot(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const a=Object.assign({},s);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const c=o[l],u=a[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?a[l]=r(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),a[l]=c)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zot="mcp_used/unknown";let eat=!1;function Uhe(t){for(const e of t)if(tat(e)||typeof e=="object"&&"inputSchema"in e)return!0;return eat}function Fhe(t){var e;const n=(e=t[DD])!==null&&e!==void 0?e:"";t[DD]=(n+` ${Zot}`).trimStart()}function tat(t){return t!==null&&typeof t=="object"&&t instanceof C7}function nat(t){return fl(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){const o=yield Zt(n.listTools({cursor:i}));for(const a of o.tools)yield yield Zt(a),s++;if(!o.nextCursor)break;i=o.nextCursor}})}class C7{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new C7(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const u of this.mcpClients)try{for(var a=!0,l=(n=void 0,hl(nat(u))),c;c=await l.next(),e=c.done,!e;a=!0){i=c.value,a=!1;const f=i;o.push(f);const m=f.name;if(s[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);s[m]=u}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),Mnt(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rat(t,e,n){const r=new Cnt;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class iat{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=aat(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${a}`;let c=()=>{};const u=new Promise(I=>{c=I}),f=e.callbacks,m=function(){c({})},g=this.apiClient,x={onopen:m,onmessage:I=>{rat(g,f.onmessage,I)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(I){}},v=this.webSocketFactory.create(l,oat(o),x);v.connect(),await u;const k={setup:{model:jn(this.apiClient,e.model)}};return v.send(JSON.stringify(k)),new sat(v,this.apiClient)}}class sat{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=_it(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Pit(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(hg.PLAY)}pause(){this.sendPlaybackControl(hg.PAUSE)}stop(){this.sendPlaybackControl(hg.STOP)}resetContext(){this.sendPlaybackControl(hg.RESET_CONTEXT)}close(){this.conn.close()}}function oat(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function aat(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lat="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function cat(t,e,n){const r=new Tnt;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=Mit(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}class uat{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new iat(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&Uhe(e.config.tools)&&Fhe(f);const m=pat(f);if(this.apiClient.isVertexAI())u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,u);else{const F=this.apiClient.getApiKey();let z="BidiGenerateContent",K="key";F!=null&&F.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),z="BidiGenerateContentConstrained",K="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${z}?${K}=${F}`}let g=()=>{};const x=new Promise(F=>{g=F}),v=e.callbacks,w=function(){var F;(F=v==null?void 0:v.onopen)===null||F===void 0||F.call(v),g({})},E=this.apiClient,k={onopen:w,onmessage:F=>{cat(E,v.onmessage,F)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(F){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(F){}},I=this.webSocketFactory.create(u,hat(m),k);I.connect(),await x;let D=jn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const F=this.apiClient.getProject(),z=this.apiClient.getLocation();D=`projects/${F}/locations/${z}/`+D}let j={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[h2.AUDIO]}:e.config.responseModalities=[h2.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(a=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[],U=[];for(const F of M)if(this.isCallableTool(F)){const z=F;U.push(await z.tool())}else U.push(F);U.length>0&&(e.config.tools=U);const V={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?j=Iit(this.apiClient,V):j=Nit(this.apiClient,V),delete j.config,I.send(JSON.stringify(j)),new fat(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const dat={turnComplete:!0};class fat{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ia(n.turns),e.isVertexAI()||(r=r.map(i=>_N(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(lat)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},dat),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Oit(e)}:n={realtimeInput:Rit(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function hat(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function pat(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CQ=10;function kQ(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if($g(o)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function $g(t){return"callTool"in t&&typeof t.callTool=="function"}function mat(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>$g(i)))!==null&&r!==void 0?r:!1}function NQ(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if($g(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function IQ(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gat extends Cd{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!mat(n)||kQ(n.config))return await this.generateContentInternal(l);const c=NQ(n);if(c.length>0){const v=c.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let u,f;const m=Ia(l.contents),g=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:CQ;let x=0;for(;x<g&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const v=u.candidates[0].content,w=[];for(const E of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if($g(E)){const I=await E.callTool(u.functionCalls);w.push(...I)}x++,f={role:"user",parts:w},l.contents=Ia(l.contents),l.contents.push(v),l.contents.push(f),IQ(l.config)&&(m.push(v),m.push(f))}return IQ(l.config)&&(u.automaticFunctionCallingHistory=m),u},this.generateContentStream=async n=>{var r,i,s,o,a;if(this.maybeMoveToResponseJsonSchem(n),kQ(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=NQ(n);if(l.length>0){const f=l.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(s=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,u=(a=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(c&&!u)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:o.push(l);let a;return s?a={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new jm(hd.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const o=await Promise.all(s.map(async l=>$g(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(a.config.tools=o,e.config&&e.config.tools&&Uhe(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),Fhe(c),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if($g(o)){const a=o,l=await a.tool();for(const c of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,a)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:CQ;let o=!1,a=0;const l=await this.initAfcToolsMap(e);return(function(c,u,f){return fl(this,arguments,function*(){for(var m,g,x,v,w,E;a<s;){o&&(a++,o=!1);const j=yield Zt(c.processParamsMaybeAddMcpUsage(f)),M=yield Zt(c.generateContentStreamInternal(j)),U=[],V=[];try{for(var k=!0,I=(g=void 0,hl(M)),D;D=yield Zt(I.next()),m=D.done,!m;k=!0){v=D.value,k=!1;const F=v;if(yield yield Zt(F),F.candidates&&(!((w=F.candidates[0])===null||w===void 0)&&w.content)){V.push(F.candidates[0].content);for(const z of(E=F.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(a<s&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(z.functionCall.name)){const K=yield Zt(u.get(z.functionCall.name).callTool([z.functionCall]));U.push(...K)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(F){g={error:F}}finally{try{!k&&!m&&(x=I.return)&&(yield Zt(x.call(I)))}finally{if(g)throw g.error}}if(U.length>0){o=!0;const F=new hb;F.candidates=[{content:{role:"user",parts:U}}],yield yield Zt(F);const z=[];z.push(...V),z.push({role:"user",parts:U});const K=Ia(f.contents).concat(z);f.contents=K}else break}})})(this,l,e)}async generateContentInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=EQ(this.apiClient,e);return a=yt("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=AQ(u),m=new hb;return Object.assign(m,f),m})}else{const c=wQ(this.apiClient,e);return a=yt("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=SQ(u),m=new hb;return Object.assign(m,f),m})}}async generateContentStreamInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=EQ(this.apiClient,e);return a=yt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return fl(this,arguments,function*(){var m,g,x,v;try{for(var w=!0,E=hl(f),k;k=yield Zt(E.next()),m=k.done,!m;w=!0){v=k.value,w=!1;const I=v,D=AQ(yield Zt(I.json()));D.sdkHttpResponse={headers:I.headers};const j=new hb;Object.assign(j,D),yield yield Zt(j)}}catch(I){g={error:I}}finally{try{!w&&!m&&(x=E.return)&&(yield Zt(x.call(E)))}finally{if(g)throw g.error}}})})}else{const c=wQ(this.apiClient,e);return a=yt("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(f){return fl(this,arguments,function*(){var m,g,x,v;try{for(var w=!0,E=hl(f),k;k=yield Zt(E.next()),m=k.done,!m;w=!0){v=k.value,w=!1;const I=v,D=SQ(yield Zt(I.json()));D.sdkHttpResponse={headers:I.headers};const j=new hb;Object.assign(j,D),yield yield Zt(j)}}catch(I){g={error:I}}finally{try{!w&&!m&&(x=E.return)&&(yield Zt(x.call(E)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=ust(this.apiClient,e);return a=yt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=fst(u),m=new iQ;return Object.assign(m,f),m})}else{const c=cst(this.apiClient,e);return a=yt("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=dst(u),m=new iQ;return Object.assign(m,f),m})}}async generateImagesInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Sst(this.apiClient,e);return a=yt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=Tst(u),m=new sQ;return Object.assign(m,f),m})}else{const c=Est(this.apiClient,e);return a=yt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=Ast(u),m=new sQ;return Object.assign(m,f),m})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=sst(this.apiClient,e);return s=yt("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=ost(l),u=new pnt;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=Sot(this.apiClient,e);return s=yt("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=Aot(l),u=new mnt;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=iot(this.apiClient,e);return s=yt("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=sot(l),u=new gnt;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=dot(this.apiClient,e);return s=yt("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=fot(l),u=new ynt;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=$st(this.apiClient,e);return a=yt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>MD(u))}else{const c=zst(this.apiClient,e);return a=yt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>OD(u))}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Xst(this.apiClient,e);return a=yt("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=Zst(u),m=new oQ;return Object.assign(m,f),m})}else{const c=Jst(this.apiClient,e);return a=yt("{models_url}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=Qst(u),m=new oQ;return Object.assign(m,f),m})}}async update(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=wot(this.apiClient,e);return a=yt("{model}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>MD(u))}else{const c=bot(this.apiClient,e);return a=yt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>OD(u))}}async delete(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=tst(this.apiClient,e);return a=yt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=rst(u),m=new aQ;return Object.assign(m,f),m})}else{const c=est(this.apiClient,e);return a=yt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=nst(u),m=new aQ;return Object.assign(m,f),m})}}async countTokens(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Xit(this.apiClient,e);return a=yt("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=Zit(u),m=new lQ;return Object.assign(m,f),m})}else{const c=Jit(this.apiClient,e);return a=yt("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=Qit(u),m=new lQ;return Object.assign(m,f),m})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=Hit(this.apiClient,e);return s=yt("{model}:computeTokens",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>{const c=Vit(l),u=new xnt;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=_st(this.apiClient,e);return a=yt("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const f=Ist(u),m=new p2;return Object.assign(m,f),m})}else{const c=Pst(this.apiClient,e);return a=yt("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>{const f=Nst(u),m=new p2;return Object.assign(m,f),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yat extends Cd{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=lnt(e);return a=yt("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o}else{const c=ant(e);return a=yt("{operationName}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=ent(e);return s=yt("{resourceName}:fetchPredictOperation",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xat(t){const e={},n=S(t,["data"]);if(n!=null&&C(e,["data"],n),S(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=S(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function vat(t){const e={},n=S(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Nat(s))),C(e,["parts"],i)}const r=S(t,["role"]);return r!=null&&C(e,["role"],r),e}function bat(t,e,n){const r={},i=S(e,["expireTime"]);n!==void 0&&i!=null&&C(n,["expireTime"],i);const s=S(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&C(n,["newSessionExpireTime"],s);const o=S(e,["uses"]);n!==void 0&&o!=null&&C(n,["uses"],o);const a=S(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&C(n,["bidiGenerateContentSetup"],kat(t,a));const l=S(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&C(n,["fieldMask"],l),r}function wat(t,e){const n={},r=S(e,["config"]);return r!=null&&C(n,["config"],bat(t,r,n)),n}function Eat(t){const e={};if(S(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=S(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const r=S(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function Sat(t){const e={},n=S(t,["id"]);n!=null&&C(e,["id"],n);const r=S(t,["args"]);r!=null&&C(e,["args"],r);const i=S(t,["name"]);if(i!=null&&C(e,["name"],i),S(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(S(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Aat(t){const e={};if(S(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=S(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function Tat(t){const e={};if(S(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(S(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=S(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function Cat(t,e){const n={},r=S(t,["generationConfig"]);e!==void 0&&r!=null&&C(e,["setup","generationConfig"],r);const i=S(t,["responseModalities"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig","responseModalities"],i);const s=S(t,["temperature"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig","temperature"],s);const o=S(t,["topP"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","topP"],o);const a=S(t,["topK"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","topK"],a);const l=S(t,["maxOutputTokens"]);e!==void 0&&l!=null&&C(e,["setup","generationConfig","maxOutputTokens"],l);const c=S(t,["mediaResolution"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","mediaResolution"],c);const u=S(t,["seed"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","seed"],u);const f=S(t,["speechConfig"]);e!==void 0&&f!=null&&C(e,["setup","generationConfig","speechConfig"],T7(f));const m=S(t,["thinkingConfig"]);e!==void 0&&m!=null&&C(e,["setup","generationConfig","thinkingConfig"],m);const g=S(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=S(t,["systemInstruction"]);e!==void 0&&x!=null&&C(e,["setup","systemInstruction"],vat(vs(x)));const v=S(t,["tools"]);if(e!==void 0&&v!=null){let M=Wx(v);Array.isArray(M)&&(M=M.map(U=>Pat(Kx(U)))),C(e,["setup","tools"],M)}const w=S(t,["sessionResumption"]);e!==void 0&&w!=null&&C(e,["setup","sessionResumption"],Iat(w));const E=S(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&C(e,["setup","inputAudioTranscription"],E);const k=S(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&C(e,["setup","outputAudioTranscription"],k);const I=S(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&C(e,["setup","realtimeInputConfig"],I);const D=S(t,["contextWindowCompression"]);e!==void 0&&D!=null&&C(e,["setup","contextWindowCompression"],D);const j=S(t,["proactivity"]);if(e!==void 0&&j!=null&&C(e,["setup","proactivity"],j),S(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function kat(t,e){const n={},r=S(e,["model"]);r!=null&&C(n,["setup","model"],jn(t,r));const i=S(e,["config"]);return i!=null&&C(n,["config"],Cat(i,n)),n}function Nat(t){const e={},n=S(t,["mediaResolution"]);n!=null&&C(e,["mediaResolution"],n);const r=S(t,["codeExecutionResult"]);r!=null&&C(e,["codeExecutionResult"],r);const i=S(t,["executableCode"]);i!=null&&C(e,["executableCode"],i);const s=S(t,["fileData"]);s!=null&&C(e,["fileData"],Eat(s));const o=S(t,["functionCall"]);o!=null&&C(e,["functionCall"],Sat(o));const a=S(t,["functionResponse"]);a!=null&&C(e,["functionResponse"],a);const l=S(t,["inlineData"]);l!=null&&C(e,["inlineData"],xat(l));const c=S(t,["text"]);c!=null&&C(e,["text"],c);const u=S(t,["thought"]);u!=null&&C(e,["thought"],u);const f=S(t,["thoughtSignature"]);f!=null&&C(e,["thoughtSignature"],f);const m=S(t,["videoMetadata"]);return m!=null&&C(e,["videoMetadata"],m),e}function Iat(t){const e={},n=S(t,["handle"]);if(n!=null&&C(e,["handle"],n),S(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Pat(t){const e={},n=S(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>f)),C(e,["functionDeclarations"],u)}if(S(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=S(t,["googleSearchRetrieval"]);r!=null&&C(e,["googleSearchRetrieval"],r);const i=S(t,["computerUse"]);i!=null&&C(e,["computerUse"],i);const s=S(t,["fileSearch"]);s!=null&&C(e,["fileSearch"],s);const o=S(t,["codeExecution"]);if(o!=null&&C(e,["codeExecution"],o),S(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=S(t,["googleMaps"]);a!=null&&C(e,["googleMaps"],Aat(a));const l=S(t,["googleSearch"]);l!=null&&C(e,["googleSearch"],Tat(l));const c=S(t,["urlContext"]);return c!=null&&C(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _at(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function Rat(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=_at(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(c=>o.includes(c)?`generationConfig.${c}`:c));const l=[];s&&l.push(s),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Oat extends Cd{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=wat(this.apiClient,e);s=yt("auth_tokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query;const l=Rat(a,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mat(t,e){const n={},r=S(t,["force"]);return e!==void 0&&r!=null&&C(e,["_query","force"],r),n}function Dat(t){const e={},n=S(t,["name"]);n!=null&&C(e,["_url","name"],n);const r=S(t,["config"]);return r!=null&&Mat(r,e),e}function Lat(t){const e={},n=S(t,["name"]);return n!=null&&C(e,["_url","name"],n),e}function Bat(t,e){const n={},r=S(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const i=S(t,["pageToken"]);return e!==void 0&&i!=null&&C(e,["_query","pageToken"],i),n}function jat(t){const e={},n=S(t,["parent"]);n!=null&&C(e,["_url","parent"],n);const r=S(t,["config"]);return r!=null&&Bat(r,e),e}function Uat(t){const e={},n=S(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const r=S(t,["nextPageToken"]);r!=null&&C(e,["nextPageToken"],r);const i=S(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),C(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fat extends Cd{constructor(e){super(),this.apiClient=e,this.list=async n=>new jm(hd.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Lat(e);return s=yt("{name}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Dat(e);i=yt("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=jat(e);return s=yt("{parent}/documents",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Uat(l),u=new vnt;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zat extends Cd{constructor(e,n=new Fat(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new jm(hd.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_ot(e);return s=yt("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Mot(e);return s=yt("{name}",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Oot(e);i=yt("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Fot(e);return s=yt("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=zot(l),u=new bnt;return Object.assign(u,c),u})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$ot(e);return s=yt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Hot(l),u=new wnt;return Object.assign(u,c),u})}}async importFile(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Bot(e);return s=yt("{file_search_store_name}:importFile",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const c=Lot(l),u=new b7;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let zhe=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return zhe=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const $at=()=>zhe();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LD(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const BD=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class La extends Error{}class zs extends La{constructor(e,n,r,i){super(`${zs.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new MN({message:r,cause:BD(n)});const s=n;return e===400?new Hhe(e,s,r,i):e===401?new Vhe(e,s,r,i):e===403?new Ghe(e,s,r,i):e===404?new qhe(e,s,r,i):e===409?new Khe(e,s,r,i):e===422?new Whe(e,s,r,i):e===429?new Yhe(e,s,r,i):e>=500?new Jhe(e,s,r,i):new zs(e,s,r,i)}}class jD extends zs{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class MN extends zs{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class $he extends MN{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Hhe extends zs{}class Vhe extends zs{}class Ghe extends zs{}class qhe extends zs{}class Khe extends zs{}class Whe extends zs{}class Yhe extends zs{}class Jhe extends zs{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hat=/^[a-z][a-z0-9+.-]*:/i,Vat=t=>Hat.test(t);let UD=t=>(UD=Array.isArray,UD(t));const Gat=UD;let qat=Gat;const PQ=qat;function Kat(t){if(!t)return!0;for(const e in t)return!1;return!0}function Wat(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Yat=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new La(`${t} must be an integer`);if(e<0)throw new La(`${t} must be a positive integer`);return e},Jat=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xat=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Z0="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qat(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Zat=()=>{var t,e,n,r,i;const s=Qat();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Z0,"X-Stainless-OS":RQ(Deno.build.os),"X-Stainless-Arch":_Q(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Z0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Z0,"X-Stainless-OS":RQ((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":_Q((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=elt();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Z0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Z0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function elt(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const _Q=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",RQ=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let yA;const tlt=()=>yA??(yA=Zat());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nlt(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Xhe(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function rlt(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Xhe({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Qhe(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function ilt(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const slt=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zhe=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function W3(t,e,n){return Zhe(),new File(t,e??"unknown_file",n)}function olt(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const alt=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const epe=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",llt=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&epe(t),clt=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function ult(t,e,n){if(Zhe(),t=await t,llt(t))return t instanceof File?t:W3([await t.arrayBuffer()],t.name);if(clt(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),W3(await FD(i),e,n)}const r=await FD(t);if(e||(e=olt(t)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return W3(r,e,n)}async function FD(t){var e,n,r,i,s;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(epe(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(alt(t))try{for(var a=!0,l=hl(t),c;c=await l.next(),e=c.done,!e;a=!0){i=c.value,a=!1;const u=i;o.push(...await FD(u))}}catch(u){n={error:u}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const u=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${u?`; constructor: ${u}`:""}${dlt(t)}`)}return o}function dlt(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tpe{constructor(e){this._client=e}}tpe._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function npe(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const OQ=Object.freeze(Object.create(null)),flt=(t=npe)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((u,f,m)=>{var g,x,v;/[?#]/.test(f)&&(i=!0);const w=r[m];let E=(i?encodeURIComponent:t)(""+w);return m!==r.length&&(w==null||typeof w=="object"&&w.toString===((v=Object.getPrototypeOf((x=Object.getPrototypeOf((g=w.hasOwnProperty)!==null&&g!==void 0?g:OQ))!==null&&x!==void 0?x:OQ))===null||v===void 0?void 0:v.toString))&&(E=w+"",s.push({start:u.length+f.length,length:E.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),u+f+(m===r.length?"":E)},""),a=o.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(a))!==null;)s.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(s.sort((u,f)=>u.start-f.start),s.length>0){let u=0;const f=s.reduce((m,g)=>{const x=" ".repeat(g.start-u),v="^".repeat(g.length);return u=g.start+g.length,m+x+v},"");throw new La(`Path parameters result in path with invalid segments:
${s.map(m=>m.error).join(`
`)}
${o}
${f}`)}return o}),xA=flt(npe);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rpe extends tpe{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,s=g2(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new La("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new La("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xA`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(xA`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(xA`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const s=n??{},{api_version:o=this._client.apiVersion}=s,a=g2(s,["api_version"]);return this._client.get(xA`/${o}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}rpe._key=Object.freeze(["interactions"]);class ipe extends rpe{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hlt(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let vA;function k7(t){let e;return(vA??(e=new globalThis.TextEncoder,vA=e.encode.bind(e)))(t)}let bA;function MQ(t){let e;return(bA??(e=new globalThis.TextDecoder,bA=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DN{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?k7(e):e;this.buffer=hlt([this.buffer,n]);const r=[];let i;for(;(i=plt(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(MQ(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=MQ(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}DN.NEWLINE_CHARS=new Set([`
`,"\r"]);DN.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function plt(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function mlt(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const y2={off:0,error:200,warn:300,info:400,debug:500},DQ=(t,e,n)=>{if(t){if(Wat(y2,t))return t;Ns(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(y2))}`)}};function Ib(){}function wA(t,e,n){return!e||y2[t]>y2[n]?Ib:e[t].bind(e)}const glt={error:Ib,warn:Ib,info:Ib,debug:Ib};let LQ=new WeakMap;function Ns(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return glt;const i=LQ.get(n);if(i&&i[0]===r)return i[1];const s={error:wA("error",n,r),warn:wA("warn",n,r),info:wA("info",n,r),debug:wA("debug",n,r)};return LQ.set(n,[r,s]),s}const ip=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ylt=class Pb{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const s=r?Ns(r):console;function o(){return fl(this,arguments,function*(){var l,c,u,f;if(i)throw new La("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let m=!1;try{try{for(var g=!0,x=hl(xlt(e,n)),v;v=yield Zt(x.next()),l=v.done,!l;g=!0){f=v.value,g=!1;const w=f;if(!m)if(w.data.startsWith("[DONE]")){m=!0;continue}else try{yield yield Zt(JSON.parse(w.data))}catch(E){throw s.error("Could not parse message into JSON:",w.data),s.error("From chunk:",w.raw),E}}}catch(w){c={error:w}}finally{try{!g&&!l&&(u=x.return)&&(yield Zt(u.call(x)))}finally{if(c)throw c.error}}m=!0}catch(w){if(LD(w))return yield Zt(void 0);throw w}finally{m||n.abort()}})}return new Pb(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return fl(this,arguments,function*(){var l,c,u,f;const m=new DN,g=Qhe(e);try{for(var x=!0,v=hl(g),w;w=yield Zt(v.next()),l=w.done,!l;x=!0){f=w.value,x=!1;const E=f;for(const k of m.decode(E))yield yield Zt(k)}}catch(E){c={error:E}}finally{try{!x&&!l&&(u=v.return)&&(yield Zt(u.call(v)))}finally{if(c)throw c.error}}for(const E of m.flush())yield yield Zt(E)})}function o(){return fl(this,arguments,function*(){var l,c,u,f;if(i)throw new La("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let m=!1;try{try{for(var g=!0,x=hl(s()),v;v=yield Zt(x.next()),l=v.done,!l;g=!0){f=v.value,g=!1;const w=f;m||w&&(yield yield Zt(JSON.parse(w)))}}catch(w){c={error:w}}finally{try{!g&&!l&&(u=x.return)&&(yield Zt(u.call(x)))}finally{if(c)throw c.error}}m=!0}catch(w){if(LD(w))return yield Zt(void 0);throw w}finally{m||n.abort()}})}return new Pb(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new Pb(()=>i(e),this.controller,this.client),new Pb(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Xhe({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=k7(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}};function xlt(t,e){return fl(this,arguments,function*(){var r,i,s,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new La("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new La("Attempted to iterate over a response with no body");const a=new blt,l=new DN,c=Qhe(t.body);try{for(var u=!0,f=hl(vlt(c)),m;m=yield Zt(f.next()),r=m.done,!r;u=!0){o=m.value,u=!1;const g=o;for(const x of l.decode(g)){const v=a.decode(x);v&&(yield yield Zt(v))}}}catch(g){i={error:g}}finally{try{!u&&!r&&(s=f.return)&&(yield Zt(s.call(f)))}finally{if(i)throw i.error}}for(const g of l.flush()){const x=a.decode(g);x&&(yield yield Zt(x))}})}function vlt(t){return fl(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var a=!0,l=hl(t),c;c=yield Zt(l.next()),n=c.done,!n;a=!0){s=c.value,a=!1;const u=s;if(u==null)continue;const f=u instanceof ArrayBuffer?new Uint8Array(u):typeof u=="string"?k7(u):u;let m=new Uint8Array(o.length+f.length);m.set(o),m.set(f,o.length),o=m;let g;for(;(g=mlt(o))!==-1;)yield yield Zt(o.slice(0,g)),o=o.slice(g)}}catch(u){r={error:u}}finally{try{!a&&!n&&(i=l.return)&&(yield Zt(i.call(l)))}finally{if(r)throw r.error}}o.length>0&&(yield yield Zt(o))})}class blt{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=wlt(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function wlt(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Elt(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var a;if(e.options.stream)return Ns(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):ylt.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),c=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await n.json():await n.text()})();return Ns(t).debug(`[${r}] response parsed`,ip({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N7 extends Promise{constructor(e,n,r=Elt){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new N7(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const spe=Symbol("brand.privateNullableHeaders");function*Slt(t){if(!t)return;if(spe in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():PQ(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=PQ(r[1])?r[1]:[r[1]];let o=!1;for(const a of s)a!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,a])}}const pb=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,o]of Slt(r)){const a=s.toLowerCase();i.has(a)||(e.delete(s),i.add(a)),o===null?(e.delete(s),n.add(a)):(e.append(s,o),n.delete(a))}}return{[spe]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y3=t=>{var e,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(e=Wtt)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ope;class LN{constructor(e){var n,r,i,s,o,a,l,{baseURL:c=Y3("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=(n=Y3("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,m=g2(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:u,apiVersion:f},m),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:LN.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const x="warn";this.logLevel=x,this.logLevel=(o=(s=DQ(g.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:DQ(Y3("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:x,this.fetchOptions=g.fetchOptions,this.maxRetries=(a=g.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:nlt(),this.encoder=slt,this._options=g,this.apiKey=u,this.apiVersion=f,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=pb([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return pb([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return pb([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new La(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Z0}`}defaultIdempotencyKey(){return`stainless-node-retry-${$at()}`}makeStatusError(e,n,r,i){return zs.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=Vat(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return Kat(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new N7(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,s,o;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:c,url:u,timeout:f}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(c,{url:u,options:a});const m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,x=Date.now();if(Ns(this).debug(`[${m}] sending request`,ip({retryOfRequestLogID:r,method:a.method,url:u,options:a,headers:c.headers})),!((s=a.signal)===null||s===void 0)&&s.aborted)throw new jD;const v=new AbortController,w=await this.fetchWithTimeout(u,c,f,v).catch(BD),E=Date.now();if(w instanceof globalThis.Error){const I=`retrying, ${n} attempts remaining`;if(!((o=a.signal)===null||o===void 0)&&o.aborted)throw new jD;const D=LD(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return Ns(this).info(`[${m}] connection ${D?"timed out":"failed"} - ${I}`),Ns(this).debug(`[${m}] connection ${D?"timed out":"failed"} (${I})`,ip({retryOfRequestLogID:r,url:u,durationMs:E-x,message:w.message})),this.retryRequest(a,n,r??m);throw Ns(this).info(`[${m}] connection ${D?"timed out":"failed"} - error; no more retries left`),Ns(this).debug(`[${m}] connection ${D?"timed out":"failed"} (error; no more retries left)`,ip({retryOfRequestLogID:r,url:u,durationMs:E-x,message:w.message})),D?new $he:new MN({cause:w})}const k=`[${m}${g}] ${c.method} ${u} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${E-x}ms`;if(!w.ok){const I=await this.shouldRetry(w);if(n&&I){const F=`retrying, ${n} attempts remaining`;return await ilt(w.body),Ns(this).info(`${k} - ${F}`),Ns(this).debug(`[${m}] response error (${F})`,ip({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:E-x})),this.retryRequest(a,n,r??m,w.headers)}const D=I?"error; no more retries left":"error; not retryable";Ns(this).info(`${k} - ${D}`);const j=await w.text().catch(F=>BD(F).message),M=Jat(j),U=M?void 0:j;throw Ns(this).debug(`[${m}] response error (${D})`,ip({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:U,durationMs:Date.now()-x})),this.makeStatusError(w.status,M,U,w.headers)}return Ns(this).info(k),Ns(this).debug(`[${m}] response start`,ip({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:E-x})),{response:w,options:a,controller:v,requestLogID:m,retryOfRequestLogID:r,startTime:x}}async fetchWithTimeout(e,n,r,i){const s=n||{},{signal:o,method:a}=s,l=g2(s,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const c=setTimeout(()=>i.abort(),r),u=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},u?{duplex:"half"}:{}),{method:"GET"}),l);a&&(f.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(c)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var s;let o;const a=i==null?void 0:i.get("retry-after-ms");if(a){const c=parseFloat(a);Number.isNaN(c)||(o=c)}const l=i==null?void 0:i.get("retry-after");if(l&&!o){const c=parseFloat(l);Number.isNaN(c)?o=Date.parse(l)-Date.now():o=c*1e3}if(!(o&&0<=o&&o<60*1e3)){const c=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,c)}return await Xat(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),a=1-Math.random()*.25;return o*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,s;const o=Object.assign({},e),{method:a,path:l,query:c,defaultBaseURL:u}=o,f=this.buildURL(l,c,u);"timeout"in o&&Yat("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:m,body:g}=this.buildBody({options:o}),x=await this.buildHeaders({options:e,method:a,bodyHeaders:m,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:x},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:f,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let a=pb([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),tlt()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=pb([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:rlt(e)}:this.encoder({body:e,headers:r})}}LN.DEFAULT_TIMEOUT=6e4;class Li extends LN{constructor(){super(...arguments),this.interactions=new ipe(this)}}ope=Li;Li.GeminiNextGenAPIClient=ope;Li.GeminiNextGenAPIClientError=La;Li.APIError=zs;Li.APIConnectionError=MN;Li.APIConnectionTimeoutError=$he;Li.APIUserAbortError=jD;Li.NotFoundError=qhe;Li.ConflictError=Khe;Li.RateLimitError=Yhe;Li.BadRequestError=Hhe;Li.AuthenticationError=Vhe;Li.InternalServerError=Jhe;Li.PermissionDeniedError=Ghe;Li.UnprocessableEntityError=Whe;Li.toFile=ult;Li.Interactions=ipe;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Alt(t,e){const n={},r=S(t,["name"]);return r!=null&&C(n,["_url","name"],r),n}function Tlt(t,e){const n={},r=S(t,["name"]);return r!=null&&C(n,["_url","name"],r),n}function Clt(t,e){const n={},r=S(t,["sdkHttpResponse"]);return r!=null&&C(n,["sdkHttpResponse"],r),n}function klt(t,e){const n={},r=S(t,["sdkHttpResponse"]);return r!=null&&C(n,["sdkHttpResponse"],r),n}function Nlt(t,e,n){const r={};if(S(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=S(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&C(e,["displayName"],i),S(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=S(t,["epochCount"]);e!==void 0&&s!=null&&C(e,["tuningTask","hyperparameters","epochCount"],s);const o=S(t,["learningRateMultiplier"]);if(o!=null&&C(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),S(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(S(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(S(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=S(t,["batchSize"]);e!==void 0&&a!=null&&C(e,["tuningTask","hyperparameters","batchSize"],a);const l=S(t,["learningRate"]);if(e!==void 0&&l!=null&&C(e,["tuningTask","hyperparameters","learningRate"],l),S(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(S(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Ilt(t,e,n){const r={};let i=S(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=S(t,["validationDataset"]);e!==void 0&&g!=null&&C(e,["supervisedTuningSpec"],BQ(g))}else if(i==="PREFERENCE_TUNING"){const g=S(t,["validationDataset"]);e!==void 0&&g!=null&&C(e,["preferenceOptimizationSpec"],BQ(g))}const s=S(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&C(e,["tunedModelDisplayName"],s);const o=S(t,["description"]);e!==void 0&&o!=null&&C(e,["description"],o);let a=S(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=S(t,["epochCount"]);e!==void 0&&g!=null&&C(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(a==="PREFERENCE_TUNING"){const g=S(t,["epochCount"]);e!==void 0&&g!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=S(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=S(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&C(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=S(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let c=S(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=S(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&C(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(c==="PREFERENCE_TUNING"){const g=S(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&C(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let u=S(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=S(t,["adapterSize"]);e!==void 0&&g!=null&&C(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(u==="PREFERENCE_TUNING"){const g=S(t,["adapterSize"]);e!==void 0&&g!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(S(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(S(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=S(t,["labels"]);e!==void 0&&f!=null&&C(e,["labels"],f);const m=S(t,["beta"]);return e!==void 0&&m!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","beta"],m),r}function Plt(t,e){const n={},r=S(t,["baseModel"]);r!=null&&C(n,["baseModel"],r);const i=S(t,["preTunedModel"]);i!=null&&C(n,["preTunedModel"],i);const s=S(t,["trainingDataset"]);s!=null&&zlt(s);const o=S(t,["config"]);return o!=null&&Nlt(o,n),n}function _lt(t,e){const n={},r=S(t,["baseModel"]);r!=null&&C(n,["baseModel"],r);const i=S(t,["preTunedModel"]);i!=null&&C(n,["preTunedModel"],i);const s=S(t,["trainingDataset"]);s!=null&&$lt(s,n,e);const o=S(t,["config"]);return o!=null&&Ilt(o,n,e),n}function Rlt(t,e){const n={},r=S(t,["name"]);return r!=null&&C(n,["_url","name"],r),n}function Olt(t,e){const n={},r=S(t,["name"]);return r!=null&&C(n,["_url","name"],r),n}function Mlt(t,e,n){const r={},i=S(t,["pageSize"]);e!==void 0&&i!=null&&C(e,["_query","pageSize"],i);const s=S(t,["pageToken"]);e!==void 0&&s!=null&&C(e,["_query","pageToken"],s);const o=S(t,["filter"]);return e!==void 0&&o!=null&&C(e,["_query","filter"],o),r}function Dlt(t,e,n){const r={},i=S(t,["pageSize"]);e!==void 0&&i!=null&&C(e,["_query","pageSize"],i);const s=S(t,["pageToken"]);e!==void 0&&s!=null&&C(e,["_query","pageToken"],s);const o=S(t,["filter"]);return e!==void 0&&o!=null&&C(e,["_query","filter"],o),r}function Llt(t,e){const n={},r=S(t,["config"]);return r!=null&&Mlt(r,n),n}function Blt(t,e){const n={},r=S(t,["config"]);return r!=null&&Dlt(r,n),n}function jlt(t,e){const n={},r=S(t,["sdkHttpResponse"]);r!=null&&C(n,["sdkHttpResponse"],r);const i=S(t,["nextPageToken"]);i!=null&&C(n,["nextPageToken"],i);const s=S(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>ape(a))),C(n,["tuningJobs"],o)}return n}function Ult(t,e){const n={},r=S(t,["sdkHttpResponse"]);r!=null&&C(n,["sdkHttpResponse"],r);const i=S(t,["nextPageToken"]);i!=null&&C(n,["nextPageToken"],i);const s=S(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(a=>zD(a))),C(n,["tuningJobs"],o)}return n}function Flt(t,e){const n={},r=S(t,["name"]);r!=null&&C(n,["model"],r);const i=S(t,["name"]);return i!=null&&C(n,["endpoint"],i),n}function zlt(t,e){const n={};if(S(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(S(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=S(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),C(n,["examples","examples"],i)}return n}function $lt(t,e,n){const r={};let i=S(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=S(t,["gcsUri"]);e!==void 0&&o!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=S(t,["gcsUri"]);e!==void 0&&o!=null&&C(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let s=S(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=S(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=S(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&C(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(S(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function ape(t,e){const n={},r=S(t,["sdkHttpResponse"]);r!=null&&C(n,["sdkHttpResponse"],r);const i=S(t,["name"]);i!=null&&C(n,["name"],i);const s=S(t,["state"]);s!=null&&C(n,["state"],She(s));const o=S(t,["createTime"]);o!=null&&C(n,["createTime"],o);const a=S(t,["tuningTask","startTime"]);a!=null&&C(n,["startTime"],a);const l=S(t,["tuningTask","completeTime"]);l!=null&&C(n,["endTime"],l);const c=S(t,["updateTime"]);c!=null&&C(n,["updateTime"],c);const u=S(t,["description"]);u!=null&&C(n,["description"],u);const f=S(t,["baseModel"]);f!=null&&C(n,["baseModel"],f);const m=S(t,["_self"]);return m!=null&&C(n,["tunedModel"],Flt(m)),n}function zD(t,e){const n={},r=S(t,["sdkHttpResponse"]);r!=null&&C(n,["sdkHttpResponse"],r);const i=S(t,["name"]);i!=null&&C(n,["name"],i);const s=S(t,["state"]);s!=null&&C(n,["state"],She(s));const o=S(t,["createTime"]);o!=null&&C(n,["createTime"],o);const a=S(t,["startTime"]);a!=null&&C(n,["startTime"],a);const l=S(t,["endTime"]);l!=null&&C(n,["endTime"],l);const c=S(t,["updateTime"]);c!=null&&C(n,["updateTime"],c);const u=S(t,["error"]);u!=null&&C(n,["error"],u);const f=S(t,["description"]);f!=null&&C(n,["description"],f);const m=S(t,["baseModel"]);m!=null&&C(n,["baseModel"],m);const g=S(t,["tunedModel"]);g!=null&&C(n,["tunedModel"],g);const x=S(t,["preTunedModel"]);x!=null&&C(n,["preTunedModel"],x);const v=S(t,["supervisedTuningSpec"]);v!=null&&C(n,["supervisedTuningSpec"],v);const w=S(t,["preferenceOptimizationSpec"]);w!=null&&C(n,["preferenceOptimizationSpec"],w);const E=S(t,["tuningDataStats"]);E!=null&&C(n,["tuningDataStats"],E);const k=S(t,["encryptionSpec"]);k!=null&&C(n,["encryptionSpec"],k);const I=S(t,["partnerModelTuningSpec"]);I!=null&&C(n,["partnerModelTuningSpec"],I);const D=S(t,["customBaseModel"]);D!=null&&C(n,["customBaseModel"],D);const j=S(t,["experiment"]);j!=null&&C(n,["experiment"],j);const M=S(t,["labels"]);M!=null&&C(n,["labels"],M);const U=S(t,["outputUri"]);U!=null&&C(n,["outputUri"],U);const V=S(t,["pipelineJob"]);V!=null&&C(n,["pipelineJob"],V);const F=S(t,["serviceAccount"]);F!=null&&C(n,["serviceAccount"],F);const z=S(t,["tunedModelDisplayName"]);z!=null&&C(n,["tunedModelDisplayName"],z);const K=S(t,["veoTuningSpec"]);return K!=null&&C(n,["veoTuningSpec"],K),n}function Hlt(t,e){const n={},r=S(t,["sdkHttpResponse"]);r!=null&&C(n,["sdkHttpResponse"],r);const i=S(t,["name"]);i!=null&&C(n,["name"],i);const s=S(t,["metadata"]);s!=null&&C(n,["metadata"],s);const o=S(t,["done"]);o!=null&&C(n,["done"],o);const a=S(t,["error"]);return a!=null&&C(n,["error"],a),n}function BQ(t,e){const n={},r=S(t,["gcsUri"]);r!=null&&C(n,["validationDatasetUri"],r);const i=S(t,["vertexDatasetResource"]);return i!=null&&C(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vlt extends Cd{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jm(hd.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:ID.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Olt(e);return a=yt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>zD(u))}else{const c=Rlt(e);return a=yt("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>ape(u))}}async listInternal(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Blt(e);return a=yt("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=Ult(u),m=new cQ;return Object.assign(m,f),m})}else{const c=Llt(e);return a=yt("tunedModels",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=jlt(u),m=new cQ;return Object.assign(m,f),m})}}async cancel(e){var n,r,i,s;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Tlt(e);return a=yt("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=klt(u),m=new uQ;return Object.assign(m,f),m})}else{const c=Alt(e);return a=yt("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(f=>{const m=f;return m.sdkHttpResponse={headers:u.headers},m})),o.then(u=>{const f=Clt(u),m=new uQ;return Object.assign(m,f),m})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const a=_lt(e,e);return s=yt("tuningJobs",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>zD(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Plt(e);return s=yt("tunedModels",a._url),o=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),i.then(l=>Hlt(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Glt{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const qlt=1024*1024*8,Klt=3,Wlt=1e3,Ylt=2,x2="x-goog-upload-status";async function Jlt(t,e,n){var r;const i=await lpe(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[x2])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Xlt(t,e,n){var r;const i=await lpe(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[x2])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=yhe(s),a=new w7;return Object.assign(a,o),a}async function lpe(t,e,n){var r,i;let s=0,o=0,a=new PD(new Response),l="upload";for(s=t.size;o<s;){const c=Math.min(qlt,s-o),u=t.slice(o,o+c);o+c>=s&&(l+=", finalize");let f=0,m=Wlt;for(;f<Klt&&(a=await n.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(o),"Content-Length":String(c)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[x2]));)f++,await Zlt(m),m=m*Ylt;if(o+=c,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[x2])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function Qlt(t){return{size:t.size,type:t.type}}function Zlt(t){return new Promise(e=>setTimeout(e,t))}class ect{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Jlt(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Xlt(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Qlt(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tct{create(e,n,r){return new nct(e,n,r)}}class nct{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jQ="x-goog-api-key";class rct{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(jQ)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(jQ,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ict="gl-node/";class cpe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Li({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Qtt(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new rct(this.apiKey);this.apiClient=new Xot({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ict+"web",uploader:new ect,downloader:new Glt}),this.models=new gat(this.apiClient),this.live=new uat(this.apiClient,i,new tct),this.batches=new krt(this.apiClient),this.chats=new lit(this.models,this.apiClient),this.caches=new sit(this.apiClient),this.files=new xit(this.apiClient),this.operations=new yat(this.apiClient),this.authTokens=new Oat(this.apiClient),this.tunings=new Vlt(this.apiClient),this.fileSearchStores=new zat(this.apiClient)}}const upe={inputPricePerMillion:.15,outputPricePerMillion:.6,customModelPricing:{"gemini-3-flash-preview":{input:.15,output:.6},"gemini-2.5-pro":{input:1.25,output:10},"gemini-2.5-flash":{input:.15,output:.6},"gemini-2.5-flash-lite":{input:.075,output:.3},"gemini-2.0-flash":{input:.1,output:.4},"gemini-2.0-flash-lite":{input:.075,output:.3}}},UQ={records:[],pricing:upe},FQ="token_usage_store";class sct{constructor(){this.isInitialized=!1,this.initPromise=null,this.state=UQ,this.listeners=new Set,this.initPromise=this.initialize()}async initialize(){this.isInitialized||(await this.loadState(),this.isInitialized=!0,this.notifyListeners())}async waitForInit(){this.initPromise&&await this.initPromise}async loadState(){try{const e=await Pe.getItem(Pe.getUserKey(FQ));if(e){const n=JSON.parse(e);this.state={...UQ,...n,pricing:{...upe,...n.pricing||{}}}}}catch(e){console.error("[TokenUsageStore] Failed to load state:",e)}}async saveState(){try{await Pe.setItem(Pe.getUserKey(FQ),JSON.stringify(this.state))}catch(e){console.error("[TokenUsageStore] Failed to save state:",e)}}notifyListeners(){this.listeners.forEach(e=>e())}notify(){this.notifyListeners(),this.saveState()}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}getSnapshot(){return this.state}addRecord(e){const r=[{...e,id:Date.now().toString()+Math.random().toString().slice(2,6),timestamp:Date.now()},...this.state.records].slice(0,1e3);this.state={...this.state,records:r},this.notify(),console.log(`[TokenUsageStore] Recorded: ${e.source} ${e.operation} - In: ${e.inputTokens}, Out: ${e.outputTokens}`)}updatePricing(e){this.state={...this.state,pricing:{...this.state.pricing,...e}},this.notify()}clearHistory(){this.state={...this.state,records:[]},this.notify()}calculateCost(e,n,r){var s;const i=this.state.pricing;if(r&&((s=i.customModelPricing)!=null&&s[r])){const o=i.customModelPricing[r];return e*o.input/1e6+n*o.output/1e6}return e*i.inputPricePerMillion/1e6+n*i.outputPricePerMillion/1e6}getStats(){var l;const e=this.state.records,n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime(),i=new Date(n.getFullYear(),n.getMonth(),1).getTime(),s={totalInputTokens:0,totalOutputTokens:0,totalCost:0,bySource:{MANAGER:{input:0,output:0,cost:0,count:0},DEALER:{input:0,output:0,cost:0,count:0},POLYMARKET_DEALER:{input:0,output:0,cost:0,count:0}},byOperation:{},today:{input:0,output:0,cost:0},thisMonth:{input:0,output:0,cost:0},dealerMetrics:{avgTokensPerCoin:0,avgTokensPerCycle:0,totalCoinsAnalyzed:0},managerMetrics:{avgTokensPerQuery:0,totalQueries:0}};let o=0,a=0;for(const c of e){const u=this.calculateCost(c.inputTokens,c.outputTokens,c.model);s.totalInputTokens+=c.inputTokens,s.totalOutputTokens+=c.outputTokens,s.totalCost+=u,s.bySource[c.source].input+=c.inputTokens,s.bySource[c.source].output+=c.outputTokens,s.bySource[c.source].cost+=u,s.bySource[c.source].count++,s.byOperation[c.operation]||(s.byOperation[c.operation]={input:0,output:0,cost:0,count:0}),s.byOperation[c.operation].input+=c.inputTokens,s.byOperation[c.operation].output+=c.outputTokens,s.byOperation[c.operation].cost+=u,s.byOperation[c.operation].count++,c.timestamp>=r&&(s.today.input+=c.inputTokens,s.today.output+=c.outputTokens,s.today.cost+=u),c.timestamp>=i&&(s.thisMonth.input+=c.inputTokens,s.thisMonth.output+=c.outputTokens,s.thisMonth.cost+=u),c.source==="DEALER"&&(o+=c.inputTokens+c.outputTokens,a++,(l=c.metadata)!=null&&l.coinsAnalyzed&&(s.dealerMetrics.totalCoinsAnalyzed+=c.metadata.coinsAnalyzed)),c.source==="MANAGER"&&s.managerMetrics.totalQueries++}if(s.dealerMetrics.totalCoinsAnalyzed>0&&(s.dealerMetrics.avgTokensPerCoin=o/s.dealerMetrics.totalCoinsAnalyzed),a>0&&(s.dealerMetrics.avgTokensPerCycle=o/a),s.managerMetrics.totalQueries>0){const c=s.bySource.MANAGER.input+s.bySource.MANAGER.output;s.managerMetrics.avgTokensPerQuery=c/s.managerMetrics.totalQueries}return s}getRecords(e=50,n){let r=this.state.records;return n&&(r=r.filter(i=>i.source===n)),r.slice(0,e)}}const Ps=new sct,Hg={gemini:[{id:"gemini-3-flash-preview",name:"Gemini 3 Flash Preview",description:"Next generation (Preview)",inputPricePerMillion:.1,outputPricePerMillion:.4},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",description:"Fast & balanced",inputPricePerMillion:.15,outputPricePerMillion:.6},{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",description:"Most capable",inputPricePerMillion:1.25,outputPricePerMillion:10},{id:"gemini-2.5-flash-lite",name:"Gemini 2.5 Flash-Lite",description:"Lightweight",inputPricePerMillion:.075,outputPricePerMillion:.3},{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",description:"Stable",inputPricePerMillion:.1,outputPricePerMillion:.4},{id:"gemini-2.0-flash-lite",name:"Gemini 2.0 Flash-Lite",description:"Economy",inputPricePerMillion:.075,outputPricePerMillion:.3}],openai:[{id:"gpt-4o",name:"GPT-4o",description:"Most capable",inputPricePerMillion:2.5,outputPricePerMillion:10},{id:"gpt-4o-mini",name:"GPT-4o Mini",description:"Fast & affordable",inputPricePerMillion:.15,outputPricePerMillion:.6},{id:"gpt-4-turbo",name:"GPT-4 Turbo",description:"Stable",inputPricePerMillion:10,outputPricePerMillion:30},{id:"o1-mini",name:"o1-mini",description:"Reasoning model",inputPricePerMillion:3,outputPricePerMillion:12}],claude:[{id:"claude-sonnet-4-20250514",name:"Claude Sonnet 4",description:"Latest & fastest",inputPricePerMillion:3,outputPricePerMillion:15},{id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",description:"Previous gen",inputPricePerMillion:3,outputPricePerMillion:15},{id:"claude-3-opus-20240229",name:"Claude 3 Opus",description:"Most capable",inputPricePerMillion:15,outputPricePerMillion:75},{id:"claude-3-haiku-20240307",name:"Claude 3 Haiku",description:"Economy",inputPricePerMillion:.25,outputPricePerMillion:1.25}]},Dl={gemini:{name:"Google Gemini",icon:"",color:"#4285F4",keyUrl:"https://aistudio.google.com/apikey"},openai:{name:"OpenAI",icon:"",color:"#10A37F",keyUrl:"https://platform.openai.com/api-keys"},claude:{name:"Anthropic Claude",icon:"",color:"#D97757",keyUrl:"https://console.anthropic.com/settings/keys"}},oct={gemini:{minIntervalMs:5e3,maxRetries:5,baseBackoffMs:5e3,maxBackoffMs:12e4,jitterMs:1e3},openai:{minIntervalMs:500,maxRetries:3,baseBackoffMs:1e3,maxBackoffMs:3e4,jitterMs:500},claude:{minIntervalMs:500,maxRetries:3,baseBackoffMs:1e3,maxBackoffMs:3e4,jitterMs:500}},zQ={CRITICAL:100,HIGH:75,NORMAL:50,LOW:25};class pg{constructor(){this.queue=[],this.isProcessing=!1,this.lastRequestTime=0,this.consecutiveRateLimits=0,this.blockedUntil=0,this.successCount=0,this.failureCount=0,this.totalWaitTimeMs=0,this.requestCount=0,this.config={minIntervalMs:5e3,maxRetries:5,baseBackoffMs:5e3,maxBackoffMs:12e4,jitterMs:1e3},console.log("[AIRequestQueue]  Initialized global request queue")}static getInstance(){return pg.instance||(pg.instance=new pg),pg.instance}setConfig(e){const n=oct[e];n&&(this.config={...n},console.log(`[AIRequestQueue]  Config updated for provider: ${e}`))}enqueue(e){return new Promise((n,r)=>{const i=this.generateId(),s={id:i,priority:e.priority,source:e.source,execute:e.execute,resolve:n,reject:r,timestamp:Date.now(),retries:0,provider:e.provider||"gemini"};this.insertByPriority(s);const o=this.queue.findIndex(a=>a.id===i)+1;console.log(`[AIRequestQueue]  Queued request #${i.slice(-6)} (position: ${o}, priority: ${e.priority}, source: ${e.source})`),this.isProcessing||this.processQueue()})}insertByPriority(e){const n=zQ[e.priority];let r=this.queue.length;for(let i=0;i<this.queue.length;i++){const s=zQ[this.queue[i].priority];if(n>s){r=i;break}}this.queue.splice(r,0,e)}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0,console.log("[AIRequestQueue]  Starting queue processing");this.queue.length>0;){const e=this.queue.shift();try{await this.waitForSlot();const n=Date.now(),r=await this.executeWithRetry(e),i=Date.now()-e.timestamp;this.successCount++,this.totalWaitTimeMs+=i,this.requestCount++,this.consecutiveRateLimits=0,console.log(`[AIRequestQueue]  Request #${e.id.slice(-6)} completed (wait: ${(i/1e3).toFixed(1)}s)`),e.resolve(r)}catch(n){this.failureCount++,console.error(`[AIRequestQueue]  Request #${e.id.slice(-6)} failed:`,n.message),e.reject(n)}}this.isProcessing=!1,console.log("[AIRequestQueue]  Queue empty, processing stopped")}}async executeWithRetry(e){let n;for(let r=0;r<=this.config.maxRetries;r++)try{return r>0&&console.log(`[AIRequestQueue]  Retry attempt ${r}/${this.config.maxRetries} for #${e.id.slice(-6)}`),await e.execute()}catch(i){if(n=i,this.isRateLimitError(i)){const o=this.parseRetryDelay(i);if(this.handleRateLimit(o),r<this.config.maxRetries){await this.waitForSlot();continue}}if(r===this.config.maxRetries)break;const s=this.calculateBackoff(r);console.log(`[AIRequestQueue]  Waiting ${(s/1e3).toFixed(1)}s before retry...`),await this.sleep(s)}throw n}async waitForSlot(){const e=Date.now();if(this.blockedUntil>e){const l=this.blockedUntil-e;console.log(`[AIRequestQueue]  Rate limited, waiting ${(l/1e3).toFixed(1)}s...`),await this.sleep(l)}const n=Math.pow(2,Math.min(this.consecutiveRateLimits,6)),r=this.config.minIntervalMs*n,i=Math.min(r,this.config.maxBackoffMs),s=Math.random()*this.config.jitterMs,o=i+s,a=e-this.lastRequestTime;if(a<o){const l=o-a;this.consecutiveRateLimits>0&&console.log(`[AIRequestQueue]  Throttling: waiting ${(l/1e3).toFixed(1)}s (backoff level: ${this.consecutiveRateLimits})...`),await this.sleep(l)}this.lastRequestTime=Date.now()}handleRateLimit(e){this.consecutiveRateLimits++;const n=Math.min(this.config.baseBackoffMs+Math.pow(2,this.consecutiveRateLimits)*5e3,this.config.maxBackoffMs);this.blockedUntil=Date.now()+e*1e3+n;const r=e+Math.ceil(n/1e3);console.log(`[AIRequestQueue]  Rate limited (hit #${this.consecutiveRateLimits}). Blocked for ${r}s`)}calculateBackoff(e){const n=this.config.baseBackoffMs*Math.pow(2,e),r=Math.random()*this.config.jitterMs;return Math.min(n+r,this.config.maxBackoffMs)}isRateLimitError(e){const n=typeof e=="string"?e:JSON.stringify(e);return n.includes("429")||n.includes("RESOURCE_EXHAUSTED")||n.includes("Too Many Requests")||n.includes("quota")||n.includes("rate_limit")||n.includes("rate limit")}parseRetryDelay(e){try{const n=typeof e=="string"?e:JSON.stringify(e),r=n.match(/retry in (\d+\.?\d*)s/i);if(r)return Math.ceil(parseFloat(r[1]));const i=n.match(/"retryDelay"\s*:\s*"(\d+)s?"/i);if(i)return parseInt(i[1]);const s=n.match(/retry-after[:\s]+(\d+)/i);if(s)return parseInt(s[1])}catch{}return 30}generateId(){return`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}sleep(e){return new Promise(n=>setTimeout(n,e))}getMetrics(){return{queueLength:this.queue.length,avgWaitTimeMs:this.requestCount>0?this.totalWaitTimeMs/this.requestCount:0,successCount:this.successCount,failureCount:this.failureCount,lastRequestTime:this.lastRequestTime,consecutiveRateLimits:this.consecutiveRateLimits,isProcessing:this.isProcessing}}clear(){const e=this.queue.length;this.queue.forEach(n=>{n.reject(new Error("Queue cleared"))}),this.queue=[],console.log(`[AIRequestQueue]  Cleared ${e} pending requests`)}resetMetrics(){this.successCount=0,this.failureCount=0,this.totalWaitTimeMs=0,this.requestCount=0,console.log("[AIRequestQueue]  Metrics reset")}}const ro=pg.getInstance();class act{constructor(){this.providerType="gemini",this.client=null,this.modelName="gemini-2.5-flash"}isInitialized(){return this.client!==null}initialize(e){this.client=new cpe({apiKey:e})}setModel(e){this.modelName=e}getModel(){return this.modelName}getTools(){const e={name:"getVaultBalance",description:"Get the balance of the internal Vault Wallet. Can show all balances or a specific token balance.",parameters:{type:Be.OBJECT,properties:{token:{type:Be.STRING,description:"Optional: Symbol or Mint Address of specific token to check."}}}},n={name:"executeSwap",description:"Execute a token swap on Raydium Devnet.",parameters:{type:Be.OBJECT,properties:{inputToken:{type:Be.STRING,description:"Symbol or Mint Address of token to sell"},outputToken:{type:Be.STRING,description:"Symbol or Mint Address of token to buy"},amount:{type:Be.NUMBER,description:"Amount of input token to swap"}},required:["inputToken","outputToken","amount"]}},r={name:"withdrawSol",description:"Transfer SOL from the internal Vault to the connected Owner Wallet.",parameters:{type:Be.OBJECT,properties:{amount:{type:Be.NUMBER,description:"Amount of SOL to transfer"}},required:["amount"]}},i={name:"transferToken",description:"Transfer SPL tokens or NFTs from the Vault to the Owner Wallet.",parameters:{type:Be.OBJECT,properties:{tokenMint:{type:Be.STRING,description:"Mint address of the token to transfer"},amount:{type:Be.NUMBER,description:"Amount of tokens to transfer"}},required:["tokenMint","amount"]}},s={name:"getMarketPrice",description:"Get the current market price for a given symbol.",parameters:{type:Be.OBJECT,properties:{symbol:{type:Be.STRING,description:'Trading symbol (e.g., "BTCUSDT")'}},required:["symbol"]}},o={name:"getOHLCV",description:"Get OHLCV candlestick data for a symbol.",parameters:{type:Be.OBJECT,properties:{symbol:{type:Be.STRING,description:"Trading symbol"},timeframe:{type:Be.STRING,description:'Timeframe (e.g., "1", "5", "15", "60", "240", "D")'}},required:["symbol"]}},a={name:"getIndicator",description:"Get a specific technical indicator value for a symbol.",parameters:{type:Be.OBJECT,properties:{symbol:{type:Be.STRING,description:"Trading symbol"},indicator:{type:Be.STRING,description:'Indicator name: "rsi", "macd", "ema", "sma", "stoch"'},timeframe:{type:Be.STRING,description:"Timeframe"}},required:["symbol","indicator"]}},l={name:"getTradingViewSummary",description:"Get TradingView buy/sell/neutral recommendation summary.",parameters:{type:Be.OBJECT,properties:{symbol:{type:Be.STRING,description:"Trading symbol"}},required:["symbol"]}},c={name:"getHLBalance",description:"Get the balance of the Hyperliquid Vault and positions.",parameters:{type:Be.OBJECT,properties:{}}},u={name:"getHLPositions",description:"Get open positions in the Hyperliquid Vault.",parameters:{type:Be.OBJECT,properties:{}}},f={name:"getHLMarketData",description:"Get market data for a Hyperliquid asset.",parameters:{type:Be.OBJECT,properties:{coin:{type:Be.STRING,description:'Asset symbol (e.g., "BTC", "ETH")'}},required:["coin"]}},m={name:"createHLOrder",description:"Place an order on Hyperliquid Testnet.",parameters:{type:Be.OBJECT,properties:{coin:{type:Be.STRING,description:"Asset symbol"},isBuy:{type:Be.BOOLEAN,description:"True for LONG, False for SHORT"},size:{type:Be.NUMBER,description:"Size of the order"},usdcAmount:{type:Be.NUMBER,description:"Amount in USDC to spend"},orderType:{type:Be.STRING,description:'Order type: "limit", "market"'},price:{type:Be.NUMBER,description:"Limit price"},leverage:{type:Be.NUMBER,description:"Leverage multiplier (1-50)"},stopLoss:{type:Be.NUMBER,description:"Stop loss price"},takeProfit:{type:Be.NUMBER,description:"Take profit price"},reduceOnly:{type:Be.BOOLEAN,description:"True to only reduce existing position"}},required:["coin","isBuy","orderType"]}},g={name:"cancelHLOrder",description:"Cancel a specific order on Hyperliquid.",parameters:{type:Be.OBJECT,properties:{coin:{type:Be.STRING,description:"Asset symbol"},orderId:{type:Be.NUMBER,description:"Order ID to cancel"}},required:["coin","orderId"]}},x={name:"updateHLLeverage",description:"Update leverage for a specific asset on Hyperliquid.",parameters:{type:Be.OBJECT,properties:{coin:{type:Be.STRING,description:"Asset symbol"},leverage:{type:Be.NUMBER,description:"New leverage (1-50)"},isCross:{type:Be.BOOLEAN,description:"True for cross margin"}},required:["coin","leverage","isCross"]}},v={name:"closeHLPosition",description:"Close an open position on Hyperliquid.",parameters:{type:Be.OBJECT,properties:{coin:{type:Be.STRING,description:"Asset symbol"},size:{type:Be.NUMBER,description:"Optional: partial close size"},orderType:{type:Be.STRING,description:'Order type: "market" or "limit"'},price:{type:Be.NUMBER,description:"Price for limit orders"}},required:["coin","orderType"]}},w={name:"withdrawFromHL",description:"Execute a USDC withdrawal from Hyperliquid Testnet.",parameters:{type:Be.OBJECT,properties:{amount:{type:Be.NUMBER,description:"Amount of USDC to withdraw"}},required:["amount"]}},E={name:"getDealerTradeHistory",description:"Query the Hyperliquid Dealer's trade history and AI reasoning.",parameters:{type:Be.OBJECT,properties:{coin:{type:Be.STRING,description:"Optional: Filter by coin"},limit:{type:Be.NUMBER,description:"Max records to return (default 10)"},includeReasoning:{type:Be.BOOLEAN,description:"Include full AI reasoning"}}}},k={name:"scheduleTask",description:"Schedule a task to execute at a specific time or when a market condition is met.",parameters:{type:Be.OBJECT,properties:{taskType:{type:Be.STRING,description:"Type: SWAP, TRANSFER, ALERT, or HL_ORDER"},inputToken:{type:Be.STRING,description:"For SWAP/TRANSFER: Input token"},outputToken:{type:Be.STRING,description:"For SWAP: Output token"},amount:{type:Be.NUMBER,description:"Amount to swap or transfer"},coin:{type:Be.STRING,description:"For HL_ORDER: Asset symbol"},isBuy:{type:Be.BOOLEAN,description:"For HL_ORDER: True for LONG"},size:{type:Be.NUMBER,description:"For HL_ORDER: Order size"},orderType:{type:Be.STRING,description:"For HL_ORDER: Order type"},price:{type:Be.NUMBER,description:"For HL_ORDER: Limit price"},leverage:{type:Be.NUMBER,description:"For HL_ORDER: Leverage"},stopLoss:{type:Be.NUMBER,description:"For HL_ORDER: Stop loss"},takeProfit:{type:Be.NUMBER,description:"For HL_ORDER: Take profit"},reduceOnly:{type:Be.BOOLEAN,description:"For HL_ORDER: Reduce only"},delayMinutes:{type:Be.NUMBER,description:"For time-based: Delay in minutes"},conditionIndicator:{type:Be.STRING,description:"For condition-based: Indicator name"},conditionSymbol:{type:Be.STRING,description:"For condition-based: Trading symbol"},conditionOperator:{type:Be.STRING,description:"For condition-based: Comparison operator"},conditionValue:{type:Be.NUMBER,description:"For condition-based: Threshold value"},conditionTimeframe:{type:Be.STRING,description:"For condition-based: Timeframe"}},required:["taskType"]}};return[{functionDeclarations:[e,n,r,i,k,s,o,a,l,c,u,f,m,g,x,v,w,E]}]}async sendMessage(e,n,r,i){if(!this.client)throw new Error("Gemini not initialized. Please set API Key.");const s=this.client,o=this.modelName,a=()=>this.getTools();return ro.enqueue({priority:"HIGH",source:"operator",provider:"gemini",execute:async()=>{var m,g,x;const l=e.map(v=>({role:v.role==="model"?"model":"user",parts:[{text:v.content}]})),u=await s.chats.create({model:o,config:{systemInstruction:r,tools:i||a()},history:l}).sendMessage({message:n});let f="";if(u.candidates&&((g=(m=u.candidates[0])==null?void 0:m.content)!=null&&g.parts))for(const v of u.candidates[0].content.parts)v.text&&(f+=v.text);return{text:f,usageMetadata:u.usageMetadata?{promptTokenCount:u.usageMetadata.promptTokenCount||0,candidatesTokenCount:u.usageMetadata.candidatesTokenCount||0}:void 0,functionCalls:((x=u.functionCalls)==null?void 0:x.map(v=>({name:v.name,args:v.args})))||void 0}}})}async sendJsonAnalysis(e,n){if(!this.client)return console.warn("[GeminiProvider] Client not initialized"),null;const r=this.client,i=this.modelName;return ro.enqueue({priority:"NORMAL",source:"polymarketDealer",provider:"gemini",execute:async()=>{var l,c;const o=await r.chats.create({model:i,config:{systemInstruction:n,responseMimeType:"application/json"}}).sendMessage({message:e});let a="";if(o.candidates&&((c=(l=o.candidates[0])==null?void 0:l.content)!=null&&c.parts))for(const u of o.candidates[0].content.parts)u.text&&(a+=u.text);return a||null}})}async sendBatchAnalysis(e,n,r){if(!this.client)throw new Error("Gemini not initialized. Please set API Key.");if(r!=null&&r.aborted)throw new DOMException("Dealer cycle aborted","AbortError");const i=this.client,s=this.modelName,o=this.getBatchDealerSystemInstruction(),a=(u,f,m)=>this.normalizeDecisions(u,f,m),l=e.cycleSummary?`
[RECENT ACTIVITY CONTEXT]
${e.cycleSummary}
`:"",c=`
            [USER STRATEGY]
            ${n}
            ${l}
            [BATCH MARKET DATA]
            ${JSON.stringify(e)}

            Analyze all assets in the batch. Return a JSON Array of decisions.
        `;return ro.enqueue({priority:"NORMAL",source:"hyperliquidDealer",provider:"gemini",execute:async()=>{var v,w;if(r!=null&&r.aborted)throw new DOMException("Dealer cycle aborted","AbortError");const f=await i.chats.create({model:s,config:{systemInstruction:o,responseMimeType:"application/json"}}).sendMessage({message:c});if(r!=null&&r.aborted)throw new DOMException("Dealer cycle aborted","AbortError");let m="";if(f.candidates&&((w=(v=f.candidates[0])==null?void 0:v.content)!=null&&w.parts))for(const E of f.candidates[0].content.parts)E.text&&(m+=E.text);if(!m)return console.warn("[GeminiProvider] Empty response from batch analysis"),{decisions:[]};const g=m.replace(/```json/g,"").replace(/```/g,"").trim();let x;try{x=JSON.parse(g)}catch(E){return console.error("[GeminiProvider] Failed to parse batch response:",E),{decisions:[]}}return a(x,f.usageMetadata,e)}})}normalizeDecisions(e,n,r){let i=[],s;Array.isArray(e)?i=e:typeof e=="object"&&(e.decisions?i=e.decisions:i=[e],e.cycleSummary&&typeof e.cycleSummary=="string"&&(s=e.cycleSummary.slice(0,350)));const a=i.map(u=>u.action==="LONG"?{...u,action:"BUY"}:u.action==="SHORT"?{...u,action:"SELL"}:u.action==="WAIT"?{...u,action:"HOLD"}:u).filter(u=>{const f=typeof u.coin=="string"&&u.coin.length>0,m=["BUY","SELL","HOLD","CLOSE"].includes(u.action);return f&&m}),l=new Map,c={CLOSE:3,BUY:2,SELL:2,HOLD:1};for(const u of a){const f=u.coin.toUpperCase(),m=l.get(f);if(!m)l.set(f,u);else{const g=c[m.action]||0,x=c[u.action]||0;(x>g||x===g&&(u.confidence||0)>(m.confidence||0))&&l.set(f,u)}}return{decisions:Array.from(l.values()),cycleSummary:s}}getBatchDealerSystemInstruction(){return`
            You are Hyperliquid Dealer, an autonomous crypto trading engine.
            Your goal is to analyze specific assets and output a TRADING DECISION for EACH one.

            You will receive:
            1. A JSON Object containing an array of 'coins' with their Market Data (Price, Indicators) AND HISTORICAL SERIES.
            2. Portfolio Context (Balance, Open Positions, Risk Limits, userFees with makerFee/takerFee).
            3. PRE-CALCULATED DIVERGENCE SIGNALS: Each coin includes a 'divergences' array with detected divergence patterns.
            4. [RECENT ACTIVITY CONTEXT]: Summary of your previous analysis cycles (if available).

            You must return valid JSON with this EXACT structure:
            {
                "decisions": [
                    {
                        "coin": "Symbol analyzed",
                        "action": "BUY" | "SELL" | "HOLD" | "CLOSE",
                        "confidence": number (0.0 to 1.0),
                        "reason": "Format: [ACTION] Position Status + Explanation. Max 600 chars.",
                        "suggestedLeverage": number (1-50, optional),
                        "sizeUSDC": number (optional),
                        "orderType": "limit" | "market",
                        "price": number (for limit orders, optional),
                        "stopLoss": number (optional, ONLY for BUY/SELL actions),
                        "takeProfit": number (optional, ONLY for BUY/SELL actions)
                    }
                ],
                "cycleSummary": "Brief 1-2 sentence summary of this analysis cycle for context in the next cycle. Include: key market observations, actions taken, and any notable patterns. Max 300 chars."
            }

            CRITICAL RULES:
            1. ONLY output valid JSON with the structure above.
            2. Must return one decision object per coin provided in the decisions array.
            3. CHECK PORTFOLIO LIMITS: Do not suggest BUY if maxPositions is reached.
            4. CLOSE POSITIONS: Prioritize checking existing positions for exit signals.
            5. LEVERAGE CONSTRAINT: suggestedLeverage MUST NOT exceed portfolio.settings.maxLeverage.
            6. CYCLE SUMMARY: ALWAYS include a cycleSummary field with a brief context for the next cycle.
            
            REASONING FORMAT (CRITICAL - MUST FOLLOW):
            - Start with action: "LONG:", "SHORT:", "CLOSE:", or "WAIT:".
            - POSITION STATUS (MANDATORY - ALWAYS INCLUDE):
              - Check each coin's 'openPosition.hasPosition' field.
              - If hasPosition === false: MUST say "No position." at the START of your reason.
              - If hasPosition === true: MUST say "In [side] at $[entryPx], PnL: $[unrealizedPnl]" at the START.
            - ENTRY/SL/TP VALUES:
              - ONLY include Entry, SL, TP values for BUY or SELL actions (new trades).
              - For HOLD or CLOSE actions, do NOT include Entry/SL/TP values.
            - CRITICAL: If hasPosition is false, DO NOT report SL/TP values - there is no position to have SL/TP.
            - Examples:
              - HOLD with no position: "WAIT: No position. RSI neutral, waiting for signal."
              - BUY with no position: "LONG: No position. RSI divergence detected. Entry: $95000, SL: $93100, TP: $98800"
              - CLOSE with position: "CLOSE: In LONG at $95000, PnL: +$150. Take profit target reached."
        `}}class lct{constructor(){this.providerType="openai",this.apiKey="",this.modelName="gpt-4o-mini",this.baseUrl="https://api.openai.com/v1"}isInitialized(){return this.apiKey.length>0}initialize(e){this.apiKey=e}setModel(e){this.modelName=e}getModel(){return this.modelName}convertToolsToOpenAI(e){if(!e||e.length===0)return[];const n=[];for(const r of e)if(r.functionDeclarations)for(const i of r.functionDeclarations)n.push({type:"function",function:{name:i.name,description:i.description,parameters:this.convertGeminiParamsToOpenAI(i.parameters)}});return n}convertGeminiParamsToOpenAI(e){if(!e)return{type:"object",properties:{}};const n={},r=e.required||[];if(e.properties)for(const[i,s]of Object.entries(e.properties))n[i]={type:this.convertGeminiTypeToOpenAI(s.type),description:s.description||""};return{type:"object",properties:n,required:r}}convertGeminiTypeToOpenAI(e){return{STRING:"string",NUMBER:"number",BOOLEAN:"boolean",OBJECT:"object",ARRAY:"array"}[e]||"string"}async sendMessage(e,n,r,i){if(!this.isInitialized())throw new Error("OpenAI not initialized. Please set API Key.");return ro.enqueue({priority:"HIGH",source:"operator",provider:"openai",execute:async()=>{var g;const s=[{role:"system",content:r}];for(const x of e)s.push({role:x.role==="model"?"assistant":"user",content:x.content});s.push({role:"user",content:n});const o=this.convertToolsToOpenAI(i),a={model:this.modelName,messages:s};o.length>0&&(a.tools=o,a.tool_choice="auto");const l=await fetch(`${this.baseUrl}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(a)});if(!l.ok){const x=await l.text();throw new Error(`OpenAI API error: ${l.status} ${x}`)}const c=await l.json(),u=(g=c.choices)==null?void 0:g[0],f=u==null?void 0:u.message,m=[];if(f!=null&&f.tool_calls)for(const x of f.tool_calls)x.type==="function"&&m.push({name:x.function.name,args:JSON.parse(x.function.arguments||"{}")});return{text:(f==null?void 0:f.content)||"",usageMetadata:c.usage?{promptTokenCount:c.usage.prompt_tokens||0,candidatesTokenCount:c.usage.completion_tokens||0}:void 0,functionCalls:m.length>0?m:void 0}}})}async sendJsonAnalysis(e,n){return this.isInitialized()?ro.enqueue({priority:"NORMAL",source:"polymarketDealer",provider:"openai",execute:async()=>{var s,o,a;const r=await fetch(`${this.baseUrl}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:this.modelName,messages:[{role:"system",content:n},{role:"user",content:e}],response_format:{type:"json_object"}})});if(!r.ok){const l=await r.text();throw new Error(`OpenAI API error: ${r.status} ${l}`)}return((a=(o=(s=(await r.json()).choices)==null?void 0:s[0])==null?void 0:o.message)==null?void 0:a.content)||null}}):(console.warn("[OpenAIProvider] Client not initialized"),null)}async sendBatchAnalysis(e,n,r){if(!this.isInitialized())throw new Error("OpenAI not initialized. Please set API Key.");if(r!=null&&r.aborted)throw new DOMException("Dealer cycle aborted","AbortError");const i=this.getBatchDealerSystemInstruction(),s=`
            [USER STRATEGY]
            ${n}

            [BATCH MARKET DATA]
            ${JSON.stringify(e)}

            Analyze all assets in the batch. Return a JSON object with decisions array and cycleSummary.
        `;return ro.enqueue({priority:"NORMAL",source:"hyperliquidDealer",provider:"openai",execute:async()=>{var u,f,m,g,x;const o=await fetch(`${this.baseUrl}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:this.modelName,messages:[{role:"system",content:i},{role:"user",content:s}],response_format:{type:"json_object"}}),signal:r});if(!o.ok){const v=await o.text();throw new Error(`OpenAI API error: ${o.status} ${v}`)}const a=await o.json(),l=(m=(f=(u=a.choices)==null?void 0:u[0])==null?void 0:f.message)==null?void 0:m.content;if(!l)throw new Error("Empty response from OpenAI");if(((x=(g=a.choices)==null?void 0:g[0])==null?void 0:x.finish_reason)==="length")throw new Error("Response truncated by length limit");let c;try{c=JSON.parse(l)}catch(v){throw new Error(`Failed to parse JSON response: ${v.message}`)}return this.normalizeDecisions(c)}})}normalizeDecisions(e){let n=[],r;typeof e=="object"&&e.decisions?(n=e.decisions,e.cycleSummary&&typeof e.cycleSummary=="string"&&(r=e.cycleSummary.slice(0,350))):Array.isArray(e)?n=e:typeof e=="object"&&(n=[e]);const s=n.map(l=>l.action==="LONG"?{...l,action:"BUY"}:l.action==="SHORT"?{...l,action:"SELL"}:l.action==="WAIT"?{...l,action:"HOLD"}:l).filter(l=>{const c=typeof l.coin=="string"&&l.coin.length>0,u=["BUY","SELL","HOLD","CLOSE"].includes(l.action);return c&&u}),o=new Map,a={CLOSE:3,BUY:2,SELL:2,HOLD:1};for(const l of s){const c=l.coin.toUpperCase(),u=o.get(c);if(!u)o.set(c,l);else{const f=a[u.action]||0,m=a[l.action]||0;(m>f||m===f&&(l.confidence||0)>(u.confidence||0))&&o.set(c,l)}}return{decisions:Array.from(o.values()),cycleSummary:r}}getBatchDealerSystemInstruction(){return`
            You are Hyperliquid Dealer, an autonomous crypto trading engine.
            Your goal is to analyze specific assets and output a TRADING DECISION for EACH one.

            RESPONSE FORMAT:
            You MUST return a JSON object with a "decisions" array:
            {
                "decisions": [
                    {
                        "coin": "BTC",
                        "action": "BUY" | "SELL" | "HOLD" | "CLOSE",
                        "confidence": 0.0 to 1.0,
                        "reason": "Format: [ACTION] Position Status + Explanation. See REASONING FORMAT below.",
                        "suggestedLeverage": 1-50,
                        "sizeUSDC": number,
                        "orderType": "limit" | "market",
                        "price": number (optional),
                        "stopLoss": number (optional, ONLY for BUY/SELL actions),
                        "takeProfit": number (optional, ONLY for BUY/SELL actions)
                    }
                ]
            }

            CRITICAL RULES:
            1. Return valid JSON with "decisions" array.
            2. One decision per coin provided.
            3. CHECK PORTFOLIO LIMITS: Do not suggest BUY if maxPositions is reached.
            4. LEVERAGE CONSTRAINT: suggestedLeverage MUST NOT exceed portfolio.settings.maxLeverage.
            5. Consider trading costs before recommending trades.
            
            REASONING FORMAT (CRITICAL - MUST FOLLOW):
            - Start with action: "LONG:", "SHORT:", "CLOSE:", or "WAIT:".
            - POSITION STATUS (MANDATORY - ALWAYS INCLUDE):
              - Check each coin's 'openPosition.hasPosition' field.
              - If hasPosition === false: MUST say "No position." at the START of your reason.
              - If hasPosition === true: MUST say "In [side] at $[entryPx], PnL: $[unrealizedPnl]" at the START.
            - ENTRY/SL/TP VALUES:
              - ONLY include Entry, SL, TP values for BUY or SELL actions (new trades).
              - For HOLD or CLOSE actions, do NOT include Entry/SL/TP values.
            - CRITICAL: If hasPosition is false, DO NOT report SL/TP values - there is no position to have SL/TP.
            - Examples:
              - HOLD: "WAIT: No position. RSI neutral, waiting for signal."
              - BUY: "LONG: No position. RSI divergence. Entry: $95000, SL: $93100, TP: $98800"
              - CLOSE: "CLOSE: In LONG at $95000, PnL: +$150. Take profit reached."
        `}}class cct{constructor(){this.providerType="claude",this.apiKey="",this.modelName="claude-sonnet-4-20250514",this.baseUrl="https://api.anthropic.com/v1"}isInitialized(){return this.apiKey.length>0}initialize(e){this.apiKey=e}setModel(e){this.modelName=e}getModel(){return this.modelName}convertToolsToClaudeFormat(e){if(!e||e.length===0)return[];const n=[];for(const r of e)if(r.functionDeclarations)for(const i of r.functionDeclarations)n.push({name:i.name,description:i.description,input_schema:this.convertParamsToJsonSchema(i.parameters)});return n}convertParamsToJsonSchema(e){if(!e)return{type:"object",properties:{}};const n={},r=e.required||[];if(e.properties)for(const[i,s]of Object.entries(e.properties))n[i]={type:this.convertTypeToJsonSchema(s.type),description:s.description||""};return{type:"object",properties:n,required:r}}convertTypeToJsonSchema(e){return{STRING:"string",NUMBER:"number",BOOLEAN:"boolean",OBJECT:"object",ARRAY:"array"}[e]||"string"}async sendMessage(e,n,r,i){if(!this.isInitialized())throw new Error("Claude not initialized. Please set API Key.");return ro.enqueue({priority:"HIGH",source:"operator",provider:"claude",execute:async()=>{const s=[];for(const m of e)s.push({role:m.role==="model"?"assistant":"user",content:m.content});s.push({role:"user",content:n});const o=this.convertToolsToClaudeFormat(i),a={model:this.modelName,max_tokens:4096,system:r,messages:s};o.length>0&&(a.tools=o);const l=await fetch(`${this.baseUrl}/messages`,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.apiKey,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify(a)});if(!l.ok){const m=await l.text();throw new Error(`Claude API error: ${l.status} ${m}`)}const c=await l.json();let u="";const f=[];for(const m of c.content||[])m.type==="text"?u+=m.text:m.type==="tool_use"&&f.push({name:m.name,args:m.input||{}});return{text:u,usageMetadata:c.usage?{promptTokenCount:c.usage.input_tokens||0,candidatesTokenCount:c.usage.output_tokens||0}:void 0,functionCalls:f.length>0?f:void 0}}})}async sendJsonAnalysis(e,n){return this.isInitialized()?ro.enqueue({priority:"NORMAL",source:"polymarketDealer",provider:"claude",execute:async()=>{const r=`${n}

IMPORTANT: You MUST respond with ONLY valid JSON. No explanations, no markdown code blocks, just the raw JSON object.`,i=await fetch(`${this.baseUrl}/messages`,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.apiKey,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:this.modelName,max_tokens:4096,system:r,messages:[{role:"user",content:e},{role:"assistant",content:"{"}]})});if(!i.ok){const a=await i.text();throw new Error(`Claude API error: ${i.status} ${a}`)}const s=await i.json();let o="";for(const a of s.content||[])a.type==="text"&&(o+=a.text);return"{"+o}}):(console.warn("[ClaudeProvider] Client not initialized"),null)}async sendBatchAnalysis(e,n,r){if(!this.isInitialized())throw new Error("Claude not initialized. Please set API Key.");if(r!=null&&r.aborted)throw new DOMException("Dealer cycle aborted","AbortError");const i=this.getBatchDealerSystemInstruction(),s=`
            [USER STRATEGY]
            ${n}

            [BATCH MARKET DATA]
            ${JSON.stringify(e)}

            Analyze all assets in the batch. Return a JSON object with a "decisions" array.
        `;return ro.enqueue({priority:"NORMAL",source:"hyperliquidDealer",provider:"claude",execute:async()=>{const o=await fetch(`${this.baseUrl}/messages`,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.apiKey,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:this.modelName,max_tokens:4096,system:i,messages:[{role:"user",content:s},{role:"assistant",content:'{"decisions":'}]}),signal:r});if(!o.ok){const f=await o.text();throw new Error(`Claude API error: ${o.status} ${f}`)}const a=await o.json();let l="";for(const f of a.content||[])f.type==="text"&&(l+=f.text);if(!l)throw new Error("Empty response from Claude");const c='{"decisions":'+l;let u;try{u=JSON.parse(c)}catch{try{const f=l.replace(/```json/g,"").replace(/```/g,"").trim();u={decisions:JSON.parse("["+f)}}catch(f){throw new Error(`Failed to parse JSON response: ${f.message}`)}}return this.normalizeDecisions(u)}})}normalizeDecisions(e){let n=[],r;typeof e=="object"&&e.decisions?(n=e.decisions,e.cycleSummary&&typeof e.cycleSummary=="string"&&(r=e.cycleSummary.slice(0,350))):Array.isArray(e)?n=e:typeof e=="object"&&(n=[e]);const s=n.map(l=>l.action==="LONG"?{...l,action:"BUY"}:l.action==="SHORT"?{...l,action:"SELL"}:l.action==="WAIT"?{...l,action:"HOLD"}:l).filter(l=>{const c=typeof l.coin=="string"&&l.coin.length>0,u=["BUY","SELL","HOLD","CLOSE"].includes(l.action);return c&&u}),o=new Map,a={CLOSE:3,BUY:2,SELL:2,HOLD:1};for(const l of s){const c=l.coin.toUpperCase(),u=o.get(c);if(!u)o.set(c,l);else{const f=a[u.action]||0,m=a[l.action]||0;(m>f||m===f&&(l.confidence||0)>(u.confidence||0))&&o.set(c,l)}}return{decisions:Array.from(o.values()),cycleSummary:r}}getBatchDealerSystemInstruction(){return`You are Hyperliquid Dealer, an autonomous crypto trading engine.
Your goal is to analyze specific assets and output a TRADING DECISION for EACH one.

RESPONSE FORMAT:
You MUST respond with ONLY valid JSON. The response will be prefilled with '{"decisions":' so you should continue with the array.

Each decision in the array should have:
{
    "coin": "BTC",
    "action": "BUY" | "SELL" | "HOLD" | "CLOSE",
    "confidence": 0.0 to 1.0,
    "reason": "Format: [ACTION] Position Status + Explanation. See REASONING FORMAT below.",
    "suggestedLeverage": 1-50,
    "sizeUSDC": number,
    "orderType": "limit" | "market",
    "price": number (optional),
    "stopLoss": number (optional, ONLY for BUY/SELL actions),
    "takeProfit": number (optional, ONLY for BUY/SELL actions)
}

CRITICAL RULES:
1. Continue the JSON array after the prefill.
2. One decision per coin provided.
3. CHECK PORTFOLIO LIMITS: Do not suggest BUY if maxPositions is reached.
4. LEVERAGE CONSTRAINT: suggestedLeverage MUST NOT exceed portfolio.settings.maxLeverage.
5. Consider trading costs before recommending trades.

REASONING FORMAT (CRITICAL - MUST FOLLOW):
- Start with action: "LONG:", "SHORT:", "CLOSE:", or "WAIT:".
- POSITION STATUS (MANDATORY - ALWAYS INCLUDE):
  - Check each coin's 'openPosition.hasPosition' field.
  - If hasPosition === false: MUST say "No position." at the START of your reason.
  - If hasPosition === true: MUST say "In [side] at $[entryPx], PnL: $[unrealizedPnl]" at the START.
- ENTRY/SL/TP VALUES:
  - ONLY include Entry, SL, TP values for BUY or SELL actions (new trades).
  - For HOLD or CLOSE actions, do NOT include Entry/SL/TP values.
- CRITICAL: If hasPosition is false, DO NOT report SL/TP values - there is no position to have SL/TP.
- Examples:
  - HOLD: "WAIT: No position. RSI neutral, waiting for signal."
  - BUY: "LONG: No position. RSI divergence. Entry: $95000, SL: $93100, TP: $98800"
  - CLOSE: "CLOSE: In LONG at $95000, PnL: +$150. Take profit reached."`}}class uct{constructor(){this.providers=new Map,this.providers.set("gemini",new act),this.providers.set("openai",new lct),this.providers.set("claude",new cct),this.initializeFromConfig(),or.subscribe(()=>{this.initializeFromConfig()})}initializeFromConfig(){const e=or.getSnapshot();for(const[n,r]of Object.entries(e.credentials))r.isConfigured&&r.apiKey&&this.initializeProvider(n,r.apiKey);for(const[n,r]of Object.entries(e.componentConfigs)){const i=this.getProvider(r.providerType);i&&"setModel"in i&&i.setModel(r.modelId)}}getProvider(e){return this.providers.get(e)||null}initializeProvider(e,n){const r=this.providers.get(e);r&&(r.initialize(n),console.log(`[ProviderFactory] Initialized ${e} provider`))}getProviderForComponent(e){const r=or.getSnapshot().componentConfigs[e];if(!r)return console.warn(`[ProviderFactory] No config found for component: ${e}`),null;const i=this.providers.get(r.providerType);if(!i)return console.warn(`[ProviderFactory] Provider ${r.providerType} not found`),null;if(!i.isInitialized()){const s=or.getApiKey(r.providerType);if(s)i.initialize(s);else return console.warn(`[ProviderFactory] Provider ${r.providerType} not initialized (no API key)`),null}return"setModel"in i&&i.setModel(r.modelId),i}getModelForComponent(e){var r;return((r=or.getSnapshot().componentConfigs[e])==null?void 0:r.modelId)||""}isComponentReady(e){const n=this.getProviderForComponent(e);return n!==null&&n.isInitialized()}getAvailableProviders(){return Array.from(this.providers.keys())}getModelsForProvider(e){return Hg[e]||[]}validateConfiguration(){const e=[],n=["operator","hyperliquidDealer","polymarketDealer"];for(const r of n)this.isComponentReady(r)||e.push(r);return{valid:e.length===0,missing:e}}}const j0=new uct;class dct{constructor(){this.client=null,this.modelName="gemini-2.5-flash",this.initFromConfig()}initFromConfig(){var i,s;const e=or.getApiKey("gemini"),n=(s=(i=window.process)==null?void 0:i.env)==null?void 0:s.GEMINI_API_KEY,r=e||n;r&&this.initialize(r)}initialize(e){this.client=new cpe({apiKey:e})}setModel(e){this.modelName=e}getModel(){return this.modelName}setApiKey(e){or.setApiKey("gemini",e),this.initialize(e)}getApiKey(){return or.getApiKey("gemini")}clearApiKey(){or.clearApiKey("gemini"),this.client=null}isInitialized(){return this.client!==null}getTools(){const e={name:"getVaultBalance",description:"Get the balance of the internal Vault Wallet. Can show all balances or a specific token balance. If no token is specified, ask the user if they want to see all balances or a specific token.",parameters:{type:Be.OBJECT,properties:{token:{type:Be.STRING,description:"Optional: Symbol (e.g., SOL, USDC) or Mint Address of specific token to check. If not provided, show all balances."}}}},n={name:"executeSwap",description:"Execute a token swap on Raydium Devnet. If the token symbol is not known (not SOL/USDC/RAY), you MUST ask the user for the Mint Address.",parameters:{type:Be.OBJECT,properties:{inputToken:{type:Be.STRING,description:"Symbol (e.g., SOL) or Mint Address of token to sell"},outputToken:{type:Be.STRING,description:"Symbol (e.g., RAY) or Mint Address of token to buy"},amount:{type:Be.NUMBER,description:"Amount of input token to swap"}},required:["inputToken","outputToken","amount"]}},r={name:"withdrawSol",description:"Transfer SOL from the internal Vault to the connected Owner Wallet.",parameters:{type:Be.OBJECT,properties:{amount:{type:Be.NUMBER,description:"Amount of SOL to transfer"}},required:["amount"]}},i={name:"scheduleTask",description:`Schedule a task (swap, transfer, alert, or Hyperliquid order) to execute either at a specific time OR when a market condition is met.
      
      CRITICAL: You MUST provide ALL required parameters. If ANY information is missing, ask the user for it instead of calling this tool.
      
      For TIME-BASED tasks: provide 'delayMinutes'
      For CONDITION-BASED tasks: provide 'conditionIndicator', 'conditionSymbol', 'conditionOperator', 'conditionValue', and 'conditionTimeframe'.
      
      IMPORTANT: 'conditionTimeframe' is REQUIRED for condition-based tasks. If the user does not specify it (e.g., "1h", "4h", "1d"), you MUST ASK them for it. DO NOT DEFAULT TO 'D'.

      Examples:
      - Time-based: delayMinutes=5
      - Condition (SWAP): taskType="SWAP", inputToken="SOL", outputToken="USDC", amount=0.1, conditionIndicator="rsi", conditionSymbol="BTCUSDT", conditionOperator="<", conditionValue=30, conditionTimeframe="D"
      - Condition (HL_ORDER): taskType="HL_ORDER", coin="BTC", isBuy=true, size=0.001, orderType="limit", price=90000, leverage=10, stopLoss=88000, takeProfit=99000, conditionIndicator="rsi", conditionSymbol="BTCUSDT", conditionOperator="<", conditionValue=30, conditionTimeframe="D"`,parameters:{type:Be.OBJECT,properties:{taskType:{type:Be.STRING,description:"Type of task: SWAP, TRANSFER, ALERT, or HL_ORDER (Hyperliquid order)"},inputToken:{type:Be.STRING,description:"For SWAP: Input token symbol or mint address. For TRANSFER: Token to transfer. Not used for ALERT or HL_ORDER."},outputToken:{type:Be.STRING,description:"For SWAP: Output token symbol or mint address. Not used for other task types."},amount:{type:Be.NUMBER,description:"Amount to swap or transfer. Not used for ALERT or HL_ORDER."},coin:{type:Be.STRING,description:'For HL_ORDER: Asset symbol (e.g., "BTC", "ETH", "SOL"). Required for HL_ORDER.'},isBuy:{type:Be.BOOLEAN,description:"For HL_ORDER: True for LONG/BUY, False for SHORT/SELL. Required for HL_ORDER."},size:{type:Be.NUMBER,description:"For HL_ORDER: Size of the order. Required for HL_ORDER."},orderType:{type:Be.STRING,description:'For HL_ORDER: Order type ("limit", "market", "ioc", "alo"). Ask user if not specified.'},price:{type:Be.NUMBER,description:"For HL_ORDER: Limit price. Required for LIMIT orders, ignored for MARKET."},leverage:{type:Be.NUMBER,description:"For HL_ORDER: Leverage multiplier (1-50). Ask user, default 1x if not specified."},stopLoss:{type:Be.NUMBER,description:"For HL_ORDER: Optional stop loss price. Ask user if they want to set one."},takeProfit:{type:Be.NUMBER,description:"For HL_ORDER: Optional take profit price. Ask user if they want to set one."},reduceOnly:{type:Be.BOOLEAN,description:"For HL_ORDER: True to only reduce existing position. Default false."},delayMinutes:{type:Be.NUMBER,description:"For time-based: Number of minutes to wait before executing. Leave empty for condition-based."},conditionIndicator:{type:Be.STRING,description:"For condition-based: Indicator name (rsi, macd, ema, sma, stoch, price). Required for condition-based tasks."},conditionSymbol:{type:Be.STRING,description:"For condition-based: Trading symbol (e.g., BTCUSDT, SOLUSDT). Required for condition-based tasks."},conditionOperator:{type:Be.STRING,description:"For condition-based: Comparison operator (<, >, <=, >=, ==). Required for condition-based tasks."},conditionValue:{type:Be.NUMBER,description:"For condition-based: Threshold value to compare against. Required for condition-based tasks."},conditionTimeframe:{type:Be.STRING,description:"For condition-based: Timeframe (1, 5, 15, 60, 240, D, W). REQUIRED. If missing, ask user."}},required:["taskType"]}},s={name:"transferToken",description:"Transfer SPL tokens or NFTs from the Vault to the Owner Wallet. You can ONLY send to the Owner, not to any other address.",parameters:{type:Be.OBJECT,properties:{tokenMint:{type:Be.STRING,description:"Mint address of the token to transfer"},amount:{type:Be.NUMBER,description:"Amount of tokens to transfer (in human-readable units, not raw)"}},required:["tokenMint","amount"]}},o={name:"getMarketPrice",description:"Get the current market price, exchange, and last update time for a given symbol.",parameters:{type:Be.OBJECT,properties:{symbol:{type:Be.STRING,description:'Trading symbol (e.g., "BTCUSDT", "SOLUSDT")'}},required:["symbol"]}},a={name:"getOHLCV",description:"Get OHLCV (Open, High, Low, Close, Volume) candlestick data for a symbol.",parameters:{type:Be.OBJECT,properties:{symbol:{type:Be.STRING,description:'Trading symbol (e.g., "BTCUSDT", "SOLUSDT")'},timeframe:{type:Be.STRING,description:'Timeframe (e.g., "1", "5", "15", "60", "240", "D"). Default is "60".'}},required:["symbol"]}},l={name:"getIndicator",description:"Get a specific technical indicator value for a symbol.",parameters:{type:Be.OBJECT,properties:{symbol:{type:Be.STRING,description:'Trading symbol (e.g., "BTCUSDT", "SOLUSDT")'},indicator:{type:Be.STRING,description:'Indicator name: "rsi", "macd", "ema", "sma", "stoch"'},timeframe:{type:Be.STRING,description:'Timeframe (e.g., "1", "5", "15", "60", "240", "D"). Default is "60".'}},required:["symbol","indicator"]}},c={name:"getTradingViewSummary",description:"Get the TradingView buy/sell/neutral recommendation summary for a symbol.",parameters:{type:Be.OBJECT,properties:{symbol:{type:Be.STRING,description:'Trading symbol (e.g., "BTCUSDT", "SOLUSDT")'}},required:["symbol"]}},u={name:"getHLBalance",description:"Get the balance of the Hyperliquid Vault (USDC) and positions.",parameters:{type:Be.OBJECT,properties:{}}},f={name:"getHLPositions",description:"Get open positions in the Hyperliquid Vault.",parameters:{type:Be.OBJECT,properties:{}}},m={name:"getHLMarketData",description:"Get market data (price, orderbook) for a Hyperliquid asset.",parameters:{type:Be.OBJECT,properties:{coin:{type:Be.STRING,description:'Asset symbol (e.g., "BTC", "ETH", "SOL")'}},required:["coin"]}},g={name:"createHLOrder",description:`Place an order on Hyperliquid Testnet. 
      
      **USDC-BASED ORDERS:**
      If user says "comprar X USDC de COIN", provide usdcAmount=X and the system will automatically calculate the size.
      
      CRITICAL: You MUST ask the user for ALL required information before calling this tool:
      1. Coin (asset symbol)
      2. Direction (LONG/BUY or SHORT/SELL)
      3. Size (amount) OR usdcAmount (USDC to spend)
      4. Order Type (LIMIT or MARKET)
      5. Price (required for LIMIT orders)
      6. Leverage (1-50x, default 1x if not specified)
      7. Stop Loss (optional)
      8. Take Profit (optional)
      
      Minimum order value: $10 USD`,parameters:{type:Be.OBJECT,properties:{coin:{type:Be.STRING,description:'Asset symbol (e.g., "BTC", "ETH", "SOL", "HYPE")'},isBuy:{type:Be.BOOLEAN,description:"True for LONG/BUY, False for SHORT/SELL"},size:{type:Be.NUMBER,description:"Size of the order in token units. Leave empty if usdcAmount is provided."},usdcAmount:{type:Be.NUMBER,description:"Amount in USDC to spend (for buys) or receive (for sells). If provided, size will be auto-calculated."},orderType:{type:Be.STRING,description:'Order type: "limit", "market", "ioc", "alo". Ask user if not specified.'},price:{type:Be.NUMBER,description:"Limit price. Required for LIMIT orders, ignored for MARKET."},leverage:{type:Be.NUMBER,description:"Leverage multiplier (1-50). Ask user, default 1x if not specified."},stopLoss:{type:Be.NUMBER,description:"Optional stop loss price. Ask user if they want to set one."},takeProfit:{type:Be.NUMBER,description:"Optional take profit price. Ask user if they want to set one."},reduceOnly:{type:Be.BOOLEAN,description:"True to only reduce existing position. Default false."}},required:["coin","isBuy","orderType"]}},x={name:"cancelHLOrder",description:"Cancel a specific order on Hyperliquid.",parameters:{type:Be.OBJECT,properties:{coin:{type:Be.STRING,description:"Asset symbol"},orderId:{type:Be.NUMBER,description:"Order ID to cancel"}},required:["coin","orderId"]}},v={name:"updateHLLeverage",description:"Update leverage for a specific asset on Hyperliquid.",parameters:{type:Be.OBJECT,properties:{coin:{type:Be.STRING,description:"Asset symbol"},leverage:{type:Be.NUMBER,description:"New leverage (1-50)"},isCross:{type:Be.BOOLEAN,description:"True for cross margin, false for isolated"}},required:["coin","leverage","isCross"]}},w={name:"closeHLPosition",description:"Close an open position on Hyperliquid.",parameters:{type:Be.OBJECT,properties:{coin:{type:Be.STRING,description:"Asset symbol"},size:{type:Be.NUMBER,description:"Optional: partial close size. If not provided, closes entire position."},orderType:{type:Be.STRING,description:'Order type: "market" (immediate) or "limit"'},price:{type:Be.NUMBER,description:"Price for limit orders"}},required:["coin","orderType"]}},E={name:"withdrawFromHL",description:`Execute a USDC withdrawal from Hyperliquid Testnet Vault to the Owner's wallet.
      
      This tool EXECUTES the withdrawal immediately. Only call this when the user explicitly wants to withdraw/send/transfer USDC from Hyperliquid.
      
      Requirements:
      - Amount must be > $1 (to cover the $1 USDC withdrawal fee)
      - Vault must be unlocked
      - Owner wallet must be connected
      
      Network: Hyperliquid Testnet
      Fee: $1 USDC (deducted from withdrawal amount)
      Processing time: ~5 minutes`,parameters:{type:Be.OBJECT,properties:{amount:{type:Be.NUMBER,description:"Amount of USDC to withdraw (must be > $1 to cover fee)"}},required:["amount"]}},k={name:"getDealerTradeHistory",description:`Query the Hyperliquid Dealer's trade operation history and AI reasoning.
      
      Use this tool when users ask about:
      - Why a specific position was opened/closed
      - The reasoning behind Dealer trades
      - Details about past or current operations
      - What the Dealer did or is doing
      
      Returns:
      - Operation records with coin, action, price, size, PnL
      - Full AI reasoning and confidence for each trade
      - Recent activity logs`,parameters:{type:Be.OBJECT,properties:{coin:{type:Be.STRING,description:'Optional: Filter by specific coin (e.g., "BTC", "ETH"). If not provided, returns all operations.'},limit:{type:Be.NUMBER,description:"Optional: Maximum number of records to return (default 10, max 50)"},includeReasoning:{type:Be.BOOLEAN,description:"Optional: Whether to include full AI reasoning (default true). Set to false for basic info only."}}}};return[{functionDeclarations:[e,n,r,s,i,o,a,l,c,u,f,m,g,x,v,w,E,k]}]}async sendMessage(e,n,r){if(!this.client)throw new Error("AI Agent not initialized. Please set API Key.");const i=this.client,s=this.modelName,o=()=>this.getTools(),a=l=>{l.usageMetadata&&Ps.addRecord({source:"MANAGER",operation:"QUERY",inputTokens:l.usageMetadata.promptTokenCount||0,outputTokens:l.usageMetadata.candidatesTokenCount||0,model:s})};return ro.enqueue({priority:"HIGH",source:"operator",provider:"gemini",execute:async()=>{const l=e.map(f=>({role:f.role==="model"?"model":"user",parts:[{text:f.content}]})),u=await i.chats.create({model:s,config:{systemInstruction:r,tools:o()},history:l}).sendMessage({message:n});return a(u),u}})}async getDealerAnalysis(e,n){if(!this.client)throw new Error("AI Agent not initialized.");const r=this.client,i=this.modelName,s=`
      You are Hyperliquid Dealer, an autonomous crypto trading engine.
      Your goal is to analyze provided market data and output a TRADING DECISION based strictly on the user's Strategy and Portfolio Constraints.

      You will receive:
      1. Market Data (Prices, Indicators, Orderbook)
      2. Portfolio Context (Current Balance, Open Positions, PnL, Risk Limits)
      3. TRADING COSTS (Maker/Taker Fees, Funding Rate, Breakeven Prices)

      You must return valid JSON with this schema:
      {
        "action": "BUY" | "SELL" | "HOLD" | "CLOSE",
        "confidence": number (0.0 to 1.0),
        "reason": "Detailed explanation citing technicals, fees, and costs. Include Entry Price, Stop Loss, and Take Profit values if applicable. (Max 600 characters)",
        "coin": "Symbol analyzed",
        "suggestedLeverage": number (1-50, optional, MUST NOT exceed portfolio.settings.maxLeverage),
        "sizeUSDC": number (optional, calculate based on bankroll settings),
        "orderType": "limit" | "market",
        "price": number (for limit orders, optional),
        "stopLoss": number (optional),
        "takeProfit": number (optional)
      }

      CRITICAL RULES:
      1. ONLY output the JSON decision. No markdown blocks, no fluff.
      2. If data is insufficient or unclear, action="HOLD".
      3. CHECK PORTFOLIO LIMITS: Do not buy if 'maxPositions' is reached.
      4. CLOSE POSITIONS: If an open position hits target or stop loss criteria in your analysis, output "CLOSE".
      5. BANKROLL: Using 'manualBankroll' or 'availableBalance' from context, suggest a safe 'sizeUSDC' for new trades.
      6. REASONING FORMAT: Start 'reason' with action: "LONG:", "SHORT:", "CLOSE:", or "WAIT:".
      7. LEVERAGE CONSTRAINT: If suggesting leverage, 'suggestedLeverage' MUST NOT exceed 'portfolio.settings.maxLeverage'. This is a hard limit set by the user.
      
      TRADING COSTS AWARENESS (CRITICAL FOR PROFIT CALCULATION):
      8. FEE CONSIDERATION: Context includes 'tradingCosts.makerFee' and 'tradingCosts.takerFee' (as decimals, e.g., 0.0005 = 0.05%).
         - Total round-trip cost = (takerFee * 2) for market orders or (makerFee * 2) for limit orders.
         - Only enter trades where expected price movement > total round-trip cost.
      9. FUNDING RATE: Context includes 'tradingCosts.fundingRate' (8h rate) and 'estimatedDailyHoldingCost'.
         - Positive funding: Longs pay shorts.
         - Negative funding: Shorts pay longs.
         - Factor funding into holding decisions for swing trades.
      10. BREAKEVEN PRICES: If 'portfolio.positionBreakevens' exists, it contains:
         - breakevenPrice: Price needed to cover entry/exit fees
         - minProfitPrice: Price needed for 1% profit after costs
         - Use these to decide when to CLOSE positions profitably.
      11. PROFIT THRESHOLD: Only suggest trades where expected move > 2x trading costs (to be safe).
    `;return ro.enqueue({priority:"HIGH",source:"hyperliquidDealer",provider:"gemini",execute:async()=>{var u,f;const o=r.chats.create({model:i,config:{systemInstruction:s,responseMimeType:"application/json"}}),a=`
            [USER STRATEGY]
            ${n}

            [MARKET CONTEXT]
            ${JSON.stringify(e)}
        `,l=await o.sendMessage({message:a});let c="";if(l.candidates&&((f=(u=l.candidates[0])==null?void 0:u.content)!=null&&f.parts))for(const m of l.candidates[0].content.parts)m.text&&(c+=m.text);try{const m=c.replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(m)}catch{return console.error("Failed to parse Dealer JSON response:",c),{action:"HOLD",reason:"Failed to parse AI response"}}}})}async getBatchDealerAnalysis(e,n){var o,a;if(!this.client){console.warn("[AIService] Client not initialized. Attempting lazy init...");const l=or.getApiKey("gemini"),c=(a=(o=window.process)==null?void 0:o.env)==null?void 0:a.GEMINI_API_KEY,u=l||c;if(u)this.initialize(u),console.log("[AIService] Lazy init successful.");else throw new Error("AI Agent not initialized and no API Key found. Please configure your API key in Settings.")}const r=this.client,i=this.modelName,s=`
      You are Hyperliquid Dealer, an autonomous crypto trading engine.
      Your goal is to analyze specific assets and output a TRADING DECISION for EACH one.

      You will receive:
      1. A JSON Object containing an array of 'coins' with their Market Data (Price, Indicators) AND HISTORICAL SERIES.
      2. Portfolio Context (Balance, Open Positions, Risk Limits, userFees with makerFee/takerFee).
      3. PRE-CALCULATED DIVERGENCE SIGNALS: Each coin includes a 'divergences' array with detected divergence patterns.

      DATA STRUCTURE NOTES:
      - 'portfolio.userFees' contains global makerFee and takerFee (applies to all coins).
      - Each coin's 'tradingCosts' contains only fundingRate and dailyHoldingCost (unique per coin).
      - The keys in each coin's 'indicators' object tell you which indicators are active (e.g., {rsi: ..., macd: ...}).
      - 'ts' is a Unix timestamp (seconds since epoch).

      INDICATOR WEIGHTING SYSTEM:
      - Each indicator includes a 'weight' field (0.5 to 2.0, default 1.0).
      - Each indicator includes a 'category' field (trend, momentum, volume, volatility).
      - weight > 1.0: User considers this indicator MORE important (prioritize its signals)
      - weight < 1.0: User considers this indicator LESS important (lower priority)
      - weight = 1.0: Standard importance
      - When indicators conflict, prefer higher-weighted signals.
      - Give each category's signals equal base weight, then apply individual indicator weights.

      INDICATOR CATEGORIES (do NOT stack similar signals from same category):
      - TREND (EMA, SMA, ADX, Ichimoku): Direction of market
      - MOMENTUM (RSI, MACD, Stochastic): Timing of entry/exit
      - VOLUME (OBV, VWAP): Confirmation of moves
      - VOLATILITY (ATR, Bollinger): Risk context

      AUTONOMOUS MODE (when 'autonomousMode' is true in context):
      - The context includes 'availablePresets' with preset configurations.
      - You MUST analyze market conditions first and choose the best preset.
      - Add a 'chosenPreset' field to your JSON response (outside the decisions array) with one of:
        - 'balanced': For uncertain/mixed signals (default fallback)
        - 'scalp': For high volatility with quick reversals
        - 'trendFollowing': For strong directional trends (ADX > 25)
        - 'meanReversion': For ranging/sideways markets
        - 'volumeConfirm': For breakout scenarios or unusual volume
      - Add a 'presetReason' field explaining why you chose that preset.
      - Focus your analysis on the indicators most relevant to your chosen preset.

      RESPONSE FORMAT:
      - For NORMAL mode: Return JSON array of decisions directly.
      - For AUTONOMOUS mode: Return { "chosenPreset": "...", "presetReason": "...", "decisions": [...] }

      You must return valid JSON with this EXACT schema for each decision:
      {
        "coin": "Symbol analyzed",
        "action": "BUY" | "SELL" | "HOLD" | "CLOSE",
        "confidence": number (0.0 to 1.0),
        "reason": "Format: [ACTION] Position Status + Explanation. POSITION STATUS RULES: If NO open position, say 'No position.' If HAVE open position, say 'In LONG/SHORT at $X, PnL: $Y'. ENTRY/SL/TP RULES: Only include Entry/SL/TP values for BUY or SELL actions. For HOLD/CLOSE, do NOT include Entry/SL/TP. Examples: HOLD='WAIT: No position. RSI neutral.' BUY='LONG: No position. RSI divergence. Entry: $95000, SL: $93100, TP: $98800' CLOSE='CLOSE: In LONG at $95000, PnL: +$150. TP reached.'. Max 600 chars.",
        "suggestedLeverage": number (1-50, optional, MUST NOT exceed portfolio.settings.maxLeverage),
        "sizeUSDC": number (optional, calculate based on bankroll settings),
        "orderType": "limit" | "market",
        "price": number (for limit orders, optional),
        "stopLoss": number (optional),
        "takeProfit": number (optional)
      }

      CRITICAL RULES:
      1. ONLY output valid JSON.
      2. Must return one decision object per coin provided in the input.
      3. CHECK PORTFOLIO LIMITS: Do not suggest BUY if 'portfolio.maxPositions' is reached.
      4. CLOSE POSITIONS: Prioritize checking existing positions for exit signals.
      5. PROFITABILITY: Consider 'portfolio.userFees' and coin's 'tradingCosts'. Only trade if potential > costs.
      6. LEVERAGE CONSTRAINT: If suggesting leverage, 'suggestedLeverage' MUST NOT exceed 'portfolio.settings.maxLeverage'. This is a hard limit set by the user.
      
      7. RISK PROTECTION (CRITICAL - MANDATORY JSON FIELDS):
         - Check 'portfolio.settings.stopLossEnabled' and 'portfolio.settings.takeProfitEnabled'.
         - If 'stopLossEnabled' is true AND 'stopLossPercent' is null: You MUST include the numeric field "stopLoss" in your JSON response (not just in reason text). Example: "stopLoss": 93100.50
         - If 'takeProfitEnabled' is true AND 'takeProfitPercent' is null: You MUST include the numeric field "takeProfit" in your JSON response (not just in reason text). Example: "takeProfit": 98800.00
         - These are SEPARATE JSON FIELDS, not just mentions in the "reason" string.
         - For BUY/LONG: stopLoss should be BELOW entry price, takeProfit should be ABOVE entry price.
         - For SELL/SHORT: stopLoss should be ABOVE entry price, takeProfit should be BELOW entry price.
      
      8. DIVERGENCE SIGNALS (HIGH PRIORITY): Each coin includes a 'divergences' array with pre-calculated signals:
         - BULLISH: Price lower low + RSI/MACD higher low  potential reversal UP
         - BEARISH: Price higher high + RSI/MACD lower high  potential reversal DOWN
         - HIDDEN_BULLISH: Trend continuation signal UP
         - HIDDEN_BEARISH: Trend continuation signal DOWN
         - Strength: WEAK, MODERATE, STRONG (prioritize MODERATE and STRONG signals)
         - Use these divergences with HIGH PRIORITY - they are algorithmically detected and reliable.
       8. REASONING FORMAT (CRITICAL - MUST FOLLOW):
          - Start with action: "LONG:", "SHORT:", "CLOSE:", or "WAIT:".
          - POSITION STATUS (MANDATORY - ALWAYS INCLUDE):
            - Check each coin's 'openPosition.hasPosition' field.
            - If hasPosition === false: MUST say "No position." at the START of your reason.
            - If hasPosition === true: MUST say "In [side] at $[entryPx], PnL: $[unrealizedPnl]" at the START.
          - ENTRY/SL/TP VALUES:
            - ONLY include Entry, SL, TP values for BUY or SELL actions (new trades).
            - For HOLD or CLOSE actions, do NOT include Entry/SL/TP values.
          - CRITICAL: Use ONLY the openPosition data from each coin's context. NEVER invent or guess PnL values.
          - CRITICAL: If hasPosition is false, DO NOT report SL/TP values - there is no position to have SL/TP.
          - MANDATORY: If divergences are present, mention them in your reasoning.
          - RECOMMENDED: Mention indicator weights if they influenced your decision.
         - RECOMMENDED: If 'macro' data is present, mention macro alignment in your reasoning.

      MACRO TIMEFRAME CONFIRMATION (CRITICAL FOR ACCURACY):
      - Each coin MAY include a 'macro' object with indicator values from a HIGHER timeframe.
      - 'macro.timeframe' tells you the macro timeframe (e.g., '240' = 4H, 'D' = Daily, 'W' = Weekly).
      - 'macro.indicators' contains current values only (no history).
      
      MACRO ALIGNMENT RULES:
      - If main timeframe shows OVERBOUGHT but macro shows OVERSOLD: Consider HOLD or reduce confidence by 20-30%.
      - If main timeframe shows OVERSOLD but macro shows OVERBOUGHT: Consider HOLD or reduce confidence by 20-30%.
      - If main and macro ALIGN (both overbought or both oversold): Full confidence trade.
      - If conflicting signals: MENTION THE CONFLICT in your reasoning (e.g., "Main RSI=75 but Macro RSI=30 - conflicting").
      
      EXAMPLES:
      - Main RSI=25 (oversold) + Macro RSI=35 (neutral-oversold) = ALIGNED = Full confidence BUY.
      - Main RSI=75 (overbought) + Macro RSI=30 (oversold) = CONFLICTING = HOLD or reduce size.
      - Use macro as a FILTER to avoid trading against the higher timeframe trend.
    `;return ro.enqueue({priority:"NORMAL",source:"hyperliquidDealer",provider:"gemini",execute:async()=>{var I,D,j;const l=r.chats.create({model:i,config:{systemInstruction:s,responseMimeType:"application/json"}}),c=`
          [USER STRATEGY]
          ${n}

          [BATCH MARKET DATA]
          ${JSON.stringify(e)}

          Analyze all assets in the batch. Return a JSON Array of decisions.
        `,u=await l.sendMessage({message:c});u.usageMetadata&&Ps.addRecord({source:"DEALER",operation:"BATCH_ANALYSIS",inputTokens:u.usageMetadata.promptTokenCount||0,outputTokens:u.usageMetadata.candidatesTokenCount||0,model:i,metadata:{coinsAnalyzed:((I=e==null?void 0:e.coins)==null?void 0:I.length)||0}});let f="";if(u.candidates&&((j=(D=u.candidates[0])==null?void 0:D.content)!=null&&j.parts))for(const M of u.candidates[0].content.parts)M.text&&(f+=M.text);if(!f)return console.warn("[AIService] Empty response from Batch Dealer Analysis"),[];const m=f.replace(/```json/g,"").replace(/```/g,"").trim();let g;try{g=JSON.parse(m)}catch(M){return console.warn("[AIService] JSON Parse Error:",M),[]}let x=[];if(Array.isArray(g))x=g;else if(typeof g=="object")x=[g];else return[];const w=x.map(M=>M.action==="LONG"?{...M,action:"BUY"}:M.action==="SHORT"?{...M,action:"SELL"}:M.action==="WAIT"?{...M,action:"HOLD"}:M).filter(M=>{const U=typeof M.coin=="string"&&M.coin.length>0,V=["BUY","SELL","HOLD","CLOSE"].includes(M.action);return!(!U||!V)}),E={CLOSE:3,BUY:2,SELL:2,HOLD:1},k=new Map;for(const M of w){const U=M.coin.toUpperCase(),V=k.get(U);if(!V)k.set(U,M);else{const F=E[V.action]||0,z=E[M.action]||0;if(z>F)k.set(U,M);else if(z===F){const K=V.confidence||0;(M.confidence||0)>K&&k.set(U,M)}}}return Array.from(k.values())}})}async analyzePolymarket(e){if(!this.client)return console.warn("[AIService] Client not initialized for Polymarket analysis"),null;const n=this.client,r=this.modelName,i=`
      You are a Polymarket prediction market analyst.
      Your goal is to analyze prediction markets and identify trading opportunities.

      You will receive market data including:
      - Market questions and current YES/NO prices
      - Time to resolution
      - Volume and liquidity data
      - Current portfolio positions

      Respond with a JSON object containing your analysis:
      {
        "decisions": [
          {
            "action": "BUY_YES" | "BUY_NO" | "SELL_YES" | "SELL_NO" | "HOLD",
            "marketId": "string",
            "question": "string",
            "confidence": 0-100,
            "reason": "explanation",
            "suggestedSize": number (USDC),
            "suggestedPrice": number (0-1)
          }
        ],
        "marketOverview": "Brief overall assessment",
        "riskAssessment": "Brief risk commentary"
      }

      RULES:
      1. Only suggest trades with confidence >= 60
      2. Consider time to resolution (avoid markets expiring soon without clear edge)
      3. Factor in liquidity - avoid illiquid markets
      4. Look for mispriced probabilities based on news/fundamentals
      5. Diversify across different categories when possible
    `;return ro.enqueue({priority:"NORMAL",source:"polymarketDealer",provider:"gemini",execute:async()=>{var l,c;const o=await n.chats.create({model:r,config:{systemInstruction:i,responseMimeType:"application/json"}}).sendMessage({message:e});o.usageMetadata&&Ps.addRecord({source:"POLYMARKET_DEALER",operation:"ANALYSIS",inputTokens:o.usageMetadata.promptTokenCount||0,outputTokens:o.usageMetadata.candidatesTokenCount||0,model:r});let a="";if(o.candidates&&((c=(l=o.candidates[0])==null?void 0:l.content)!=null&&c.parts))for(const u of o.candidates[0].content.parts)u.text&&(a+=u.text);return a||null}})}getProviderFactory(){return j0}getConfigStore(){return or}getAvailableProviders(){return["gemini","openai","claude"]}getModelsForProvider(e){return Hg[e]||[]}async sendOperatorMessage(e,n,r){var s;const i=j0.getProviderForComponent("operator");if(!i)return console.log("[AIService] Falling back to legacy Gemini for operator"),this.sendMessage(e,n,r);try{const o=await i.sendMessage(e,n,r,((s=i.getTools)==null?void 0:s.call(i))||this.getTools());if(o.usageMetadata){const a=or.getComponentConfig("operator");Ps.addRecord({source:"MANAGER",operation:"QUERY",inputTokens:o.usageMetadata.promptTokenCount||0,outputTokens:o.usageMetadata.candidatesTokenCount||0,model:a.modelId})}return{text:o.text,functionCalls:o.functionCalls,usageMetadata:o.usageMetadata,candidates:[{content:{parts:[{text:o.text}]}}]}}catch(o){return console.error("[AIService] Operator provider error:",o),this.sendMessage(e,n,r)}}async getDealerBatchAnalysis(e,n,r){var s;const i=j0.getProviderForComponent("hyperliquidDealer");if(!i)return console.log("[AIService] Falling back to legacy batch analysis"),{decisions:await this.getBatchDealerAnalysis(e,n)};try{const o=await i.sendBatchAnalysis(e,n,r),a=or.getComponentConfig("hyperliquidDealer");return Ps.addRecord({source:"DEALER",operation:"BATCH_ANALYSIS",inputTokens:Math.round(JSON.stringify(e).length/4),outputTokens:Math.round(JSON.stringify(o).length/4),model:a.modelId,metadata:{coinsAnalyzed:((s=e==null?void 0:e.coins)==null?void 0:s.length)||0}}),o}catch(o){if((o==null?void 0:o.name)==="AbortError")throw console.log("[AIService] Dealer analysis aborted"),o;return console.error("[AIService] Dealer provider error:",o),{decisions:await this.getBatchDealerAnalysis(e,n)}}}async getPolymarketAnalysis(e){const n=j0.getProviderForComponent("polymarketDealer");if(!n)return console.log("[AIService] Falling back to legacy Polymarket analysis"),this.analyzePolymarket(e);const r=`
      You are a Polymarket prediction market analyst.
      Your goal is to analyze prediction markets and identify trading opportunities.

      Respond with a JSON object containing your analysis:
      {
        "decisions": [
          {
            "action": "BUY_YES" | "BUY_NO" | "SELL_YES" | "SELL_NO" | "HOLD",
            "marketId": "string",
            "question": "string",
            "confidence": 0-100,
            "reason": "explanation",
            "suggestedSize": number (USDC),
            "suggestedPrice": number (0-1)
          }
        ],
        "marketOverview": "Brief overall assessment",
        "riskAssessment": "Brief risk commentary"
      }

      RULES:
      1. Only suggest trades with confidence >= 60
      2. Consider time to resolution
      3. Factor in liquidity
      4. Look for mispriced probabilities
      5. Diversify when possible
    `;try{const i=await n.sendJsonAnalysis(e,r);if(i){const s=or.getComponentConfig("polymarketDealer");Ps.addRecord({source:"POLYMARKET_DEALER",operation:"ANALYSIS",inputTokens:Math.round(e.length/4),outputTokens:Math.round(i.length/4),model:s.modelId})}return i}catch(i){return console.error("[AIService] Polymarket provider error:",i),this.analyzePolymarket(e)}}isComponentReady(e){return j0.isComponentReady(e)}getComponentProviderInfo(e){const n=or.getComponentConfig(e),i=Hg[n.providerType].find(s=>s.id===n.modelId);return{provider:n.providerType,model:n.modelId,modelName:(i==null?void 0:i.name)||n.modelId,isReady:j0.isComponentReady(e)}}async generateCycleSummary(e,n){if(!this.client)return console.warn("[AIService] Client not initialized for cycle summary"),"";if(e.length===0)return"";const r=this.client,i=this.modelName,o=`You are a trading analyst summarizing recent trading activity.
Generate a CONCISE contextual summary for an AI trader about to analyze ${n==="hyperliquid"?"crypto perpetual futures trading on Hyperliquid":"prediction market trading on Polymarket"}.

The summary should help the AI understand:
1. Recent market sentiment and patterns observed
2. Actions taken in previous cycles (buys, sells, holds)
3. Key assets/markets being monitored
4. Any notable patterns or trends

CRITICAL RULES:
- Output ONLY plain text, max 300 characters
- Be extremely concise - every word must add value
- Focus on actionable context for the next analysis
- No JSON, no markdown, no formatting`,a=e.map(c=>({time:new Date(c.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),actions:c.decisions.map(u=>`${u.asset}:${u.action}(${Math.round(u.confidence*100)}%)`).join(", "),assets:c.assetsAnalyzed.length})),l=`Recent ${n} trading cycles (newest first):
${a.map((c,u)=>`Cycle ${e.length-u}: ${c.time} - Analyzed ${c.assets} assets. Actions: ${c.actions||"None"}`).join(`
`)}

Generate a brief contextual summary for the next analysis cycle.`;return ro.enqueue({priority:"LOW",source:n==="hyperliquid"?"hyperliquidDealer":"polymarketDealer",provider:"gemini",execute:async()=>{var c,u;try{const m=await r.chats.create({model:i,config:{systemInstruction:o}}).sendMessage({message:l});m.usageMetadata&&Ps.addRecord({source:n==="hyperliquid"?"DEALER":"POLYMARKET_DEALER",operation:"CYCLE_SUMMARY",inputTokens:m.usageMetadata.promptTokenCount||0,outputTokens:m.usageMetadata.candidatesTokenCount||0,model:i});let g="";if(m.candidates&&((u=(c=m.candidates[0])==null?void 0:c.content)!=null&&u.parts))for(const x of m.candidates[0].content.parts)x.text&&(g+=x.text);return g.trim().slice(0,350)}catch(f){return console.error("[AIService] Cycle summary generation failed:",f),""}}})}}const tm=new dct;class fct{constructor(){this.worker=null,this.callbacks=new Map,this.fallbackTimers=new Map,this.isSupported=typeof Worker<"u",this.isSupported?this.initWorker():console.warn("[BackgroundTimer]  Web Workers not supported, falling back to setInterval (will be throttled in background)")}initWorker(){try{const e=`
                const timers = new Map();
                
                self.onmessage = (event) => {
                    const { type, timerId, intervalMs } = event.data;
                    
                    if (type === 'START' && timerId && intervalMs) {
                        // Clear existing timer if any
                        if (timers.has(timerId)) {
                            clearInterval(timers.get(timerId));
                        }
                        
                        // Start new timer
                        const id = setInterval(() => {
                            self.postMessage({ type: 'TICK', timerId, timestamp: Date.now() });
                        }, intervalMs);
                        timers.set(timerId, id);
                        
                        // Log start (visible in browser console under Worker context)
                        console.log('[TimerWorker] Started timer "' + timerId + '" with ' + intervalMs + 'ms interval');
                    }
                    
                    if (type === 'STOP' && timerId) {
                        if (timers.has(timerId)) {
                            clearInterval(timers.get(timerId));
                            timers.delete(timerId);
                            console.log('[TimerWorker] Stopped timer "' + timerId + '"');
                        }
                    }
                    
                    if (type === 'UPDATE_INTERVAL' && timerId && intervalMs) {
                        if (timers.has(timerId)) {
                            clearInterval(timers.get(timerId));
                        }
                        const id = setInterval(() => {
                            self.postMessage({ type: 'TICK', timerId, timestamp: Date.now() });
                        }, intervalMs);
                        timers.set(timerId, id);
                        console.log('[TimerWorker] Updated timer "' + timerId + '" to ' + intervalMs + 'ms');
                    }
                };
            `,n=new Blob([e],{type:"application/javascript"});this.worker=new Worker(URL.createObjectURL(n)),this.worker.onmessage=r=>{const{type:i,timerId:s,timestamp:o}=r.data;if(i==="TICK"&&this.callbacks.has(s))try{this.callbacks.get(s)(o)}catch(a){console.error(`[BackgroundTimer] Error in callback for "${s}":`,a)}},this.worker.onerror=r=>{console.error("[BackgroundTimer] Worker error:",r)},console.log("[BackgroundTimer]  Web Worker initialized - timers will run in background")}catch(e){console.error("[BackgroundTimer] Failed to initialize Worker:",e),this.isSupported=!1}}start(e,n,r){if(this.callbacks.set(e,r),this.worker)this.worker.postMessage({type:"START",timerId:e,intervalMs:n});else{console.warn(`[BackgroundTimer] Using fallback for "${e}" - may be throttled in background`);const i=setInterval(()=>r(Date.now()),n);this.fallbackTimers.set(e,i)}}stop(e){this.callbacks.delete(e),this.worker&&this.worker.postMessage({type:"STOP",timerId:e}),this.fallbackTimers.has(e)&&(clearInterval(this.fallbackTimers.get(e)),this.fallbackTimers.delete(e))}updateInterval(e,n){if(this.worker&&this.callbacks.has(e))this.worker.postMessage({type:"UPDATE_INTERVAL",timerId:e,intervalMs:n});else if(this.fallbackTimers.has(e)){const r=this.callbacks.get(e);if(r){clearInterval(this.fallbackTimers.get(e));const i=setInterval(()=>r(Date.now()),n);this.fallbackTimers.set(e,i)}}}isRunning(e){return this.callbacks.has(e)}getActiveTimers(){return Array.from(this.callbacks.keys())}destroy(){for(const e of this.callbacks.keys())this.stop(e);this.worker&&(this.worker.terminate(),this.worker=null),this.callbacks.clear(),this.fallbackTimers.clear()}}const Aa=new fct;class hct{constructor(){this.audioContext=null,this.oscillator=null,this.gainNode=null,this.isActive=!1,this.checkInterval=null,this.visibilityHandler=null,this.userInteractionHandler=null}start(){var e;if(this.isActive&&((e=this.audioContext)==null?void 0:e.state)==="running")return console.log("[KeepAlive] Already active and running"),!0;try{return this.audioContext&&this.audioContext.state!=="closed"&&this.cleanupAudio(),this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.oscillator=this.audioContext.createOscillator(),this.oscillator.type="sine",this.oscillator.frequency.setValueAtTime(1,this.audioContext.currentTime),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.setValueAtTime(.001,this.audioContext.currentTime),this.oscillator.connect(this.gainNode),this.gainNode.connect(this.audioContext.destination),this.oscillator.start(),this.isActive=!0,console.log("[KeepAlive]  Silent audio started - tab will stay active in background"),this.setupMaintenance(),!0}catch(n){return console.error("[KeepAlive]  Failed to start silent audio:",n),!1}}setupMaintenance(){this.cleanupMaintenance(),this.visibilityHandler=()=>{document.visibilityState==="visible"&&this.isActive&&(console.log("[KeepAlive]  Tab became visible, checking audio..."),this.ensureRunning())},document.addEventListener("visibilitychange",this.visibilityHandler),this.userInteractionHandler=()=>{var e;this.isActive&&((e=this.audioContext)==null?void 0:e.state)==="suspended"&&(console.log("[KeepAlive]  User interaction detected, resuming audio..."),this.resume())},["click","keydown","touchstart","mousedown"].forEach(e=>{document.addEventListener(e,this.userInteractionHandler,{passive:!0})}),this.checkInterval=setInterval(()=>{this.isActive&&this.ensureRunning()},5e3)}async ensureRunning(){var n;if(!this.isActive)return;const e=(n=this.audioContext)==null?void 0:n.state;e==="suspended"?(console.log("[KeepAlive]  AudioContext suspended, attempting resume..."),await this.resume()):(e==="closed"||!this.audioContext)&&(console.log("[KeepAlive]  AudioContext closed, restarting..."),this.isActive=!1,this.start())}cleanupMaintenance(){this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null),this.visibilityHandler&&(document.removeEventListener("visibilitychange",this.visibilityHandler),this.visibilityHandler=null),this.userInteractionHandler&&(["click","keydown","touchstart","mousedown"].forEach(e=>{document.removeEventListener(e,this.userInteractionHandler)}),this.userInteractionHandler=null)}cleanupAudio(){try{this.oscillator&&(this.oscillator.stop(),this.oscillator.disconnect(),this.oscillator=null),this.gainNode&&(this.gainNode.disconnect(),this.gainNode=null),this.audioContext&&this.audioContext.state!=="closed"&&this.audioContext.close(),this.audioContext=null}catch{}}stop(){if(this.isActive)try{this.cleanupMaintenance(),this.cleanupAudio(),this.isActive=!1,console.log("[KeepAlive]  Silent audio stopped")}catch(e){console.error("[KeepAlive] Error stopping:",e)}}async resume(){if(!this.audioContext)return this.start();if(this.audioContext.state==="suspended")try{return await this.audioContext.resume(),console.log("[KeepAlive]  AudioContext resumed"),!0}catch(e){return console.error("[KeepAlive] Failed to resume:",e),this.isActive=!1,this.start()}return!0}getIsActive(){var e;return this.isActive&&((e=this.audioContext)==null?void 0:e.state)==="running"}getState(){var e;return((e=this.audioContext)==null?void 0:e.state)||"not-initialized"}}const v2=new hct,$Q="hyperliquid-dealer-cycle",J3="hyperliquid-dealer-sync";class pct{constructor(){this.isLoopRunning=!1,this.currentCycleAbortController=null,this.vaultContext={balance:0,positions:[]},this.lastError=null,this.consecutiveFailures=0,this.executor=null,Nt.subscribe(()=>{const e=Nt.getSnapshot();e.isOn&&!this.isLoopRunning?this.startLoop():!e.isOn&&this.isLoopRunning&&this.stopLoop()})}startLoop(){if(this.isLoopRunning)return;this.isLoopRunning=!0,console.log("[DealerService]  Starting loop with Web Worker timer (background-safe)..."),v2.start();const n=Nt.getSnapshot().settings.checkIntervalSeconds*1e3||6e4;Aa.start($Q,n,()=>this.runCycle()),this.startSyncLoop(),this.runCycle()}startSyncLoop(){Aa.stop(J3),console.log("[DealerService] Starting sync loop with Web Worker timer..."),Aa.start(J3,15e3,()=>this.syncPortfolio()),this.syncPortfolio()}async syncPortfolio(){if(this.vaultContext.walletAddress){if(Ft.isDealerActive()){console.log("[DealerService]   Skipping sync - dealer is active");return}try{const e=await Ft.getUserStateShared(this.vaultContext.walletAddress);let n=[],r=0;e&&(e.assetPositions&&(n=e.assetPositions.filter(o=>parseFloat(o.position.szi)!==0),this.vaultContext.positions=n),e.marginSummary&&(r=parseFloat(e.marginSummary.accountValue||"0")));let i=0;const s=n.map(o=>{var u;const a=parseFloat(o.position.szi),l=parseFloat(o.position.entryPx),c=Math.abs(a*l);return i+=c,{coin:o.position.coin,size:a,entryPrice:l,unrealizedPnl:parseFloat(o.position.unrealizedPnl||"0"),side:a>0?"LONG":"SHORT",leverage:parseFloat(((u=o.position.leverage)==null?void 0:u.value)||"1"),liquidationPrice:o.position.liquidationPx?parseFloat(o.position.liquidationPx):void 0}});this.vaultContext.balance=r,Nt.updatePortfolioState(s,r,i)}catch(e){console.warn("[DealerService] syncPortfolio failed:",e)}}}stopLoop(){this.isLoopRunning&&(console.log("[DealerService]  Stopping loop..."),this.currentCycleAbortController&&(console.log("[DealerService]  Aborting current cycle requests..."),this.currentCycleAbortController.abort(),this.currentCycleAbortController=null),Aa.stop($Q),Aa.stop(J3),v2.stop(),this.isLoopRunning=!1,Nt.updateStatus(null,null,"System paused",void 0,"Dealer offline"))}setVaultContext(e){this.vaultContext={...this.vaultContext,...e}}async runCycle(){var v,w,E,k;const e=Nt.getSnapshot();if(!e.isOn){this.stopLoop();return}this.currentCycleAbortController=new AbortController;const n=this.currentCycleAbortController.signal;Ft.acquireDealerLock();const r=e.settings.indicatorSettings,s=Object.entries(r).filter(([I,D])=>D.enabled).map(([I,D])=>I.toUpperCase()).join(", ")||"Default",o=e.settings.tradingPairs.length,a=e.settings.analysisTimeframe,l=a==="1"?"1m":a==="5"?"5m":a==="15"?"15m":a==="60"?"1h":a==="240"?"4h":a==="D"?"1D":`${a}m`,c=e.settings.macroTimeframe,u=e.settings.macroTimeframeEnabled?`  ${c==="15"?"15m":c==="60"?"1H":c==="240"?"4H":c==="D"?"1D":c==="W"?"1W":c}`:"";Nt.setAnalyzing(!0),Nt.updateStatus(" Scanning Markets",null,"Initializing market analysis cycle...",void 0,` ${o} pairs  ${l}${u}  ${s}`);const f=Date.now();let m=0,g=0,x=0;try{let I=this.vaultContext.positions||[];this.vaultContext.walletAddress&&(!I||I.length===0)&&(await this.syncPortfolio(),I=this.vaultContext.positions||[]);const D=e.settings.tradingPairs;if(D.length===0){Nt.addLog("WARNING","No trading pairs configured.");return}const j=5,M=[];for(let A=0;A<D.length;A+=j)M.push(D.slice(A,A+j));const U=e.settings.maxOpenPositions||3,V=[],F=new Map;for(let A=0;A<M.length;A++){if(n.aborted)throw new DOMException("Dealer cycle aborted","AbortError");const P=M[A],R=A+1,$=P.join(", ");Nt.updateStatus(" Fetching Data",null,`Collecting market data for ${$}...`,void 0,`Batch ${R}/${M.length}  ${P.length} coins`);const q=Date.now(),te=[];for(const me of P){if(n.aborted)throw new DOMException("Dealer cycle aborted","AbortError");const ce=e.settings.autonomousIndicators?void 0:e.settings.indicatorSettings,oe=await K3.getMarketContext(me,this.vaultContext.walletAddress,e.settings.analysisTimeframe||"60",ce,e.settings.historyCandles||100);if(e.settings.macroTimeframeEnabled&&e.settings.macroTimeframe&&!oe.error){let Ce=ce;if(Ce&&e.settings.macroEnabledIndicators){Ce={...Ce};const $e={},Ze=e.settings.macroEnabledIndicators;for(const[Ye,We]of Object.entries(Ce))$e[Ye]={...We,enabled:We.enabled&&Ze.includes(Ye)};Ce=$e}const Ne=await K3.getMacroSnapshot(me,e.settings.macroTimeframe,Ce);Object.keys(Ne.indicators).length>0&&(oe.macro=Ne)}oe.error||(te.push(oe),F.set(me,oe)),await new Promise(Ce=>setTimeout(Ce,200))}if(m+=Date.now()-q,te.length===0)continue;for(const me of te){const ce=me.symbol,oe=I.find(Ce=>{var Ne;return((Ne=Ce.position)==null?void 0:Ne.coin)===ce||Ce.coin===ce});if(oe&&parseFloat(((v=oe.position)==null?void 0:v.szi)||oe.szi||"0")!==0){const Ce=oe.position||oe;me.openPosition={hasPosition:!0,side:parseFloat(Ce.szi)>0?"LONG":"SHORT",size:Math.abs(parseFloat(Ce.szi)),entryPrice:parseFloat(Ce.entryPx||"0"),unrealizedPnl:parseFloat(Ce.unrealizedPnl||"0"),leverage:parseFloat(((w=Ce.leverage)==null?void 0:w.value)||"1")}}else me.openPosition={hasPosition:!1}}const Y=I.length>0?K3.calculatePositionBreakevens(I,{makerFee:2e-4,takerFee:5e-4},new Map(te.map(me=>{var ce;return[me.symbol,((ce=me.tradingCosts)==null?void 0:ce.fundingRate)||0]}))):[],G={coins:te,portfolio:{balance:this.vaultContext.balance,positions:I,positionBreakevens:Y,settings:{maxPositions:e.settings.maxOpenPositions,maxLeverage:e.settings.maxLeverage,bankrollType:e.settings.bankrollType,manualBankroll:e.settings.manualBankroll,stopLossEnabled:e.settings.stopLossEnabled,stopLossPercent:e.settings.stopLossPercent,takeProfitEnabled:e.settings.takeProfitEnabled,takeProfitPercent:e.settings.takeProfitPercent},userFees:{makerFee:2e-4,takerFee:5e-4},lastExecutionError:this.lastError&&Date.now()-this.lastError.timestamp<6e4?{message:this.lastError.message,timestamp:this.lastError.timestamp}:null},autonomousMode:e.settings.autonomousIndicators,availablePresets:e.settings.autonomousIndicators?Uu:void 0,cycleSummary:Vu.getContextForAI("hyperliquid")},O=te.map(me=>me.symbol).join(", ");Nt.updateStatus(" Analyzing",null,`AI processing ${O}...`,void 0,`Using ${s} indicators`);const N=e.settings.strategyPrompt||"Scalp trading. Buy low RSI, Sell high RSI.",W=G.cycleSummary;W&&Nt.addLog("INFO",` Cycle Summary: Including ${W.length} char context from previous cycles`);const X=Date.now();if(n.aborted)throw new DOMException("Dealer cycle aborted","AbortError");const re=await tm.getDealerBatchAnalysis(G,N,n);g+=Date.now()-X;let ae=[],Ee;const ue=re;ue&&typeof ue=="object"&&!Array.isArray(ue)?(ae=ue.decisions||[],Ee=ue.cycleSummary,e.settings.autonomousIndicators&&ue.chosenPreset&&(Nt.addLog("INFO",` AI chose preset: ${((E=Uu[ue.chosenPreset])==null?void 0:E.emoji)||""} ${ue.chosenPreset}`),ue.presetReason&&Nt.addLog("INFO",` Preset reason: ${ue.presetReason}`))):Array.isArray(ue)&&(ae=ue),Ee&&(Vu.setSummary("hyperliquid",Ee),Nt.addLog("INFO",` AI Summary: ${Ee.slice(0,80)}...`));for(const me of ae){const ce=me.coin,oe=me.action,Ce=me.reason,Ne=me.confidence||0,$e=F.get(ce);if(Nt.addLog("REASONING",`${ce}: ${oe} (Conf: ${(Ne*100).toFixed(0)}%)`,{fullReason:Ce,context:{...me,currentPrice:$e==null?void 0:$e.currentPrice,indicators:$e==null?void 0:$e.indicators,enabledIndicators:$e==null?void 0:$e.enabledIndicators,tradingCosts:$e==null?void 0:$e.tradingCosts,orderBook:$e==null?void 0:$e.orderBook,macro:$e==null?void 0:$e.macro}}),oe==="HOLD")continue;const Ze=e.settings.aggressiveMode?.5:.6;if(Ne<Ze){Nt.addLog("INFO",`Skipped ${oe} on ${ce}: Confidence ${(Ne*100).toFixed(0)}% < ${(Ze*100).toFixed(0)}%`);continue}V.push({decision:me,marketContext:F.get(ce)})}A<M.length-1&&await new Promise(me=>setTimeout(me,500))}const z=V.length;Nt.updateStatus(" Prioritizing",null,z>0?`Found ${z} trading signal${z>1?"s":""}`:"No actionable signals found",void 0,z>0?"Ranking by confidence...":"Monitoring for opportunities"),V.sort((A,P)=>{const R=(A.decision.confidence||0)+(A.decision.action==="CLOSE"?.5:0);return(P.decision.confidence||0)+(P.decision.action==="CLOSE"?.5:0)-R}),V.length>U&&Nt.addLog("INFO",` Prioritizing top ${U} trades from ${V.length} signals (sorted by confidence)`);let K=0;const H=Date.now();for(const{decision:A,marketContext:P}of V){if(n.aborted)throw new DOMException("Dealer cycle aborted","AbortError");const R=A.coin,$=A.action,q=A.reason,te=A.confidence||0;if(K>=U&&$!=="CLOSE"){Nt.addLog("INFO",` Skipping ${$} on ${R} (${(te*100).toFixed(0)}%): Cycle limit reached, lower priority`);continue}const Y=I.length;if($==="BUY"&&Y>=e.settings.maxOpenPositions&&!I.some(O=>{var N;return O.coin===R||((N=O.position)==null?void 0:N.coin)===R})){Nt.addLog("WARNING",`Ignored BUY on ${R}: Max positions reached.`);continue}if(Nt.addLog("SIGNAL",` Executing ${$} on ${R} (${(te*100).toFixed(0)}% confidence)`),this.executor){let G=A.sizeUSDC||e.settings.maxPositionSizeUSDC||20;e.settings.maxPositionSizeUSDC&&(G=Math.min(G,e.settings.maxPositionSizeUSDC));const O=A.suggestedLeverage||e.settings.maxLeverage||1,N=Math.min(O,e.settings.maxLeverage||1);O>N&&Nt.addLog("INFO",` Leverage capped for ${R}: ${O}x  ${N}x (max: ${e.settings.maxLeverage}x)`);const X=(this.vaultContext.balance||0)*N*.95;if(G>X&&(G=X),G<10&&$!=="CLOSE"){Nt.addLog("WARNING",`Trade skipped on ${R}: Size < $10`);continue}try{const re=$==="BUY"?"":$==="SELL"?"":"";Nt.updateStatus(`${re} Executing`,null,`${$} ${R} @ $${((k=P==null?void 0:P.currentPrice)==null?void 0:k.toFixed(2))||"market"}`,void 0,`Confidence: ${(te*100).toFixed(0)}%  Size: $${G.toFixed(0)}`),await this.executor({coin:R,action:$,type:A.orderType||"limit",price:A.price||(P==null?void 0:P.currentPrice),sizeUSDC:G,leverage:N,reason:q,cloid:this.generateCloid(),stopLoss:A.stopLoss,takeProfit:A.takeProfit}),K+=$!=="CLOSE"?1:0,await new Promise(ae=>setTimeout(ae,2e3))}catch(re){console.error(`[DealerService] Execution failed for ${R}:`,re),Nt.addLog("ERROR",`Execution failed for ${R}: ${re.message}`)}}}x+=Date.now()-H;const B=(Date.now()-f)/1e3;console.log(`[DealerService] Cycle Telemetry: Total=${B.toFixed(1)}s, Fetch=${(m/1e3).toFixed(1)}s, AI=${(g/1e3).toFixed(1)}s, Exec=${(x/1e3).toFixed(1)}s`),Vu.recordCycle("hyperliquid",{timestamp:Date.now(),decisions:V.map(A=>({asset:A.decision.coin,action:A.decision.action,confidence:A.decision.confidence||0})),assetsAnalyzed:D}),this.consecutiveFailures=0}catch(I){if((I==null?void 0:I.name)==="AbortError"){console.log("[DealerService]  Cycle aborted by user"),Nt.addLog("INFO"," Analysis cycle cancelled");return}console.error("[DealerService] Cycle Error:",I),Nt.addLog("ERROR",`Cycle failed: ${I.message}`),this.lastError={message:I.message,timestamp:Date.now()}}finally{Ft.releaseDealerLock(),Ft.clearSharedCache(),Nt.setAnalyzing(!1);const I=e.settings.checkIntervalSeconds,D=Math.floor(I/60),j=D>=1?`${D}min`:`${I}s`;Nt.updateStatus(" Waiting",null,"Analysis complete, waiting for next cycle",void 0,`Next scan in ${j}`)}}setExecutor(e){this.executor=e}generateCloid(){const e=new Uint8Array(16);return crypto.getRandomValues(e),"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}}const U0=new pct;class ir{static async encrypt(e,n){const i=new TextEncoder().encode(e),s=crypto.getRandomValues(new Uint8Array(16)),o=await this.deriveKey(n,s),a=crypto.getRandomValues(new Uint8Array(12)),l=await crypto.subtle.encrypt({name:"AES-GCM",iv:a},o,i),c=new Uint8Array(s.byteLength+a.byteLength+l.byteLength);return c.set(s,0),c.set(a,s.byteLength),c.set(new Uint8Array(l),s.byteLength+a.byteLength),btoa(String.fromCharCode(...c))}static async decrypt(e,n){try{const r=atob(e),i=new Uint8Array(r.length);for(let f=0;f<r.length;f++)i[f]=r.charCodeAt(f);const s=i.slice(0,16),o=i.slice(16,28),a=i.slice(28),l=await this.deriveKey(n,s),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:o},l,a);return new TextDecoder().decode(c)}catch{throw new Error("Failed to decrypt. Wrong password or corrupted data.")}}static async deriveKey(e,n){const r=new TextEncoder,i=await crypto.subtle.importKey("raw",r.encode(e),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:n,iterations:1e5,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}}const mct=(t,e)=>{const n=T.useSyncExternalStore(c=>Nt.subscribe(c),()=>Nt.getSnapshot()),r=T.useRef(!1);return T.useEffect(()=>{var f,m;const u=tm.getApiKey()||void 0||((m=(f=window.process)==null?void 0:f.env)==null?void 0:m.GEMINI_API_KEY);u&&tm.initialize(u)},[]),T.useEffect(()=>{U0.setVaultContext({walletAddress:t.hlPublicKey,balance:t.hlBalance||0})},[t.hlBalance,t.hlPublicKey]),T.useEffect(()=>{U0.setExecutor(async c=>{var u;if(console.log("[useDealer] GENUINE EXECUTION TRIGGERED:",c),!t.isUnlocked||!t.hlPublicKey||!t.hlEncryptedPrivateKey){Nt.addLog("ERROR","Cannot execute: Vault locked or HL not initialized");return}try{if(!e)throw new Error("Password required for execution");const f=await ir.decrypt(t.hlEncryptedPrivateKey,e),m=Ft.getWalletFromPrivateKey(f);Nt.addLog("TRADE",` EXECUTING ${c.action} ${c.coin}...`,{reason:c.reason,confidence:c.confidence});let g=c.action==="BUY",x=!1;if(c.action==="CLOSE"){console.log("[useDealer] Seeking position for CLOSE:",c.coin),console.log("[useDealer] Cached Positions (may be stale):",(u=t.hlPositions)==null?void 0:u.map(te=>{var Y;return((Y=te==null?void 0:te.position)==null?void 0:Y.coin)||(te==null?void 0:te.coin)})),Nt.addLog("INFO",`Fetching current positions for ${c.coin}...`);let $=[];try{const te=await Ft.getUserState(t.hlPublicKey);$=(te==null?void 0:te.assetPositions)||[],console.log("[useDealer] Fresh Positions from API:",$.map(Y=>{var G;return((G=Y==null?void 0:Y.position)==null?void 0:G.coin)||(Y==null?void 0:Y.coin)}))}catch(te){console.error("[useDealer] Failed to fetch fresh positions:",te),Nt.addLog("ERROR",`Failed to fetch positions: ${te.message}`);return}const q=$.find(te=>{var Y;return((Y=te.position)==null?void 0:Y.coin)===c.coin});if(q&&parseFloat(q.position.szi)!==0){const te=q.position.szi,Y=parseFloat(te);g=Y<0,x=!0,Nt.addLog("INFO",`Closing ${Y} ${c.coin} (Side: ${g?"BUY":"SELL"}, ReduceOnly: Yes)`)}else{Nt.addLog("WARNING",`CLOSE signal ignored: No open position found for ${c.coin}`),console.log("[useDealer] Position not found or size is 0. Available positions:",$.map(te=>{var Y,G;return`${(Y=te==null?void 0:te.position)==null?void 0:Y.coin}: ${(G=te==null?void 0:te.position)==null?void 0:G.szi}`}));return}}const v=c.type==="market";Nt.addLog("INFO","Fetching market data...");const w=await zn.getMarketData(c.coin),E=parseFloat(w.levels[0][0].px),k=parseFloat(w.levels[1][0].px),I=g?k:E,D=await zn.getAssetDecimals(c.coin),j=c.sizeUSDC||n.settings.maxPositionSizeUSDC||20,M=j/I,U=parseFloat(M.toFixed(D));let V,F=v?"ioc":"limit";const z=Math.max(0,6-D);if(v){let q=g?I*1.05:I*.95,te=parseFloat(q.toFixed(z));te=parseFloat(te.toPrecision(5)),V=parseFloat(te.toFixed(z))}else{const $=c.price||I;let q=parseFloat($.toFixed(z));q=parseFloat(q.toPrecision(5)),V=parseFloat(q.toFixed(z)),console.log(`[useDealer] Limit price rounded: ${$} -> ${V} (maxDecimals=${z})`)}const K=c.leverage||n.settings.maxLeverage||1,H=Math.min(K,n.settings.maxLeverage||1);if(K>H&&Nt.addLog("INFO",` Leverage capped for ${c.coin}: ${K}x  ${H}x (max: ${n.settings.maxLeverage}x)`),H>1)try{await zn.updateLeverage(m,c.coin,H,!1)}catch($){console.warn(`[useDealer] Leverage update failed, using current: ${$.message}`),Nt.addLog("WARNING",`Leverage update failed (using current): ${$.message.slice(0,50)}...`)}console.log("[useDealer SL/TP DEBUG] Settings:",{stopLossEnabled:n.settings.stopLossEnabled,stopLossPercent:n.settings.stopLossPercent,takeProfitEnabled:n.settings.takeProfitEnabled,takeProfitPercent:n.settings.takeProfitPercent}),console.log("[useDealer SL/TP DEBUG] AI Intent:",{stopLoss:c.stopLoss,takeProfit:c.takeProfit});let B;if(n.settings.stopLossEnabled&&!x)if(n.settings.stopLossPercent!==null){const $=n.settings.stopLossPercent/100;B=g?V*(1-$):V*(1+$),Nt.addLog("INFO",` Stop Loss: ${n.settings.stopLossPercent}%  $${B.toFixed(2)}`)}else c.stopLoss&&(B=c.stopLoss,Nt.addLog("INFO",` Stop Loss (AI): $${B.toFixed(2)}`));let A;if(n.settings.takeProfitEnabled&&!x)if(n.settings.takeProfitPercent!==null){const $=n.settings.takeProfitPercent/100;A=g?V*(1+$):V*(1-$),Nt.addLog("INFO",` Take Profit: ${n.settings.takeProfitPercent}%  $${A.toFixed(2)}`)}else c.takeProfit&&(A=c.takeProfit,Nt.addLog("INFO",` Take Profit (AI): $${A.toFixed(2)}`));const P=B||A;Nt.addLog("INFO",`Placing ${F.toUpperCase()} order: ${U} ${c.coin} @ ${V.toFixed(2)}${P?" (with SL/TP)":""}`);const R=await zn.createOrder(m,c.coin,g,U,V,{orderType:F,reduceOnly:x,cloid:c.cloid,stopLoss:B,takeProfit:A});Nt.addLog("INFO",`Order Placed: ${R.status||"Submitted"}`),Nt.addOperationRecord({coin:c.coin,action:c.action,timestamp:Date.now(),entryPrice:V,size:U,sizeUSDC:j,reasoning:c.reason||"AI analysis decision",confidence:c.confidence||.7,status:c.action==="CLOSE"?"CLOSED":"OPEN",cloid:c.cloid})}catch(f){console.error("Execution Error:",f),Nt.addLog("ERROR",`Execution Failed: ${f.message}`)}}),r.current=!0},[t.isUnlocked,t.hlPublicKey,e,n.settings.maxPositionSizeUSDC,n.settings.maxLeverage,n.settings.stopLossEnabled,n.settings.stopLossPercent,n.settings.takeProfitEnabled,n.settings.takeProfitPercent]),{...n,toggleDealer:c=>{Nt.toggleDealer(c),c?U0.startLoop():U0.stopLoop()},updateSettings:c=>{Nt.updateSettings(c)},applyChanges:()=>{Nt.reload(),n.isOn&&(U0.stopLoop(),setTimeout(()=>U0.startLoop(),500))},saveStrategy:c=>{Nt.setStrategyPrompt(c)},clearLogs:()=>{Nt.clearLogs()}}},gct=({vaultAddress:t,setActiveTab:e})=>{const[n,r]=T.useState([]),[i,s]=T.useState([]),[o,a]=T.useState(!1),[l,c]=T.useState(null),u=T.useSyncExternalStore(m=>Nt.subscribe(m),()=>Nt.getSnapshot()),f=async()=>{if(t){a(!0);try{const m=await zn.getUserState(t);if(m&&m.assetPositions){const x=m.assetPositions.filter(v=>parseFloat(v.position.szi)!==0).map(v=>({coin:v.position.coin,szi:v.position.szi,entryPx:v.position.entryPx,positionValue:v.position.positionValue,unrealizedPnl:v.position.unrealizedPnl,returnOnEquity:v.position.returnOnEquity,liquidationPx:v.position.liquidationPx,leverage:v.position.leverage}));r(x)}const g=await zn.getOpenOrders(t);g&&Array.isArray(g)&&s(g.map(x=>({oid:x.oid,coin:x.coin,side:x.side,limitPx:x.limitPx,sz:x.sz,orderType:x.orderType,timestamp:x.timestamp}))),c(new Date)}catch(m){console.error("[DealerOpenOrders] Failed to fetch data:",m)}finally{a(!1)}}};return T.useEffect(()=>{u.isAnalyzing||f();const m=setInterval(()=>{!u.isAnalyzing&&!u.pendingExecution&&f()},3e4);return()=>clearInterval(m)},[t,u.isAnalyzing,u.pendingExecution]),h.jsxs("div",{className:"flex flex-col min-h-[150px]",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[h.jsx(J$,{className:"h-4 w-4 text-[#E7FE55]"}),"Open Trading"]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:()=>e(ke.HYPERLIQUID),className:"text-[10px] bg-[#E7FE55]/10 hover:bg-[#E7FE55]/20 text-[#E7FE55] border border-[#E7FE55]/30 px-3 py-1.5 rounded transition-colors flex items-center gap-2 uppercase tracking-wider font-medium",title:"View Trading Page",children:[h.jsx(Pn,{size:12})," Details"]}),h.jsx("button",{onClick:f,className:`p-1.5 rounded hover:bg-[#1a1b21] transition-colors ${o?"animate-spin text-[#60a5fa]":"text-[#747580]"}`,title:"Refresh",children:h.jsx(xc,{className:"h-3.5 w-3.5"})}),h.jsxs("span",{className:"text-[10px] text-[#747580] bg-[#1a1b21] px-2 py-1 rounded uppercase tracking-wider",children:[n.length," Pos  ",i.length," Ord"]})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:n.length===0&&i.length===0?h.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-[#747580] gap-2 py-8 bg-[#0f1015] rounded border border-[#232328]",children:[h.jsx(J$,{className:"h-8 w-8 opacity-30"}),h.jsx("span",{className:"text-[11px]",children:"No open positions or active orders"})]}):h.jsxs("div",{className:"flex flex-col gap-4",children:[n.length>0&&h.jsxs("div",{className:"bg-[#0f1015] rounded border border-[#232328] overflow-hidden",children:[h.jsxs("div",{className:"px-4 py-2 border-b border-[#232328] flex items-center gap-2",children:[h.jsx(Ng,{className:"h-3.5 w-3.5 text-[#E7FE55]"}),h.jsx("span",{className:"text-[10px] font-semibold text-[#E7FE55] uppercase tracking-[0.1em]",children:"Active Positions"})]}),h.jsxs("table",{className:"w-full text-left text-[10px]",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-[#747580] border-b border-[#232328]",children:[h.jsx("th",{className:"px-4 py-2 font-medium text-[9px] uppercase tracking-[0.05em]",children:"Pair"}),h.jsx("th",{className:"px-4 py-2 font-medium text-[9px] uppercase tracking-[0.05em]",children:"Side"}),h.jsx("th",{className:"px-4 py-2 font-medium text-right text-[9px] uppercase tracking-[0.05em]",children:"Size"}),h.jsx("th",{className:"px-4 py-2 font-medium text-right text-[9px] uppercase tracking-[0.05em]",children:"Entry"}),h.jsx("th",{className:"px-4 py-2 font-medium text-right text-[9px] uppercase tracking-[0.05em]",children:"Liq. Price"}),h.jsx("th",{className:"px-4 py-2 font-medium text-right text-[9px] uppercase tracking-[0.05em]",children:"PnL (ROE%)"})]})}),h.jsx("tbody",{children:n.map(m=>{var k;const g=parseFloat(m.unrealizedPnl),x=(parseFloat(m.returnOnEquity)*100).toFixed(2),v=g>=0,w=parseFloat(m.szi)>0,E=((k=m.leverage)==null?void 0:k.value)||0;return h.jsxs("tr",{className:"border-b border-[#232328]/50 last:border-0 hover:bg-[#1a1b21] transition-colors",children:[h.jsx("td",{className:"px-4 py-3 font-semibold text-white",children:m.coin}),h.jsx("td",{className:"px-4 py-3",children:h.jsxs("span",{className:`px-1.5 py-0.5 rounded text-[9px] font-semibold uppercase tracking-wider ${w?"bg-[#34d399]/15 text-[#34d399]":"bg-red-500/15 text-red-400"}`,children:[w?"LONG":"SHORT"," ",E,"x"]})}),h.jsxs("td",{className:`px-4 py-3 text-right font-mono ${parseFloat(m.szi)>0?"text-[#34d399]":"text-red-400"}`,children:[parseFloat(m.szi)>0?"+":"",m.szi]}),h.jsxs("td",{className:"px-4 py-3 text-right text-[#a0a1a8] font-mono",children:["$",parseFloat(m.entryPx).toFixed(4)]}),h.jsx("td",{className:"px-4 py-3 text-right text-[#747580] font-mono",children:m.liquidationPx?`$${parseFloat(m.liquidationPx).toFixed(4)}`:"-"}),h.jsxs("td",{className:`px-4 py-3 text-right font-mono font-semibold ${v?"text-[#34d399]":"text-red-400"}`,children:[v?"+":"",g.toFixed(2)," (",v?"+":"",x,"%)"]})]},m.coin)})})]})]}),i.length>0&&h.jsxs("div",{className:"bg-[#0f1015] rounded border border-[#232328] overflow-hidden",children:[h.jsxs("div",{className:"px-4 py-2 border-b border-[#232328] flex items-center gap-2",children:[h.jsx(Q2,{className:"h-3.5 w-3.5 text-[#E7FE55]"}),h.jsx("span",{className:"text-[10px] font-semibold text-[#E7FE55] uppercase tracking-[0.1em]",children:"Active Orders"})]}),h.jsxs("table",{className:"w-full text-left text-[10px]",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-[#747580] border-b border-[#232328]",children:[h.jsx("th",{className:"px-4 py-2 font-medium text-[9px] uppercase tracking-[0.05em]",children:"Pair"}),h.jsx("th",{className:"px-4 py-2 font-medium text-[9px] uppercase tracking-[0.05em]",children:"Side"}),h.jsx("th",{className:"px-4 py-2 font-medium text-[9px] uppercase tracking-[0.05em]",children:"Type"}),h.jsx("th",{className:"px-4 py-2 font-medium text-right text-[9px] uppercase tracking-[0.05em]",children:"Size"}),h.jsx("th",{className:"px-4 py-2 font-medium text-right text-[9px] uppercase tracking-[0.05em]",children:"Price"}),h.jsx("th",{className:"px-4 py-2 font-medium text-right text-[9px] uppercase tracking-[0.05em]",children:"Action"})]})}),h.jsx("tbody",{children:i.map(m=>{var g;return h.jsxs("tr",{className:"border-b border-[#232328]/50 last:border-0 hover:bg-[#1a1b21] transition-colors",children:[h.jsx("td",{className:"px-4 py-3 font-semibold text-white",children:m.coin}),h.jsx("td",{className:"px-4 py-3",children:h.jsx("span",{className:`px-1.5 py-0.5 rounded text-[9px] font-semibold uppercase tracking-wider ${m.side==="B"?"bg-[#34d399]/15 text-[#34d399]":"bg-red-500/15 text-red-400"}`,children:m.side==="B"?"BUY":"SELL"})}),h.jsx("td",{className:"px-4 py-3 text-[#a0a1a8] uppercase",children:((g=m.orderType)==null?void 0:g.split(" ")[0])||"Limit"}),h.jsx("td",{className:"px-4 py-3 text-right text-[#a0a1a8] font-mono",children:m.sz}),h.jsxs("td",{className:"px-4 py-3 text-right text-[#a0a1a8] font-mono",children:["$",parseFloat(m.limitPx).toFixed(4)]}),h.jsx("td",{className:"px-4 py-3 text-right",children:h.jsx("span",{className:"text-[#747580] text-[9px] italic",children:"Pending"})})]},m.oid)})})]})]})]})}),h.jsx("div",{className:"pt-4 flex justify-end",children:h.jsxs("a",{href:"https://app.hyperliquid-testnet.xyz/trade",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-[#E7FE55] hover:text-[#E7FE55]/80 flex items-center gap-1 transition-colors",title:"Hyperliquid Platform Official Website",children:[h.jsx(Pn,{size:10})," Hyperliquid Platform Testnet"]})})]})},dpe=t=>{const e=T.useSyncExternalStore(n=>Vu.subscribe(t,n),()=>Vu.getSnapshot(t));return T.useEffect(()=>{Vu.loadState(t)},[t]),{summary:e.aiSummary,isGenerating:e.isGenerating,cycleCount:e.recentCycles.length,lastUpdate:e.lastSummaryTime,hasSummary:!!e.aiSummary&&e.aiSummary.length>0}},yct=t=>{const e=t.match(/(\w+):/);return e?e[1]:null},X3=8,xct=({status:t,onToggle:e,vaultAddress:n,setActiveTab:r})=>{var G,O;const[i,s]=T.useState([]),[o,a]=T.useState([]),[l,c]=T.useState(0),[u,f]=T.useState({totalPnl:0,winRate:0,totalVolume:0,tradesWithPnl:0}),[m,g]=T.useState(0),x="hl_dealer_metrics_baseline",[v,w]=T.useState(null),[E,k]=T.useState(!1);T.useEffect(()=>{(async()=>{try{const W=await Pe.getItem(Pe.getUserKey(x));W&&w(parseInt(W,10))}catch(W){console.warn("[DealerDashboard] Failed to load baseline:",W)}k(!0)})()},[]);const I=T.useCallback(async()=>{const N=Date.now();w(N);try{await Pe.setItem(Pe.getUserKey(x),N.toString()),console.log("[DealerDashboard] Metrics baseline reset to:",new Date(N).toISOString())}catch(W){console.error("[DealerDashboard] Failed to save baseline:",W)}},[]),[D,j]=T.useState(!1),{summary:M,isGenerating:U,cycleCount:V,lastUpdate:F,hasSummary:z}=dpe("hyperliquid"),[K,H]=T.useState(0),B=T.useMemo(()=>t.logs.filter(N=>N.type==="REASONING"||N.type==="SIGNAL").slice(0,20),[t.logs]),A=T.useMemo(()=>{var W,X;const N=new Map;for(const re of B){const ae=yct(re.message)||((X=(W=re.details)==null?void 0:W.context)==null?void 0:X.coin);ae&&!N.has(ae)&&N.set(ae,re)}return Array.from(N.entries()).sort((re,ae)=>ae[1].timestamp-re[1].timestamp).map(([re,ae])=>({coin:re,log:ae}))},[B]);T.useEffect(()=>{A.length>0&&!t.isAnalyzing&&H(0)},[A.length,t.isAnalyzing]);const P=A[K],R=T.useMemo(()=>[...i].reverse(),[i]);Math.ceil(R.length/X3),T.useMemo(()=>{const N=l*X3;return R.slice(N,N+X3)},[R,l]);const $=T.useCallback((N,W)=>{const X=W?N.filter(Ce=>Ce.time>=W):N;let re=0,ae=0,Ee=0,ue=0,me=0;const ce=X.map(Ce=>{const Ne=parseFloat(Ce.closedPnl||"0"),$e=parseFloat(Ce.fee||"0"),Ze=Ne-$e;return Ne!==0&&(me++,Ze>0?ae++:Ze<0&&Ee++),re+=Ze,ue+=parseFloat(Ce.px)*parseFloat(Ce.sz),{time:Ce.time,date:new Date(Ce.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),pnl:re,rawPnl:Ne}}),oe=ae+Ee;f({totalPnl:re,winRate:oe>0?ae/oe*100:0,totalVolume:ue,tradesWithPnl:me}),a(ce)},[]);T.useEffect(()=>{if(!n)return;const N=async()=>{try{if(Ft.isDealerActive()){console.log("[Dashboard]   Skipping fetch - dealer is active");return}const X=await Ft.getUserFillsShared(n);if(X&&Array.isArray(X)){const Ee=[...X.filter(ue=>ue.cloid||ue.c)].sort((ue,me)=>ue.time-me.time);s(Ee),$(Ee,v)}const re=await Ft.getUserStateShared(n);if(re&&re.assetPositions){const ae=re.assetPositions.reduce((Ee,ue)=>Ee+parseFloat(ue.position.unrealizedPnl||"0"),0);g(ae)}}catch(X){console.error("Failed to load dealer history",X)}};N();const W=setInterval(N,3e4);return()=>clearInterval(W)},[n,v,$]),T.useEffect(()=>{i.length>0&&$(i,v)},[v,i,$]);const q=()=>{e(!t.isOn)},te=()=>{H(N=>Math.min(A.length-1,N+1))},Y=()=>{H(N=>Math.max(0,N-1))};return h.jsxs("div",{className:"flex flex-col h-full gap-4 overflow-y-auto custom-scrollbar pb-4",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 shrink-0",children:[h.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"glass-panel p-4 rounded flex flex-wrap items-center justify-between gap-2",children:[h.jsxs("div",{className:`px-3 py-1.5 rounded border flex items-center gap-2 transition-all ${t.isOn?"bg-[#E7FE55]/10 border-[#E7FE55]/30":"bg-[#1a1b21] border-[#232328]"}`,children:[h.jsxs("span",{className:"relative flex h-2 w-2",children:[t.isOn&&h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#E7FE55] opacity-75"}),h.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${t.isOn?"bg-[#E7FE55]":"bg-red-500"}`})]}),h.jsx("span",{className:`font-semibold tracking-wider text-[10px] uppercase ${t.isOn?"text-[#E7FE55]":"text-[#747580]"}`,children:t.isOn?"ACTIVE":"OFFLINE"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[9px] font-medium text-[#747580] uppercase tracking-[0.1em]",children:"Master"}),h.jsx("button",{onClick:q,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-all focus:outline-none ${t.isOn?"bg-[#E7FE55]":"bg-[#232328] hover:bg-[#2a2b30]"}`,children:h.jsx("span",{className:`${t.isOn?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-black transition-transform`})})]})]}),h.jsxs("div",{className:"glass-panel p-4 rounded relative group",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("div",{className:"text-[10px] text-[#747580] uppercase tracking-[0.1em]",children:"Total Profit"}),h.jsx("button",{onClick:I,className:"p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity text-[#747580] hover:text-[#E7FE55] hover:bg-[#1a1b21]",title:"Reset metrics from now",children:h.jsx(H2e,{size:12})})]}),h.jsxs("div",{className:`text-xl font-semibold font-mono tracking-tight ${u.totalPnl>=0?"text-[#34d399]":"text-red-400"}`,children:[u.totalPnl>=0?"+":"",u.totalPnl.toFixed(2)," USD"]}),v&&h.jsxs("div",{className:"text-[8px] text-[#3a3b42] mt-1",title:`Measuring since ${new Date(v).toLocaleString()}`,children:["Since ",new Date(v).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),h.jsxs("div",{className:"glass-panel p-4 rounded",children:[h.jsx("div",{className:"text-[10px] text-[#747580] uppercase tracking-[0.1em] mb-1",children:"Unrealized PnL"}),h.jsxs("div",{className:`text-xl font-semibold font-mono tracking-tight ${m>=0?"text-[#34d399]":"text-red-400"}`,children:[m>=0?"+":"",m.toFixed(2)," USD"]})]}),h.jsxs("div",{className:"glass-panel p-4 rounded",children:[h.jsx("div",{className:"text-[10px] text-[#747580] uppercase tracking-[0.1em] mb-1",children:"Win Rate"}),h.jsxs("div",{className:"text-xl font-semibold text-white font-mono tracking-tight",children:[u.winRate.toFixed(1),"%"]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"glass-panel p-4 rounded flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.1em] mb-1",children:"Exposure"}),h.jsxs("span",{className:"text-white font-mono text-sm font-semibold",children:["$",t.currentExposure.toLocaleString()]})]}),h.jsx(Ju,{className:"h-4 w-4 text-[#747580]"})]}),h.jsxs("div",{className:"glass-panel p-4 rounded flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.1em] mb-1",children:"Active Pairs"}),h.jsx("span",{className:"text-white font-mono text-sm font-semibold",children:t.settings.tradingPairs.length})]}),h.jsx(r1,{className:"h-4 w-4 text-[#747580]"})]}),h.jsxs("div",{className:"glass-panel p-4 rounded flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.1em] mb-1",children:"Interval"}),h.jsxs("span",{className:"text-white font-mono text-sm font-semibold",children:[t.settings.checkIntervalSeconds,"s"]})]}),h.jsx(_a,{className:"h-4 w-4 text-[#747580]"})]}),h.jsxs("div",{className:"glass-panel p-4 rounded flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.1em] mb-1",children:"Max Leverage"}),h.jsxs("span",{className:"text-white font-mono text-sm font-semibold",children:[t.settings.maxLeverage,"x"]})]}),h.jsx(al,{className:"h-4 w-4 text-[#747580]"})]})]}),h.jsxs("div",{className:"glass-panel p-5 rounded min-h-[220px] flex flex-col flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(Pn,{className:"h-4 w-4 text-[#E7FE55]"}),h.jsx("span",{className:"text-sm font-semibold text-white",children:"Performance Curve"})]}),h.jsx("div",{className:"flex-1 w-full",children:o.length>0?h.jsx(T1,{width:"100%",height:"100%",minWidth:100,minHeight:100,children:h.jsxs(ife,{data:o,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorPnl",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#E7FE55",stopOpacity:.2}),h.jsx("stop",{offset:"95%",stopColor:"#E7FE55",stopOpacity:0})]})}),h.jsx(B1,{strokeDasharray:"3 3",stroke:"#232328",vertical:!1}),h.jsx(U1,{dataKey:"date",stroke:"#747580",fontSize:10,tickLine:!1,axisLine:!1}),h.jsx(F1,{stroke:"#747580",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:N=>`$${N}`}),h.jsx(HC,{contentStyle:{backgroundColor:"#14151a",borderColor:"#232328",borderRadius:"4px"},itemStyle:{color:"#E7FE55"},formatter:N=>[`$${N.toFixed(2)}`,"Net PnL"]}),h.jsx(EN,{type:"monotone",dataKey:"pnl",stroke:"#E7FE55",strokeWidth:1.5,fillOpacity:1,fill:"url(#colorPnl)"})]})}):h.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-[#747580]",children:[h.jsx(al,{className:"h-8 w-8 mb-2 opacity-40"}),h.jsx("span",{className:"text-[11px]",children:"No performance data yet"})]})})]})]}),h.jsxs("div",{className:"glass-panel p-5 rounded flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(dc,{className:`h-4 w-4 shrink-0 ${t.isAnalyzing?"text-[#E7FE55] animate-pulse":"text-[#E7FE55]/60"}`}),h.jsxs("div",{className:"flex items-center bg-[#0f1015] rounded-full p-0.5 border border-[#232328]",children:[h.jsx("button",{onClick:()=>j(!1),className:`px-2 py-0.5 rounded-full text-[9px] font-semibold uppercase tracking-wider transition-all ${D?"text-[#747580] hover:text-white":"bg-[#E7FE55] text-black"}`,children:"Live"}),h.jsx("button",{onClick:()=>z&&j(!0),disabled:!z,className:`px-2 py-0.5 rounded-full text-[9px] font-semibold uppercase tracking-wider transition-all ${D?"bg-[#E7FE55] text-black":z?"text-[#747580] hover:text-white":"text-[#3a3b42] cursor-not-allowed"}`,title:z?"View AI Summary":`Available after ${2-V} more cycles`,children:"Summary"})]}),t.isAnalyzing&&!D&&h.jsx("span",{className:"px-2 py-0.5 rounded bg-[#E7FE55]/15 text-[#E7FE55] text-[9px] font-semibold uppercase tracking-wider animate-pulse",children:"LIVE"})]}),!t.isAnalyzing&&A.length>0&&!D&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:te,disabled:K>=A.length-1,className:`p-1 rounded transition-colors ${K>=A.length-1?"text-[#3a3b42] cursor-not-allowed":"text-[#747580] hover:text-white hover:bg-[#1a1b21]"}`,title:"Previous coin",children:h.jsx(BT,{size:16})}),h.jsxs("span",{className:"text-[10px] text-[#747580] font-mono min-w-[32px] text-center",children:[K+1,"/",A.length]}),h.jsx("button",{onClick:Y,disabled:K<=0,className:`p-1 rounded transition-colors ${K<=0?"text-[#3a3b42] cursor-not-allowed":"text-[#747580] hover:text-white hover:bg-[#1a1b21]"}`,title:"Next coin",children:h.jsx(sm,{size:16})})]})]}),D?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"px-2 py-0.5 rounded bg-[#E7FE55]/15 text-[#E7FE55] text-[9px] font-semibold uppercase tracking-wider",children:[V," cycles"]}),U&&h.jsx("span",{className:"text-[10px] text-[#747580] animate-pulse",children:"generating..."})]}),F>0&&h.jsx("span",{className:"text-[10px] text-[#747580] font-mono",children:new Date(F).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),h.jsx("div",{className:"flex-1 bg-[#0f1015] rounded p-3 border border-[#232328] overflow-y-auto custom-scrollbar min-h-0 mb-3",children:M?h.jsx("p",{className:"text-[13px] text-[#a0a1a8] leading-relaxed whitespace-pre-wrap",children:M}):h.jsx("p",{className:"text-[13px] text-[#747580] italic",children:"Summary will be generated after 2+ analysis cycles..."})})]}):t.isAnalyzing?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex items-center justify-between mb-3",children:h.jsx("span",{className:`px-2 py-0.5 rounded text-[9px] font-semibold uppercase tracking-wider ${t.currentSignal==="BULLISH"?"bg-[#34d399]/15 text-[#34d399]":t.currentSignal==="BEARISH"?"bg-red-500/15 text-red-400":"bg-[#1a1b21] text-[#747580]"}`,children:t.currentSignal||"ANALYZING"})}),h.jsx("div",{className:"flex-1 bg-[#0f1015] rounded p-3 border border-[#232328] overflow-y-auto custom-scrollbar min-h-0 mb-3",children:h.jsxs("p",{className:"text-[13px] text-[#a0a1a8] italic leading-relaxed",children:['"',t.trendAssessment,'"']})})]}):P?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"px-2 py-1 rounded bg-[#E7FE55]/15 text-[#E7FE55] text-xs font-semibold uppercase tracking-wider",children:P.coin}),h.jsx("span",{className:"text-[10px] text-[#747580] font-mono",children:new Date(P.log.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),((G=P.log.details)==null?void 0:G.signal)&&h.jsx("span",{className:`px-2 py-0.5 rounded text-[9px] font-semibold uppercase tracking-wider ${P.log.details.signal==="BUY"||P.log.details.signal==="LONG"?"bg-[#34d399]/15 text-[#34d399]":P.log.details.signal==="SELL"||P.log.details.signal==="SHORT"?"bg-red-500/15 text-red-400":"bg-[#1a1b21] text-[#747580]"}`,children:P.log.details.signal})]}),h.jsx("div",{className:"flex-1 bg-[#0f1015] rounded p-3 border border-[#232328] overflow-y-auto custom-scrollbar min-h-0 mb-3",children:h.jsxs("p",{className:"text-[13px] text-[#a0a1a8] italic leading-relaxed whitespace-pre-wrap",children:['"',((O=P.log.details)==null?void 0:O.fullReason)||P.log.message,'"']})})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex items-center justify-between mb-3",children:h.jsx("span",{className:`px-2 py-0.5 rounded text-[9px] font-semibold uppercase tracking-wider ${t.currentSignal==="BULLISH"?"bg-[#34d399]/15 text-[#34d399]":t.currentSignal==="BEARISH"?"bg-red-500/15 text-red-400":"bg-[#1a1b21] text-[#747580]"}`,children:t.currentSignal||"NEUTRAL"})}),h.jsx("div",{className:"flex-1 bg-[#0f1015] rounded p-3 border border-[#232328] overflow-y-auto custom-scrollbar min-h-0 mb-3",children:h.jsxs("p",{className:"text-[13px] text-[#a0a1a8] italic leading-relaxed",children:['"',t.trendAssessment,'"']})})]}),h.jsxs("div",{className:"pt-3 border-t border-[#232328] flex flex-col gap-2 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.05em] w-12 shrink-0",children:"Task"}),h.jsx("div",{className:"text-[10px] text-white truncate font-mono flex-1",children:t.currentTask||" Idle"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.05em] w-12 shrink-0",children:"Status"}),h.jsx("div",{className:"text-[10px] text-[#a0a1a8] font-mono truncate flex-1",children:t.statusMessage})]}),t.statusDetail&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.05em] w-12 shrink-0",children:"Info"}),h.jsx("div",{className:"text-[10px] text-[#E7FE55] truncate flex-1",children:t.statusDetail})]})]})]})]}),h.jsx("div",{className:"glass-panel p-5 rounded shrink-0",children:h.jsx(gct,{vaultAddress:n,setActiveTab:r})})]})},vct=({logs:t,onClearLogs:e})=>{const[n,r]=T.useState(null),i=t.filter(l=>{if(["REASONING","SIGNAL","TRADE","ERROR"].includes(l.type))return!0;if(["INFO","WARNING"].includes(l.type)){const c=l.message.toLowerCase();return c.includes("executing")||c.includes("skipping")||c.includes("ignored")}return!1}),s=(l,c)=>l==="ERROR"?h.jsx("div",{className:"text-red-400",children:h.jsx(xM,{size:16})}):l==="TRADE"?h.jsx("div",{className:"text-[#34d399]",children:h.jsx($y,{size:16})}):c.includes("BUY")||c.includes("BULLISH")?h.jsx("div",{className:"text-[#34d399]",children:h.jsx(Pn,{size:16})}):c.includes("SELL")||c.includes("BEARISH")||c.includes("SHORT")?h.jsx("div",{className:"text-red-400",children:h.jsx(Z2,{size:16})}):c.includes("CLOSE")?h.jsx("div",{className:"text-orange-400",children:h.jsx(xM,{size:16})}):h.jsx("div",{className:"text-[#E7FE55]",children:h.jsx(dc,{size:16})}),o=l=>new Date(l).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),a=l=>typeof l=="number"?l.toFixed(2):typeof l=="object"&&l!==null?Object.entries(l).map(([c,u])=>`${c}: ${typeof u=="number"?u.toFixed(2):u}`).join(", "):String(l);return h.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[h.jsxs("div",{className:"p-4 border-b border-[#232328] flex justify-between items-center shrink-0",children:[h.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2 text-white",children:[h.jsx(dc,{className:"h-4 w-4 text-[#E7FE55]"}),"AI Reasoning Log"]}),h.jsx("button",{onClick:e,className:"text-[10px] text-[#747580] hover:text-white transition-colors uppercase tracking-wider",children:"Clear History"})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:i.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-[#747580] opacity-50 py-12",children:[h.jsx(dc,{size:48,className:"mb-4 opacity-30"}),h.jsx("p",{className:"text-sm",children:"No analysis recorded yet."}),h.jsx("p",{className:"text-[10px] text-[#747580]",children:"Start the dealer to see its thought process."})]}):i.map(l=>{var m,g;const c=n===l.id,u=(m=l.details)==null?void 0:m.context,f=(g=l.details)==null?void 0:g.context;return h.jsxs("div",{className:"relative pl-6 pb-2 border-l border-[#232328] last:border-0 transition-colors group",children:[h.jsx("div",{className:"absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full bg-[#14151a] border border-[#232328] group-hover:border-[#747580] transition-colors"}),h.jsxs("div",{className:"bg-[#14151a] p-3 rounded border border-[#232328] hover:border-[#3a3b42] transition-all",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[s(l.type,l.message),h.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wider ${l.type==="ERROR"?"text-red-400":l.type==="TRADE"?"text-[#34d399]":l.type==="SIGNAL"?"text-[#E7FE55]":"text-[#a0a1a8]"}`,children:l.type})]}),h.jsxs("span",{className:"text-[10px] text-[#747580] flex items-center gap-1 font-mono",children:[h.jsx(_a,{size:10}),o(l.timestamp)]})]}),h.jsx("p",{className:"text-sm text-[#a0a1a8] leading-relaxed",children:l.message}),l.details&&l.details.fullReason&&h.jsxs("div",{className:"mt-2 p-2 bg-[#0f1015] rounded text-[11px] text-[#747580] font-mono italic border-l-2 border-[#60a5fa]/30",children:['"',l.details.fullReason,'"']}),u&&h.jsxs("button",{onClick:()=>r(c?null:l.id),className:"mt-2 flex items-center gap-1 text-[10px] text-[#60a5fa] hover:text-[#93c5fd] transition-colors uppercase tracking-wider",children:[c?h.jsx(om,{size:12}):h.jsx(pl,{size:12}),c?"Hide":"Show"," Analysis Context"]}),c&&u&&h.jsxs("div",{className:"mt-3 p-3 bg-[#0f1015] rounded border border-[#232328] space-y-3",children:[f.indicators&&Object.keys(f.indicators).length>0&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-[#34d399] mb-2 uppercase tracking-wider font-semibold",children:[h.jsx(ao,{size:10}),h.jsx("span",{children:"Indicators Used"})]}),h.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(f.indicators).map(([x,v])=>h.jsxs("div",{className:"flex justify-between bg-[#34d399]/10 border border-[#34d399]/20 px-2 py-1 rounded text-[10px]",children:[h.jsx("span",{className:"text-[#34d399] uppercase font-medium",children:x}),h.jsx("span",{className:"text-[#4ade80] font-mono",children:a((v==null?void 0:v.value)||v)})]},x))})]}),f.macro&&Object.keys(f.macro.indicators||{}).length>0&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-amber-400 mb-2 uppercase tracking-wider font-semibold",children:[h.jsx(Pn,{size:10}),h.jsxs("span",{children:["Macro Confirmation (",f.macro.timeframe==="15"?"15m":f.macro.timeframe==="60"?"1H":f.macro.timeframe==="240"?"4H":f.macro.timeframe==="D"?"Daily":f.macro.timeframe==="W"?"Weekly":f.macro.timeframe,")"]})]}),h.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(f.macro.indicators).map(([x,v])=>{var j,M;const w=(M=(j=f.indicators)==null?void 0:j[x])==null?void 0:M.value,E=(v==null?void 0:v.value)||v;let k="";const I=typeof w=="number"?w:typeof w=="object"&&w!==null?Object.values(w)[0]:null,D=typeof E=="number"?E:typeof E=="object"&&E!==null?Object.values(E)[0]:null;if(x==="rsi"&&typeof I=="number"&&typeof D=="number"){const U=I>70,V=I<30,F=D>70,z=D<30;U&&z||V&&F?k=" ":(U&&F||V&&z)&&(k=" ")}return h.jsxs("div",{className:"flex justify-between bg-amber-500/10 border border-amber-500/20 px-2 py-1 rounded text-[10px]",children:[h.jsx("span",{className:"text-amber-400 uppercase font-medium",children:x}),h.jsxs("span",{className:"text-amber-300 font-mono",children:[k,a(E)]})]},x)})})]}),f.tradingCosts&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-[#747580] mb-2 uppercase tracking-wider font-semibold",children:[h.jsx(ww,{size:10}),h.jsx("span",{children:"Trading Costs"})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[h.jsxs("div",{className:"bg-[#1a1b21] px-2 py-1 rounded text-[10px] border border-[#232328]",children:[h.jsx("span",{className:"text-[#747580]",children:"Maker: "}),h.jsxs("span",{className:"text-white font-mono",children:[((f.tradingCosts.makerFee??2e-4)*100).toFixed(3),"%"]})]}),h.jsxs("div",{className:"bg-[#1a1b21] px-2 py-1 rounded text-[10px] border border-[#232328]",children:[h.jsx("span",{className:"text-[#747580]",children:"Taker: "}),h.jsxs("span",{className:"text-white font-mono",children:[((f.tradingCosts.takerFee??5e-4)*100).toFixed(3),"%"]})]}),h.jsxs("div",{className:"bg-[#1a1b21] px-2 py-1 rounded text-[10px] border border-[#232328]",children:[h.jsx("span",{className:"text-[#747580]",children:"Funding: "}),h.jsxs("span",{className:(f.tradingCosts.fundingRate??0)>0?"text-red-400 font-mono":"text-[#34d399] font-mono",children:[((f.tradingCosts.fundingRate??0)*100).toFixed(4),"%"]})]})]})]}),f.currentPrice&&h.jsxs("div",{className:"text-[10px] text-[#747580]",children:["Price at analysis: ",h.jsxs("span",{className:"text-white font-mono",children:["$",f.currentPrice.toLocaleString()]})]}),f.enabledIndicators&&f.enabledIndicators.length>0&&h.jsxs("div",{className:"text-[10px] text-[#747580]",children:["Enabled: ",h.jsx("span",{className:"font-mono",children:f.enabledIndicators.join(", ").toUpperCase()})]})]})]})]},l.id)})})]})},bct=({log:t,index:e,getLogBadgeVariant:n})=>{const[r,i]=T.useState(!1),s=t.details&&Object.keys(t.details).length>0;return h.jsxs(tn.div,{className:"flex gap-3 p-3 hover:bg-[#1a1b21] rounded border-b border-[#232328] last:border-0 transition-colors",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:e*.02},children:[h.jsx("span",{className:"text-[#747580] shrink-0 text-[10px] mt-0.5 font-mono",children:new Date(t.timestamp).toLocaleTimeString()}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(vl,{variant:n(t.type),className:"text-[9px] uppercase tracking-wider",children:t.type}),h.jsx("span",{className:"text-[#a0a1a8] flex-1 text-sm",children:t.message}),s&&h.jsx("button",{onClick:()=>i(!r),className:"text-[#747580] hover:text-white transition-colors p-1 rounded hover:bg-[#232328]",title:r?"Collapse details":"Expand details",children:r?h.jsx(pl,{className:"h-4 w-4"}):h.jsx(sm,{className:"h-4 w-4"})})]}),h.jsx(Lo,{children:s&&r&&h.jsx(tn.pre,{className:"mt-2 text-[10px] text-[#747580] bg-[#0f1015] p-3 rounded overflow-x-auto max-h-[300px] overflow-y-auto custom-scrollbar border border-[#232328] font-mono",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:JSON.stringify(t.details,null,2)})})]})]},t.id)},wct=({status:t,onClearLogs:e})=>{const[n,r]=T.useState("thinking"),i=T.useRef(null),s=()=>{const a=JSON.stringify(t.logs,null,2),l="data:application/json;charset=utf-8,"+encodeURIComponent(a),c=`dealer_logs_${new Date().toISOString()}.json`,u=document.createElement("a");u.setAttribute("href",l),u.setAttribute("download",c),u.click()},o=a=>{switch(a){case"INFO":return"info";case"WARNING":return"warning";case"ERROR":return"destructive";case"TRADE":return"success";case"SIGNAL":return"purple";default:return"secondary"}};return h.jsxs("div",{className:"flex flex-col h-full gap-4 overflow-hidden",children:[h.jsx("div",{className:"glass-panel p-4 shrink-0",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-[#1a1b21] p-1 rounded border border-[#232328]",children:[h.jsxs("button",{onClick:()=>r("thinking"),className:`flex items-center gap-2 px-4 py-2 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${n==="thinking"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:[h.jsx(dc,{className:"h-4 w-4"}),"Thinking"]}),h.jsxs("button",{onClick:()=>r("logs"),className:`flex items-center gap-2 px-4 py-2 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${n==="logs"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:[h.jsx(nre,{className:"h-4 w-4"}),"Activity Log",t.logs.length>0&&h.jsx("span",{className:"bg-white/20 px-1.5 py-0.5 rounded text-[9px]",children:t.logs.length})]})]}),h.jsx(Lo,{children:n==="logs"&&h.jsxs(tn.div,{className:"flex items-center gap-2",initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},children:[h.jsx("button",{onClick:e,className:"p-2 rounded hover:bg-red-500/10 text-[#747580] hover:text-red-400 transition-colors border border-[#232328]",title:"Clear Logs",children:h.jsx(am,{className:"h-4 w-4"})}),h.jsx("button",{onClick:s,className:"p-2 rounded hover:bg-[#1a1b21] text-[#747580] hover:text-white transition-colors border border-[#232328]",title:"Export JSON",children:h.jsx(Io,{className:"h-4 w-4"})})]})})]})}),h.jsxs("div",{className:"glass-panel flex-1 min-h-0 overflow-hidden flex flex-col",children:[n==="thinking"&&h.jsx(vct,{logs:t.logs,onClearLogs:e}),n==="logs"&&h.jsx("div",{className:"flex-1 min-h-0 relative",children:h.jsx("div",{ref:i,className:"absolute inset-0 overflow-y-auto custom-scrollbar",children:t.logs.length===0?h.jsxs(tn.div,{className:"h-full flex flex-col items-center justify-center text-[#747580] gap-3 py-12",initial:{opacity:0},animate:{opacity:1},children:[h.jsx(i8,{className:"h-10 w-10 opacity-30"}),h.jsx("p",{className:"text-sm",children:"No operations recorded yet."})]}):h.jsx(Lo,{children:t.logs.map((a,l)=>h.jsx(bct,{log:a,index:l,getLogBadgeVariant:o},a.id))})})})]})]})},HQ={rsi:{name:"RSI",key:"rsi",description:"Relative Strength Index",icon:h.jsx(ao,{size:14}),params:[{key:"period",label:"Period",default:14}]},macd:{name:"MACD",key:"macd",description:"Moving Average Convergence Divergence",icon:h.jsx(Pn,{size:14}),params:[{key:"fast",label:"Fast",default:12},{key:"slow",label:"Slow",default:26},{key:"signal",label:"Signal",default:9}]},bollinger:{name:"Bollinger",key:"bollinger",description:"Bollinger Bands",icon:h.jsx(al,{size:14}),params:[{key:"period",label:"Period",default:20},{key:"stdDev",label:"StdDev",default:2}]},atr:{name:"ATR",key:"atr",description:"Average True Range",icon:h.jsx(Qu,{size:14}),params:[{key:"period",label:"Period",default:14}]},adx:{name:"ADX",key:"adx",description:"Average Directional Index",icon:h.jsx(Pn,{size:14}),params:[{key:"period",label:"Period",default:14}]},obv:{name:"OBV",key:"obv",description:"On-Balance Volume",icon:h.jsx(al,{size:14}),params:[]},vwap:{name:"VWAP",key:"vwap",description:"Volume Weighted Avg Price",icon:h.jsx(ao,{size:14}),params:[]},ichimoku:{name:"Ichimoku",key:"ichimoku",description:"Ichimoku Cloud",icon:h.jsx(Pn,{size:14}),params:[{key:"conversion",label:"Conv",default:9},{key:"base",label:"Base",default:26},{key:"spanB",label:"SpanB",default:52},{key:"displacement",label:"Disp",default:26}]},ema:{name:"EMA",key:"ema",description:"Exponential Moving Average",icon:h.jsx(Pn,{size:14}),params:[{key:"period",label:"Period",default:20}]},sma:{name:"SMA",key:"sma",description:"Simple Moving Average",icon:h.jsx(Pn,{size:14}),params:[{key:"period",label:"Period",default:20}]},stoch:{name:"Stochastic",key:"stoch",description:"Stochastic Oscillator",icon:h.jsx(ao,{size:14}),params:[{key:"period",label:"Period",default:14},{key:"signalPeriod",label:"Signal",default:3}]}},Ect={trend:{bg:"bg-purple-500/10",text:"text-purple-400",border:"border-purple-500/30"},momentum:{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/30"},volume:{bg:"bg-green-500/10",text:"text-green-400",border:"border-green-500/30"},volatility:{bg:"bg-orange-500/10",text:"text-orange-400",border:"border-orange-500/30"}},Sct={trend:h.jsx(Pn,{size:14}),momentum:h.jsx(ao,{size:14}),volume:h.jsx(al,{size:14}),volatility:h.jsx(Qu,{size:14})},Act=({indicatorSettings:t,autonomousMode:e,selectedPreset:n,onUpdateIndicatorSettings:r,onToggleAutonomousMode:i,onSelectPreset:s})=>{const[o,a]=T.useState("trend"),[l,c]=T.useState(null),[u,f]=T.useState([]),[m,g]=T.useState(!1),[x,v]=T.useState(!1),w=T.useMemo(()=>mhe(t),[t]),E=T.useMemo(()=>qtt(t),[t]),k=T.useMemo(()=>ghe(t),[t]),I=F=>{const z=t[F];!sX(t,F)&&!z.enabled||(r({[F]:{...z,enabled:!z.enabled}}),E!=="custom"&&s("custom"))},D=(F,z)=>{const K=t[F];r({[F]:{...K,weight:Math.max(.5,Math.min(2,z))}})},j=(F,z,K)=>{const H=t[F];r({[F]:{...H,params:{...H.params,[z]:K}}})},M=F=>{if(F==="custom")return;const z=Gtt(F,t);r(z),s(F)},U=()=>{r(Tg),s("balanced")},V=async()=>{g(!0),v(!0);const F=[],z=Object.keys(t).filter(K=>t[K].enabled);for(const K of z){const H=HQ[K];F.push({indicator:H.name,value:null,loading:!0}),f([...F]);try{const B=t[K],A=await no.getIndicator("BTCUSDT",K,"60",B.params);F[F.length-1]={indicator:H.name,value:A.value,loading:!1}}catch(B){F[F.length-1]={indicator:H.name,value:null,loading:!1,error:B.message}}f([...F])}g(!1)};return e?h.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-4",children:[h.jsx("div",{className:"h-14 w-14 rounded-full bg-gradient-to-br from-emerald-500/30 to-cyan-500/30 flex items-center justify-center mb-4 border border-emerald-500/20",children:h.jsx(Xne,{className:"h-7 w-7 text-emerald-400"})}),h.jsx("h3",{className:"text-white font-semibold mb-2",children:"Autonomous Mode Active"}),h.jsx("p",{className:"text-xs text-gray-400 max-w-[280px] mb-4",children:"AI will analyze market conditions and choose the optimal preset each cycle:"}),h.jsx("div",{className:"grid grid-cols-2 gap-2 w-full max-w-[320px] text-[10px]",children:Object.entries(Uu).filter(([F])=>F!=="custom").map(([F,z])=>h.jsxs("div",{className:"bg-gray-800/50 border border-gray-700/30 rounded-lg p-2 text-left",children:[h.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[h.jsx("span",{children:z.emoji}),h.jsx("span",{className:"text-gray-300 font-medium",children:z.name})]}),h.jsx("div",{className:"text-gray-500",children:z.marketCondition})]},F))})]}):h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-wider font-semibold",children:"Presets"}),h.jsxs("span",{className:`text-[10px] font-mono ${k?"text-orange-400":"text-gray-400"}`,children:[w," / ",cte," selected"]})]}),h.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:Object.entries(Uu).filter(([F])=>F!=="custom").map(([F,z])=>h.jsxs("button",{onClick:()=>M(F),className:`px-2 py-1.5 rounded-lg text-[10px] font-medium transition-all border ${E===F?"bg-purple-500/20 border-purple-500/50 text-purple-300":"bg-gray-800/30 border-gray-700/30 text-gray-400 hover:border-gray-600"}`,title:z.description,children:[h.jsx("span",{className:"mr-1",children:z.emoji}),z.name]},F))}),E==="custom"&&h.jsx("div",{className:"text-[10px] text-gray-500 text-center",children:" Custom configuration"})]}),h.jsx("div",{className:"space-y-2",children:Object.entries(K2).map(([F,z])=>{const K=o===F,H=hhe(t,F),B=phe(t,F),A=Ect[F];return h.jsxs("div",{className:`rounded-lg border ${A.border} overflow-hidden`,children:[h.jsxs("button",{onClick:()=>a(K?null:F),className:`w-full px-3 py-2 flex items-center justify-between ${A.bg}`,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:A.text,children:Sct[F]}),h.jsx("span",{className:`text-xs font-medium ${A.text}`,children:z.name})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-mono ${B?"bg-orange-500/20 text-orange-400":"bg-gray-700/50 text-gray-400"}`,children:[H,"/",z.maxIndicators]}),K?h.jsx(om,{size:14,className:"text-gray-500"}):h.jsx(pl,{size:14,className:"text-gray-500"})]})]}),K&&h.jsx("div",{className:"p-2 space-y-1.5 bg-gray-900/30",children:z.indicators.map(P=>{const R=t[P],$=HQ[P],q=sX(t,P),te=l===P;return h.jsxs("div",{className:`rounded-lg border transition-all ${R.enabled?`${A.border} ${A.bg}`:"border-gray-700/30 bg-gray-800/20"}`,children:[h.jsxs("div",{className:"px-2.5 py-1.5 flex items-center gap-2",children:[h.jsx("button",{onClick:()=>I(P),disabled:!q&&!R.enabled,className:`shrink-0 w-7 h-3.5 rounded-full relative transition-all ${R.enabled?"bg-purple-500":q?"bg-gray-600":"bg-gray-700 opacity-40 cursor-not-allowed"}`,title:!q&&!R.enabled?"Limit reached":void 0,children:h.jsx("div",{className:"absolute top-0.5 w-2.5 h-2.5 rounded-full bg-white transition-all",style:{left:R.enabled?"14px":"2px"}})}),h.jsxs("button",{onClick:()=>c(te?null:P),className:"flex items-center gap-1.5 flex-1 text-left",children:[h.jsx("span",{className:`text-xs font-medium ${R.enabled?"text-white":"text-gray-400"}`,children:$.name}),h.jsx("span",{className:"text-[9px] text-gray-500 truncate",children:$.description})]}),R.enabled&&h.jsxs("span",{className:`text-[9px] font-mono px-1 py-0.5 rounded ${R.weight>1?"bg-green-500/20 text-green-400":R.weight<1?"bg-yellow-500/20 text-yellow-400":"bg-gray-700/50 text-gray-400"}`,children:[R.weight.toFixed(1),""]}),($.params.length>0||R.enabled)&&h.jsx("button",{onClick:()=>c(te?null:P),children:te?h.jsx(om,{size:12,className:"text-gray-500"}):h.jsx(pl,{size:12,className:"text-gray-500"})})]}),te&&h.jsxs("div",{className:"px-2.5 pb-2 pt-1 border-t border-gray-700/30 space-y-2",children:[R.enabled&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[9px] text-gray-500 w-10",children:"Weight"}),h.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:R.weight,onChange:Y=>D(P,parseFloat(Y.target.value)),className:"flex-1 h-1 bg-gray-700 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-purple-500"}),h.jsxs("span",{className:`text-[10px] font-mono w-8 text-right ${R.weight>1?"text-green-400":R.weight<1?"text-yellow-400":"text-gray-400"}`,children:[R.weight.toFixed(1),""]})]}),$.params.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1.5",children:$.params.map(Y=>h.jsxs("div",{className:"flex items-center gap-1 bg-gray-900/50 px-1.5 py-0.5 rounded",children:[h.jsx("label",{className:"text-[9px] text-gray-400",children:Y.label}),h.jsx("input",{type:"number",value:R.params[Y.key]||Y.default,onChange:G=>j(P,Y.key,parseInt(G.target.value)),className:"w-10 bg-transparent border border-gray-700/50 rounded px-1 py-0.5 text-[9px] text-white focus:outline-none focus:border-purple-500"})]},Y.key))})]})]},P)})})]},F)})}),h.jsxs("div",{className:"flex items-center justify-center gap-2 pt-2 border-t border-gray-700/30",children:[h.jsxs("button",{onClick:V,disabled:m||w===0,className:"flex items-center justify-center gap-1.5 bg-[#E7FE55] hover:bg-[#d4e94d] disabled:bg-gray-700 disabled:text-gray-500 text-black px-3 py-1.5 rounded text-[10px] font-bold uppercase tracking-wide transition-all",children:[m?h.jsx(xc,{size:10,className:"animate-spin"}):h.jsx(Qu,{size:10}),"Test (",w,")"]}),h.jsx("button",{onClick:U,className:"px-2 py-1.5 bg-gray-700 hover:bg-gray-600 text-white rounded text-[10px] transition-all",title:"Reset to Balanced Preset",children:h.jsx(xc,{size:10})})]}),x&&u.length>0&&h.jsxs("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700/30 p-2",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"Results (BTC 1H)"}),h.jsx("button",{onClick:()=>{f([]),v(!1)},className:"text-[9px] text-gray-500 hover:text-gray-300",children:"Clear"})]}),h.jsx("div",{className:"space-y-1",children:u.map((F,z)=>h.jsxs("div",{className:"flex items-center justify-between text-[10px] bg-gray-800/30 px-2 py-1 rounded",children:[h.jsx("span",{className:"text-gray-300",children:F.indicator}),F.loading?h.jsx("span",{className:"text-gray-500",children:"..."}):F.error?h.jsx("span",{className:"text-red-400",title:F.error,children:"ERR"}):h.jsx("span",{className:"text-emerald-400 font-mono",children:typeof F.value=="object"?"":typeof F.value=="number"?F.value.toFixed(2):String(F.value)})]},z))})]})]})},Tct=({status:t,onToggle:e,onUpdateSettings:n,onApplyChanges:r})=>{const i=t.settings,[s,o]=T.useState(i),[a,l]=T.useState(!1);T.useEffect(()=>{o(i)},[JSON.stringify(i)]),T.useEffect(()=>{l(JSON.stringify(s)!==JSON.stringify(i))},[s,i]);const c=E=>{o(k=>({...k,...E}))},u=()=>{n(s),r()},[f,m]=T.useState([]),[g,x]=T.useState(!1);T.useEffect(()=>{(async()=>{x(!0);try{const k=await Ft.getAllAvailableAssets();m(k.sort())}catch(k){console.error("Failed to fetch assets",k)}finally{x(!1)}})()},[]);const v=E=>{s.tradingPairs.includes(E)||c({tradingPairs:[...s.tradingPairs,E]})},w=E=>{c({tradingPairs:s.tradingPairs.filter(k=>k!==E)})};return h.jsx("div",{className:"h-full flex flex-col gap-4 overflow-y-auto custom-scrollbar",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx("div",{className:"glass-panel p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`h-10 w-10 rounded flex items-center justify-center ${t.isOn?"bg-[#E7FE55]/15 text-[#E7FE55]":"bg-[#1a1b21] text-[#747580]"}`,children:h.jsx(Qu,{className:"h-5 w-5"})}),h.jsxs("div",{children:[h.jsx("span",{className:"block text-sm font-semibold text-white",children:"Engine Status"}),h.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[h.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${t.isOn?"bg-[#E7FE55] animate-pulse":"bg-[#747580]"}`}),h.jsx("span",{className:"text-[10px] text-[#747580] font-medium uppercase tracking-wider",children:t.isOn?"Active & Running":"Stopped"})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:()=>e(!t.isOn),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${t.isOn?"bg-[#E7FE55]":"bg-[#3a3b42]"}`,children:h.jsx("span",{className:`${t.isOn?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-black transition-transform shadow`})}),h.jsxs("button",{onClick:u,disabled:!a,className:`flex items-center gap-2 px-3 py-1.5 rounded text-[10px] font-semibold uppercase tracking-wider transition-all active:scale-95
                                        ${a?"bg-[#E7FE55] hover:bg-[#d4e94d] text-black":"bg-[#1a1b21] text-[#747580] cursor-not-allowed opacity-50"}`,children:[h.jsx(xc,{className:"h-3 w-3"})," Apply"]})]})]})}),h.jsxs("div",{className:"glass-panel p-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-[#E7FE55] font-semibold uppercase tracking-[0.1em] mb-2",children:[h.jsx(ww,{className:"h-3 w-3"})," Capital & Risk"]}),h.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-2",children:[h.jsxs("div",{className:"bg-[#0f1015] p-2 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1",children:"Type"}),h.jsxs("div",{className:"flex gap-0.5",children:[h.jsx("button",{onClick:()=>c({bankrollType:"MANUAL"}),className:`flex-1 py-1 text-[9px] font-semibold rounded transition-all ${s.bankrollType==="MANUAL"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-white"}`,children:"Fix"}),h.jsx("button",{onClick:()=>c({bankrollType:"ALL_AVAILABLE"}),className:`flex-1 py-1 text-[9px] font-semibold rounded transition-all ${s.bankrollType==="ALL_AVAILABLE"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-white"}`,children:"Max"})]})]}),h.jsxs("div",{className:"bg-[#0f1015] p-2 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1",children:"Amount ($)"}),s.bankrollType==="MANUAL"?h.jsx("div",{className:"flex items-center",children:h.jsx("input",{type:"number",value:s.manualBankroll,onChange:E=>c({manualBankroll:parseFloat(E.target.value)}),className:"w-full bg-transparent text-sm font-mono text-white focus:outline-none"})}):h.jsx("span",{className:"text-sm font-mono text-[#E7FE55]",children:"Auto"})]}),h.jsxs("div",{className:"bg-[#0f1015] p-2 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1",children:"Leverage"}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"number",value:s.maxLeverage,onChange:E=>c({maxLeverage:parseInt(E.target.value)}),className:"w-full bg-transparent text-sm font-bold font-mono text-white focus:outline-none"}),h.jsx("span",{className:"text-[14px] text-[#747580]",children:"x"})]})]}),h.jsxs("div",{className:"bg-[#0f1015] p-2 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1",children:"Pos/Cycle"}),h.jsx("input",{type:"number",value:s.maxOpenPositions,onChange:E=>c({maxOpenPositions:parseInt(E.target.value)}),className:"w-full bg-transparent text-sm font-bold font-mono text-white focus:outline-none"})]}),h.jsxs("div",{className:"bg-[#0f1015] p-2 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1",children:"Max Size ($)"}),h.jsx("div",{className:"flex items-center",children:h.jsx("input",{type:"number",value:s.maxPositionSizeUSDC,onChange:E=>c({maxPositionSizeUSDC:parseInt(E.target.value)}),className:"w-full bg-transparent text-sm font-bold font-mono text-white focus:outline-none"})})]})]}),h.jsxs("div",{className:"flex items-center gap-4 pt-2 border-t border-[#232328]",children:[h.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer group",children:[h.jsx(Qu,{className:"h-3 w-3 text-red-400"}),h.jsx("span",{className:"text-[10px] text-[#747580] group-hover:text-white",children:"Aggressive"}),h.jsx("button",{onClick:()=>c({aggressiveMode:!s.aggressiveMode}),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.aggressiveMode?"bg-red-500":"bg-[#3a3b42]"}`,children:h.jsx("span",{className:`${s.aggressiveMode?"translate-x-4":"translate-x-0.5"} inline-block h-2.5 w-2.5 transform rounded-full bg-white transition-transform`})})]}),h.jsx("div",{className:"w-px h-4 bg-[#232328]"}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(Ju,{className:"h-3 w-3 text-red-400"}),h.jsx("span",{className:"text-[10px] text-[#747580]",children:"STOP LOSS"}),s.stopLossEnabled&&h.jsxs(h.Fragment,{children:[h.jsx("input",{type:"number",step:"0.5",value:s.stopLossPercent??"",placeholder:"AI",onChange:E=>c({stopLossPercent:E.target.value?parseFloat(E.target.value):null}),className:"w-10 bg-[#0f1015] border border-[#232328] rounded px-1 py-0.5 text-[10px] text-white font-mono focus:outline-none placeholder:text-[#747580]"}),h.jsx("span",{className:"text-[9px] text-[#747580]",children:"%"})]}),h.jsx("button",{onClick:()=>c({stopLossEnabled:!s.stopLossEnabled}),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.stopLossEnabled?"bg-red-500":"bg-[#3a3b42]"}`,children:h.jsx("span",{className:`${s.stopLossEnabled?"translate-x-4":"translate-x-0.5"} inline-block h-2.5 w-2.5 transform rounded-full bg-white transition-transform`})})]}),h.jsx("div",{className:"w-px h-4 bg-[#232328]"}),h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(Ng,{className:"h-3 w-3 text-[#34d399]"}),h.jsx("span",{className:"text-[10px] text-[#747580]",children:"TAKE PROFIT"}),s.takeProfitEnabled&&h.jsxs(h.Fragment,{children:[h.jsx("input",{type:"number",step:"0.5",value:s.takeProfitPercent??"",placeholder:"AI",onChange:E=>c({takeProfitPercent:E.target.value?parseFloat(E.target.value):null}),className:"w-10 bg-[#0f1015] border border-[#232328] rounded px-1 py-0.5 text-[10px] text-white font-mono focus:outline-none placeholder:text-[#747580]"}),h.jsx("span",{className:"text-[9px] text-[#747580]",children:"%"})]}),h.jsx("button",{onClick:()=>c({takeProfitEnabled:!s.takeProfitEnabled}),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors ${s.takeProfitEnabled?"bg-[#34d399]":"bg-[#3a3b42]"}`,children:h.jsx("span",{className:`${s.takeProfitEnabled?"translate-x-4":"translate-x-0.5"} inline-block h-2.5 w-2.5 transform rounded-full bg-white transition-transform`})})]})]})]}),h.jsxs("div",{className:"glass-panel p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-[#E7FE55] font-semibold uppercase tracking-[0.1em] mb-3",children:[h.jsx(al,{className:"h-3.5 w-3.5"})," Analysis Settings"]}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsxs("div",{className:"bg-[#0f1015] p-3 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[10px] text-[#747580] font-medium mb-1.5 uppercase tracking-wider",children:"Timeframe"}),h.jsxs("select",{className:"w-full bg-transparent text-sm font-mono text-white focus:outline-none cursor-pointer [&>option]:bg-[#0f1015]",value:s.analysisTimeframe||"60",onChange:E=>c({analysisTimeframe:E.target.value}),children:[h.jsx("option",{value:"1",children:"1m"}),h.jsx("option",{value:"5",children:"5m"}),h.jsx("option",{value:"15",children:"15m"}),h.jsx("option",{value:"60",children:"1H"}),h.jsx("option",{value:"240",children:"4H"}),h.jsx("option",{value:"D",children:"1D"})]})]}),h.jsxs("div",{className:"bg-[#0f1015] p-3 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[10px] text-[#747580] font-medium mb-1.5 uppercase tracking-wider",children:"Indicators History"}),h.jsx("input",{type:"number",min:10,max:100,value:s.historyCandles||100,onChange:E=>c({historyCandles:Math.min(100,Math.max(10,parseInt(E.target.value)||100))}),className:"w-full bg-transparent text-sm font-mono text-white focus:outline-none",title:"10-100"})]}),h.jsxs("div",{className:"bg-[#0f1015] p-3 rounded border border-[#232328]",children:[h.jsxs("label",{className:"block text-[10px] text-[#747580] font-medium mb-1.5 uppercase tracking-wider",children:[h.jsx(_a,{className:"inline h-3 w-3 mr-1 opacity-50"}),"Interval"]}),h.jsxs("div",{className:"flex items-baseline gap-1",children:[h.jsx("input",{type:"number",value:s.checkIntervalSeconds,onChange:E=>c({checkIntervalSeconds:Math.max(60,parseInt(E.target.value)||60)}),className:"w-full bg-transparent text-sm font-mono text-white focus:outline-none"}),h.jsx("span",{className:"text-[10px] text-[#747580]",children:"s"})]})]})]})]}),h.jsxs("div",{className:"glass-panel p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-[#E7FE55] font-semibold uppercase tracking-[0.1em] mb-3",children:[h.jsx(Pn,{className:"h-3.5 w-3.5"})," Macro Timeframe"]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("span",{className:"text-[11px] text-[#747580]",children:"Multi-timeframe confirmation"})}),h.jsxs("div",{className:"flex items-center gap-3",children:[s.macroTimeframeEnabled&&h.jsxs("select",{className:"bg-[#0f1015] border border-[#232328] rounded py-1.5 px-2 text-[11px] text-white focus:outline-none focus:border-amber-500 [&>option]:bg-[#0f1015]",value:s.macroTimeframe||"240",onChange:E=>c({macroTimeframe:E.target.value}),children:[h.jsx("option",{value:"15",children:"15m"}),h.jsx("option",{value:"60",children:"1H"}),h.jsx("option",{value:"240",children:"4H"}),h.jsx("option",{value:"D",children:"1D"}),h.jsx("option",{value:"W",children:"1W"})]}),h.jsx("button",{onClick:()=>c({macroTimeframeEnabled:!s.macroTimeframeEnabled}),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${s.macroTimeframeEnabled?"bg-amber-500":"bg-[#3a3b42]"}`,children:h.jsx("span",{className:`${s.macroTimeframeEnabled?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]})]}),s.macroTimeframeEnabled&&h.jsxs("div",{className:"mt-3",children:[h.jsx("div",{className:"text-[10px] text-[#747580] mb-2 uppercase tracking-wider",children:"Active Indicators:"}),h.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:Object.entries(s.indicatorSettings).filter(([E,k])=>k.enabled).map(([E,k])=>{var D;const I=(D=s.macroEnabledIndicators)==null?void 0:D.includes(E);return h.jsx("button",{onClick:()=>{const j=s.macroEnabledIndicators||[],M=j.includes(E)?j.filter(U=>U!==E):[...j,E];c({macroEnabledIndicators:M})},className:`
                                                        px-1.5 py-0.5 rounded text-[10px] font-mono border transition-all truncate
                                                        ${I?"bg-amber-500/20 border-amber-500/50 text-amber-300 hover:bg-amber-500/30":"bg-[#0f1015] border-[#232328] text-[#747580] hover:border-[#747580]"}
                                                    `,title:E.toUpperCase(),children:E.toUpperCase()},E)})}),(!s.macroEnabledIndicators||s.macroEnabledIndicators.length===0)&&h.jsxs("div",{className:"text-[10px] text-red-400 mt-2 flex items-center gap-1",children:[h.jsx(Ju,{size:10})," No macro indicators selected"]})]})]}),h.jsxs("div",{className:"glass-panel p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-[#E7FE55] font-semibold uppercase tracking-[0.1em]",children:[h.jsx(Ng,{className:"h-3.5 w-3.5"})," Trading Pairs"]}),h.jsx("span",{className:"text-[10px] bg-[#E7FE55]/15 text-[#E7FE55] px-2 py-0.5 rounded border border-[#E7FE55]/30 font-mono",children:s.tradingPairs.length})]}),h.jsxs("select",{disabled:g,onChange:E=>{E.target.value&&v(E.target.value),E.target.value=""},className:"w-full bg-[#0f1015] border border-[#232328] rounded py-2 px-3 text-[11px] text-[#747580] focus:outline-none focus:text-white focus:border-[#E7FE55] transition-colors [&>option]:bg-[#0f1015] cursor-pointer hover:border-[#E7FE55]/30 mb-3",children:[h.jsx("option",{value:"",children:g?"Loading...":"+ Add Pair..."}),!g&&f.filter(E=>!s.tradingPairs.includes(E)).map(E=>h.jsx("option",{value:E,children:E},E))]}),h.jsxs("div",{className:"flex flex-wrap gap-1.5 max-h-[120px] overflow-y-auto custom-scrollbar",children:[s.tradingPairs.map(E=>h.jsxs("span",{className:"inline-flex items-center gap-1 bg-[#1a1b21] hover:bg-[#232328] border border-[#232328] hover:border-[#E7FE55]/50 text-[#a0a1a8] hover:text-white px-2 py-1 rounded text-[10px] font-mono transition-all",children:[E,h.jsx("button",{onClick:()=>w(E),className:"text-[#747580] hover:text-red-400 transition-colors",children:h.jsx(ek,{size:10})})]},E)),s.tradingPairs.length===0&&h.jsxs("div",{className:"w-full py-4 flex flex-col items-center justify-center text-[#747580] opacity-60 border border-dashed border-[#232328] rounded",children:[h.jsx(Ng,{className:"h-5 w-5 mb-1"}),h.jsx("span",{className:"text-[10px]",children:"No pairs"})]})]})]})]}),h.jsxs("div",{className:"glass-panel flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"p-3 border-b border-[#232328] flex items-center justify-between shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-[#E7FE55] font-semibold uppercase tracking-[0.1em]",children:[h.jsx(ao,{className:"h-3.5 w-3.5"})," Indicators"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[10px] text-[#747580]",children:s.autonomousIndicators?"Auto":"Manual"}),h.jsx("button",{onClick:()=>c({autonomousIndicators:!s.autonomousIndicators}),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${s.autonomousIndicators?"bg-[#34d399]":"bg-[#E7FE55]"}`,title:s.autonomousIndicators?"AI selects indicators":"Manual selection",children:h.jsx("span",{className:`${s.autonomousIndicators?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-white transition-transform`})})]})]}),h.jsx("div",{className:"p-4",children:h.jsx(Act,{indicatorSettings:s.indicatorSettings,autonomousMode:s.autonomousIndicators,selectedPreset:s.selectedPreset||"balanced",onUpdateIndicatorSettings:E=>{c({indicatorSettings:{...s.indicatorSettings,...E}})},onToggleAutonomousMode:E=>{c({autonomousIndicators:E})},onSelectPreset:E=>{c({selectedPreset:E})}})})]})]})})},Cct=({status:t,onSaveStrategy:e,onUpdateSettings:n})=>{var w,E;T.useEffect(()=>{console.log("DealerPromptPage Mounted. Status:",t)},[t]);const r=t==null?void 0:t.settings;if(!r)return h.jsx("div",{className:"p-8 text-red-500",children:"Error: Dealer settings not loaded."});const[i,s]=T.useState(r.strategyPrompt||""),[o,a]=T.useState(r.promptMode||"preset"),[l,c]=T.useState(r.selectedPreset||"balanced"),[u,f]=T.useState(!1);T.useEffect(()=>{s(r.strategyPrompt),a(r.promptMode||"preset"),c(r.selectedPreset||"balanced")},[r.strategyPrompt,r.promptMode,r.selectedPreset]);const m=k=>{if(k==="custom")a("custom"),c("custom"),f(!0);else{const I=WO[k];s(I),a("preset"),c(k),f(I!==r.strategyPrompt)}},g=k=>{const I=k.target.value;s(I);const D=Object.entries(WO).find(([j,M])=>M===I);D?(a("preset"),c(D[0])):(a("custom"),c("custom")),f(I!==r.strategyPrompt)},x=()=>{e(i),n&&n({promptMode:o,selectedPreset:l,strategyPrompt:i}),f(!1)},v=k=>`
            flex items-center gap-1.5 px-3 py-1.5 rounded text-[10px] font-semibold uppercase tracking-[0.08em] transition-all
            ${l===k&&o==="preset"||o==="custom"&&k==="custom"?"bg-[#E7FE55] text-black":"bg-transparent text-[#747580] hover:text-[#a0a1a8] hover:bg-[#1a1b21]"}
        `;return h.jsxs("div",{className:"h-full flex flex-col gap-4 overflow-hidden",children:[h.jsx("div",{className:"glass-panel p-4 shrink-0",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(s1,{className:"h-4 w-4 text-[#E7FE55]"}),h.jsx("span",{className:"text-sm font-semibold text-white",children:"Strategy Prompt"})]}),h.jsxs("div",{className:`
                            inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[9px] font-semibold uppercase tracking-wider
                            ${o==="preset"?"bg-[#E7FE55]/10 text-[#E7FE55]":"bg-[#1a1b21] text-[#747580]"}
                        `,children:[h.jsx("span",{className:`h-1 w-1 rounded-full ${o==="preset"?"bg-[#E7FE55]":"bg-[#747580]"}`}),o==="preset"?`${(w=Uu[l])==null?void 0:w.emoji} ${(E=Uu[l])==null?void 0:E.name}`:"Custom"]}),u&&h.jsx("span",{className:"text-[9px] text-amber-500 uppercase tracking-wider font-medium",children:" Unsaved"})]}),h.jsxs("button",{onClick:x,disabled:!u,className:`
                            flex items-center gap-2 px-4 py-1.5 rounded text-[10px] font-semibold uppercase tracking-wider transition-all
                            ${u?"bg-[#E7FE55] hover:bg-[#f0ff7a] text-black":"bg-[#1a1b21] text-[#3a3b42] cursor-not-allowed"}
                        `,children:[h.jsx(tre,{className:"h-3.5 w-3.5"}),"Save"]})]})}),h.jsxs("div",{className:"flex-1 flex gap-4 min-h-0 overflow-hidden",children:[h.jsxs("div",{className:"w-40 shrink-0 flex flex-col gap-2",children:[h.jsxs("div",{className:"flex items-center gap-1.5 px-1 py-2",children:[h.jsx(sre,{size:12,className:"text-[#E7FE55]"}),h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.1em] font-semibold",children:"Presets"})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[Object.entries(Uu).filter(([k])=>k!=="custom").map(([k,I])=>h.jsxs("button",{onClick:()=>m(k),className:v(k),children:[h.jsx("span",{children:I.emoji}),h.jsx("span",{children:I.name})]},k)),h.jsx("div",{className:"h-px bg-[#232328] my-2"}),h.jsxs("button",{onClick:()=>m("custom"),className:v("custom"),children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Custom"})]})]}),h.jsx("div",{className:"mt-auto pt-4 px-1",children:h.jsx("p",{className:"text-[10px] text-[#3a3b42] leading-relaxed",children:"Edit the prompt to switch to custom mode automatically."})})]}),h.jsxs("div",{className:"flex-1 glass-panel relative overflow-hidden flex flex-col",children:[h.jsx("div",{className:"absolute inset-x-0 top-0 h-6 bg-gradient-to-b from-[#1e2028] to-transparent pointer-events-none z-10"}),h.jsx("textarea",{value:i,onChange:g,className:"w-full h-full bg-transparent text-[#a0a1a8] font-mono text-[13px] p-5 resize-none focus:outline-none leading-relaxed custom-scrollbar selection:bg-[#E7FE55]/30",spellCheck:!1,placeholder:`// Define your trading strategy here...
// 
// Example:
// You are a conservative trader focusing on mean reversion.
// 1. Only trade when RSI is above 70 or below 30.
// 2. Prioritize high volume tokens.
// 3. Never risk more than 1% of equity per trade.`}),h.jsx("div",{className:"absolute inset-x-0 bottom-0 h-6 bg-gradient-to-t from-[#1e2028] to-transparent pointer-events-none z-10"}),h.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-2 opacity-50 hover:opacity-100 transition-opacity",children:[h.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-[#E7FE55]"}),h.jsx("span",{className:"text-[9px] text-[#747580] font-mono uppercase tracking-wider",children:"Live Context"})]})]})]})]})};function VQ(t){const e=kct(t),n=T.forwardRef((r,i)=>{const{children:s,...o}=r,a=T.Children.toArray(s),l=a.find(Ict);if(l){const c=l.props.children,u=a.map(f=>f===l?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:f);return h.jsx(e,{...o,ref:i,children:T.isValidElement(c)?T.cloneElement(c,void 0,u):null})}return h.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function kct(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const o=_ct(i),a=Pct(s,i.props);return i.type!==T.Fragment&&(a.ref=r?Nx(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Nct=Symbol("radix.slottable");function Ict(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Nct}function Pct(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function _ct(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fpe(t){const e=t+"CollectionProvider",[n,r]=Rm(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:w,children:E}=v,k=su.useRef(null),I=su.useRef(new Map).current;return h.jsx(i,{scope:w,itemMap:I,collectionRef:k,children:E})};o.displayName=e;const a=t+"CollectionSlot",l=VQ(a),c=su.forwardRef((v,w)=>{const{scope:E,children:k}=v,I=s(a,E),D=Cr(w,I.collectionRef);return h.jsx(l,{ref:D,children:k})});c.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",m=VQ(u),g=su.forwardRef((v,w)=>{const{scope:E,children:k,...I}=v,D=su.useRef(null),j=Cr(w,D),M=s(u,E);return su.useEffect(()=>(M.itemMap.set(D,{ref:D,...I}),()=>void M.itemMap.delete(D))),h.jsx(m,{[f]:"",ref:j,children:k})});g.displayName=u;function x(v){const w=s(t+"CollectionConsumer",v);return su.useCallback(()=>{const k=w.collectionRef.current;if(!k)return[];const I=Array.from(k.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((M,U)=>I.indexOf(M.ref.current)-I.indexOf(U.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},x,r]}var Rct=T.createContext(void 0);function I7(t){const e=T.useContext(Rct);return t||e||"ltr"}var Q3="rovingFocusGroup.onEntryFocus",Oct={bubbles:!1,cancelable:!0},sE="RovingFocusGroup",[$D,hpe,Mct]=fpe(sE),[Dct,ppe]=Rm(sE,[Mct]),[Lct,Bct]=Dct(sE),mpe=T.forwardRef((t,e)=>h.jsx($D.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx($D.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(jct,{...t,ref:e})})}));mpe.displayName=sE;var jct=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,m=T.useRef(null),g=Cr(e,m),x=I7(s),[v,w]=b1({prop:o,defaultProp:a??null,onChange:l,caller:sE}),[E,k]=T.useState(!1),I=nh(c),D=hpe(n),j=T.useRef(!1),[M,U]=T.useState(0);return T.useEffect(()=>{const V=m.current;if(V)return V.addEventListener(Q3,I),()=>V.removeEventListener(Q3,I)},[I]),h.jsx(Lct,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:v,onItemFocus:T.useCallback(V=>w(V),[w]),onItemShiftTab:T.useCallback(()=>k(!0),[]),onFocusableItemAdd:T.useCallback(()=>U(V=>V+1),[]),onFocusableItemRemove:T.useCallback(()=>U(V=>V-1),[]),children:h.jsx(Rn.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:hn(t.onMouseDown,()=>{j.current=!0}),onFocus:hn(t.onFocus,V=>{const F=!j.current;if(V.target===V.currentTarget&&F&&!E){const z=new CustomEvent(Q3,Oct);if(V.currentTarget.dispatchEvent(z),!z.defaultPrevented){const K=D().filter(R=>R.focusable),H=K.find(R=>R.active),B=K.find(R=>R.id===v),P=[H,B,...K].filter(Boolean).map(R=>R.ref.current);xpe(P,u)}}j.current=!1}),onBlur:hn(t.onBlur,()=>k(!1))})})}),gpe="RovingFocusGroupItem",ype=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=Jf(),c=s||l,u=Bct(gpe,n),f=u.currentTabStopId===c,m=hpe(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:v}=u;return T.useEffect(()=>{if(r)return g(),()=>x()},[r,g,x]),h.jsx($D.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:h.jsx(Rn.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:hn(t.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:hn(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:hn(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const E=zct(w,u.orientation,u.dir);if(E!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let I=m().filter(D=>D.focusable).map(D=>D.ref.current);if(E==="last")I.reverse();else if(E==="prev"||E==="next"){E==="prev"&&I.reverse();const D=I.indexOf(w.currentTarget);I=u.loop?$ct(I,D+1):I.slice(D+1)}setTimeout(()=>xpe(I))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});ype.displayName=gpe;var Uct={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Fct(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function zct(t,e,n){const r=Fct(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Uct[r]}function xpe(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function $ct(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Hct=mpe,Vct=ype,BN="Tabs",[Gct]=Rm(BN,[ppe]),vpe=ppe(),[qct,P7]=Gct(BN),bpe=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=I7(a),[f,m]=b1({prop:r,onChange:i,defaultProp:s??"",caller:BN});return h.jsx(qct,{scope:n,baseId:Jf(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:l,children:h.jsx(Rn.div,{dir:u,"data-orientation":o,...c,ref:e})})});bpe.displayName=BN;var wpe="TabsList",Epe=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=P7(wpe,n),o=vpe(n);return h.jsx(Hct,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:h.jsx(Rn.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Epe.displayName=wpe;var Spe="TabsTrigger",Ape=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=P7(Spe,n),a=vpe(n),l=kpe(o.baseId,r),c=Npe(o.baseId,r),u=r===o.value;return h.jsx(Vct,{asChild:!0,...a,focusable:!i,active:u,children:h.jsx(Rn.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:hn(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:hn(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:hn(t.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!i&&f&&o.onValueChange(r)})})})});Ape.displayName=Spe;var Tpe="TabsContent",Cpe=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=P7(Tpe,n),l=kpe(a.baseId,r),c=Npe(a.baseId,r),u=r===a.value,f=T.useRef(u);return T.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),h.jsx(Mm,{present:i||u,children:({present:m})=>h.jsx(Rn.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&s})})});Cpe.displayName=Tpe;function kpe(t,e){return`${t}-trigger-${e}`}function Npe(t,e){return`${t}-content-${e}`}var Kct=bpe,Ipe=Epe,Ppe=Ape,_pe=Cpe;const Rpe=Kct,Wct=T.forwardRef(({className:t,...e},n)=>h.jsx(Ipe,{ref:n,className:jt("inline-flex h-9 items-center justify-center rounded bg-[#1a1b21] p-1 text-[#747580] border border-[#232328]",t),...e}));Wct.displayName=Ipe.displayName;const Yct=T.forwardRef(({className:t,...e},n)=>h.jsx(Ppe,{ref:n,className:jt("inline-flex items-center justify-center whitespace-nowrap rounded px-4 py-1.5 text-[11px] font-medium uppercase tracking-[0.05em] ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-[#E7FE55] data-[state=active]:text-black data-[state=active]:shadow-sm hover:text-[#a0a1a8]",t),...e}));Yct.displayName=Ppe.displayName;const Lu=T.forwardRef(({className:t,...e},n)=>h.jsx(_pe,{ref:n,className:jt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Lu.displayName=_pe.displayName;const Jct=({vault:t,password:e,activeTab:n,setActiveTab:r})=>{const i=!!t.hlPublicKey,s=n===ke.VAULT_DEALER?ke.DEALER_DASHBOARD:n,{isOn:o,isAnalyzing:a,statusMessage:l,statusDetail:c,currentTask:u,currentSignal:f,trendAssessment:m,pendingExecution:g,currentExposure:x,activePositions:v,portfolioValue:w,lastSyncTimestamp:E,settings:k,logs:I,operationHistory:D,toggleDealer:j,updateSettings:M,applyChanges:U,saveStrategy:V,clearLogs:F}=mct(t,e),z={isOn:o,isAnalyzing:a,statusMessage:l,statusDetail:c,currentTask:u,currentSignal:f,trendAssessment:m,pendingExecution:g,currentExposure:x,activePositions:v,portfolioValue:w,lastSyncTimestamp:E,settings:k,logs:I,operationHistory:D},K=()=>{switch(s){case ke.DEALER_DASHBOARD:return"dashboard";case ke.DEALER_THINKING:return"thinking";case ke.DEALER_CONFIG:return"config";case ke.DEALER_PROMPT:return"prompt";default:return"dashboard"}},H=B=>{switch(B){case"dashboard":r(ke.DEALER_DASHBOARD);break;case"thinking":r(ke.DEALER_THINKING);break;case"config":r(ke.DEALER_CONFIG);break;case"prompt":r(ke.DEALER_PROMPT);break}};return i?h.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[!t.isUnlocked&&h.jsx(tn.div,{className:"mb-3 flex justify-end shrink-0 px-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:h.jsx(vl,{variant:"destructive",className:"animate-pulse",children:"VAULT LOCKED"})}),h.jsx(Rpe,{value:K(),onValueChange:H,className:"flex-1 flex flex-col min-h-0",children:h.jsxs("div",{className:"flex-1 min-h-0 relative",children:[h.jsx(Lu,{value:"dashboard",className:"h-full mt-0 absolute inset-0",children:h.jsx(xct,{status:z,onToggle:j,vaultAddress:t.hlPublicKey,setActiveTab:r})}),h.jsx(Lu,{value:"thinking",className:"h-full mt-0 absolute inset-0",children:h.jsx(wct,{status:z,onClearLogs:F})}),h.jsx(Lu,{value:"config",className:"h-full mt-0 absolute inset-0 overflow-y-auto",children:h.jsx(Tct,{status:z,onToggle:j,onUpdateSettings:M,onApplyChanges:U,onSaveStrategy:V})}),h.jsx(Lu,{value:"prompt",className:"h-full mt-0 absolute inset-0",children:h.jsx(Cct,{status:z,onSaveStrategy:V,onUpdateSettings:M})})]})})]}):h.jsx(tn.div,{className:"flex flex-col h-[calc(100vh-8rem)] items-center justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:h.jsxs("div",{className:"max-w-md w-full mx-auto space-y-6 p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-[#1a1b21] rounded-full flex items-center justify-center mx-auto mb-4 border border-[#232328]",children:h.jsx(Pn,{size:32,className:"text-[#34d399]"})}),h.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:"Create a Vault First"}),h.jsxs("p",{className:"text-[#747580] text-sm",children:["You need to create a Hyperliquid wallet before using Hyperliquid Dealer. Go to the ",h.jsx("span",{className:"text-[#34d399]",children:"Vault"})," page to set up your wallet."]}),h.jsx(Oi,{onClick:()=>r(ke.VAULT),variant:"success",size:"lg",className:"mt-4",children:"Go to Vault"})]})})},Xct=({vault:t,connectHLOwnerWallet:e,refreshHLBalance:n,activityLog:r=[]})=>{var B;const[i,s]=T.useState([]),[o,a]=T.useState([]),[l,c]=T.useState(new Map),[u,f]=T.useState([]),[m,g]=T.useState(""),[x,v]=T.useState(!1),[w,E]=T.useState(Date.now()),[k,I]=T.useState(!0),[D,j]=T.useState(null),M=async A=>{try{await navigator.clipboard.writeText(A),j(A),setTimeout(()=>j(null),2e3)}catch(P){console.error("Failed to copy:",P)}},U=T.useCallback(async()=>{if(t.hlPublicKey){v(!0);try{await n(t.hlPublicKey);const P=(await zn.getUserState(t.hlPublicKey)).assetPositions.filter(N=>parseFloat(N.position.szi)!==0);s(P);const R=await zn.getOpenOrders(t.hlPublicKey);a(R);const $=await zn.getAvailableAssets();f($);const q=new Set([...P.map(N=>N.position.coin)]);["BTC","ETH","SOL","BNB","DOGE","AVAX","MATIC","ARB","OP","APT"].forEach(N=>q.add(N));const Y=[...q].slice(0,15).map(async N=>{var W,X,re,ae;try{const Ee=await zn.getMarketData(N),ue=parseFloat(((X=(W=Ee.levels[0])==null?void 0:W[0])==null?void 0:X.px)||0),me=parseFloat(((ae=(re=Ee.levels[1])==null?void 0:re[0])==null?void 0:ae.px)||0),ce=me-ue,oe=ue>0?ce/ue*100:0;return{coin:N,bid:ue,ask:me,spread:ce,spreadPercent:oe,lastUpdate:Date.now()}}catch(Ee){return console.error(`Failed to fetch market data for ${N}`,Ee),null}}),G=await Promise.all(Y),O=new Map;G.forEach(N=>{N&&O.set(N.coin,N)}),c(O),E(Date.now())}catch(A){console.error("Failed to fetch HL data",A)}finally{v(!1)}}},[t.hlPublicKey,n]);T.useEffect(()=>{t.hlPublicKey&&U()},[t.hlPublicKey]),T.useEffect(()=>{if(!k||!t.hlPublicKey)return;const A=setInterval(()=>{U()},6e4);return()=>clearInterval(A)},[k,t.hlPublicKey,U]);const V=i.reduce((A,P)=>A+parseFloat(P.position.unrealizedPnl||0),0),F=i.reduce((A,P)=>{const R=Math.abs(parseFloat(P.position.szi)),$=parseFloat(P.position.entryPx);return A+R*$},0),z=u.filter(A=>A.toLowerCase().includes(m.toLowerCase())),K=new Set(i.map(A=>A.position.coin)),H=r.filter(A=>A.network==="hyperliquid"||A.type==="HL Order"||A.type.startsWith("HL"));return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 2xl:grid-cols-4 gap-4 lg:gap-6",children:[h.jsxs("div",{className:"glass-panel p-6 rounded relative overflow-hidden flex flex-col justify-center group",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:h.jsx(Hy,{size:48,className:"text-white"})}),h.jsx("div",{className:"flex items-center justify-between mb-2",children:h.jsx("h3",{className:"text-[10px] uppercase tracking-[0.1em] text-[#747580] font-semibold",children:"Vault Balance"})}),h.jsxs("div",{className:"text-2xl lg:text-3xl font-semibold text-white tracking-tight mb-1",children:["$",((B=t.hlBalance)==null?void 0:B.toFixed(2))||"0.00"]}),h.jsx("div",{className:"text-[11px] text-[#747580] mb-3",children:"USDC"}),h.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-[#232328]",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"checkbox",id:"autoRefresh",checked:k,onChange:A=>I(A.target.checked),className:"w-3.5 h-3.5 rounded border-[#232328] bg-[#1a1b21] key-emerald-600 focus:ring-emerald-500"}),h.jsx("label",{htmlFor:"autoRefresh",className:"text-[10px] text-[#747580] cursor-pointer",children:"Auto-refresh"})]}),h.jsx("button",{onClick:U,disabled:x,className:"p-1.5 hover:bg-[#1a1b21] rounded transition-colors text-[#E7FE55] hover:text-[#f0ff85] disabled:opacity-50",title:"Refresh now",children:h.jsx(xc,{size:14,className:x?"animate-spin":""})})]})]}),h.jsxs("div",{className:"glass-panel p-6 rounded relative overflow-hidden flex flex-col justify-center",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:h.jsx(Pn,{size:48,className:"text-white"})}),h.jsx("div",{className:"flex items-center justify-between mb-2",children:h.jsx("h3",{className:"text-[10px] uppercase tracking-[0.1em] text-[#747580] font-semibold",children:"Position Value"})}),h.jsxs("div",{className:"text-2xl lg:text-3xl font-semibold text-white tracking-tight mb-1",children:["$",F.toFixed(2)]}),h.jsxs("div",{className:"flex items-center justify-between mt-1",children:[h.jsxs("div",{className:"text-[11px] text-[#747580]",children:[i.length," open position",i.length!==1?"s":""]}),h.jsxs("a",{href:"https://app.hyperliquid-testnet.xyz",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-[#E7FE55] hover:text-[#f0ff85] flex items-center gap-1",title:"Hyperliquid Platform Official Website",children:[h.jsx(Pn,{size:10})," Hyperliquid"]})]})]}),h.jsxs("div",{className:"glass-panel p-6 rounded relative overflow-hidden flex flex-col justify-center",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:V>=0?h.jsx(Pn,{size:48,className:"text-white"}):h.jsx(Z2,{size:48,className:"text-white"})}),h.jsx("div",{className:"flex items-center justify-between mb-2",children:h.jsx("h3",{className:"text-[10px] uppercase tracking-[0.1em] text-[#747580] font-semibold",children:"Unrealized PnL"})}),h.jsxs("div",{className:`text-2xl lg:text-3xl font-semibold tracking-tight mb-1 ${V>=0?"text-[#34d399]":"text-red-400"}`,children:[V>=0?"+":"",V.toFixed(2)]}),h.jsx("div",{className:"text-[11px] text-[#747580] mt-1",children:"USDC"})]}),h.jsxs("div",{className:"glass-panel p-6 rounded relative overflow-hidden flex flex-col justify-center",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:h.jsx(Hy,{size:48,className:"text-white"})}),h.jsx("div",{className:"flex items-center justify-between mb-2",children:h.jsx("h3",{className:"text-[10px] uppercase tracking-[0.1em] text-[#747580] font-semibold",children:"Vault Address"})}),t.hlPublicKey?h.jsxs("div",{onClick:()=>M(t.hlPublicKey),className:"flex items-center gap-2 cursor-pointer group",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#E7FE55]"}),h.jsxs("span",{className:"text-sm font-mono text-white truncate group-hover:text-[#E7FE55] transition-colors",children:[t.hlPublicKey.slice(0,6),"...",t.hlPublicKey.slice(-4)]}),D===t.hlPublicKey?h.jsx("span",{className:"text-[10px] text-[#E7FE55] ml-auto",children:"Copied!"}):h.jsx("span",{className:"text-[10px] text-[#747580] ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to copy"})]}):h.jsx("div",{className:"text-sm font-mono text-white mb-1 truncate",children:"Not Available"}),h.jsx("div",{className:"text-[11px] text-[#747580] mt-1",children:w&&`Updated ${new Date(w).toLocaleTimeString()}`})]})]}),h.jsxs("div",{className:"glass-panel p-6 rounded relative overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[h.jsx(ao,{size:18,className:"text-[#E7FE55]"}),"Open Positions"]}),h.jsxs("span",{className:"text-[10px] bg-[#1a1b21] text-[#747580] px-2 py-1 rounded uppercase tracking-wider",children:[i.length," active"]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-[10px] uppercase tracking-[0.05em] text-[#747580] border-b border-[#232328]",children:[h.jsx("th",{className:"py-3 pl-4 font-medium",children:"Symbol"}),h.jsx("th",{className:"py-3 font-medium",children:"Side"}),h.jsx("th",{className:"py-3 font-medium",children:"Size"}),h.jsx("th",{className:"py-3 font-medium",children:"Entry Price"}),h.jsx("th",{className:"py-3 font-medium",children:"Current Price"}),h.jsx("th",{className:"py-3 font-medium",children:"Leverage"}),h.jsx("th",{className:"py-3 font-medium",children:"Margin Type"}),h.jsx("th",{className:"py-3 font-medium",children:"Liq. Price"}),h.jsx("th",{className:"py-3 font-medium",children:"Unrealized PnL"}),h.jsx("th",{className:"py-3 pr-4 font-medium",children:"ROE"})]})}),h.jsx("tbody",{className:"text-sm",children:i.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:10,className:"p-8 text-center text-slate-500",children:"No open positions"})}):i.map((A,P)=>{var re,ae;const R=parseFloat(A.position.szi)>0,$=Math.abs(parseFloat(A.position.szi)),q=parseFloat(A.position.entryPx),te=parseFloat(A.position.unrealizedPnl),Y=parseFloat(A.position.returnOnEquity),G=((re=A.position.leverage)==null?void 0:re.value)||1,O=((ae=A.position.leverage)==null?void 0:ae.type)||"cross",N=A.position.liquidationPx,W=l.get(A.position.coin),X=R?W==null?void 0:W.bid:W==null?void 0:W.ask;return h.jsxs("tr",{className:"border-b border-[#232328]/50 last:border-0 hover:bg-[#1a1b21] transition-colors",children:[h.jsx("td",{className:"py-3 pl-4 font-medium text-white",children:A.position.coin}),h.jsx("td",{className:`py-3 font-semibold ${R?"text-[#34d399]":"text-red-400"}`,children:R?"LONG":"SHORT"}),h.jsx("td",{className:"py-3 text-[#a0a1a8]",children:$.toFixed(4)}),h.jsxs("td",{className:"py-3 text-[#a0a1a8]",children:["$",q]}),h.jsx("td",{className:"py-3 text-[#a0a1a8]",children:X?`$${X.toFixed(2)}`:"-"}),h.jsxs("td",{className:"py-3 text-[#E7FE55] font-medium",children:[G,"x"]}),h.jsx("td",{className:"py-3",children:h.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-medium uppercase tracking-wider ${O==="isolated"?"bg-purple-500/15 text-purple-400":"bg-blue-500/15 text-blue-400"}`,children:O})}),h.jsx("td",{className:"py-3 text-red-400/80",children:N?`$${parseFloat(N).toFixed(2)}`:"-"}),h.jsxs("td",{className:`py-3 font-semibold ${te>=0?"text-[#34d399]":"text-red-400"}`,children:[te>=0?"+":"",te.toFixed(2)]}),h.jsxs("td",{className:`py-3 pr-4 font-medium ${Y>=0?"text-[#34d399]":"text-red-400"}`,children:[Y>=0?"+":"",(Y*100).toFixed(2),"%"]})]},P)})})]})})]}),h.jsxs("div",{className:"glass-panel p-6 rounded relative overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[h.jsx(Xu,{size:18,className:"text-yellow-500"}),"Open Orders"]}),h.jsxs("span",{className:"text-[10px] bg-[#1a1b21] text-[#747580] px-2 py-1 rounded uppercase tracking-wider",children:[o.length," pending"]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-[10px] uppercase tracking-[0.05em] text-[#747580] border-b border-[#232328]",children:[h.jsx("th",{className:"py-3 pl-4 font-medium",children:"Symbol"}),h.jsx("th",{className:"py-3 font-medium",children:"Side"}),h.jsx("th",{className:"py-3 font-medium",children:"Size"}),h.jsx("th",{className:"py-3 font-medium",children:"Price"}),h.jsx("th",{className:"py-3 font-medium",children:"Type"})]})}),h.jsx("tbody",{className:"text-sm",children:o.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"No open orders"})}):o.map((A,P)=>h.jsxs("tr",{className:"border-b border-[#232328]/50 last:border-0 hover:bg-[#1a1b21]",children:[h.jsx("td",{className:"py-3 pl-4 font-medium text-white",children:A.coin}),h.jsx("td",{className:`py-3 font-medium ${A.side==="B"?"text-[#34d399]":"text-red-400"}`,children:A.side==="B"?"BUY":"SELL"}),h.jsx("td",{className:"py-3 text-[#a0a1a8]",children:A.sz}),h.jsxs("td",{className:"py-3 text-[#a0a1a8]",children:["$",A.limitPx]}),h.jsx("td",{className:"py-3 text-[#a0a1a8]",children:A.orderType})]},P))})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 2xl:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"glass-panel p-6 rounded relative overflow-hidden flex flex-col",children:[h.jsx("div",{className:"flex items-center justify-between mb-4 border-b border-[#232328] pb-2",children:h.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[h.jsx(ao,{size:18,className:"text-[#E7FE55]"}),"Recent Activity"]})}),h.jsx("div",{className:"flex-1",children:H.length===0?h.jsx("div",{className:"text-center py-8 text-[#747580] text-sm",children:"No recent transactions"}):h.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2 custom-scrollbar",children:H.slice(0,15).map((A,P)=>h.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b border-[#232328]/50 last:border-0 border-dashed",children:[h.jsx("div",{className:"mt-1 p-1.5 rounded-full bg-[#E7FE55]/15 text-[#E7FE55]",children:h.jsx(ao,{size:12})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex justify-between items-start gap-2",children:[h.jsx("span",{className:"text-xs font-medium text-[#E7FE55]",children:A.type}),h.jsx("span",{className:"text-[10px] text-[#747580] flex-shrink-0",children:new Date(A.timestamp).toLocaleTimeString()})]}),h.jsx("div",{className:"text-[11px] text-[#a0a1a8] truncate mt-0.5",children:A.desc}),A.signature&&A.signature!=="pending"&&h.jsxs("div",{className:"text-[9px] text-[#747580] font-mono mt-1 hover:text-[#E7FE55] cursor-pointer transition-colors",children:[A.signature.slice(0,6),"..."]})]})]},P))})})]}),h.jsxs("div",{className:"glass-panel p-6 rounded relative overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4 border-b border-[#232328] pb-2",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[h.jsx(Pn,{size:18,className:"text-[#E7FE55]"}),"Market Data"]}),h.jsxs("span",{className:"text-[10px] text-[#747580] mt-1",children:[z.length," assets"]})]}),h.jsxs("div",{className:"relative",children:[h.jsx(rre,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#747580]",size:14}),h.jsx("input",{type:"text",placeholder:"Search assets...",value:m,onChange:A=>g(A.target.value),className:"w-48 pl-9 pr-3 py-1.5 bg-[#14151a] border border-[#232328] text-white rounded text-xs focus:outline-none focus:border-[#E7FE55]"})]})]}),h.jsx("div",{className:"overflow-x-auto max-h-96 custom-scrollbar",children:h.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[h.jsx("thead",{className:"sticky top-0 bg-[#0c0d10] z-10",children:h.jsxs("tr",{className:"text-[10px] uppercase tracking-[0.05em] text-[#747580] border-b border-[#232328]",children:[h.jsx("th",{className:"py-2 pl-2 font-medium",children:"Asset"}),h.jsx("th",{className:"py-2 font-medium",children:"Bid"}),h.jsx("th",{className:"py-2 font-medium",children:"Ask"}),h.jsx("th",{className:"py-2 font-medium",children:"Spread %"})]})}),h.jsx("tbody",{className:"text-sm",children:z.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:4,className:"py-8 text-center text-[#747580]",children:"No assets found"})}):z.slice(0,20).map(A=>{const P=l.get(A),R=K.has(A);return h.jsxs("tr",{className:`border-b border-[#232328]/50 last:border-0 hover:bg-[#1a1b21] transition-colors ${R?"bg-[#E7FE55]/5":""}`,children:[h.jsxs("td",{className:"py-2 pl-2 font-medium text-white flex items-center gap-2",children:[A,R&&h.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#E7FE55]",title:"Open Position"})]}),h.jsx("td",{className:"py-2 text-[#34d399] font-medium",children:P?`$${P.bid.toFixed(2)}`:"-"}),h.jsx("td",{className:"py-2 text-red-400 font-medium",children:P?`$${P.ask.toFixed(2)}`:"-"}),h.jsx("td",{className:"py-2 text-[#a0a1a8]",children:P?`${P.spreadPercent.toFixed(3)}%`:"-"})]},A)})})]})})]})]})]})};var Z3="focusScope.autoFocusOnMount",eO="focusScope.autoFocusOnUnmount",GQ={bubbles:!1,cancelable:!0},Qct="FocusScope",_7=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=T.useState(null),c=nh(i),u=nh(s),f=T.useRef(null),m=Cr(e,v=>l(v)),g=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let v=function(I){if(g.paused||!a)return;const D=I.target;a.contains(D)?f.current=D:gf(f.current,{select:!0})},w=function(I){if(g.paused||!a)return;const D=I.relatedTarget;D!==null&&(a.contains(D)||gf(f.current,{select:!0}))},E=function(I){if(document.activeElement===document.body)for(const j of I)j.removedNodes.length>0&&gf(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const k=new MutationObserver(E);return a&&k.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),k.disconnect()}}},[r,a,g.paused]),T.useEffect(()=>{if(a){KQ.add(g);const v=document.activeElement;if(!a.contains(v)){const E=new CustomEvent(Z3,GQ);a.addEventListener(Z3,c),a.dispatchEvent(E),E.defaultPrevented||(Zct(iut(Ope(a)),{select:!0}),document.activeElement===v&&gf(a))}return()=>{a.removeEventListener(Z3,c),setTimeout(()=>{const E=new CustomEvent(eO,GQ);a.addEventListener(eO,u),a.dispatchEvent(E),E.defaultPrevented||gf(v??document.body,{select:!0}),a.removeEventListener(eO,u),KQ.remove(g)},0)}}},[a,c,u,g]);const x=T.useCallback(v=>{if(!n&&!r||g.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(w&&E){const k=v.currentTarget,[I,D]=eut(k);I&&D?!v.shiftKey&&E===D?(v.preventDefault(),n&&gf(I,{select:!0})):v.shiftKey&&E===I&&(v.preventDefault(),n&&gf(D,{select:!0})):E===k&&v.preventDefault()}},[n,r,g.paused]);return h.jsx(Rn.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});_7.displayName=Qct;function Zct(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(gf(r,{select:e}),document.activeElement!==n)return}function eut(t){const e=Ope(t),n=qQ(e,t),r=qQ(e.reverse(),t);return[n,r]}function Ope(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function qQ(t,e){for(const n of t)if(!tut(n,{upTo:e}))return n}function tut(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function nut(t){return t instanceof HTMLInputElement&&"select"in t}function gf(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&nut(t)&&e&&t.select()}}var KQ=rut();function rut(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=WQ(t,e),t.unshift(e)},remove(e){var n;t=WQ(t,e),(n=t[0])==null||n.resume()}}}function WQ(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function iut(t){return t.filter(e=>e.tagName!=="A")}var tO=0;function Mpe(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??YQ()),document.body.insertAdjacentElement("beforeend",t[1]??YQ()),tO++,()=>{tO===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tO--}},[])}function YQ(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var rc=function(){return rc=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rc.apply(this,arguments)};function Dpe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sut(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var vT="right-scroll-bar-position",bT="width-before-scroll-bar",out="with-scroll-bars-hidden",aut="--removed-body-scroll-bar-size";function nO(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function lut(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var cut=typeof window<"u"?T.useLayoutEffect:T.useEffect,JQ=new WeakMap;function uut(t,e){var n=lut(null,function(r){return t.forEach(function(i){return nO(i,r)})});return cut(function(){var r=JQ.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||nO(a,null)}),s.forEach(function(a){i.has(a)||nO(a,o)})}JQ.set(n,t)},[t]),n}function dut(t){return t}function fut(t,e){e===void 0&&(e=dut);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function hut(t){t===void 0&&(t={});var e=fut(null);return e.options=rc({async:!0,ssr:!1},t),e}var Lpe=function(t){var e=t.sideCar,n=Dpe(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,rc({},n))};Lpe.isSideCarExport=!0;function put(t,e){return t.useMedium(e),Lpe}var Bpe=hut(),rO=function(){},jN=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:rO,onWheelCapture:rO,onTouchMoveCapture:rO}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,m=t.sideCar,g=t.noRelative,x=t.noIsolation,v=t.inert,w=t.allowPinchZoom,E=t.as,k=E===void 0?"div":E,I=t.gapMode,D=Dpe(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,M=uut([n,e]),U=rc(rc({},D),i);return T.createElement(T.Fragment,null,u&&T.createElement(j,{sideCar:Bpe,removeScrollBar:c,shards:f,noRelative:g,noIsolation:x,inert:v,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:I}),o?T.cloneElement(T.Children.only(a),rc(rc({},U),{ref:M})):T.createElement(k,rc({},U,{className:l,ref:M}),a))});jN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jN.classNames={fullWidth:bT,zeroRight:vT};var mut=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gut(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=mut();return e&&t.setAttribute("nonce",e),t}function yut(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function xut(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var vut=function(){var t=0,e=null;return{add:function(n){t==0&&(e=gut())&&(yut(e,n),xut(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},but=function(){var t=vut();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},jpe=function(){var t=but(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},wut={left:0,top:0,right:0,gap:0},iO=function(t){return parseInt(t||"",10)||0},Eut=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[iO(n),iO(r),iO(i)]},Sut=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return wut;var e=Eut(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Aut=jpe(),Vg="data-scroll-locked",Tut=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(out,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Vg,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vT,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(bT,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vT," .").concat(vT,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(bT," .").concat(bT,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vg,`] {
    `).concat(aut,": ").concat(a,`px;
  }
`)},XQ=function(){var t=parseInt(document.body.getAttribute(Vg)||"0",10);return isFinite(t)?t:0},Cut=function(){T.useEffect(function(){return document.body.setAttribute(Vg,(XQ()+1).toString()),function(){var t=XQ()-1;t<=0?document.body.removeAttribute(Vg):document.body.setAttribute(Vg,t.toString())}},[])},kut=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Cut();var s=T.useMemo(function(){return Sut(i)},[i]);return T.createElement(Aut,{styles:Tut(s,!e,i,n?"":"!important")})},HD=!1;if(typeof window<"u")try{var EA=Object.defineProperty({},"passive",{get:function(){return HD=!0,!0}});window.addEventListener("test",EA,EA),window.removeEventListener("test",EA,EA)}catch{HD=!1}var F0=HD?{passive:!1}:!1,Nut=function(t){return t.tagName==="TEXTAREA"},Upe=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Nut(t)&&n[e]==="visible")},Iut=function(t){return Upe(t,"overflowY")},Put=function(t){return Upe(t,"overflowX")},QQ=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Fpe(t,r);if(i){var s=zpe(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_ut=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Rut=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Fpe=function(t,e){return t==="v"?Iut(e):Put(e)},zpe=function(t,e){return t==="v"?_ut(e):Rut(e)},Out=function(t,e){return t==="h"&&e==="rtl"?-1:1},Mut=function(t,e,n,r,i){var s=Out(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,f=0,m=0;do{if(!a)break;var g=zpe(t,a),x=g[0],v=g[1],w=g[2],E=v-w-s*x;(x||E)&&Fpe(t,a)&&(f+=E,m+=x);var k=a.parentNode;a=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(f)<1||!u&&Math.abs(m)<1)&&(c=!0),c},SA=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ZQ=function(t){return[t.deltaX,t.deltaY]},eZ=function(t){return t&&"current"in t?t.current:t},Dut=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Lut=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},But=0,z0=[];function jut(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(But++)[0],s=T.useState(jpe)[0],o=T.useRef(t);T.useEffect(function(){o.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=sut([t.lockRef.current],(t.shards||[]).map(eZ),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=T.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var E=SA(v),k=n.current,I="deltaX"in v?v.deltaX:k[0]-E[0],D="deltaY"in v?v.deltaY:k[1]-E[1],j,M=v.target,U=Math.abs(I)>Math.abs(D)?"h":"v";if("touches"in v&&U==="h"&&M.type==="range")return!1;var V=window.getSelection(),F=V&&V.anchorNode,z=F?F===M||F.contains(M):!1;if(z)return!1;var K=QQ(U,M);if(!K)return!0;if(K?j=U:(j=U==="v"?"h":"v",K=QQ(U,M)),!K)return!1;if(!r.current&&"changedTouches"in v&&(I||D)&&(r.current=j),!j)return!0;var H=r.current||j;return Mut(H,w,v,H==="h"?I:D)},[]),l=T.useCallback(function(v){var w=v;if(!(!z0.length||z0[z0.length-1]!==s)){var E="deltaY"in w?ZQ(w):SA(w),k=e.current.filter(function(j){return j.name===w.type&&(j.target===w.target||w.target===j.shadowParent)&&Dut(j.delta,E)})[0];if(k&&k.should){w.cancelable&&w.preventDefault();return}if(!k){var I=(o.current.shards||[]).map(eZ).filter(Boolean).filter(function(j){return j.contains(w.target)}),D=I.length>0?a(w,I[0]):!o.current.noIsolation;D&&w.cancelable&&w.preventDefault()}}},[]),c=T.useCallback(function(v,w,E,k){var I={name:v,delta:w,target:E,should:k,shadowParent:Uut(E)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(D){return D!==I})},1)},[]),u=T.useCallback(function(v){n.current=SA(v),r.current=void 0},[]),f=T.useCallback(function(v){c(v.type,ZQ(v),v.target,a(v,t.lockRef.current))},[]),m=T.useCallback(function(v){c(v.type,SA(v),v.target,a(v,t.lockRef.current))},[]);T.useEffect(function(){return z0.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,F0),document.addEventListener("touchmove",l,F0),document.addEventListener("touchstart",u,F0),function(){z0=z0.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,F0),document.removeEventListener("touchmove",l,F0),document.removeEventListener("touchstart",u,F0)}},[]);var g=t.removeScrollBar,x=t.inert;return T.createElement(T.Fragment,null,x?T.createElement(s,{styles:Lut(i)}):null,g?T.createElement(kut,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Uut(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Fut=put(Bpe,jut);var R7=T.forwardRef(function(t,e){return T.createElement(jN,rc({},t,{ref:e,sideCar:Fut}))});R7.classNames=jN.classNames;var zut=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$0=new WeakMap,AA=new WeakMap,TA={},sO=0,$pe=function(t){return t&&(t.host||$pe(t.parentNode))},$ut=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=$pe(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Hut=function(t,e,n,r){var i=$ut(e,Array.isArray(t)?t:[t]);TA[n]||(TA[n]=new WeakMap);var s=TA[n],o=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))u(m);else try{var g=m.getAttribute(r),x=g!==null&&g!=="false",v=($0.get(m)||0)+1,w=(s.get(m)||0)+1;$0.set(m,v),s.set(m,w),o.push(m),v===1&&x&&AA.set(m,!0),w===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return u(e),a.clear(),sO++,function(){o.forEach(function(f){var m=$0.get(f)-1,g=s.get(f)-1;$0.set(f,m),s.set(f,g),m||(AA.has(f)||f.removeAttribute(r),AA.delete(f)),g||f.removeAttribute(n)}),sO--,sO||($0=new WeakMap,$0=new WeakMap,AA=new WeakMap,TA={})}},Hpe=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=zut(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Hut(r,i,n,"aria-hidden")):function(){return null}};function Vut(t){const e=Gut(t),n=T.forwardRef((r,i)=>{const{children:s,...o}=r,a=T.Children.toArray(s),l=a.find(Kut);if(l){const c=l.props.children,u=a.map(f=>f===l?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:f);return h.jsx(e,{...o,ref:i,children:T.isValidElement(c)?T.cloneElement(c,void 0,u):null})}return h.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Gut(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const o=Yut(i),a=Wut(s,i.props);return i.type!==T.Fragment&&(a.ref=r?Nx(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var qut=Symbol("radix.slottable");function Kut(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qut}function Wut(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Yut(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var UN="Dialog",[Vpe]=Rm(UN),[Jut,Tl]=Vpe(UN),Gpe=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=T.useRef(null),l=T.useRef(null),[c,u]=b1({prop:r,defaultProp:i??!1,onChange:s,caller:UN});return h.jsx(Jut,{scope:e,triggerRef:a,contentRef:l,contentId:Jf(),titleId:Jf(),descriptionId:Jf(),open:c,onOpenChange:u,onOpenToggle:T.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};Gpe.displayName=UN;var qpe="DialogTrigger",Xut=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Tl(qpe,n),s=Cr(e,i.triggerRef);return h.jsx(Rn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":D7(i.open),...r,ref:s,onClick:hn(t.onClick,i.onOpenToggle)})});Xut.displayName=qpe;var O7="DialogPortal",[Qut,Kpe]=Vpe(O7,{forceMount:void 0}),Wpe=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Tl(O7,e);return h.jsx(Qut,{scope:e,forceMount:n,children:T.Children.map(r,o=>h.jsx(Mm,{present:n||s.open,children:h.jsx(Ak,{asChild:!0,container:i,children:o})}))})};Wpe.displayName=O7;var b2="DialogOverlay",Ype=T.forwardRef((t,e)=>{const n=Kpe(b2,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Tl(b2,t.__scopeDialog);return s.modal?h.jsx(Mm,{present:r||s.open,children:h.jsx(edt,{...i,ref:e})}):null});Ype.displayName=b2;var Zut=Vut("DialogOverlay.RemoveScroll"),edt=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Tl(b2,n);return h.jsx(R7,{as:Zut,allowPinchZoom:!0,shards:[i.contentRef],children:h.jsx(Rn.div,{"data-state":D7(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Am="DialogContent",Jpe=T.forwardRef((t,e)=>{const n=Kpe(Am,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Tl(Am,t.__scopeDialog);return h.jsx(Mm,{present:r||s.open,children:s.modal?h.jsx(tdt,{...i,ref:e}):h.jsx(ndt,{...i,ref:e})})});Jpe.displayName=Am;var tdt=T.forwardRef((t,e)=>{const n=Tl(Am,t.__scopeDialog),r=T.useRef(null),i=Cr(e,n.contentRef,r);return T.useEffect(()=>{const s=r.current;if(s)return Hpe(s)},[]),h.jsx(Xpe,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:hn(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:hn(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:hn(t.onFocusOutside,s=>s.preventDefault())})}),ndt=T.forwardRef((t,e)=>{const n=Tl(Am,t.__scopeDialog),r=T.useRef(!1),i=T.useRef(!1);return h.jsx(Xpe,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Xpe=T.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Tl(Am,n),l=T.useRef(null),c=Cr(e,l);return Mpe(),h.jsxs(h.Fragment,{children:[h.jsx(_7,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:h.jsx(xk,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":D7(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(rdt,{titleId:a.titleId}),h.jsx(sdt,{contentRef:l,descriptionId:a.descriptionId})]})]})}),M7="DialogTitle",Qpe=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Tl(M7,n);return h.jsx(Rn.h2,{id:i.titleId,...r,ref:e})});Qpe.displayName=M7;var Zpe="DialogDescription",eme=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Tl(Zpe,n);return h.jsx(Rn.p,{id:i.descriptionId,...r,ref:e})});eme.displayName=Zpe;var tme="DialogClose",nme=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Tl(tme,n);return h.jsx(Rn.button,{type:"button",...r,ref:e,onClick:hn(t.onClick,()=>i.onOpenChange(!1))})});nme.displayName=tme;function D7(t){return t?"open":"closed"}var rme="DialogTitleWarning",[eyt,ime]=a5e(rme,{contentName:Am,titleName:M7,docsSlug:"dialog"}),rdt=({titleId:t})=>{const e=ime(rme),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},idt="DialogDescriptionWarning",sdt=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ime(idt).contentName}}.`;return T.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},odt=Gpe,adt=Wpe,sme=Ype,ome=Jpe,ame=Qpe,lme=eme,ldt=nme;const L7=odt,cdt=adt,cme=T.forwardRef(({className:t,...e},n)=>h.jsx(sme,{ref:n,className:jt("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));cme.displayName=sme.displayName;const FN=T.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(cdt,{children:[h.jsx(cme,{}),h.jsxs(ome,{ref:r,className:jt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-700 bg-slate-900 p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-xl",t),...n,children:[e,h.jsxs(ldt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(ek,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));FN.displayName=ome.displayName;const zN=({className:t,...e})=>h.jsx("div",{className:jt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});zN.displayName="DialogHeader";const $N=({className:t,...e})=>h.jsx("div",{className:jt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});$N.displayName="DialogFooter";const HN=T.forwardRef(({className:t,...e},n)=>h.jsx(ame,{ref:n,className:jt("text-lg font-semibold leading-none tracking-tight text-white",t),...e}));HN.displayName=ame.displayName;const VN=T.forwardRef(({className:t,...e},n)=>h.jsx(lme,{ref:n,className:jt("text-sm text-muted-foreground",t),...e}));VN.displayName=lme.displayName;const udt=({backupKey:t,setBackupKey:e,setShowBackupModal:n,addNotification:r,onClose:i})=>{const s=async()=>{try{await navigator.clipboard.writeText(t),r("Private key copied to clipboard")}catch{r("Failed to copy to clipboard")}},o=()=>{e(""),n(!1),r("Solana backup confirmed!"),i&&i()};return h.jsx(L7,{open:!0,onOpenChange:()=>{},children:h.jsxs(FN,{className:"max-w-md",onPointerDownOutside:a=>a.preventDefault(),children:[h.jsxs(zN,{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-full flex items-center justify-center",children:h.jsx(Ju,{className:"text-purple-400 w-5 h-5"})}),h.jsx("div",{children:h.jsxs(HN,{className:"flex items-center gap-2",children:["Backup Your Solana Key",h.jsx(vl,{variant:"purple",children:"CRITICAL"})]})})]}),h.jsx(VN,{children:"This is your Solana wallet private key. Save it securely - you will NOT see it again."})]}),h.jsxs(tn.div,{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 flex items-start gap-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[h.jsx(Xu,{className:"text-red-400 w-5 h-5 shrink-0 mt-0.5"}),h.jsxs("p",{className:"text-red-400 text-sm",children:[h.jsx("strong",{children:"Warning:"})," Anyone with this key can access your funds. Never share it with anyone."]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[h.jsx("p",{className:"text-[10px] uppercase text-slate-500 font-bold mb-2",children:"Private Key"}),h.jsx("div",{className:"font-mono text-xs text-slate-300 break-all bg-black/30 p-3 rounded border border-slate-700/50",children:t})]}),h.jsxs(Oi,{onClick:s,variant:"outline",className:"w-full",children:[h.jsx(kg,{className:"w-4 h-4 mr-2"}),"Copy to Clipboard"]})]}),h.jsx($N,{children:h.jsx(Oi,{onClick:o,variant:"success",className:"w-full",children:"I've Saved My Key Securely"})})]})})},ddt=({backupKey:t,setBackupKey:e,setShowBackupModal:n,addNotification:r})=>{const i=async()=>{try{await navigator.clipboard.writeText(t),r("Hyperliquid private key copied to clipboard")}catch{r("Failed to copy to clipboard")}},s=()=>{e(""),n(!1),r("Hyperliquid backup confirmed!")};return h.jsx(L7,{open:!0,onOpenChange:()=>{},children:h.jsxs(FN,{className:"max-w-md",onPointerDownOutside:o=>o.preventDefault(),children:[h.jsxs(zN,{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-full flex items-center justify-center",children:h.jsx(Ju,{className:"text-emerald-400 w-5 h-5"})}),h.jsx("div",{children:h.jsxs(HN,{className:"flex items-center gap-2",children:["Backup Your Hyperliquid Key",h.jsx(vl,{variant:"success",children:"CRITICAL"})]})})]}),h.jsx(VN,{children:"This is your Hyperliquid (EVM) wallet private key. Save it securely - you will NOT see it again."})]}),h.jsxs(tn.div,{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 flex items-start gap-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[h.jsx(Xu,{className:"text-red-400 w-5 h-5 shrink-0 mt-0.5"}),h.jsxs("p",{className:"text-red-400 text-sm",children:[h.jsx("strong",{children:"Warning:"})," Anyone with this key can access your funds. Never share it with anyone."]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[h.jsx("p",{className:"text-[10px] uppercase text-slate-500 font-bold mb-2",children:"Private Key (EVM)"}),h.jsx("div",{className:"font-mono text-xs text-slate-300 break-all bg-black/30 p-3 rounded border border-slate-700/50",children:t})]}),h.jsxs(Oi,{onClick:i,variant:"outline",className:"w-full",children:[h.jsx(kg,{className:"w-4 h-4 mr-2"}),"Copy to Clipboard"]})]}),h.jsx($N,{children:h.jsx(Oi,{onClick:s,variant:"success",className:"w-full",children:"I've Saved My Key Securely"})})]})})},fdt=({backupKey:t,setBackupKey:e,setShowBackupModal:n,addNotification:r})=>{const i=async()=>{try{await navigator.clipboard.writeText(t),r("Polymarket private key copied to clipboard")}catch{r("Failed to copy to clipboard")}},s=()=>{e(""),n(!1),r("Polymarket backup confirmed!")};return h.jsx(L7,{open:!0,onOpenChange:()=>{},children:h.jsxs(FN,{className:"max-w-md",onPointerDownOutside:o=>o.preventDefault(),children:[h.jsxs(zN,{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-full flex items-center justify-center",children:h.jsx(Ju,{className:"text-purple-400 w-5 h-5"})}),h.jsx("div",{children:h.jsxs(HN,{className:"flex items-center gap-2",children:["Backup Your Polymarket Key",h.jsx(vl,{variant:"destructive",children:"CRITICAL"})]})})]}),h.jsx(VN,{children:"This is your Polymarket (Polygon) wallet private key. Save it securely - you will NOT see it again."})]}),h.jsxs(tn.div,{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 flex items-start gap-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[h.jsx(Xu,{className:"text-red-400 w-5 h-5 shrink-0 mt-0.5"}),h.jsxs("p",{className:"text-red-400 text-sm",children:[h.jsx("strong",{children:"Warning:"})," Anyone with this key can access your Polygon funds. Never share it with anyone."]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[h.jsx("p",{className:"text-[10px] uppercase text-slate-500 font-bold mb-2",children:"Private Key (Polygon EVM)"}),h.jsx("div",{className:"font-mono text-xs text-slate-300 break-all bg-black/30 p-3 rounded border border-slate-700/50",children:t})]}),h.jsxs(Oi,{onClick:i,variant:"outline",className:"w-full",children:[h.jsx(kg,{className:"w-4 h-4 mr-2"}),"Copy to Clipboard"]})]}),h.jsx($N,{children:h.jsx(Oi,{onClick:s,variant:"success",className:"w-full",children:"I've Saved My Key Securely"})})]})})},hdt="modulepreload",pdt=function(t){return"/"+t},tZ={},Ql=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(c=>{if(c=pdt(c),c in tZ)return;tZ[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":hdt,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((g,x)=>{m.addEventListener("load",g),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},H0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function oE(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function VD(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Um(t,...e){if(!oE(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ume(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");VD(t.outputLen),VD(t.blockLen)}function w2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function mdt(t,e){Um(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function dx(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function oO(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ll(t,e){return t<<32-e|t>>>e}const dme=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",gdt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function nm(t){if(Um(t),dme)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=gdt[t[n]];return e}const Zc={_0:48,_9:57,A:65,F:70,a:97,f:102};function nZ(t){if(t>=Zc._0&&t<=Zc._9)return t-Zc._0;if(t>=Zc.A&&t<=Zc.F)return t-(Zc.A-10);if(t>=Zc.a&&t<=Zc.f)return t-(Zc.a-10)}function E2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(dme)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=nZ(t.charCodeAt(s)),a=nZ(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function ydt(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function B7(t){return typeof t=="string"&&(t=ydt(t)),Um(t),t}function ic(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Um(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class fme{}function hme(t){const e=r=>t().update(B7(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function j7(t=32){if(H0&&typeof H0.getRandomValues=="function")return H0.getRandomValues(new Uint8Array(t));if(H0&&typeof H0.randomBytes=="function")return Uint8Array.from(H0.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function xdt(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function vdt(t,e,n){return t&e^~t&n}function bdt(t,e,n){return t&e^t&n^e&n}class pme extends fme{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=oO(this.buffer)}update(e){w2(this),e=B7(e),Um(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=oO(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){w2(this),mdt(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,dx(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;xdt(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=oO(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const lf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),is=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),CA=BigInt(2**32-1),rZ=BigInt(32);function wdt(t,e=!1){return e?{h:Number(t&CA),l:Number(t>>rZ&CA)}:{h:Number(t>>rZ&CA)|0,l:Number(t&CA)|0}}function Edt(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=wdt(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const iZ=(t,e,n)=>t>>>n,sZ=(t,e,n)=>t<<32-n|e>>>n,V0=(t,e,n)=>t>>>n|e<<32-n,G0=(t,e,n)=>t<<32-n|e>>>n,kA=(t,e,n)=>t<<64-n|e>>>n-32,NA=(t,e,n)=>t>>>n-32|e<<64-n;function eu(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Sdt=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Adt=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Tdt=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Cdt=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,kdt=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Ndt=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Idt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cf=new Uint32Array(64);class Pdt extends pme{constructor(e=32){super(64,e,8,!1),this.A=lf[0]|0,this.B=lf[1]|0,this.C=lf[2]|0,this.D=lf[3]|0,this.E=lf[4]|0,this.F=lf[5]|0,this.G=lf[6]|0,this.H=lf[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)cf[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const m=cf[f-15],g=cf[f-2],x=Ll(m,7)^Ll(m,18)^m>>>3,v=Ll(g,17)^Ll(g,19)^g>>>10;cf[f]=v+cf[f-7]+x+cf[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const m=Ll(a,6)^Ll(a,11)^Ll(a,25),g=u+m+vdt(a,l,c)+Idt[f]+cf[f]|0,v=(Ll(r,2)^Ll(r,13)^Ll(r,22))+bdt(r,i,s)|0;u=c,c=l,l=a,a=o+g|0,o=s,s=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,l,c,u)}roundClean(){dx(cf)}destroy(){this.set(0,0,0,0,0,0,0,0),dx(this.buffer)}}const mme=Edt(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),_dt=mme[0],Rdt=mme[1],uf=new Uint32Array(80),df=new Uint32Array(80);class Odt extends pme{constructor(e=64){super(128,e,16,!1),this.Ah=is[0]|0,this.Al=is[1]|0,this.Bh=is[2]|0,this.Bl=is[3]|0,this.Ch=is[4]|0,this.Cl=is[5]|0,this.Dh=is[6]|0,this.Dl=is[7]|0,this.Eh=is[8]|0,this.El=is[9]|0,this.Fh=is[10]|0,this.Fl=is[11]|0,this.Gh=is[12]|0,this.Gl=is[13]|0,this.Hh=is[14]|0,this.Hl=is[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:f,Fl:m,Gh:g,Gl:x,Hh:v,Hl:w}=this;return[e,n,r,i,s,o,a,l,c,u,f,m,g,x,v,w]}set(e,n,r,i,s,o,a,l,c,u,f,m,g,x,v,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=f|0,this.Fl=m|0,this.Gh=g|0,this.Gl=x|0,this.Hh=v|0,this.Hl=w|0}process(e,n){for(let I=0;I<16;I++,n+=4)uf[I]=e.getUint32(n),df[I]=e.getUint32(n+=4);for(let I=16;I<80;I++){const D=uf[I-15]|0,j=df[I-15]|0,M=V0(D,j,1)^V0(D,j,8)^iZ(D,j,7),U=G0(D,j,1)^G0(D,j,8)^sZ(D,j,7),V=uf[I-2]|0,F=df[I-2]|0,z=V0(V,F,19)^kA(V,F,61)^iZ(V,F,6),K=G0(V,F,19)^NA(V,F,61)^sZ(V,F,6),H=Tdt(U,K,df[I-7],df[I-16]),B=Cdt(H,M,z,uf[I-7],uf[I-16]);uf[I]=B|0,df[I]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:f,El:m,Fh:g,Fl:x,Gh:v,Gl:w,Hh:E,Hl:k}=this;for(let I=0;I<80;I++){const D=V0(f,m,14)^V0(f,m,18)^kA(f,m,41),j=G0(f,m,14)^G0(f,m,18)^NA(f,m,41),M=f&g^~f&v,U=m&x^~m&w,V=kdt(k,j,U,Rdt[I],df[I]),F=Ndt(V,E,D,M,_dt[I],uf[I]),z=V|0,K=V0(r,i,28)^kA(r,i,34)^kA(r,i,39),H=G0(r,i,28)^NA(r,i,34)^NA(r,i,39),B=r&s^r&a^s&a,A=i&o^i&l^o&l;E=v|0,k=w|0,v=g|0,w=x|0,g=f|0,x=m|0,{h:f,l:m}=eu(c|0,u|0,F|0,z|0),c=a|0,u=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const P=Sdt(z,H,A);r=Adt(P,F,K,B),i=P|0}({h:r,l:i}=eu(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=eu(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=eu(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=eu(this.Dh|0,this.Dl|0,c|0,u|0),{h:f,l:m}=eu(this.Eh|0,this.El|0,f|0,m|0),{h:g,l:x}=eu(this.Fh|0,this.Fl|0,g|0,x|0),{h:v,l:w}=eu(this.Gh|0,this.Gl|0,v|0,w|0),{h:E,l:k}=eu(this.Hh|0,this.Hl|0,E|0,k|0),this.set(r,i,s,o,a,l,c,u,f,m,g,x,v,w,E,k)}roundClean(){dx(uf,df)}destroy(){dx(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const gme=hme(()=>new Pdt),Mdt=hme(()=>new Odt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const U7=BigInt(0),GD=BigInt(1);function Tm(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function ll(t,e,n=""){const r=oE(t),i=t==null?void 0:t.length,s=e!==void 0;if(!r||s&&i!==e){const o=n&&`"${n}" `,a=s?` of length ${e}`:"",l=r?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+l)}return t}function IA(t){const e=t.toString(16);return e.length&1?"0"+e:e}function yme(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?U7:BigInt("0x"+t)}function GN(t){return yme(nm(t))}function H1(t){return Um(t),yme(nm(Uint8Array.from(t).reverse()))}function F7(t,e){return E2(t.toString(16).padStart(e*2,"0"))}function xme(t,e){return F7(t,e).reverse()}function zr(t,e,n){let r;if(typeof e=="string")try{r=E2(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(oE(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function oZ(t){return Uint8Array.from(t)}const aO=t=>typeof t=="bigint"&&U7<=t;function Ddt(t,e,n){return aO(t)&&aO(e)&&aO(n)&&e<=t&&t<n}function qD(t,e,n,r){if(!Ddt(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function vme(t){let e;for(e=0;t>U7;t>>=GD,e+=1);return e}const aE=t=>(GD<<BigInt(t))-GD;function Ldt(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=g=>new Uint8Array(g),i=g=>Uint8Array.of(g);let s=r(t),o=r(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},c=(...g)=>n(o,s,...g),u=(g=r(0))=>{o=c(i(0),g),s=c(),g.length!==0&&(o=c(i(1),g),s=c())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const x=[];for(;g<e;){s=c();const v=s.slice();x.push(v),g+=s.length}return ic(...x)};return(g,x)=>{l(),u(g);let v;for(;!(v=x(f()));)u();return l(),v}}function lE(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function S2(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oo=BigInt(0),es=BigInt(1),Ep=BigInt(2),bme=BigInt(3),wme=BigInt(4),Eme=BigInt(5),Bdt=BigInt(7),Sme=BigInt(8),jdt=BigInt(9),Ame=BigInt(16);function li(t,e){const n=t%e;return n>=oo?n:e+n}function jr(t,e,n){let r=t;for(;e-- >oo;)r*=r,r%=n;return r}function aZ(t,e){if(t===oo)throw new Error("invert: expected non-zero number");if(e<=oo)throw new Error("invert: expected positive modulus, got "+e);let n=li(t,e),r=e,i=oo,s=es;for(;n!==oo;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==es)throw new Error("invert: does not exist");return li(i,e)}function z7(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function Tme(t,e){const n=(t.ORDER+es)/wme,r=t.pow(e,n);return z7(t,r,e),r}function Udt(t,e){const n=(t.ORDER-Eme)/Sme,r=t.mul(e,Ep),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Ep),i),a=t.mul(s,t.sub(o,t.ONE));return z7(t,a,e),a}function Fdt(t){const e=Fm(t),n=Cme(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),o=(t+Bdt)/Ame;return(a,l)=>{let c=a.pow(l,o),u=a.mul(c,r);const f=a.mul(c,i),m=a.mul(c,s),g=a.eql(a.sqr(u),l),x=a.eql(a.sqr(f),l);c=a.cmov(c,u,g),u=a.cmov(m,f,x);const v=a.eql(a.sqr(u),l),w=a.cmov(c,u,v);return z7(a,w,l),w}}function Cme(t){if(t<bme)throw new Error("sqrt is not defined for small field");let e=t-es,n=0;for(;e%Ep===oo;)e/=Ep,n++;let r=Ep;const i=Fm(t);for(;lZ(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Tme;let s=i.pow(r,e);const o=(e+es)/Ep;return function(l,c){if(l.is0(c))return c;if(lZ(l,c)!==1)throw new Error("Cannot find square root");let u=n,f=l.mul(l.ONE,s),m=l.pow(c,e),g=l.pow(c,o);for(;!l.eql(m,l.ONE);){if(l.is0(m))return l.ZERO;let x=1,v=l.sqr(m);for(;!l.eql(v,l.ONE);)if(x++,v=l.sqr(v),x===u)throw new Error("Cannot find square root");const w=es<<BigInt(u-x-1),E=l.pow(f,w);u=x,f=l.sqr(E),m=l.mul(m,f),g=l.mul(g,E)}return g}}function zdt(t){return t%wme===bme?Tme:t%Sme===Eme?Udt:t%Ame===jdt?Fdt(t):Cme(t)}const $dt=(t,e)=>(li(t,e)&es)===es,Hdt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Vdt(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Hdt.reduce((r,i)=>(r[i]="function",r),e);return lE(t,n),t}function Gdt(t,e,n){if(n<oo)throw new Error("invalid exponent, negatives unsupported");if(n===oo)return t.ONE;if(n===es)return e;let r=t.ONE,i=e;for(;n>oo;)n&es&&(r=t.mul(r,i)),i=t.sqr(i),n>>=es;return r}function kme(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),s),r}function lZ(t,e){const n=(t.ORDER-es)/Ep,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Nme(t,e){e!==void 0&&VD(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Fm(t,e,n=!1,r={}){if(t<=oo)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const m=e;m.BITS&&(i=m.BITS),m.sqrt&&(s=m.sqrt),typeof m.isLE=="boolean"&&(n=m.isLE),typeof m.modFromBytes=="boolean"&&(o=m.modFromBytes),a=m.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:l,nByteLength:c}=Nme(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const f=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:c,MASK:aE(l),ZERO:oo,ONE:es,allowedLengths:a,create:m=>li(m,t),isValid:m=>{if(typeof m!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof m);return oo<=m&&m<t},is0:m=>m===oo,isValidNot0:m=>!f.is0(m)&&f.isValid(m),isOdd:m=>(m&es)===es,neg:m=>li(-m,t),eql:(m,g)=>m===g,sqr:m=>li(m*m,t),add:(m,g)=>li(m+g,t),sub:(m,g)=>li(m-g,t),mul:(m,g)=>li(m*g,t),pow:(m,g)=>Gdt(f,m,g),div:(m,g)=>li(m*aZ(g,t),t),sqrN:m=>m*m,addN:(m,g)=>m+g,subN:(m,g)=>m-g,mulN:(m,g)=>m*g,inv:m=>aZ(m,t),sqrt:s||(m=>(u||(u=zdt(t)),u(f,m))),toBytes:m=>n?xme(m,c):F7(m,c),fromBytes:(m,g=!0)=>{if(a){if(!a.includes(m.length)||m.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+m.length);const v=new Uint8Array(c);v.set(m,n?0:v.length-m.length),m=v}if(m.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+m.length);let x=n?H1(m):GN(m);if(o&&(x=li(x,t)),!g&&!f.isValid(x))throw new Error("invalid field element: outside of range 0..ORDER");return x},invertBatch:m=>kme(f,m),cmov:(m,g,x)=>x?g:m});return Object.freeze(f)}function Ime(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Pme(t){const e=Ime(t);return e+Math.ceil(e/2)}function qdt(t,e,n=!1){const r=t.length,i=Ime(e),s=Pme(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?H1(t):GN(t),a=li(o,e-es)+es;return n?xme(a,i):F7(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fx=BigInt(0),Sp=BigInt(1);function A2(t,e){const n=e.negate();return t?n:e}function Ap(t,e){const n=kme(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function _me(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function lO(t,e){_me(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=aE(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function cZ(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),l=t>>o;a>r&&(a-=s,l+=Sp);const c=e*r,u=c+Math.abs(a)-1,f=a===0,m=a<0,g=e%2!==0;return{nextN:l,offset:u,isZero:f,isNeg:m,isNegF:g,offsetF:c}}function Kdt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Wdt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const cO=new WeakMap,Rme=new WeakMap;function uO(t){return Rme.get(t)||1}function uZ(t){if(t!==fx)throw new Error("invalid wNAF")}class Ome{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>fx;)n&Sp&&(r=r.add(i)),i=i.double(),n>>=Sp;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=lO(n,this.bits),s=[];let o=e,a=o;for(let l=0;l<r;l++){a=o,s.push(a);for(let c=1;c<i;c++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=lO(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:l,offset:c,isZero:u,isNeg:f,isNegF:m,offsetF:g}=cZ(r,a,o);r=l,u?s=s.add(A2(m,n[g])):i=i.add(A2(f,n[c]))}return uZ(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=lO(e,this.bits);for(let o=0;o<s.windows&&r!==fx;o++){const{nextN:a,offset:l,isZero:c,isNeg:u}=cZ(r,o,s);if(r=a,!c){const f=n[l];i=i.add(u?f.negate():f)}}return uZ(r),i}getPrecomputes(e,n,r){let i=cO.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),cO.set(n,i))),i}cached(e,n,r){const i=uO(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=uO(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){_me(n,this.bits),Rme.set(e,n),cO.delete(e)}hasCache(e){return uO(e)!==1}}function Ydt(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>fx||r>fx;)n&Sp&&(s=s.add(i)),r&Sp&&(o=o.add(i)),i=i.double(),n>>=Sp,r>>=Sp;return{p1:s,p2:o}}function Mme(t,e,n,r){Kdt(n,t),Wdt(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=vme(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=aE(l),u=new Array(Number(c)+1).fill(o),f=Math.floor((e.BITS-1)/l)*l;let m=o;for(let g=f;g>=0;g-=l){u.fill(o);for(let v=0;v<s;v++){const w=r[v],E=Number(w>>BigInt(g)&c);u[E]=u[E].add(n[v])}let x=o;for(let v=u.length-1,w=o;v>0;v--)w=w.add(u[v]),x=x.add(w);if(m=m.add(x),g!==0)for(let v=0;v<l;v++)m=m.double()}return m}function dZ(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Vdt(e),e}else return Fm(t,{isLE:n})}function Dme(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const c=e[l];if(!(typeof c=="bigint"&&c>fx))throw new Error(`CURVE.${l} must be positive bigint`)}const i=dZ(e.p,n.Fp,r),s=dZ(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const l of a)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ff=BigInt(0),Ti=BigInt(1),dO=BigInt(2),Jdt=BigInt(8);function Xdt(t,e,n,r){const i=t.sqr(n),s=t.sqr(r),o=t.add(t.mul(e.a,i),s),a=t.add(t.ONE,t.mul(e.d,t.mul(i,s)));return t.eql(o,a)}function Qdt(t,e={}){const n=Dme("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o}=s;lE(e,{},{uvRatio:"function"});const a=dO<<BigInt(i.BYTES*8)-Ti,l=w=>r.create(w),c=e.uvRatio||((w,E)=>{try{return{isValid:!0,value:r.sqrt(r.div(w,E))}}catch{return{isValid:!1,value:ff}}});if(!Xdt(r,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function u(w,E,k=!1){const I=k?Ti:ff;return qD("coordinate "+w,E,I,a),E}function f(w){if(!(w instanceof x))throw new Error("ExtendedPoint expected")}const m=S2((w,E)=>{const{X:k,Y:I,Z:D}=w,j=w.is0();E==null&&(E=j?Jdt:r.inv(D));const M=l(k*E),U=l(I*E),V=r.mul(D,E);if(j)return{x:ff,y:Ti};if(V!==Ti)throw new Error("invZ was invalid");return{x:M,y:U}}),g=S2(w=>{const{a:E,d:k}=s;if(w.is0())throw new Error("bad point: ZERO");const{X:I,Y:D,Z:j,T:M}=w,U=l(I*I),V=l(D*D),F=l(j*j),z=l(F*F),K=l(U*E),H=l(F*l(K+V)),B=l(z+l(k*l(U*V)));if(H!==B)throw new Error("bad point: equation left != right (1)");const A=l(I*D),P=l(j*M);if(A!==P)throw new Error("bad point: equation left != right (2)");return!0});class x{constructor(E,k,I,D){this.X=u("x",E),this.Y=u("y",k),this.Z=u("z",I,!0),this.T=u("t",D),Object.freeze(this)}static CURVE(){return s}static fromAffine(E){if(E instanceof x)throw new Error("extended point not allowed");const{x:k,y:I}=E||{};return u("x",k),u("y",I),new x(k,I,Ti,l(k*I))}static fromBytes(E,k=!1){const I=r.BYTES,{a:D,d:j}=s;E=oZ(ll(E,I,"point")),Tm(k,"zip215");const M=oZ(E),U=E[I-1];M[I-1]=U&-129;const V=H1(M),F=k?a:r.ORDER;qD("point.y",V,ff,F);const z=l(V*V),K=l(z-Ti),H=l(j*z-D);let{isValid:B,value:A}=c(K,H);if(!B)throw new Error("bad point: invalid y coordinate");const P=(A&Ti)===Ti,R=(U&128)!==0;if(!k&&A===ff&&R)throw new Error("bad point: x=0 and x_0=1");return R!==P&&(A=l(-A)),x.fromAffine({x:A,y:V})}static fromHex(E,k=!1){return x.fromBytes(zr("point",E),k)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(E=8,k=!0){return v.createCache(this,E),k||this.multiply(dO),this}assertValidity(){g(this)}equals(E){f(E);const{X:k,Y:I,Z:D}=this,{X:j,Y:M,Z:U}=E,V=l(k*U),F=l(j*D),z=l(I*U),K=l(M*D);return V===F&&z===K}is0(){return this.equals(x.ZERO)}negate(){return new x(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:E}=s,{X:k,Y:I,Z:D}=this,j=l(k*k),M=l(I*I),U=l(dO*l(D*D)),V=l(E*j),F=k+I,z=l(l(F*F)-j-M),K=V+M,H=K-U,B=V-M,A=l(z*H),P=l(K*B),R=l(z*B),$=l(H*K);return new x(A,P,$,R)}add(E){f(E);const{a:k,d:I}=s,{X:D,Y:j,Z:M,T:U}=this,{X:V,Y:F,Z:z,T:K}=E,H=l(D*V),B=l(j*F),A=l(U*I*K),P=l(M*z),R=l((D+j)*(V+F)-H-B),$=P-A,q=P+A,te=l(B-k*H),Y=l(R*$),G=l(q*te),O=l(R*te),N=l($*q);return new x(Y,G,N,O)}subtract(E){return this.add(E.negate())}multiply(E){if(!i.isValidNot0(E))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:k,f:I}=v.cached(this,E,D=>Ap(x,D));return Ap(x,[k,I])[0]}multiplyUnsafe(E,k=x.ZERO){if(!i.isValid(E))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return E===ff?x.ZERO:this.is0()||E===Ti?this:v.unsafe(this,E,I=>Ap(x,I),k)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return v.unsafe(this,s.n).is0()}toAffine(E){return m(this,E)}clearCofactor(){return o===Ti?this:this.multiplyUnsafe(o)}toBytes(){const{x:E,y:k}=this.toAffine(),I=r.toBytes(k);return I[I.length-1]|=E&Ti?128:0,I}toHex(){return nm(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(E){return Ap(x,E)}static msm(E,k){return Mme(x,i,E,k)}_setWindowSize(E){this.precompute(E)}toRawBytes(){return this.toBytes()}}x.BASE=new x(s.Gx,s.Gy,Ti,l(s.Gx*s.Gy)),x.ZERO=new x(ff,Ti,Ti,ff),x.Fp=r,x.Fn=i;const v=new Ome(x,i.BITS);return x.BASE.precompute(8),x}function Zdt(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');lE(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:s,Fn:o}=t,a=n.randomBytes||j7,l=n.adjustScalarBytes||(F=>F),c=n.domain||((F,z,K)=>{if(Tm(K,"phflag"),z.length||K)throw new Error("Contexts/pre-hash are not supported");return F});function u(F){return o.create(H1(F))}function f(F){const z=I.secretKey;F=zr("private key",F,z);const K=zr("hashed private key",e(F),2*z),H=l(K.slice(0,z)),B=K.slice(z,2*z),A=u(H);return{head:H,prefix:B,scalar:A}}function m(F){const{head:z,prefix:K,scalar:H}=f(F),B=i.multiply(H),A=B.toBytes();return{head:z,prefix:K,scalar:H,point:B,pointBytes:A}}function g(F){return m(F).pointBytes}function x(F=Uint8Array.of(),...z){const K=ic(...z);return u(e(c(K,zr("context",F),!!r)))}function v(F,z,K={}){F=zr("message",F),r&&(F=r(F));const{prefix:H,scalar:B,pointBytes:A}=m(z),P=x(K.context,H,F),R=i.multiply(P).toBytes(),$=x(K.context,R,A,F),q=o.create(P+$*B);if(!o.isValid(q))throw new Error("sign failed: invalid s");const te=ic(R,o.toBytes(q));return ll(te,I.signature,"result")}const w={zip215:!0};function E(F,z,K,H=w){const{context:B,zip215:A}=H,P=I.signature;F=zr("signature",F,P),z=zr("message",z),K=zr("publicKey",K,I.publicKey),A!==void 0&&Tm(A,"zip215"),r&&(z=r(z));const R=P/2,$=F.subarray(0,R),q=H1(F.subarray(R,P));let te,Y,G;try{te=t.fromBytes(K,A),Y=t.fromBytes($,A),G=i.multiplyUnsafe(q)}catch{return!1}if(!A&&te.isSmallOrder())return!1;const O=x(B,Y.toBytes(),te.toBytes(),z);return Y.add(te.multiplyUnsafe(O)).subtract(G).clearCofactor().is0()}const k=s.BYTES,I={secretKey:k,publicKey:k,signature:2*k,seed:k};function D(F=a(I.seed)){return ll(F,I.seed,"seed")}function j(F){const z=V.randomSecretKey(F);return{secretKey:z,publicKey:g(z)}}function M(F){return oE(F)&&F.length===o.BYTES}function U(F,z){try{return!!t.fromBytes(F,z)}catch{return!1}}const V={getExtendedPublicKey:m,randomSecretKey:D,isValidSecretKey:M,isValidPublicKey:U,toMontgomery(F){const{y:z}=t.fromBytes(F),K=I.publicKey,H=K===32;if(!H&&K!==57)throw new Error("only defined for 25519 and 448");const B=H?s.div(Ti+z,Ti-z):s.div(z-Ti,z+Ti);return s.toBytes(B)},toMontgomerySecret(F){const z=I.secretKey;ll(F,z);const K=e(F.subarray(0,z));return l(K).subarray(0,z)},randomPrivateKey:D,precompute(F=8,z=t.BASE){return z.precompute(F,!1)}};return Object.freeze({keygen:j,getPublicKey:g,sign:v,verify:E,utils:V,Point:t,lengths:I})}function eft(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Fm(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},s={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:s}}function tft(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function nft(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=eft(t),s=Qdt(e,n),o=Zdt(s,r,i);return tft(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rft=BigInt(1),fZ=BigInt(2);BigInt(3);const ift=BigInt(5),sft=BigInt(8),$7=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Lme={p:$7,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:sft,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function oft(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=$7,a=t*t%s*t%s,l=jr(a,fZ,s)*a%s,c=jr(l,rft,s)*t%s,u=jr(c,ift,s)*c%s,f=jr(u,e,s)*u%s,m=jr(f,n,s)*f%s,g=jr(m,r,s)*m%s,x=jr(g,i,s)*g%s,v=jr(x,i,s)*g%s,w=jr(v,e,s)*u%s;return{pow_p_5_8:jr(w,fZ,s)*t%s,b2:a}}function aft(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const hZ=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function lft(t,e){const n=$7,r=li(e*e*e,n),i=li(r*r*e,n),s=oft(t*i).pow_p_5_8;let o=li(t*r*s,n);const a=li(e*o*o,n),l=o,c=li(o*hZ,n),u=a===t,f=a===li(-t,n),m=a===li(-t*hZ,n);return u&&(o=l),(f||m)&&(o=c),$dt(o,n)&&(o=li(-o,n)),{isValid:u||f,value:o}}const cft=Fm(Lme.p,{isLE:!0}),uft={...Lme,Fp:cft,hash:Mdt,adjustScalarBytes:aft,uvRatio:lft},Jx=nft(uft);var wT={exports:{}},fO={},pZ;function H7(){return pZ||(pZ=1,(function(t){Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},n={};n.byteLength=u,n.toByteArray=m,n.fromByteArray=v;for(var r=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;i[45]=62,i[95]=63;function c(k){var I=k.length;if(I%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var D=k.indexOf("=");D===-1&&(D=I);var j=D===I?0:4-D%4;return[D,j]}function u(k){var I=c(k),D=I[0],j=I[1];return(D+j)*3/4-j}function f(k,I,D){return(I+D)*3/4-D}function m(k){var I,D=c(k),j=D[0],M=D[1],U=new s(f(k,j,M)),V=0,F=M>0?j-4:j,z;for(z=0;z<F;z+=4)I=i[k.charCodeAt(z)]<<18|i[k.charCodeAt(z+1)]<<12|i[k.charCodeAt(z+2)]<<6|i[k.charCodeAt(z+3)],U[V++]=I>>16&255,U[V++]=I>>8&255,U[V++]=I&255;return M===2&&(I=i[k.charCodeAt(z)]<<2|i[k.charCodeAt(z+1)]>>4,U[V++]=I&255),M===1&&(I=i[k.charCodeAt(z)]<<10|i[k.charCodeAt(z+1)]<<4|i[k.charCodeAt(z+2)]>>2,U[V++]=I>>8&255,U[V++]=I&255),U}function g(k){return r[k>>18&63]+r[k>>12&63]+r[k>>6&63]+r[k&63]}function x(k,I,D){for(var j,M=[],U=I;U<D;U+=3)j=(k[U]<<16&16711680)+(k[U+1]<<8&65280)+(k[U+2]&255),M.push(g(j));return M.join("")}function v(k){for(var I,D=k.length,j=D%3,M=[],U=16383,V=0,F=D-j;V<F;V+=U)M.push(x(k,V,V+U>F?F:V+U));return j===1?(I=k[D-1],M.push(r[I>>2]+r[I<<4&63]+"==")):j===2&&(I=(k[D-2]<<8)+k[D-1],M.push(r[I>>10]+r[I>>4&63]+r[I<<2&63]+"=")),M.join("")}var w={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */w.read=function(k,I,D,j,M){var U,V,F=M*8-j-1,z=(1<<F)-1,K=z>>1,H=-7,B=D?M-1:0,A=D?-1:1,P=k[I+B];for(B+=A,U=P&(1<<-H)-1,P>>=-H,H+=F;H>0;U=U*256+k[I+B],B+=A,H-=8);for(V=U&(1<<-H)-1,U>>=-H,H+=j;H>0;V=V*256+k[I+B],B+=A,H-=8);if(U===0)U=1-K;else{if(U===z)return V?NaN:(P?-1:1)*(1/0);V=V+Math.pow(2,j),U=U-K}return(P?-1:1)*V*Math.pow(2,U-j)},w.write=function(k,I,D,j,M,U){var V,F,z,K=U*8-M-1,H=(1<<K)-1,B=H>>1,A=M===23?Math.pow(2,-24)-Math.pow(2,-77):0,P=j?0:U-1,R=j?1:-1,$=I<0||I===0&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(F=isNaN(I)?1:0,V=H):(V=Math.floor(Math.log(I)/Math.LN2),I*(z=Math.pow(2,-V))<1&&(V--,z*=2),V+B>=1?I+=A/z:I+=A*Math.pow(2,1-B),I*z>=2&&(V++,z/=2),V+B>=H?(F=0,V=H):V+B>=1?(F=(I*z-1)*Math.pow(2,M),V=V+B):(F=I*Math.pow(2,B-1)*Math.pow(2,M),V=0));M>=8;k[D+P]=F&255,P+=R,F/=256,M-=8);for(V=V<<M|F,K+=M;K>0;k[D+P]=V&255,P+=R,V/=256,K-=8);k[D+P-R]|=$*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(k){const I=n,D=w,j=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;k.Buffer=H,k.SlowBuffer=N,k.INSPECT_MAX_BYTES=50;const M=2147483647;k.kMaxLength=M;const{Uint8Array:U,ArrayBuffer:V,SharedArrayBuffer:F}=globalThis;H.TYPED_ARRAY_SUPPORT=z(),!H.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function z(){try{const le=new U(1),Q={foo:function(){return 42}};return Object.setPrototypeOf(Q,U.prototype),Object.setPrototypeOf(le,Q),le.foo()===42}catch{return!1}}Object.defineProperty(H.prototype,"parent",{enumerable:!0,get:function(){if(H.isBuffer(this))return this.buffer}}),Object.defineProperty(H.prototype,"offset",{enumerable:!0,get:function(){if(H.isBuffer(this))return this.byteOffset}});function K(le){if(le>M)throw new RangeError('The value "'+le+'" is invalid for option "size"');const Q=new U(le);return Object.setPrototypeOf(Q,H.prototype),Q}function H(le,Q,ee){if(typeof le=="number"){if(typeof Q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return R(le)}return B(le,Q,ee)}H.poolSize=8192;function B(le,Q,ee){if(typeof le=="string")return $(le,Q);if(V.isView(le))return te(le);if(le==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof le);if(nn(le,V)||le&&nn(le.buffer,V)||typeof F<"u"&&(nn(le,F)||le&&nn(le.buffer,F)))return Y(le,Q,ee);if(typeof le=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const pe=le.valueOf&&le.valueOf();if(pe!=null&&pe!==le)return H.from(pe,Q,ee);const Te=G(le);if(Te)return Te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof le[Symbol.toPrimitive]=="function")return H.from(le[Symbol.toPrimitive]("string"),Q,ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof le)}H.from=function(le,Q,ee){return B(le,Q,ee)},Object.setPrototypeOf(H.prototype,U.prototype),Object.setPrototypeOf(H,U);function A(le){if(typeof le!="number")throw new TypeError('"size" argument must be of type number');if(le<0)throw new RangeError('The value "'+le+'" is invalid for option "size"')}function P(le,Q,ee){return A(le),le<=0?K(le):Q!==void 0?typeof ee=="string"?K(le).fill(Q,ee):K(le).fill(Q):K(le)}H.alloc=function(le,Q,ee){return P(le,Q,ee)};function R(le){return A(le),K(le<0?0:O(le)|0)}H.allocUnsafe=function(le){return R(le)},H.allocUnsafeSlow=function(le){return R(le)};function $(le,Q){if((typeof Q!="string"||Q==="")&&(Q="utf8"),!H.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);const ee=W(le,Q)|0;let pe=K(ee);const Te=pe.write(le,Q);return Te!==ee&&(pe=pe.slice(0,Te)),pe}function q(le){const Q=le.length<0?0:O(le.length)|0,ee=K(Q);for(let pe=0;pe<Q;pe+=1)ee[pe]=le[pe]&255;return ee}function te(le){if(nn(le,U)){const Q=new U(le);return Y(Q.buffer,Q.byteOffset,Q.byteLength)}return q(le)}function Y(le,Q,ee){if(Q<0||le.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if(le.byteLength<Q+(ee||0))throw new RangeError('"length" is outside of buffer bounds');let pe;return Q===void 0&&ee===void 0?pe=new U(le):ee===void 0?pe=new U(le,Q):pe=new U(le,Q,ee),Object.setPrototypeOf(pe,H.prototype),pe}function G(le){if(H.isBuffer(le)){const Q=O(le.length)|0,ee=K(Q);return ee.length===0||le.copy(ee,0,0,Q),ee}if(le.length!==void 0)return typeof le.length!="number"||Qt(le.length)?K(0):q(le);if(le.type==="Buffer"&&Array.isArray(le.data))return q(le.data)}function O(le){if(le>=M)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+M.toString(16)+" bytes");return le|0}function N(le){return+le!=le&&(le=0),H.alloc(+le)}H.isBuffer=function(Q){return Q!=null&&Q._isBuffer===!0&&Q!==H.prototype},H.compare=function(Q,ee){if(nn(Q,U)&&(Q=H.from(Q,Q.offset,Q.byteLength)),nn(ee,U)&&(ee=H.from(ee,ee.offset,ee.byteLength)),!H.isBuffer(Q)||!H.isBuffer(ee))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Q===ee)return 0;let pe=Q.length,Te=ee.length;for(let Re=0,ze=Math.min(pe,Te);Re<ze;++Re)if(Q[Re]!==ee[Re]){pe=Q[Re],Te=ee[Re];break}return pe<Te?-1:Te<pe?1:0},H.isEncoding=function(Q){switch(String(Q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},H.concat=function(Q,ee){if(!Array.isArray(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(Q.length===0)return H.alloc(0);let pe;if(ee===void 0)for(ee=0,pe=0;pe<Q.length;++pe)ee+=Q[pe].length;const Te=H.allocUnsafe(ee);let Re=0;for(pe=0;pe<Q.length;++pe){let ze=Q[pe];if(nn(ze,U))Re+ze.length>Te.length?(H.isBuffer(ze)||(ze=H.from(ze)),ze.copy(Te,Re)):U.prototype.set.call(Te,ze,Re);else if(H.isBuffer(ze))ze.copy(Te,Re);else throw new TypeError('"list" argument must be an Array of Buffers');Re+=ze.length}return Te};function W(le,Q){if(H.isBuffer(le))return le.length;if(V.isView(le)||nn(le,V))return le.byteLength;if(typeof le!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof le);const ee=le.length,pe=arguments.length>2&&arguments[2]===!0;if(!pe&&ee===0)return 0;let Te=!1;for(;;)switch(Q){case"ascii":case"latin1":case"binary":return ee;case"utf8":case"utf-8":return et(le).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee*2;case"hex":return ee>>>1;case"base64":return xt(le).length;default:if(Te)return pe?-1:et(le).length;Q=(""+Q).toLowerCase(),Te=!0}}H.byteLength=W;function X(le,Q,ee){let pe=!1;if((Q===void 0||Q<0)&&(Q=0),Q>this.length||((ee===void 0||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0,Q>>>=0,ee<=Q))return"";for(le||(le="utf8");;)switch(le){case"hex":return st(this,Q,ee);case"utf8":case"utf-8":return $e(this,Q,ee);case"ascii":return We(this,Q,ee);case"latin1":case"binary":return St(this,Q,ee);case"base64":return Ne(this,Q,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lt(this,Q,ee);default:if(pe)throw new TypeError("Unknown encoding: "+le);le=(le+"").toLowerCase(),pe=!0}}H.prototype._isBuffer=!0;function re(le,Q,ee){const pe=le[Q];le[Q]=le[ee],le[ee]=pe}H.prototype.swap16=function(){const Q=this.length;if(Q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ee=0;ee<Q;ee+=2)re(this,ee,ee+1);return this},H.prototype.swap32=function(){const Q=this.length;if(Q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ee=0;ee<Q;ee+=4)re(this,ee,ee+3),re(this,ee+1,ee+2);return this},H.prototype.swap64=function(){const Q=this.length;if(Q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ee=0;ee<Q;ee+=8)re(this,ee,ee+7),re(this,ee+1,ee+6),re(this,ee+2,ee+5),re(this,ee+3,ee+4);return this},H.prototype.toString=function(){const Q=this.length;return Q===0?"":arguments.length===0?$e(this,0,Q):X.apply(this,arguments)},H.prototype.toLocaleString=H.prototype.toString,H.prototype.equals=function(Q){if(!H.isBuffer(Q))throw new TypeError("Argument must be a Buffer");return this===Q?!0:H.compare(this,Q)===0},H.prototype.inspect=function(){let Q="";const ee=k.INSPECT_MAX_BYTES;return Q=this.toString("hex",0,ee).replace(/(.{2})/g,"$1 ").trim(),this.length>ee&&(Q+=" ... "),"<Buffer "+Q+">"},j&&(H.prototype[j]=H.prototype.inspect),H.prototype.compare=function(Q,ee,pe,Te,Re){if(nn(Q,U)&&(Q=H.from(Q,Q.offset,Q.byteLength)),!H.isBuffer(Q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Q);if(ee===void 0&&(ee=0),pe===void 0&&(pe=Q?Q.length:0),Te===void 0&&(Te=0),Re===void 0&&(Re=this.length),ee<0||pe>Q.length||Te<0||Re>this.length)throw new RangeError("out of range index");if(Te>=Re&&ee>=pe)return 0;if(Te>=Re)return-1;if(ee>=pe)return 1;if(ee>>>=0,pe>>>=0,Te>>>=0,Re>>>=0,this===Q)return 0;let ze=Re-Te,Kt=pe-ee;const qt=Math.min(ze,Kt),Ht=this.slice(Te,Re),pn=Q.slice(ee,pe);for(let mt=0;mt<qt;++mt)if(Ht[mt]!==pn[mt]){ze=Ht[mt],Kt=pn[mt];break}return ze<Kt?-1:Kt<ze?1:0};function ae(le,Q,ee,pe,Te){if(le.length===0)return-1;if(typeof ee=="string"?(pe=ee,ee=0):ee>2147483647?ee=2147483647:ee<-2147483648&&(ee=-2147483648),ee=+ee,Qt(ee)&&(ee=Te?0:le.length-1),ee<0&&(ee=le.length+ee),ee>=le.length){if(Te)return-1;ee=le.length-1}else if(ee<0)if(Te)ee=0;else return-1;if(typeof Q=="string"&&(Q=H.from(Q,pe)),H.isBuffer(Q))return Q.length===0?-1:Ee(le,Q,ee,pe,Te);if(typeof Q=="number")return Q=Q&255,typeof U.prototype.indexOf=="function"?Te?U.prototype.indexOf.call(le,Q,ee):U.prototype.lastIndexOf.call(le,Q,ee):Ee(le,[Q],ee,pe,Te);throw new TypeError("val must be string, number or Buffer")}function Ee(le,Q,ee,pe,Te){let Re=1,ze=le.length,Kt=Q.length;if(pe!==void 0&&(pe=String(pe).toLowerCase(),pe==="ucs2"||pe==="ucs-2"||pe==="utf16le"||pe==="utf-16le")){if(le.length<2||Q.length<2)return-1;Re=2,ze/=2,Kt/=2,ee/=2}function qt(pn,mt){return Re===1?pn[mt]:pn.readUInt16BE(mt*Re)}let Ht;if(Te){let pn=-1;for(Ht=ee;Ht<ze;Ht++)if(qt(le,Ht)===qt(Q,pn===-1?0:Ht-pn)){if(pn===-1&&(pn=Ht),Ht-pn+1===Kt)return pn*Re}else pn!==-1&&(Ht-=Ht-pn),pn=-1}else for(ee+Kt>ze&&(ee=ze-Kt),Ht=ee;Ht>=0;Ht--){let pn=!0;for(let mt=0;mt<Kt;mt++)if(qt(le,Ht+mt)!==qt(Q,mt)){pn=!1;break}if(pn)return Ht}return-1}H.prototype.includes=function(Q,ee,pe){return this.indexOf(Q,ee,pe)!==-1},H.prototype.indexOf=function(Q,ee,pe){return ae(this,Q,ee,pe,!0)},H.prototype.lastIndexOf=function(Q,ee,pe){return ae(this,Q,ee,pe,!1)};function ue(le,Q,ee,pe){ee=Number(ee)||0;const Te=le.length-ee;pe?(pe=Number(pe),pe>Te&&(pe=Te)):pe=Te;const Re=Q.length;pe>Re/2&&(pe=Re/2);let ze;for(ze=0;ze<pe;++ze){const Kt=parseInt(Q.substr(ze*2,2),16);if(Qt(Kt))return ze;le[ee+ze]=Kt}return ze}function me(le,Q,ee,pe){return Rt(et(Q,le.length-ee),le,ee,pe)}function ce(le,Q,ee,pe){return Rt(it(Q),le,ee,pe)}function oe(le,Q,ee,pe){return Rt(xt(Q),le,ee,pe)}function Ce(le,Q,ee,pe){return Rt(Ut(Q,le.length-ee),le,ee,pe)}H.prototype.write=function(Q,ee,pe,Te){if(ee===void 0)Te="utf8",pe=this.length,ee=0;else if(pe===void 0&&typeof ee=="string")Te=ee,pe=this.length,ee=0;else if(isFinite(ee))ee=ee>>>0,isFinite(pe)?(pe=pe>>>0,Te===void 0&&(Te="utf8")):(Te=pe,pe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Re=this.length-ee;if((pe===void 0||pe>Re)&&(pe=Re),Q.length>0&&(pe<0||ee<0)||ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");Te||(Te="utf8");let ze=!1;for(;;)switch(Te){case"hex":return ue(this,Q,ee,pe);case"utf8":case"utf-8":return me(this,Q,ee,pe);case"ascii":case"latin1":case"binary":return ce(this,Q,ee,pe);case"base64":return oe(this,Q,ee,pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ce(this,Q,ee,pe);default:if(ze)throw new TypeError("Unknown encoding: "+Te);Te=(""+Te).toLowerCase(),ze=!0}},H.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ne(le,Q,ee){return Q===0&&ee===le.length?I.fromByteArray(le):I.fromByteArray(le.slice(Q,ee))}function $e(le,Q,ee){ee=Math.min(le.length,ee);const pe=[];let Te=Q;for(;Te<ee;){const Re=le[Te];let ze=null,Kt=Re>239?4:Re>223?3:Re>191?2:1;if(Te+Kt<=ee){let qt,Ht,pn,mt;switch(Kt){case 1:Re<128&&(ze=Re);break;case 2:qt=le[Te+1],(qt&192)===128&&(mt=(Re&31)<<6|qt&63,mt>127&&(ze=mt));break;case 3:qt=le[Te+1],Ht=le[Te+2],(qt&192)===128&&(Ht&192)===128&&(mt=(Re&15)<<12|(qt&63)<<6|Ht&63,mt>2047&&(mt<55296||mt>57343)&&(ze=mt));break;case 4:qt=le[Te+1],Ht=le[Te+2],pn=le[Te+3],(qt&192)===128&&(Ht&192)===128&&(pn&192)===128&&(mt=(Re&15)<<18|(qt&63)<<12|(Ht&63)<<6|pn&63,mt>65535&&mt<1114112&&(ze=mt))}}ze===null?(ze=65533,Kt=1):ze>65535&&(ze-=65536,pe.push(ze>>>10&1023|55296),ze=56320|ze&1023),pe.push(ze),Te+=Kt}return Ye(pe)}const Ze=4096;function Ye(le){const Q=le.length;if(Q<=Ze)return String.fromCharCode.apply(String,le);let ee="",pe=0;for(;pe<Q;)ee+=String.fromCharCode.apply(String,le.slice(pe,pe+=Ze));return ee}function We(le,Q,ee){let pe="";ee=Math.min(le.length,ee);for(let Te=Q;Te<ee;++Te)pe+=String.fromCharCode(le[Te]&127);return pe}function St(le,Q,ee){let pe="";ee=Math.min(le.length,ee);for(let Te=Q;Te<ee;++Te)pe+=String.fromCharCode(le[Te]);return pe}function st(le,Q,ee){const pe=le.length;(!Q||Q<0)&&(Q=0),(!ee||ee<0||ee>pe)&&(ee=pe);let Te="";for(let Re=Q;Re<ee;++Re)Te+=rn[le[Re]];return Te}function Lt(le,Q,ee){const pe=le.slice(Q,ee);let Te="";for(let Re=0;Re<pe.length-1;Re+=2)Te+=String.fromCharCode(pe[Re]+pe[Re+1]*256);return Te}H.prototype.slice=function(Q,ee){const pe=this.length;Q=~~Q,ee=ee===void 0?pe:~~ee,Q<0?(Q+=pe,Q<0&&(Q=0)):Q>pe&&(Q=pe),ee<0?(ee+=pe,ee<0&&(ee=0)):ee>pe&&(ee=pe),ee<Q&&(ee=Q);const Te=this.subarray(Q,ee);return Object.setPrototypeOf(Te,H.prototype),Te};function Xt(le,Q,ee){if(le%1!==0||le<0)throw new RangeError("offset is not uint");if(le+Q>ee)throw new RangeError("Trying to access beyond buffer length")}H.prototype.readUintLE=H.prototype.readUIntLE=function(Q,ee,pe){Q=Q>>>0,ee=ee>>>0,pe||Xt(Q,ee,this.length);let Te=this[Q],Re=1,ze=0;for(;++ze<ee&&(Re*=256);)Te+=this[Q+ze]*Re;return Te},H.prototype.readUintBE=H.prototype.readUIntBE=function(Q,ee,pe){Q=Q>>>0,ee=ee>>>0,pe||Xt(Q,ee,this.length);let Te=this[Q+--ee],Re=1;for(;ee>0&&(Re*=256);)Te+=this[Q+--ee]*Re;return Te},H.prototype.readUint8=H.prototype.readUInt8=function(Q,ee){return Q=Q>>>0,ee||Xt(Q,1,this.length),this[Q]},H.prototype.readUint16LE=H.prototype.readUInt16LE=function(Q,ee){return Q=Q>>>0,ee||Xt(Q,2,this.length),this[Q]|this[Q+1]<<8},H.prototype.readUint16BE=H.prototype.readUInt16BE=function(Q,ee){return Q=Q>>>0,ee||Xt(Q,2,this.length),this[Q]<<8|this[Q+1]},H.prototype.readUint32LE=H.prototype.readUInt32LE=function(Q,ee){return Q=Q>>>0,ee||Xt(Q,4,this.length),(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+this[Q+3]*16777216},H.prototype.readUint32BE=H.prototype.readUInt32BE=function(Q,ee){return Q=Q>>>0,ee||Xt(Q,4,this.length),this[Q]*16777216+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])},H.prototype.readBigUInt64LE=Bi(function(Q){Q=Q>>>0,be(Q,"offset");const ee=this[Q],pe=this[Q+7];(ee===void 0||pe===void 0)&&he(Q,this.length-8);const Te=ee+this[++Q]*2**8+this[++Q]*2**16+this[++Q]*2**24,Re=this[++Q]+this[++Q]*2**8+this[++Q]*2**16+pe*2**24;return BigInt(Te)+(BigInt(Re)<<BigInt(32))}),H.prototype.readBigUInt64BE=Bi(function(Q){Q=Q>>>0,be(Q,"offset");const ee=this[Q],pe=this[Q+7];(ee===void 0||pe===void 0)&&he(Q,this.length-8);const Te=ee*2**24+this[++Q]*2**16+this[++Q]*2**8+this[++Q],Re=this[++Q]*2**24+this[++Q]*2**16+this[++Q]*2**8+pe;return(BigInt(Te)<<BigInt(32))+BigInt(Re)}),H.prototype.readIntLE=function(Q,ee,pe){Q=Q>>>0,ee=ee>>>0,pe||Xt(Q,ee,this.length);let Te=this[Q],Re=1,ze=0;for(;++ze<ee&&(Re*=256);)Te+=this[Q+ze]*Re;return Re*=128,Te>=Re&&(Te-=Math.pow(2,8*ee)),Te},H.prototype.readIntBE=function(Q,ee,pe){Q=Q>>>0,ee=ee>>>0,pe||Xt(Q,ee,this.length);let Te=ee,Re=1,ze=this[Q+--Te];for(;Te>0&&(Re*=256);)ze+=this[Q+--Te]*Re;return Re*=128,ze>=Re&&(ze-=Math.pow(2,8*ee)),ze},H.prototype.readInt8=function(Q,ee){return Q=Q>>>0,ee||Xt(Q,1,this.length),this[Q]&128?(255-this[Q]+1)*-1:this[Q]},H.prototype.readInt16LE=function(Q,ee){Q=Q>>>0,ee||Xt(Q,2,this.length);const pe=this[Q]|this[Q+1]<<8;return pe&32768?pe|4294901760:pe},H.prototype.readInt16BE=function(Q,ee){Q=Q>>>0,ee||Xt(Q,2,this.length);const pe=this[Q+1]|this[Q]<<8;return pe&32768?pe|4294901760:pe},H.prototype.readInt32LE=function(Q,ee){return Q=Q>>>0,ee||Xt(Q,4,this.length),this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24},H.prototype.readInt32BE=function(Q,ee){return Q=Q>>>0,ee||Xt(Q,4,this.length),this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]},H.prototype.readBigInt64LE=Bi(function(Q){Q=Q>>>0,be(Q,"offset");const ee=this[Q],pe=this[Q+7];(ee===void 0||pe===void 0)&&he(Q,this.length-8);const Te=this[Q+4]+this[Q+5]*2**8+this[Q+6]*2**16+(pe<<24);return(BigInt(Te)<<BigInt(32))+BigInt(ee+this[++Q]*2**8+this[++Q]*2**16+this[++Q]*2**24)}),H.prototype.readBigInt64BE=Bi(function(Q){Q=Q>>>0,be(Q,"offset");const ee=this[Q],pe=this[Q+7];(ee===void 0||pe===void 0)&&he(Q,this.length-8);const Te=(ee<<24)+this[++Q]*2**16+this[++Q]*2**8+this[++Q];return(BigInt(Te)<<BigInt(32))+BigInt(this[++Q]*2**24+this[++Q]*2**16+this[++Q]*2**8+pe)}),H.prototype.readFloatLE=function(Q,ee){return Q=Q>>>0,ee||Xt(Q,4,this.length),D.read(this,Q,!0,23,4)},H.prototype.readFloatBE=function(Q,ee){return Q=Q>>>0,ee||Xt(Q,4,this.length),D.read(this,Q,!1,23,4)},H.prototype.readDoubleLE=function(Q,ee){return Q=Q>>>0,ee||Xt(Q,8,this.length),D.read(this,Q,!0,52,8)},H.prototype.readDoubleBE=function(Q,ee){return Q=Q>>>0,ee||Xt(Q,8,this.length),D.read(this,Q,!1,52,8)};function qe(le,Q,ee,pe,Te,Re){if(!H.isBuffer(le))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q>Te||Q<Re)throw new RangeError('"value" argument is out of bounds');if(ee+pe>le.length)throw new RangeError("Index out of range")}H.prototype.writeUintLE=H.prototype.writeUIntLE=function(Q,ee,pe,Te){if(Q=+Q,ee=ee>>>0,pe=pe>>>0,!Te){const Kt=Math.pow(2,8*pe)-1;qe(this,Q,ee,pe,Kt,0)}let Re=1,ze=0;for(this[ee]=Q&255;++ze<pe&&(Re*=256);)this[ee+ze]=Q/Re&255;return ee+pe},H.prototype.writeUintBE=H.prototype.writeUIntBE=function(Q,ee,pe,Te){if(Q=+Q,ee=ee>>>0,pe=pe>>>0,!Te){const Kt=Math.pow(2,8*pe)-1;qe(this,Q,ee,pe,Kt,0)}let Re=pe-1,ze=1;for(this[ee+Re]=Q&255;--Re>=0&&(ze*=256);)this[ee+Re]=Q/ze&255;return ee+pe},H.prototype.writeUint8=H.prototype.writeUInt8=function(Q,ee,pe){return Q=+Q,ee=ee>>>0,pe||qe(this,Q,ee,1,255,0),this[ee]=Q&255,ee+1},H.prototype.writeUint16LE=H.prototype.writeUInt16LE=function(Q,ee,pe){return Q=+Q,ee=ee>>>0,pe||qe(this,Q,ee,2,65535,0),this[ee]=Q&255,this[ee+1]=Q>>>8,ee+2},H.prototype.writeUint16BE=H.prototype.writeUInt16BE=function(Q,ee,pe){return Q=+Q,ee=ee>>>0,pe||qe(this,Q,ee,2,65535,0),this[ee]=Q>>>8,this[ee+1]=Q&255,ee+2},H.prototype.writeUint32LE=H.prototype.writeUInt32LE=function(Q,ee,pe){return Q=+Q,ee=ee>>>0,pe||qe(this,Q,ee,4,4294967295,0),this[ee+3]=Q>>>24,this[ee+2]=Q>>>16,this[ee+1]=Q>>>8,this[ee]=Q&255,ee+4},H.prototype.writeUint32BE=H.prototype.writeUInt32BE=function(Q,ee,pe){return Q=+Q,ee=ee>>>0,pe||qe(this,Q,ee,4,4294967295,0),this[ee]=Q>>>24,this[ee+1]=Q>>>16,this[ee+2]=Q>>>8,this[ee+3]=Q&255,ee+4};function At(le,Q,ee,pe,Te){fe(Q,pe,Te,le,ee,7);let Re=Number(Q&BigInt(4294967295));le[ee++]=Re,Re=Re>>8,le[ee++]=Re,Re=Re>>8,le[ee++]=Re,Re=Re>>8,le[ee++]=Re;let ze=Number(Q>>BigInt(32)&BigInt(4294967295));return le[ee++]=ze,ze=ze>>8,le[ee++]=ze,ze=ze>>8,le[ee++]=ze,ze=ze>>8,le[ee++]=ze,ee}function an(le,Q,ee,pe,Te){fe(Q,pe,Te,le,ee,7);let Re=Number(Q&BigInt(4294967295));le[ee+7]=Re,Re=Re>>8,le[ee+6]=Re,Re=Re>>8,le[ee+5]=Re,Re=Re>>8,le[ee+4]=Re;let ze=Number(Q>>BigInt(32)&BigInt(4294967295));return le[ee+3]=ze,ze=ze>>8,le[ee+2]=ze,ze=ze>>8,le[ee+1]=ze,ze=ze>>8,le[ee]=ze,ee+8}H.prototype.writeBigUInt64LE=Bi(function(Q,ee=0){return At(this,Q,ee,BigInt(0),BigInt("0xffffffffffffffff"))}),H.prototype.writeBigUInt64BE=Bi(function(Q,ee=0){return an(this,Q,ee,BigInt(0),BigInt("0xffffffffffffffff"))}),H.prototype.writeIntLE=function(Q,ee,pe,Te){if(Q=+Q,ee=ee>>>0,!Te){const qt=Math.pow(2,8*pe-1);qe(this,Q,ee,pe,qt-1,-qt)}let Re=0,ze=1,Kt=0;for(this[ee]=Q&255;++Re<pe&&(ze*=256);)Q<0&&Kt===0&&this[ee+Re-1]!==0&&(Kt=1),this[ee+Re]=(Q/ze>>0)-Kt&255;return ee+pe},H.prototype.writeIntBE=function(Q,ee,pe,Te){if(Q=+Q,ee=ee>>>0,!Te){const qt=Math.pow(2,8*pe-1);qe(this,Q,ee,pe,qt-1,-qt)}let Re=pe-1,ze=1,Kt=0;for(this[ee+Re]=Q&255;--Re>=0&&(ze*=256);)Q<0&&Kt===0&&this[ee+Re+1]!==0&&(Kt=1),this[ee+Re]=(Q/ze>>0)-Kt&255;return ee+pe},H.prototype.writeInt8=function(Q,ee,pe){return Q=+Q,ee=ee>>>0,pe||qe(this,Q,ee,1,127,-128),Q<0&&(Q=255+Q+1),this[ee]=Q&255,ee+1},H.prototype.writeInt16LE=function(Q,ee,pe){return Q=+Q,ee=ee>>>0,pe||qe(this,Q,ee,2,32767,-32768),this[ee]=Q&255,this[ee+1]=Q>>>8,ee+2},H.prototype.writeInt16BE=function(Q,ee,pe){return Q=+Q,ee=ee>>>0,pe||qe(this,Q,ee,2,32767,-32768),this[ee]=Q>>>8,this[ee+1]=Q&255,ee+2},H.prototype.writeInt32LE=function(Q,ee,pe){return Q=+Q,ee=ee>>>0,pe||qe(this,Q,ee,4,2147483647,-2147483648),this[ee]=Q&255,this[ee+1]=Q>>>8,this[ee+2]=Q>>>16,this[ee+3]=Q>>>24,ee+4},H.prototype.writeInt32BE=function(Q,ee,pe){return Q=+Q,ee=ee>>>0,pe||qe(this,Q,ee,4,2147483647,-2147483648),Q<0&&(Q=4294967295+Q+1),this[ee]=Q>>>24,this[ee+1]=Q>>>16,this[ee+2]=Q>>>8,this[ee+3]=Q&255,ee+4},H.prototype.writeBigInt64LE=Bi(function(Q,ee=0){return At(this,Q,ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),H.prototype.writeBigInt64BE=Bi(function(Q,ee=0){return an(this,Q,ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _e(le,Q,ee,pe,Te,Re){if(ee+pe>le.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("Index out of range")}function Ve(le,Q,ee,pe,Te){return Q=+Q,ee=ee>>>0,Te||_e(le,Q,ee,4),D.write(le,Q,ee,pe,23,4),ee+4}H.prototype.writeFloatLE=function(Q,ee,pe){return Ve(this,Q,ee,!0,pe)},H.prototype.writeFloatBE=function(Q,ee,pe){return Ve(this,Q,ee,!1,pe)};function ft(le,Q,ee,pe,Te){return Q=+Q,ee=ee>>>0,Te||_e(le,Q,ee,8),D.write(le,Q,ee,pe,52,8),ee+8}H.prototype.writeDoubleLE=function(Q,ee,pe){return ft(this,Q,ee,!0,pe)},H.prototype.writeDoubleBE=function(Q,ee,pe){return ft(this,Q,ee,!1,pe)},H.prototype.copy=function(Q,ee,pe,Te){if(!H.isBuffer(Q))throw new TypeError("argument should be a Buffer");if(pe||(pe=0),!Te&&Te!==0&&(Te=this.length),ee>=Q.length&&(ee=Q.length),ee||(ee=0),Te>0&&Te<pe&&(Te=pe),Te===pe||Q.length===0||this.length===0)return 0;if(ee<0)throw new RangeError("targetStart out of bounds");if(pe<0||pe>=this.length)throw new RangeError("Index out of range");if(Te<0)throw new RangeError("sourceEnd out of bounds");Te>this.length&&(Te=this.length),Q.length-ee<Te-pe&&(Te=Q.length-ee+pe);const Re=Te-pe;return this===Q&&typeof U.prototype.copyWithin=="function"?this.copyWithin(ee,pe,Te):U.prototype.set.call(Q,this.subarray(pe,Te),ee),Re},H.prototype.fill=function(Q,ee,pe,Te){if(typeof Q=="string"){if(typeof ee=="string"?(Te=ee,ee=0,pe=this.length):typeof pe=="string"&&(Te=pe,pe=this.length),Te!==void 0&&typeof Te!="string")throw new TypeError("encoding must be a string");if(typeof Te=="string"&&!H.isEncoding(Te))throw new TypeError("Unknown encoding: "+Te);if(Q.length===1){const ze=Q.charCodeAt(0);(Te==="utf8"&&ze<128||Te==="latin1")&&(Q=ze)}}else typeof Q=="number"?Q=Q&255:typeof Q=="boolean"&&(Q=Number(Q));if(ee<0||this.length<ee||this.length<pe)throw new RangeError("Out of range index");if(pe<=ee)return this;ee=ee>>>0,pe=pe===void 0?this.length:pe>>>0,Q||(Q=0);let Re;if(typeof Q=="number")for(Re=ee;Re<pe;++Re)this[Re]=Q;else{const ze=H.isBuffer(Q)?Q:H.from(Q,Te),Kt=ze.length;if(Kt===0)throw new TypeError('The value "'+Q+'" is invalid for argument "value"');for(Re=0;Re<pe-ee;++Re)this[Re+ee]=ze[Re%Kt]}return this};const lt={};function se(le,Q,ee){lt[le]=class extends ee{constructor(){super(),Object.defineProperty(this,"message",{value:Q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${le}]`,this.stack,delete this.name}get code(){return le}set code(Te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Te,writable:!0})}toString(){return`${this.name} [${le}]: ${this.message}`}}}se("ERR_BUFFER_OUT_OF_BOUNDS",function(le){return le?`${le} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),se("ERR_INVALID_ARG_TYPE",function(le,Q){return`The "${le}" argument must be of type number. Received type ${typeof Q}`},TypeError),se("ERR_OUT_OF_RANGE",function(le,Q,ee){let pe=`The value of "${le}" is out of range.`,Te=ee;return Number.isInteger(ee)&&Math.abs(ee)>2**32?Te=J(String(ee)):typeof ee=="bigint"&&(Te=String(ee),(ee>BigInt(2)**BigInt(32)||ee<-(BigInt(2)**BigInt(32)))&&(Te=J(Te)),Te+="n"),pe+=` It must be ${Q}. Received ${Te}`,pe},RangeError);function J(le){let Q="",ee=le.length;const pe=le[0]==="-"?1:0;for(;ee>=pe+4;ee-=3)Q=`_${le.slice(ee-3,ee)}${Q}`;return`${le.slice(0,ee)}${Q}`}function Z(le,Q,ee){be(Q,"offset"),(le[Q]===void 0||le[Q+ee]===void 0)&&he(Q,le.length-(ee+1))}function fe(le,Q,ee,pe,Te,Re){if(le>ee||le<Q){const ze=typeof Q=="bigint"?"n":"";let Kt;throw Q===0||Q===BigInt(0)?Kt=`>= 0${ze} and < 2${ze} ** ${(Re+1)*8}${ze}`:Kt=`>= -(2${ze} ** ${(Re+1)*8-1}${ze}) and < 2 ** ${(Re+1)*8-1}${ze}`,new lt.ERR_OUT_OF_RANGE("value",Kt,le)}Z(pe,Te,Re)}function be(le,Q){if(typeof le!="number")throw new lt.ERR_INVALID_ARG_TYPE(Q,"number",le)}function he(le,Q,ee){throw Math.floor(le)!==le?(be(le,ee),new lt.ERR_OUT_OF_RANGE("offset","an integer",le)):Q<0?new lt.ERR_BUFFER_OUT_OF_BOUNDS:new lt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Q}`,le)}const ye=/[^+/0-9A-Za-z-_]/g;function Xe(le){if(le=le.split("=")[0],le=le.trim().replace(ye,""),le.length<2)return"";for(;le.length%4!==0;)le=le+"=";return le}function et(le,Q){Q=Q||1/0;let ee;const pe=le.length;let Te=null;const Re=[];for(let ze=0;ze<pe;++ze){if(ee=le.charCodeAt(ze),ee>55295&&ee<57344){if(!Te){if(ee>56319){(Q-=3)>-1&&Re.push(239,191,189);continue}else if(ze+1===pe){(Q-=3)>-1&&Re.push(239,191,189);continue}Te=ee;continue}if(ee<56320){(Q-=3)>-1&&Re.push(239,191,189),Te=ee;continue}ee=(Te-55296<<10|ee-56320)+65536}else Te&&(Q-=3)>-1&&Re.push(239,191,189);if(Te=null,ee<128){if((Q-=1)<0)break;Re.push(ee)}else if(ee<2048){if((Q-=2)<0)break;Re.push(ee>>6|192,ee&63|128)}else if(ee<65536){if((Q-=3)<0)break;Re.push(ee>>12|224,ee>>6&63|128,ee&63|128)}else if(ee<1114112){if((Q-=4)<0)break;Re.push(ee>>18|240,ee>>12&63|128,ee>>6&63|128,ee&63|128)}else throw new Error("Invalid code point")}return Re}function it(le){const Q=[];for(let ee=0;ee<le.length;++ee)Q.push(le.charCodeAt(ee)&255);return Q}function Ut(le,Q){let ee,pe,Te;const Re=[];for(let ze=0;ze<le.length&&!((Q-=2)<0);++ze)ee=le.charCodeAt(ze),pe=ee>>8,Te=ee%256,Re.push(Te),Re.push(pe);return Re}function xt(le){return I.toByteArray(Xe(le))}function Rt(le,Q,ee,pe){let Te;for(Te=0;Te<pe&&!(Te+ee>=Q.length||Te>=le.length);++Te)Q[Te+ee]=le[Te];return Te}function nn(le,Q){return le instanceof Q||le!=null&&le.constructor!=null&&le.constructor.name!=null&&le.constructor.name===Q.name}function Qt(le){return le!==le}const rn=(function(){const le="0123456789abcdef",Q=new Array(256);for(let ee=0;ee<16;++ee){const pe=ee*16;for(let Te=0;Te<16;++Te)Q[pe+Te]=le[ee]+le[Te]}return Q})();function Bi(le){return typeof BigInt>"u"?$n:le}function $n(){throw new Error("BigInt not supported")}})(e);const E=e.Buffer;t.Blob=e.Blob,t.BlobOptions=e.BlobOptions,t.Buffer=e.Buffer,t.File=e.File,t.FileOptions=e.FileOptions,t.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,t.SlowBuffer=e.SlowBuffer,t.TranscodeEncoding=e.TranscodeEncoding,t.atob=e.atob,t.btoa=e.btoa,t.constants=e.constants,t.default=E,t.isAscii=e.isAscii,t.isUtf8=e.isUtf8,t.kMaxLength=e.kMaxLength,t.kStringMaxLength=e.kStringMaxLength,t.resolveObjectURL=e.resolveObjectURL,t.transcode=e.transcode})(fO)),fO}var dft=wT.exports,mZ;function Bme(){return mZ||(mZ=1,(function(t){(function(e,n){function r(B,A){if(!B)throw new Error(A||"Assertion failed")}function i(B,A){B.super_=A;var P=function(){};P.prototype=A.prototype,B.prototype=new P,B.prototype.constructor=B}function s(B,A,P){if(s.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((A==="le"||A==="be")&&(P=A,A=10),this._init(B||0,A||10,P||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=H7().Buffer}catch{}s.isBN=function(A){return A instanceof s?!0:A!==null&&typeof A=="object"&&A.constructor.wordSize===s.wordSize&&Array.isArray(A.words)},s.max=function(A,P){return A.cmp(P)>0?A:P},s.min=function(A,P){return A.cmp(P)<0?A:P},s.prototype._init=function(A,P,R){if(typeof A=="number")return this._initNumber(A,P,R);if(typeof A=="object")return this._initArray(A,P,R);P==="hex"&&(P=16),r(P===(P|0)&&P>=2&&P<=36),A=A.toString().replace(/\s+/g,"");var $=0;A[0]==="-"&&($++,this.negative=1),$<A.length&&(P===16?this._parseHex(A,$,R):(this._parseBase(A,P,$),R==="le"&&this._initArray(this.toArray(),P,R)))},s.prototype._initNumber=function(A,P,R){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[A&67108863],this.length=1):A<4503599627370496?(this.words=[A&67108863,A/67108864&67108863],this.length=2):(r(A<9007199254740992),this.words=[A&67108863,A/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),P,R)},s.prototype._initArray=function(A,P,R){if(r(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var q,te,Y=0;if(R==="be")for($=A.length-1,q=0;$>=0;$-=3)te=A[$]|A[$-1]<<8|A[$-2]<<16,this.words[q]|=te<<Y&67108863,this.words[q+1]=te>>>26-Y&67108863,Y+=24,Y>=26&&(Y-=26,q++);else if(R==="le")for($=0,q=0;$<A.length;$+=3)te=A[$]|A[$+1]<<8|A[$+2]<<16,this.words[q]|=te<<Y&67108863,this.words[q+1]=te>>>26-Y&67108863,Y+=24,Y>=26&&(Y-=26,q++);return this._strip()};function a(B,A){var P=B.charCodeAt(A);if(P>=48&&P<=57)return P-48;if(P>=65&&P<=70)return P-55;if(P>=97&&P<=102)return P-87;r(!1,"Invalid character in "+B)}function l(B,A,P){var R=a(B,P);return P-1>=A&&(R|=a(B,P-1)<<4),R}s.prototype._parseHex=function(A,P,R){this.length=Math.ceil((A.length-P)/6),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var q=0,te=0,Y;if(R==="be")for($=A.length-1;$>=P;$-=2)Y=l(A,P,$)<<q,this.words[te]|=Y&67108863,q>=18?(q-=18,te+=1,this.words[te]|=Y>>>26):q+=8;else{var G=A.length-P;for($=G%2===0?P+1:P;$<A.length;$+=2)Y=l(A,P,$)<<q,this.words[te]|=Y&67108863,q>=18?(q-=18,te+=1,this.words[te]|=Y>>>26):q+=8}this._strip()};function c(B,A,P,R){for(var $=0,q=0,te=Math.min(B.length,P),Y=A;Y<te;Y++){var G=B.charCodeAt(Y)-48;$*=R,G>=49?q=G-49+10:G>=17?q=G-17+10:q=G,r(G>=0&&q<R,"Invalid character"),$+=q}return $}s.prototype._parseBase=function(A,P,R){this.words=[0],this.length=1;for(var $=0,q=1;q<=67108863;q*=P)$++;$--,q=q/P|0;for(var te=A.length-R,Y=te%$,G=Math.min(te,te-Y)+R,O=0,N=R;N<G;N+=$)O=c(A,N,N+$,P),this.imuln(q),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(Y!==0){var W=1;for(O=c(A,N,A.length,P),N=0;N<Y;N++)W*=P;this.imuln(W),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}this._strip()},s.prototype.copy=function(A){A.words=new Array(this.length);for(var P=0;P<this.length;P++)A.words[P]=this.words[P];A.length=this.length,A.negative=this.negative,A.red=this.red};function u(B,A){B.words=A.words,B.length=A.length,B.negative=A.negative,B.red=A.red}if(s.prototype._move=function(A){u(A,this)},s.prototype.clone=function(){var A=new s(null);return this.copy(A),A},s.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(A,P){A=A||10,P=P|0||1;var R;if(A===16||A==="hex"){R="";for(var $=0,q=0,te=0;te<this.length;te++){var Y=this.words[te],G=((Y<<$|q)&16777215).toString(16);q=Y>>>24-$&16777215,$+=2,$>=26&&($-=26,te--),q!==0||te!==this.length-1?R=m[6-G.length]+G+R:R=G+R}for(q!==0&&(R=q.toString(16)+R);R.length%P!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(A===(A|0)&&A>=2&&A<=36){var O=g[A],N=x[A];R="";var W=this.clone();for(W.negative=0;!W.isZero();){var X=W.modrn(N).toString(A);W=W.idivn(N),W.isZero()?R=X+R:R=m[O-X.length]+X+R}for(this.isZero()&&(R="0"+R);R.length%P!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=this.words[1]*67108864:this.length===3&&this.words[2]===1?A+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(A,P){return this.toArrayLike(o,A,P)}),s.prototype.toArray=function(A,P){return this.toArrayLike(Array,A,P)};var v=function(A,P){return A.allocUnsafe?A.allocUnsafe(P):new A(P)};s.prototype.toArrayLike=function(A,P,R){this._strip();var $=this.byteLength(),q=R||Math.max(1,$);r($<=q,"byte array longer than desired length"),r(q>0,"Requested array length <= 0");var te=v(A,q),Y=P==="le"?"LE":"BE";return this["_toArrayLike"+Y](te,$),te},s.prototype._toArrayLikeLE=function(A,P){for(var R=0,$=0,q=0,te=0;q<this.length;q++){var Y=this.words[q]<<te|$;A[R++]=Y&255,R<A.length&&(A[R++]=Y>>8&255),R<A.length&&(A[R++]=Y>>16&255),te===6?(R<A.length&&(A[R++]=Y>>24&255),$=0,te=0):($=Y>>>24,te+=2)}if(R<A.length)for(A[R++]=$;R<A.length;)A[R++]=0},s.prototype._toArrayLikeBE=function(A,P){for(var R=A.length-1,$=0,q=0,te=0;q<this.length;q++){var Y=this.words[q]<<te|$;A[R--]=Y&255,R>=0&&(A[R--]=Y>>8&255),R>=0&&(A[R--]=Y>>16&255),te===6?(R>=0&&(A[R--]=Y>>24&255),$=0,te=0):($=Y>>>24,te+=2)}if(R>=0)for(A[R--]=$;R>=0;)A[R--]=0},Math.clz32?s.prototype._countBits=function(A){return 32-Math.clz32(A)}:s.prototype._countBits=function(A){var P=A,R=0;return P>=4096&&(R+=13,P>>>=13),P>=64&&(R+=7,P>>>=7),P>=8&&(R+=4,P>>>=4),P>=2&&(R+=2,P>>>=2),R+P},s.prototype._zeroBits=function(A){if(A===0)return 26;var P=A,R=0;return(P&8191)===0&&(R+=13,P>>>=13),(P&127)===0&&(R+=7,P>>>=7),(P&15)===0&&(R+=4,P>>>=4),(P&3)===0&&(R+=2,P>>>=2),(P&1)===0&&R++,R},s.prototype.bitLength=function(){var A=this.words[this.length-1],P=this._countBits(A);return(this.length-1)*26+P};function w(B){for(var A=new Array(B.bitLength()),P=0;P<A.length;P++){var R=P/26|0,$=P%26;A[P]=B.words[R]>>>$&1}return A}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,P=0;P<this.length;P++){var R=this._zeroBits(this.words[P]);if(A+=R,R!==26)break}return A},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},s.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var P=0;P<A.length;P++)this.words[P]=this.words[P]|A.words[P];return this._strip()},s.prototype.ior=function(A){return r((this.negative|A.negative)===0),this.iuor(A)},s.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},s.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},s.prototype.iuand=function(A){var P;this.length>A.length?P=A:P=this;for(var R=0;R<P.length;R++)this.words[R]=this.words[R]&A.words[R];return this.length=P.length,this._strip()},s.prototype.iand=function(A){return r((this.negative|A.negative)===0),this.iuand(A)},s.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},s.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},s.prototype.iuxor=function(A){var P,R;this.length>A.length?(P=this,R=A):(P=A,R=this);for(var $=0;$<R.length;$++)this.words[$]=P.words[$]^R.words[$];if(this!==P)for(;$<P.length;$++)this.words[$]=P.words[$];return this.length=P.length,this._strip()},s.prototype.ixor=function(A){return r((this.negative|A.negative)===0),this.iuxor(A)},s.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},s.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},s.prototype.inotn=function(A){r(typeof A=="number"&&A>=0);var P=Math.ceil(A/26)|0,R=A%26;this._expand(P),R>0&&P--;for(var $=0;$<P;$++)this.words[$]=~this.words[$]&67108863;return R>0&&(this.words[$]=~this.words[$]&67108863>>26-R),this._strip()},s.prototype.notn=function(A){return this.clone().inotn(A)},s.prototype.setn=function(A,P){r(typeof A=="number"&&A>=0);var R=A/26|0,$=A%26;return this._expand(R+1),P?this.words[R]=this.words[R]|1<<$:this.words[R]=this.words[R]&~(1<<$),this._strip()},s.prototype.iadd=function(A){var P;if(this.negative!==0&&A.negative===0)return this.negative=0,P=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,P=this.isub(A),A.negative=1,P._normSign();var R,$;this.length>A.length?(R=this,$=A):(R=A,$=this);for(var q=0,te=0;te<$.length;te++)P=(R.words[te]|0)+($.words[te]|0)+q,this.words[te]=P&67108863,q=P>>>26;for(;q!==0&&te<R.length;te++)P=(R.words[te]|0)+q,this.words[te]=P&67108863,q=P>>>26;if(this.length=R.length,q!==0)this.words[this.length]=q,this.length++;else if(R!==this)for(;te<R.length;te++)this.words[te]=R.words[te];return this},s.prototype.add=function(A){var P;return A.negative!==0&&this.negative===0?(A.negative=0,P=this.sub(A),A.negative^=1,P):A.negative===0&&this.negative!==0?(this.negative=0,P=A.sub(this),this.negative=1,P):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},s.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var P=this.iadd(A);return A.negative=1,P._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var R=this.cmp(A);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $,q;R>0?($=this,q=A):($=A,q=this);for(var te=0,Y=0;Y<q.length;Y++)P=($.words[Y]|0)-(q.words[Y]|0)+te,te=P>>26,this.words[Y]=P&67108863;for(;te!==0&&Y<$.length;Y++)P=($.words[Y]|0)+te,te=P>>26,this.words[Y]=P&67108863;if(te===0&&Y<$.length&&$!==this)for(;Y<$.length;Y++)this.words[Y]=$.words[Y];return this.length=Math.max(this.length,Y),$!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(A){return this.clone().isub(A)};function E(B,A,P){P.negative=A.negative^B.negative;var R=B.length+A.length|0;P.length=R,R=R-1|0;var $=B.words[0]|0,q=A.words[0]|0,te=$*q,Y=te&67108863,G=te/67108864|0;P.words[0]=Y;for(var O=1;O<R;O++){for(var N=G>>>26,W=G&67108863,X=Math.min(O,A.length-1),re=Math.max(0,O-B.length+1);re<=X;re++){var ae=O-re|0;$=B.words[ae]|0,q=A.words[re]|0,te=$*q+W,N+=te/67108864|0,W=te&67108863}P.words[O]=W|0,G=N|0}return G!==0?P.words[O]=G|0:P.length--,P._strip()}var k=function(A,P,R){var $=A.words,q=P.words,te=R.words,Y=0,G,O,N,W=$[0]|0,X=W&8191,re=W>>>13,ae=$[1]|0,Ee=ae&8191,ue=ae>>>13,me=$[2]|0,ce=me&8191,oe=me>>>13,Ce=$[3]|0,Ne=Ce&8191,$e=Ce>>>13,Ze=$[4]|0,Ye=Ze&8191,We=Ze>>>13,St=$[5]|0,st=St&8191,Lt=St>>>13,Xt=$[6]|0,qe=Xt&8191,At=Xt>>>13,an=$[7]|0,_e=an&8191,Ve=an>>>13,ft=$[8]|0,lt=ft&8191,se=ft>>>13,J=$[9]|0,Z=J&8191,fe=J>>>13,be=q[0]|0,he=be&8191,ye=be>>>13,Xe=q[1]|0,et=Xe&8191,it=Xe>>>13,Ut=q[2]|0,xt=Ut&8191,Rt=Ut>>>13,nn=q[3]|0,Qt=nn&8191,rn=nn>>>13,Bi=q[4]|0,$n=Bi&8191,le=Bi>>>13,Q=q[5]|0,ee=Q&8191,pe=Q>>>13,Te=q[6]|0,Re=Te&8191,ze=Te>>>13,Kt=q[7]|0,qt=Kt&8191,Ht=Kt>>>13,pn=q[8]|0,mt=pn&8191,ct=pn>>>13,Vs=q[9]|0,Un=Vs&8191,mr=Vs>>>13;R.negative=A.negative^P.negative,R.length=19,G=Math.imul(X,he),O=Math.imul(X,ye),O=O+Math.imul(re,he)|0,N=Math.imul(re,ye);var Rc=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(Rc>>>26)|0,Rc&=67108863,G=Math.imul(Ee,he),O=Math.imul(Ee,ye),O=O+Math.imul(ue,he)|0,N=Math.imul(ue,ye),G=G+Math.imul(X,et)|0,O=O+Math.imul(X,it)|0,O=O+Math.imul(re,et)|0,N=N+Math.imul(re,it)|0;var Cl=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(Cl>>>26)|0,Cl&=67108863,G=Math.imul(ce,he),O=Math.imul(ce,ye),O=O+Math.imul(oe,he)|0,N=Math.imul(oe,ye),G=G+Math.imul(Ee,et)|0,O=O+Math.imul(Ee,it)|0,O=O+Math.imul(ue,et)|0,N=N+Math.imul(ue,it)|0,G=G+Math.imul(X,xt)|0,O=O+Math.imul(X,Rt)|0,O=O+Math.imul(re,xt)|0,N=N+Math.imul(re,Rt)|0;var $o=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+($o>>>26)|0,$o&=67108863,G=Math.imul(Ne,he),O=Math.imul(Ne,ye),O=O+Math.imul($e,he)|0,N=Math.imul($e,ye),G=G+Math.imul(ce,et)|0,O=O+Math.imul(ce,it)|0,O=O+Math.imul(oe,et)|0,N=N+Math.imul(oe,it)|0,G=G+Math.imul(Ee,xt)|0,O=O+Math.imul(Ee,Rt)|0,O=O+Math.imul(ue,xt)|0,N=N+Math.imul(ue,Rt)|0,G=G+Math.imul(X,Qt)|0,O=O+Math.imul(X,rn)|0,O=O+Math.imul(re,Qt)|0,N=N+Math.imul(re,rn)|0;var kl=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(kl>>>26)|0,kl&=67108863,G=Math.imul(Ye,he),O=Math.imul(Ye,ye),O=O+Math.imul(We,he)|0,N=Math.imul(We,ye),G=G+Math.imul(Ne,et)|0,O=O+Math.imul(Ne,it)|0,O=O+Math.imul($e,et)|0,N=N+Math.imul($e,it)|0,G=G+Math.imul(ce,xt)|0,O=O+Math.imul(ce,Rt)|0,O=O+Math.imul(oe,xt)|0,N=N+Math.imul(oe,Rt)|0,G=G+Math.imul(Ee,Qt)|0,O=O+Math.imul(Ee,rn)|0,O=O+Math.imul(ue,Qt)|0,N=N+Math.imul(ue,rn)|0,G=G+Math.imul(X,$n)|0,O=O+Math.imul(X,le)|0,O=O+Math.imul(re,$n)|0,N=N+Math.imul(re,le)|0;var fo=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(fo>>>26)|0,fo&=67108863,G=Math.imul(st,he),O=Math.imul(st,ye),O=O+Math.imul(Lt,he)|0,N=Math.imul(Lt,ye),G=G+Math.imul(Ye,et)|0,O=O+Math.imul(Ye,it)|0,O=O+Math.imul(We,et)|0,N=N+Math.imul(We,it)|0,G=G+Math.imul(Ne,xt)|0,O=O+Math.imul(Ne,Rt)|0,O=O+Math.imul($e,xt)|0,N=N+Math.imul($e,Rt)|0,G=G+Math.imul(ce,Qt)|0,O=O+Math.imul(ce,rn)|0,O=O+Math.imul(oe,Qt)|0,N=N+Math.imul(oe,rn)|0,G=G+Math.imul(Ee,$n)|0,O=O+Math.imul(Ee,le)|0,O=O+Math.imul(ue,$n)|0,N=N+Math.imul(ue,le)|0,G=G+Math.imul(X,ee)|0,O=O+Math.imul(X,pe)|0,O=O+Math.imul(re,ee)|0,N=N+Math.imul(re,pe)|0;var ho=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(ho>>>26)|0,ho&=67108863,G=Math.imul(qe,he),O=Math.imul(qe,ye),O=O+Math.imul(At,he)|0,N=Math.imul(At,ye),G=G+Math.imul(st,et)|0,O=O+Math.imul(st,it)|0,O=O+Math.imul(Lt,et)|0,N=N+Math.imul(Lt,it)|0,G=G+Math.imul(Ye,xt)|0,O=O+Math.imul(Ye,Rt)|0,O=O+Math.imul(We,xt)|0,N=N+Math.imul(We,Rt)|0,G=G+Math.imul(Ne,Qt)|0,O=O+Math.imul(Ne,rn)|0,O=O+Math.imul($e,Qt)|0,N=N+Math.imul($e,rn)|0,G=G+Math.imul(ce,$n)|0,O=O+Math.imul(ce,le)|0,O=O+Math.imul(oe,$n)|0,N=N+Math.imul(oe,le)|0,G=G+Math.imul(Ee,ee)|0,O=O+Math.imul(Ee,pe)|0,O=O+Math.imul(ue,ee)|0,N=N+Math.imul(ue,pe)|0,G=G+Math.imul(X,Re)|0,O=O+Math.imul(X,ze)|0,O=O+Math.imul(re,Re)|0,N=N+Math.imul(re,ze)|0;var Ho=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,G=Math.imul(_e,he),O=Math.imul(_e,ye),O=O+Math.imul(Ve,he)|0,N=Math.imul(Ve,ye),G=G+Math.imul(qe,et)|0,O=O+Math.imul(qe,it)|0,O=O+Math.imul(At,et)|0,N=N+Math.imul(At,it)|0,G=G+Math.imul(st,xt)|0,O=O+Math.imul(st,Rt)|0,O=O+Math.imul(Lt,xt)|0,N=N+Math.imul(Lt,Rt)|0,G=G+Math.imul(Ye,Qt)|0,O=O+Math.imul(Ye,rn)|0,O=O+Math.imul(We,Qt)|0,N=N+Math.imul(We,rn)|0,G=G+Math.imul(Ne,$n)|0,O=O+Math.imul(Ne,le)|0,O=O+Math.imul($e,$n)|0,N=N+Math.imul($e,le)|0,G=G+Math.imul(ce,ee)|0,O=O+Math.imul(ce,pe)|0,O=O+Math.imul(oe,ee)|0,N=N+Math.imul(oe,pe)|0,G=G+Math.imul(Ee,Re)|0,O=O+Math.imul(Ee,ze)|0,O=O+Math.imul(ue,Re)|0,N=N+Math.imul(ue,ze)|0,G=G+Math.imul(X,qt)|0,O=O+Math.imul(X,Ht)|0,O=O+Math.imul(re,qt)|0,N=N+Math.imul(re,Ht)|0;var po=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(po>>>26)|0,po&=67108863,G=Math.imul(lt,he),O=Math.imul(lt,ye),O=O+Math.imul(se,he)|0,N=Math.imul(se,ye),G=G+Math.imul(_e,et)|0,O=O+Math.imul(_e,it)|0,O=O+Math.imul(Ve,et)|0,N=N+Math.imul(Ve,it)|0,G=G+Math.imul(qe,xt)|0,O=O+Math.imul(qe,Rt)|0,O=O+Math.imul(At,xt)|0,N=N+Math.imul(At,Rt)|0,G=G+Math.imul(st,Qt)|0,O=O+Math.imul(st,rn)|0,O=O+Math.imul(Lt,Qt)|0,N=N+Math.imul(Lt,rn)|0,G=G+Math.imul(Ye,$n)|0,O=O+Math.imul(Ye,le)|0,O=O+Math.imul(We,$n)|0,N=N+Math.imul(We,le)|0,G=G+Math.imul(Ne,ee)|0,O=O+Math.imul(Ne,pe)|0,O=O+Math.imul($e,ee)|0,N=N+Math.imul($e,pe)|0,G=G+Math.imul(ce,Re)|0,O=O+Math.imul(ce,ze)|0,O=O+Math.imul(oe,Re)|0,N=N+Math.imul(oe,ze)|0,G=G+Math.imul(Ee,qt)|0,O=O+Math.imul(Ee,Ht)|0,O=O+Math.imul(ue,qt)|0,N=N+Math.imul(ue,Ht)|0,G=G+Math.imul(X,mt)|0,O=O+Math.imul(X,ct)|0,O=O+Math.imul(re,mt)|0,N=N+Math.imul(re,ct)|0;var gr=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(gr>>>26)|0,gr&=67108863,G=Math.imul(Z,he),O=Math.imul(Z,ye),O=O+Math.imul(fe,he)|0,N=Math.imul(fe,ye),G=G+Math.imul(lt,et)|0,O=O+Math.imul(lt,it)|0,O=O+Math.imul(se,et)|0,N=N+Math.imul(se,it)|0,G=G+Math.imul(_e,xt)|0,O=O+Math.imul(_e,Rt)|0,O=O+Math.imul(Ve,xt)|0,N=N+Math.imul(Ve,Rt)|0,G=G+Math.imul(qe,Qt)|0,O=O+Math.imul(qe,rn)|0,O=O+Math.imul(At,Qt)|0,N=N+Math.imul(At,rn)|0,G=G+Math.imul(st,$n)|0,O=O+Math.imul(st,le)|0,O=O+Math.imul(Lt,$n)|0,N=N+Math.imul(Lt,le)|0,G=G+Math.imul(Ye,ee)|0,O=O+Math.imul(Ye,pe)|0,O=O+Math.imul(We,ee)|0,N=N+Math.imul(We,pe)|0,G=G+Math.imul(Ne,Re)|0,O=O+Math.imul(Ne,ze)|0,O=O+Math.imul($e,Re)|0,N=N+Math.imul($e,ze)|0,G=G+Math.imul(ce,qt)|0,O=O+Math.imul(ce,Ht)|0,O=O+Math.imul(oe,qt)|0,N=N+Math.imul(oe,Ht)|0,G=G+Math.imul(Ee,mt)|0,O=O+Math.imul(Ee,ct)|0,O=O+Math.imul(ue,mt)|0,N=N+Math.imul(ue,ct)|0,G=G+Math.imul(X,Un)|0,O=O+Math.imul(X,mr)|0,O=O+Math.imul(re,Un)|0,N=N+Math.imul(re,mr)|0;var Oc=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(Oc>>>26)|0,Oc&=67108863,G=Math.imul(Z,et),O=Math.imul(Z,it),O=O+Math.imul(fe,et)|0,N=Math.imul(fe,it),G=G+Math.imul(lt,xt)|0,O=O+Math.imul(lt,Rt)|0,O=O+Math.imul(se,xt)|0,N=N+Math.imul(se,Rt)|0,G=G+Math.imul(_e,Qt)|0,O=O+Math.imul(_e,rn)|0,O=O+Math.imul(Ve,Qt)|0,N=N+Math.imul(Ve,rn)|0,G=G+Math.imul(qe,$n)|0,O=O+Math.imul(qe,le)|0,O=O+Math.imul(At,$n)|0,N=N+Math.imul(At,le)|0,G=G+Math.imul(st,ee)|0,O=O+Math.imul(st,pe)|0,O=O+Math.imul(Lt,ee)|0,N=N+Math.imul(Lt,pe)|0,G=G+Math.imul(Ye,Re)|0,O=O+Math.imul(Ye,ze)|0,O=O+Math.imul(We,Re)|0,N=N+Math.imul(We,ze)|0,G=G+Math.imul(Ne,qt)|0,O=O+Math.imul(Ne,Ht)|0,O=O+Math.imul($e,qt)|0,N=N+Math.imul($e,Ht)|0,G=G+Math.imul(ce,mt)|0,O=O+Math.imul(ce,ct)|0,O=O+Math.imul(oe,mt)|0,N=N+Math.imul(oe,ct)|0,G=G+Math.imul(Ee,Un)|0,O=O+Math.imul(Ee,mr)|0,O=O+Math.imul(ue,Un)|0,N=N+Math.imul(ue,mr)|0;var wr=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(wr>>>26)|0,wr&=67108863,G=Math.imul(Z,xt),O=Math.imul(Z,Rt),O=O+Math.imul(fe,xt)|0,N=Math.imul(fe,Rt),G=G+Math.imul(lt,Qt)|0,O=O+Math.imul(lt,rn)|0,O=O+Math.imul(se,Qt)|0,N=N+Math.imul(se,rn)|0,G=G+Math.imul(_e,$n)|0,O=O+Math.imul(_e,le)|0,O=O+Math.imul(Ve,$n)|0,N=N+Math.imul(Ve,le)|0,G=G+Math.imul(qe,ee)|0,O=O+Math.imul(qe,pe)|0,O=O+Math.imul(At,ee)|0,N=N+Math.imul(At,pe)|0,G=G+Math.imul(st,Re)|0,O=O+Math.imul(st,ze)|0,O=O+Math.imul(Lt,Re)|0,N=N+Math.imul(Lt,ze)|0,G=G+Math.imul(Ye,qt)|0,O=O+Math.imul(Ye,Ht)|0,O=O+Math.imul(We,qt)|0,N=N+Math.imul(We,Ht)|0,G=G+Math.imul(Ne,mt)|0,O=O+Math.imul(Ne,ct)|0,O=O+Math.imul($e,mt)|0,N=N+Math.imul($e,ct)|0,G=G+Math.imul(ce,Un)|0,O=O+Math.imul(ce,mr)|0,O=O+Math.imul(oe,Un)|0,N=N+Math.imul(oe,mr)|0;var Gr=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,G=Math.imul(Z,Qt),O=Math.imul(Z,rn),O=O+Math.imul(fe,Qt)|0,N=Math.imul(fe,rn),G=G+Math.imul(lt,$n)|0,O=O+Math.imul(lt,le)|0,O=O+Math.imul(se,$n)|0,N=N+Math.imul(se,le)|0,G=G+Math.imul(_e,ee)|0,O=O+Math.imul(_e,pe)|0,O=O+Math.imul(Ve,ee)|0,N=N+Math.imul(Ve,pe)|0,G=G+Math.imul(qe,Re)|0,O=O+Math.imul(qe,ze)|0,O=O+Math.imul(At,Re)|0,N=N+Math.imul(At,ze)|0,G=G+Math.imul(st,qt)|0,O=O+Math.imul(st,Ht)|0,O=O+Math.imul(Lt,qt)|0,N=N+Math.imul(Lt,Ht)|0,G=G+Math.imul(Ye,mt)|0,O=O+Math.imul(Ye,ct)|0,O=O+Math.imul(We,mt)|0,N=N+Math.imul(We,ct)|0,G=G+Math.imul(Ne,Un)|0,O=O+Math.imul(Ne,mr)|0,O=O+Math.imul($e,Un)|0,N=N+Math.imul($e,mr)|0;var ns=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(ns>>>26)|0,ns&=67108863,G=Math.imul(Z,$n),O=Math.imul(Z,le),O=O+Math.imul(fe,$n)|0,N=Math.imul(fe,le),G=G+Math.imul(lt,ee)|0,O=O+Math.imul(lt,pe)|0,O=O+Math.imul(se,ee)|0,N=N+Math.imul(se,pe)|0,G=G+Math.imul(_e,Re)|0,O=O+Math.imul(_e,ze)|0,O=O+Math.imul(Ve,Re)|0,N=N+Math.imul(Ve,ze)|0,G=G+Math.imul(qe,qt)|0,O=O+Math.imul(qe,Ht)|0,O=O+Math.imul(At,qt)|0,N=N+Math.imul(At,Ht)|0,G=G+Math.imul(st,mt)|0,O=O+Math.imul(st,ct)|0,O=O+Math.imul(Lt,mt)|0,N=N+Math.imul(Lt,ct)|0,G=G+Math.imul(Ye,Un)|0,O=O+Math.imul(Ye,mr)|0,O=O+Math.imul(We,Un)|0,N=N+Math.imul(We,mr)|0;var Ch=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(Ch>>>26)|0,Ch&=67108863,G=Math.imul(Z,ee),O=Math.imul(Z,pe),O=O+Math.imul(fe,ee)|0,N=Math.imul(fe,pe),G=G+Math.imul(lt,Re)|0,O=O+Math.imul(lt,ze)|0,O=O+Math.imul(se,Re)|0,N=N+Math.imul(se,ze)|0,G=G+Math.imul(_e,qt)|0,O=O+Math.imul(_e,Ht)|0,O=O+Math.imul(Ve,qt)|0,N=N+Math.imul(Ve,Ht)|0,G=G+Math.imul(qe,mt)|0,O=O+Math.imul(qe,ct)|0,O=O+Math.imul(At,mt)|0,N=N+Math.imul(At,ct)|0,G=G+Math.imul(st,Un)|0,O=O+Math.imul(st,mr)|0,O=O+Math.imul(Lt,Un)|0,N=N+Math.imul(Lt,mr)|0;var Vm=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(Vm>>>26)|0,Vm&=67108863,G=Math.imul(Z,Re),O=Math.imul(Z,ze),O=O+Math.imul(fe,Re)|0,N=Math.imul(fe,ze),G=G+Math.imul(lt,qt)|0,O=O+Math.imul(lt,Ht)|0,O=O+Math.imul(se,qt)|0,N=N+Math.imul(se,Ht)|0,G=G+Math.imul(_e,mt)|0,O=O+Math.imul(_e,ct)|0,O=O+Math.imul(Ve,mt)|0,N=N+Math.imul(Ve,ct)|0,G=G+Math.imul(qe,Un)|0,O=O+Math.imul(qe,mr)|0,O=O+Math.imul(At,Un)|0,N=N+Math.imul(At,mr)|0;var Gm=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(Gm>>>26)|0,Gm&=67108863,G=Math.imul(Z,qt),O=Math.imul(Z,Ht),O=O+Math.imul(fe,qt)|0,N=Math.imul(fe,Ht),G=G+Math.imul(lt,mt)|0,O=O+Math.imul(lt,ct)|0,O=O+Math.imul(se,mt)|0,N=N+Math.imul(se,ct)|0,G=G+Math.imul(_e,Un)|0,O=O+Math.imul(_e,mr)|0,O=O+Math.imul(Ve,Un)|0,N=N+Math.imul(Ve,mr)|0;var ev=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(ev>>>26)|0,ev&=67108863,G=Math.imul(Z,mt),O=Math.imul(Z,ct),O=O+Math.imul(fe,mt)|0,N=Math.imul(fe,ct),G=G+Math.imul(lt,Un)|0,O=O+Math.imul(lt,mr)|0,O=O+Math.imul(se,Un)|0,N=N+Math.imul(se,mr)|0;var Nd=(Y+G|0)+((O&8191)<<13)|0;Y=(N+(O>>>13)|0)+(Nd>>>26)|0,Nd&=67108863,G=Math.imul(Z,Un),O=Math.imul(Z,mr),O=O+Math.imul(fe,Un)|0,N=Math.imul(fe,mr);var Id=(Y+G|0)+((O&8191)<<13)|0;return Y=(N+(O>>>13)|0)+(Id>>>26)|0,Id&=67108863,te[0]=Rc,te[1]=Cl,te[2]=$o,te[3]=kl,te[4]=fo,te[5]=ho,te[6]=Ho,te[7]=po,te[8]=gr,te[9]=Oc,te[10]=wr,te[11]=Gr,te[12]=ns,te[13]=Ch,te[14]=Vm,te[15]=Gm,te[16]=ev,te[17]=Nd,te[18]=Id,Y!==0&&(te[19]=Y,R.length++),R};Math.imul||(k=E);function I(B,A,P){P.negative=A.negative^B.negative,P.length=B.length+A.length;for(var R=0,$=0,q=0;q<P.length-1;q++){var te=$;$=0;for(var Y=R&67108863,G=Math.min(q,A.length-1),O=Math.max(0,q-B.length+1);O<=G;O++){var N=q-O,W=B.words[N]|0,X=A.words[O]|0,re=W*X,ae=re&67108863;te=te+(re/67108864|0)|0,ae=ae+Y|0,Y=ae&67108863,te=te+(ae>>>26)|0,$+=te>>>26,te&=67108863}P.words[q]=Y,R=te,te=$}return R!==0?P.words[q]=R:P.length--,P._strip()}function D(B,A,P){return I(B,A,P)}s.prototype.mulTo=function(A,P){var R,$=this.length+A.length;return this.length===10&&A.length===10?R=k(this,A,P):$<63?R=E(this,A,P):$<1024?R=I(this,A,P):R=D(this,A,P),R},s.prototype.mul=function(A){var P=new s(null);return P.words=new Array(this.length+A.length),this.mulTo(A,P)},s.prototype.mulf=function(A){var P=new s(null);return P.words=new Array(this.length+A.length),D(this,A,P)},s.prototype.imul=function(A){return this.clone().mulTo(A,this)},s.prototype.imuln=function(A){var P=A<0;P&&(A=-A),r(typeof A=="number"),r(A<67108864);for(var R=0,$=0;$<this.length;$++){var q=(this.words[$]|0)*A,te=(q&67108863)+(R&67108863);R>>=26,R+=q/67108864|0,R+=te>>>26,this.words[$]=te&67108863}return R!==0&&(this.words[$]=R,this.length++),this.length=A===0?1:this.length,P?this.ineg():this},s.prototype.muln=function(A){return this.clone().imuln(A)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(A){var P=w(A);if(P.length===0)return new s(1);for(var R=this,$=0;$<P.length&&P[$]===0;$++,R=R.sqr());if(++$<P.length)for(var q=R.sqr();$<P.length;$++,q=q.sqr())P[$]!==0&&(R=R.mul(q));return R},s.prototype.iushln=function(A){r(typeof A=="number"&&A>=0);var P=A%26,R=(A-P)/26,$=67108863>>>26-P<<26-P,q;if(P!==0){var te=0;for(q=0;q<this.length;q++){var Y=this.words[q]&$,G=(this.words[q]|0)-Y<<P;this.words[q]=G|te,te=Y>>>26-P}te&&(this.words[q]=te,this.length++)}if(R!==0){for(q=this.length-1;q>=0;q--)this.words[q+R]=this.words[q];for(q=0;q<R;q++)this.words[q]=0;this.length+=R}return this._strip()},s.prototype.ishln=function(A){return r(this.negative===0),this.iushln(A)},s.prototype.iushrn=function(A,P,R){r(typeof A=="number"&&A>=0);var $;P?$=(P-P%26)/26:$=0;var q=A%26,te=Math.min((A-q)/26,this.length),Y=67108863^67108863>>>q<<q,G=R;if($-=te,$=Math.max(0,$),G){for(var O=0;O<te;O++)G.words[O]=this.words[O];G.length=te}if(te!==0)if(this.length>te)for(this.length-=te,O=0;O<this.length;O++)this.words[O]=this.words[O+te];else this.words[0]=0,this.length=1;var N=0;for(O=this.length-1;O>=0&&(N!==0||O>=$);O--){var W=this.words[O]|0;this.words[O]=N<<26-q|W>>>q,N=W&Y}return G&&N!==0&&(G.words[G.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(A,P,R){return r(this.negative===0),this.iushrn(A,P,R)},s.prototype.shln=function(A){return this.clone().ishln(A)},s.prototype.ushln=function(A){return this.clone().iushln(A)},s.prototype.shrn=function(A){return this.clone().ishrn(A)},s.prototype.ushrn=function(A){return this.clone().iushrn(A)},s.prototype.testn=function(A){r(typeof A=="number"&&A>=0);var P=A%26,R=(A-P)/26,$=1<<P;if(this.length<=R)return!1;var q=this.words[R];return!!(q&$)},s.prototype.imaskn=function(A){r(typeof A=="number"&&A>=0);var P=A%26,R=(A-P)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(P!==0&&R++,this.length=Math.min(R,this.length),P!==0){var $=67108863^67108863>>>P<<P;this.words[this.length-1]&=$}return this._strip()},s.prototype.maskn=function(A){return this.clone().imaskn(A)},s.prototype.iaddn=function(A){return r(typeof A=="number"),r(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(this.words[0]|0)<=A?(this.words[0]=A-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},s.prototype._iaddn=function(A){this.words[0]+=A;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},s.prototype.isubn=function(A){if(r(typeof A=="number"),r(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this._strip()},s.prototype.addn=function(A){return this.clone().iaddn(A)},s.prototype.subn=function(A){return this.clone().isubn(A)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(A,P,R){var $=A.length+R,q;this._expand($);var te,Y=0;for(q=0;q<A.length;q++){te=(this.words[q+R]|0)+Y;var G=(A.words[q]|0)*P;te-=G&67108863,Y=(te>>26)-(G/67108864|0),this.words[q+R]=te&67108863}for(;q<this.length-R;q++)te=(this.words[q+R]|0)+Y,Y=te>>26,this.words[q+R]=te&67108863;if(Y===0)return this._strip();for(r(Y===-1),Y=0,q=0;q<this.length;q++)te=-(this.words[q]|0)+Y,Y=te>>26,this.words[q]=te&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(A,P){var R=this.length-A.length,$=this.clone(),q=A,te=q.words[q.length-1]|0,Y=this._countBits(te);R=26-Y,R!==0&&(q=q.ushln(R),$.iushln(R),te=q.words[q.length-1]|0);var G=$.length-q.length,O;if(P!=="mod"){O=new s(null),O.length=G+1,O.words=new Array(O.length);for(var N=0;N<O.length;N++)O.words[N]=0}var W=$.clone()._ishlnsubmul(q,1,G);W.negative===0&&($=W,O&&(O.words[G]=1));for(var X=G-1;X>=0;X--){var re=($.words[q.length+X]|0)*67108864+($.words[q.length+X-1]|0);for(re=Math.min(re/te|0,67108863),$._ishlnsubmul(q,re,X);$.negative!==0;)re--,$.negative=0,$._ishlnsubmul(q,1,X),$.isZero()||($.negative^=1);O&&(O.words[X]=re)}return O&&O._strip(),$._strip(),P!=="div"&&R!==0&&$.iushrn(R),{div:O||null,mod:$}},s.prototype.divmod=function(A,P,R){if(r(!A.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var $,q,te;return this.negative!==0&&A.negative===0?(te=this.neg().divmod(A,P),P!=="mod"&&($=te.div.neg()),P!=="div"&&(q=te.mod.neg(),R&&q.negative!==0&&q.iadd(A)),{div:$,mod:q}):this.negative===0&&A.negative!==0?(te=this.divmod(A.neg(),P),P!=="mod"&&($=te.div.neg()),{div:$,mod:te.mod}):(this.negative&A.negative)!==0?(te=this.neg().divmod(A.neg(),P),P!=="div"&&(q=te.mod.neg(),R&&q.negative!==0&&q.isub(A)),{div:te.div,mod:q}):A.length>this.length||this.cmp(A)<0?{div:new s(0),mod:this}:A.length===1?P==="div"?{div:this.divn(A.words[0]),mod:null}:P==="mod"?{div:null,mod:new s(this.modrn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new s(this.modrn(A.words[0]))}:this._wordDiv(A,P)},s.prototype.div=function(A){return this.divmod(A,"div",!1).div},s.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},s.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},s.prototype.divRound=function(A){var P=this.divmod(A);if(P.mod.isZero())return P.div;var R=P.div.negative!==0?P.mod.isub(A):P.mod,$=A.ushrn(1),q=A.andln(1),te=R.cmp($);return te<0||q===1&&te===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},s.prototype.modrn=function(A){var P=A<0;P&&(A=-A),r(A<=67108863);for(var R=(1<<26)%A,$=0,q=this.length-1;q>=0;q--)$=(R*$+(this.words[q]|0))%A;return P?-$:$},s.prototype.modn=function(A){return this.modrn(A)},s.prototype.idivn=function(A){var P=A<0;P&&(A=-A),r(A<=67108863);for(var R=0,$=this.length-1;$>=0;$--){var q=(this.words[$]|0)+R*67108864;this.words[$]=q/A|0,R=q%A}return this._strip(),P?this.ineg():this},s.prototype.divn=function(A){return this.clone().idivn(A)},s.prototype.egcd=function(A){r(A.negative===0),r(!A.isZero());var P=this,R=A.clone();P.negative!==0?P=P.umod(A):P=P.clone();for(var $=new s(1),q=new s(0),te=new s(0),Y=new s(1),G=0;P.isEven()&&R.isEven();)P.iushrn(1),R.iushrn(1),++G;for(var O=R.clone(),N=P.clone();!P.isZero();){for(var W=0,X=1;(P.words[0]&X)===0&&W<26;++W,X<<=1);if(W>0)for(P.iushrn(W);W-- >0;)($.isOdd()||q.isOdd())&&($.iadd(O),q.isub(N)),$.iushrn(1),q.iushrn(1);for(var re=0,ae=1;(R.words[0]&ae)===0&&re<26;++re,ae<<=1);if(re>0)for(R.iushrn(re);re-- >0;)(te.isOdd()||Y.isOdd())&&(te.iadd(O),Y.isub(N)),te.iushrn(1),Y.iushrn(1);P.cmp(R)>=0?(P.isub(R),$.isub(te),q.isub(Y)):(R.isub(P),te.isub($),Y.isub(q))}return{a:te,b:Y,gcd:R.iushln(G)}},s.prototype._invmp=function(A){r(A.negative===0),r(!A.isZero());var P=this,R=A.clone();P.negative!==0?P=P.umod(A):P=P.clone();for(var $=new s(1),q=new s(0),te=R.clone();P.cmpn(1)>0&&R.cmpn(1)>0;){for(var Y=0,G=1;(P.words[0]&G)===0&&Y<26;++Y,G<<=1);if(Y>0)for(P.iushrn(Y);Y-- >0;)$.isOdd()&&$.iadd(te),$.iushrn(1);for(var O=0,N=1;(R.words[0]&N)===0&&O<26;++O,N<<=1);if(O>0)for(R.iushrn(O);O-- >0;)q.isOdd()&&q.iadd(te),q.iushrn(1);P.cmp(R)>=0?(P.isub(R),$.isub(q)):(R.isub(P),q.isub($))}var W;return P.cmpn(1)===0?W=$:W=q,W.cmpn(0)<0&&W.iadd(A),W},s.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var P=this.clone(),R=A.clone();P.negative=0,R.negative=0;for(var $=0;P.isEven()&&R.isEven();$++)P.iushrn(1),R.iushrn(1);do{for(;P.isEven();)P.iushrn(1);for(;R.isEven();)R.iushrn(1);var q=P.cmp(R);if(q<0){var te=P;P=R,R=te}else if(q===0||R.cmpn(1)===0)break;P.isub(R)}while(!0);return R.iushln($)},s.prototype.invm=function(A){return this.egcd(A).a.umod(A)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(A){return this.words[0]&A},s.prototype.bincn=function(A){r(typeof A=="number");var P=A%26,R=(A-P)/26,$=1<<P;if(this.length<=R)return this._expand(R+1),this.words[R]|=$,this;for(var q=$,te=R;q!==0&&te<this.length;te++){var Y=this.words[te]|0;Y+=q,q=Y>>>26,Y&=67108863,this.words[te]=Y}return q!==0&&(this.words[te]=q,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(A){var P=A<0;if(this.negative!==0&&!P)return-1;if(this.negative===0&&P)return 1;this._strip();var R;if(this.length>1)R=1;else{P&&(A=-A),r(A<=67108863,"Number is too big");var $=this.words[0]|0;R=$===A?0:$<A?-1:1}return this.negative!==0?-R|0:R},s.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var P=this.ucmp(A);return this.negative!==0?-P|0:P},s.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var P=0,R=this.length-1;R>=0;R--){var $=this.words[R]|0,q=A.words[R]|0;if($!==q){$<q?P=-1:$>q&&(P=1);break}}return P},s.prototype.gtn=function(A){return this.cmpn(A)===1},s.prototype.gt=function(A){return this.cmp(A)===1},s.prototype.gten=function(A){return this.cmpn(A)>=0},s.prototype.gte=function(A){return this.cmp(A)>=0},s.prototype.ltn=function(A){return this.cmpn(A)===-1},s.prototype.lt=function(A){return this.cmp(A)===-1},s.prototype.lten=function(A){return this.cmpn(A)<=0},s.prototype.lte=function(A){return this.cmp(A)<=0},s.prototype.eqn=function(A){return this.cmpn(A)===0},s.prototype.eq=function(A){return this.cmp(A)===0},s.red=function(A){return new K(A)},s.prototype.toRed=function(A){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(A){return this.red=A,this},s.prototype.forceRed=function(A){return r(!this.red,"Already a number in reduction context"),this._forceRed(A)},s.prototype.redAdd=function(A){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},s.prototype.redIAdd=function(A){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},s.prototype.redSub=function(A){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},s.prototype.redISub=function(A){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},s.prototype.redShl=function(A){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},s.prototype.redMul=function(A){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},s.prototype.redIMul=function(A){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(A){return r(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var j={k256:null,p224:null,p192:null,p25519:null};function M(B,A){this.name=B,this.p=new s(A,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var A=new s(null);return A.words=new Array(Math.ceil(this.n/13)),A},M.prototype.ireduce=function(A){var P=A,R;do this.split(P,this.tmp),P=this.imulK(P),P=P.iadd(this.tmp),R=P.bitLength();while(R>this.n);var $=R<this.n?-1:P.ucmp(this.p);return $===0?(P.words[0]=0,P.length=1):$>0?P.isub(this.p):P.strip!==void 0?P.strip():P._strip(),P},M.prototype.split=function(A,P){A.iushrn(this.n,0,P)},M.prototype.imulK=function(A){return A.imul(this.k)};function U(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,M),U.prototype.split=function(A,P){for(var R=4194303,$=Math.min(A.length,9),q=0;q<$;q++)P.words[q]=A.words[q];if(P.length=$,A.length<=9){A.words[0]=0,A.length=1;return}var te=A.words[9];for(P.words[P.length++]=te&R,q=10;q<A.length;q++){var Y=A.words[q]|0;A.words[q-10]=(Y&R)<<4|te>>>22,te=Y}te>>>=22,A.words[q-10]=te,te===0&&A.length>10?A.length-=10:A.length-=9},U.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var P=0,R=0;R<A.length;R++){var $=A.words[R]|0;P+=$*977,A.words[R]=P&67108863,P=$*64+(P/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A};function V(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,M);function F(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(F,M);function z(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(z,M),z.prototype.imulK=function(A){for(var P=0,R=0;R<A.length;R++){var $=(A.words[R]|0)*19+P,q=$&67108863;$>>>=26,A.words[R]=q,P=$}return P!==0&&(A.words[A.length++]=P),A},s._prime=function(A){if(j[A])return j[A];var P;if(A==="k256")P=new U;else if(A==="p224")P=new V;else if(A==="p192")P=new F;else if(A==="p25519")P=new z;else throw new Error("Unknown prime "+A);return j[A]=P,P};function K(B){if(typeof B=="string"){var A=s._prime(B);this.m=A.p,this.prime=A}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}K.prototype._verify1=function(A){r(A.negative===0,"red works only with positives"),r(A.red,"red works only with red numbers")},K.prototype._verify2=function(A,P){r((A.negative|P.negative)===0,"red works only with positives"),r(A.red&&A.red===P.red,"red works only with red numbers")},K.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):(u(A,A.umod(this.m)._forceRed(this)),A)},K.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},K.prototype.add=function(A,P){this._verify2(A,P);var R=A.add(P);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},K.prototype.iadd=function(A,P){this._verify2(A,P);var R=A.iadd(P);return R.cmp(this.m)>=0&&R.isub(this.m),R},K.prototype.sub=function(A,P){this._verify2(A,P);var R=A.sub(P);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},K.prototype.isub=function(A,P){this._verify2(A,P);var R=A.isub(P);return R.cmpn(0)<0&&R.iadd(this.m),R},K.prototype.shl=function(A,P){return this._verify1(A),this.imod(A.ushln(P))},K.prototype.imul=function(A,P){return this._verify2(A,P),this.imod(A.imul(P))},K.prototype.mul=function(A,P){return this._verify2(A,P),this.imod(A.mul(P))},K.prototype.isqr=function(A){return this.imul(A,A.clone())},K.prototype.sqr=function(A){return this.mul(A,A)},K.prototype.sqrt=function(A){if(A.isZero())return A.clone();var P=this.m.andln(3);if(r(P%2===1),P===3){var R=this.m.add(new s(1)).iushrn(2);return this.pow(A,R)}for(var $=this.m.subn(1),q=0;!$.isZero()&&$.andln(1)===0;)q++,$.iushrn(1);r(!$.isZero());var te=new s(1).toRed(this),Y=te.redNeg(),G=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new s(2*O*O).toRed(this);this.pow(O,G).cmp(Y)!==0;)O.redIAdd(Y);for(var N=this.pow(O,$),W=this.pow(A,$.addn(1).iushrn(1)),X=this.pow(A,$),re=q;X.cmp(te)!==0;){for(var ae=X,Ee=0;ae.cmp(te)!==0;Ee++)ae=ae.redSqr();r(Ee<re);var ue=this.pow(N,new s(1).iushln(re-Ee-1));W=W.redMul(ue),N=ue.redSqr(),X=X.redMul(N),re=Ee}return W},K.prototype.invm=function(A){var P=A._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},K.prototype.pow=function(A,P){if(P.isZero())return new s(1).toRed(this);if(P.cmpn(1)===0)return A.clone();var R=4,$=new Array(1<<R);$[0]=new s(1).toRed(this),$[1]=A;for(var q=2;q<$.length;q++)$[q]=this.mul($[q-1],A);var te=$[0],Y=0,G=0,O=P.bitLength()%26;for(O===0&&(O=26),q=P.length-1;q>=0;q--){for(var N=P.words[q],W=O-1;W>=0;W--){var X=N>>W&1;if(te!==$[0]&&(te=this.sqr(te)),X===0&&Y===0){G=0;continue}Y<<=1,Y|=X,G++,!(G!==R&&(q!==0||W!==0))&&(te=this.mul(te,$[Y]),G=0,Y=0)}O=26}return te},K.prototype.convertTo=function(A){var P=A.umod(this.m);return P===A?P.clone():P},K.prototype.convertFrom=function(A){var P=A.clone();return P.red=null,P},s.mont=function(A){return new H(A)};function H(B){K.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,K),H.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},H.prototype.convertFrom=function(A){var P=this.imod(A.mul(this.rinv));return P.red=null,P},H.prototype.imul=function(A,P){if(A.isZero()||P.isZero())return A.words[0]=0,A.length=1,A;var R=A.imul(P),$=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=R.isub($).iushrn(this.shift),te=q;return q.cmp(this.m)>=0?te=q.isub(this.m):q.cmpn(0)<0&&(te=q.iadd(this.m)),te._forceRed(this)},H.prototype.mul=function(A,P){if(A.isZero()||P.isZero())return new s(0)._forceRed(this);var R=A.mul(P),$=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=R.isub($).iushrn(this.shift),te=q;return q.cmp(this.m)>=0?te=q.isub(this.m):q.cmpn(0)<0&&(te=q.iadd(this.m)),te._forceRed(this)},H.prototype.invm=function(A){var P=this.imod(A._invmp(this.m).mul(this.r2));return P._forceRed(this)}})(t,dft)})(wT)),wT.exports}var fft=Bme();const gZ=ts(fft);var PA={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var yZ;function jme(){return yZ||(yZ=1,(function(t,e){var n=H7(),r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(PA,PA.exports)),PA.exports}var hO,xZ;function hft(){if(xZ)return hO;xZ=1;var t=jme().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<n.length;s++){var o=n.charAt(s),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=s}var l=n.length,c=n.charAt(0),u=Math.log(l)/Math.log(256),f=Math.log(256)/Math.log(l);function m(v){if((Array.isArray(v)||v instanceof Uint8Array)&&(v=t.from(v)),!t.isBuffer(v))throw new TypeError("Expected Buffer");if(v.length===0)return"";for(var w=0,E=0,k=0,I=v.length;k!==I&&v[k]===0;)k++,w++;for(var D=(I-k)*f+1>>>0,j=new Uint8Array(D);k!==I;){for(var M=v[k],U=0,V=D-1;(M!==0||U<E)&&V!==-1;V--,U++)M+=256*j[V]>>>0,j[V]=M%l>>>0,M=M/l>>>0;if(M!==0)throw new Error("Non-zero carry");E=U,k++}for(var F=D-E;F!==D&&j[F]===0;)F++;for(var z=c.repeat(w);F<D;++F)z+=n.charAt(j[F]);return z}function g(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return t.alloc(0);for(var w=0,E=0,k=0;v[w]===c;)E++,w++;for(var I=(v.length-w)*u+1>>>0,D=new Uint8Array(I);w<v.length;){var j=v.charCodeAt(w);if(j>255)return;var M=r[j];if(M===255)return;for(var U=0,V=I-1;(M!==0||U<k)&&V!==-1;V--,U++)M+=l*D[V]>>>0,D[V]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");k=U,w++}for(var F=I-k;F!==I&&D[F]===0;)F++;var z=t.allocUnsafe(E+(I-F));z.fill(0,0,E);for(var K=E;F!==I;)z[K++]=D[F++];return z}function x(v){var w=g(v);if(w)return w;throw new Error("Non-base"+l+" character")}return{encode:m,decodeUnsafe:g,decode:x}}return hO=e,hO}var pO,vZ;function pft(){if(vZ)return pO;vZ=1;var t=hft(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return pO=t(e),pO}var mft=pft();const Ji=ts(mft),bZ=gme;var Yn={},mO,wZ;function gft(){if(wZ)return mO;wZ=1;var t=jme().Buffer;function e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<n.length;s++){var o=n.charAt(s),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=s}var l=n.length,c=n.charAt(0),u=Math.log(l)/Math.log(256),f=Math.log(256)/Math.log(l);function m(v){if((Array.isArray(v)||v instanceof Uint8Array)&&(v=t.from(v)),!t.isBuffer(v))throw new TypeError("Expected Buffer");if(v.length===0)return"";for(var w=0,E=0,k=0,I=v.length;k!==I&&v[k]===0;)k++,w++;for(var D=(I-k)*f+1>>>0,j=new Uint8Array(D);k!==I;){for(var M=v[k],U=0,V=D-1;(M!==0||U<E)&&V!==-1;V--,U++)M+=256*j[V]>>>0,j[V]=M%l>>>0,M=M/l>>>0;if(M!==0)throw new Error("Non-zero carry");E=U,k++}for(var F=D-E;F!==D&&j[F]===0;)F++;for(var z=c.repeat(w);F<D;++F)z+=n.charAt(j[F]);return z}function g(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return t.alloc(0);for(var w=0,E=0,k=0;v[w]===c;)E++,w++;for(var I=(v.length-w)*u+1>>>0,D=new Uint8Array(I);w<v.length;){var j=v.charCodeAt(w);if(j>255)return;var M=r[j];if(M===255)return;for(var U=0,V=I-1;(M!==0||U<k)&&V!==-1;V--,U++)M+=l*D[V]>>>0,D[V]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");k=U,w++}for(var F=I-k;F!==I&&D[F]===0;)F++;var z=t.allocUnsafe(E+(I-F));z.fill(0,0,E);for(var K=E;F!==I;)z[K++]=D[F++];return z}function x(v){var w=g(v);if(w)return w;throw new Error("Non-base"+l+" character")}return{encode:m,decodeUnsafe:g,decode:x}}return mO=e,mO}var gO,EZ;function yft(){if(EZ)return gO;EZ=1;var t=gft(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return gO=t(e),gO}function Nu(t,e,n){return e<=t&&t<=n}function qN(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function xft(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function vft(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var T2=-1;function V7(t){this.tokens=[].slice.call(t)}V7.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():T2},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var hx=-1;function yO(t,e){if(t)throw TypeError("Decoder error");return e||65533}var C2="utf-8";function k2(t,e){if(!(this instanceof k2))return new k2(t,e);if(t=t!==void 0?String(t).toLowerCase():C2,t!==C2)throw new Error("Encoding not supported. Only utf-8 is supported");e=qN(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}k2.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=qN(n),this._streaming||(this._decoder=new bft({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new V7(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==hx);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===hx)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),vft(s)}};function N2(t,e){if(!(this instanceof N2))return new N2(t,e);if(t=t!==void 0?String(t).toLowerCase():C2,t!==C2)throw new Error("Encoding not supported. Only utf-8 is supported");e=qN(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}N2.prototype={encode:function(e,n){e=e?String(e):"",n=qN(n),this._streaming||(this._encoder=new wft(this._options)),this._streaming=!!n.stream;for(var r=[],i=new V7(xft(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==hx);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==hx;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function bft(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===T2&&i!==0)return i=0,yO(e);if(l===T2)return hx;if(i===0){if(Nu(l,0,127))return l;if(Nu(l,194,223))i=1,n=l-192;else if(Nu(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(Nu(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return yO(e);return n=n<<6*i,null}if(!Nu(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),yO(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function wft(t){t.fatal,this.handler=function(e,n){if(n===T2)return hx;if(Nu(n,0,127))return n;var r,i;Nu(n,128,2047)?(r=1,i=192):Nu(n,2048,65535)?(r=2,i=224):Nu(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const Eft=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:k2,TextEncoder:N2},Symbol.toStringTag,{value:"Module"})),Sft=cee(Eft);var SZ;function Aft(){if(SZ)return Yn;SZ=1;var t=Yn&&Yn.__createBinding||(Object.create?(function(F,z,K,H){H===void 0&&(H=K),Object.defineProperty(F,H,{enumerable:!0,get:function(){return z[K]}})}):(function(F,z,K,H){H===void 0&&(H=K),F[H]=z[K]})),e=Yn&&Yn.__setModuleDefault||(Object.create?(function(F,z){Object.defineProperty(F,"default",{enumerable:!0,value:z})}):function(F,z){F.default=z}),n=Yn&&Yn.__decorate||function(F,z,K,H){var B=arguments.length,A=B<3?z:H===null?H=Object.getOwnPropertyDescriptor(z,K):H,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(F,z,K,H);else for(var R=F.length-1;R>=0;R--)(P=F[R])&&(A=(B<3?P(A):B>3?P(z,K,A):P(z,K))||A);return B>3&&A&&Object.defineProperty(z,K,A),A},r=Yn&&Yn.__importStar||function(F){if(F&&F.__esModule)return F;var z={};if(F!=null)for(var K in F)K!=="default"&&Object.hasOwnProperty.call(F,K)&&t(z,F,K);return e(z,F),z},i=Yn&&Yn.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.deserializeUnchecked=Yn.deserialize=Yn.serialize=Yn.BinaryReader=Yn.BinaryWriter=Yn.BorshError=Yn.baseDecode=Yn.baseEncode=void 0;const s=i(Bme()),o=i(yft()),a=r(Sft),l=typeof TextDecoder!="function"?a.TextDecoder:TextDecoder,c=new l("utf-8",{fatal:!0});function u(F){return typeof F=="string"&&(F=dn.from(F,"utf8")),o.default.encode(dn.from(F))}Yn.baseEncode=u;function f(F){return dn.from(o.default.decode(F))}Yn.baseDecode=f;const m=1024;class g extends Error{constructor(z){super(z),this.fieldPath=[],this.originalMessage=z}addToFieldPath(z){this.fieldPath.splice(0,0,z),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Yn.BorshError=g;class x{constructor(){this.buf=dn.alloc(m),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=dn.concat([this.buf,dn.alloc(m)]))}writeU8(z){this.maybeResize(),this.buf.writeUInt8(z,this.length),this.length+=1}writeU16(z){this.maybeResize(),this.buf.writeUInt16LE(z,this.length),this.length+=2}writeU32(z){this.maybeResize(),this.buf.writeUInt32LE(z,this.length),this.length+=4}writeU64(z){this.maybeResize(),this.writeBuffer(dn.from(new s.default(z).toArray("le",8)))}writeU128(z){this.maybeResize(),this.writeBuffer(dn.from(new s.default(z).toArray("le",16)))}writeU256(z){this.maybeResize(),this.writeBuffer(dn.from(new s.default(z).toArray("le",32)))}writeU512(z){this.maybeResize(),this.writeBuffer(dn.from(new s.default(z).toArray("le",64)))}writeBuffer(z){this.buf=dn.concat([dn.from(this.buf.subarray(0,this.length)),z,dn.alloc(m)]),this.length+=z.length}writeString(z){this.maybeResize();const K=dn.from(z,"utf8");this.writeU32(K.length),this.writeBuffer(K)}writeFixedArray(z){this.writeBuffer(dn.from(z))}writeArray(z,K){this.maybeResize(),this.writeU32(z.length);for(const H of z)this.maybeResize(),K(H)}toArray(){return this.buf.subarray(0,this.length)}}Yn.BinaryWriter=x;function v(F,z,K){const H=K.value;K.value=function(...B){try{return H.apply(this,B)}catch(A){if(A instanceof RangeError){const P=A.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(P)>=0)throw new g("Reached the end of buffer when deserializing")}throw A}}}class w{constructor(z){this.buf=z,this.offset=0}readU8(){const z=this.buf.readUInt8(this.offset);return this.offset+=1,z}readU16(){const z=this.buf.readUInt16LE(this.offset);return this.offset+=2,z}readU32(){const z=this.buf.readUInt32LE(this.offset);return this.offset+=4,z}readU64(){const z=this.readBuffer(8);return new s.default(z,"le")}readU128(){const z=this.readBuffer(16);return new s.default(z,"le")}readU256(){const z=this.readBuffer(32);return new s.default(z,"le")}readU512(){const z=this.readBuffer(64);return new s.default(z,"le")}readBuffer(z){if(this.offset+z>this.buf.length)throw new g(`Expected buffer length ${z} isn't within bounds`);const K=this.buf.slice(this.offset,this.offset+z);return this.offset+=z,K}readString(){const z=this.readU32(),K=this.readBuffer(z);try{return c.decode(K)}catch(H){throw new g(`Error decoding UTF-8 string: ${H}`)}}readFixedArray(z){return new Uint8Array(this.readBuffer(z))}readArray(z){const K=this.readU32(),H=Array();for(let B=0;B<K;++B)H.push(z());return H}}n([v],w.prototype,"readU8",null),n([v],w.prototype,"readU16",null),n([v],w.prototype,"readU32",null),n([v],w.prototype,"readU64",null),n([v],w.prototype,"readU128",null),n([v],w.prototype,"readU256",null),n([v],w.prototype,"readU512",null),n([v],w.prototype,"readString",null),n([v],w.prototype,"readFixedArray",null),n([v],w.prototype,"readArray",null),Yn.BinaryReader=w;function E(F){return F.charAt(0).toUpperCase()+F.slice(1)}function k(F,z,K,H,B){try{if(typeof H=="string")B[`write${E(H)}`](K);else if(H instanceof Array)if(typeof H[0]=="number"){if(K.length!==H[0])throw new g(`Expecting byte array of length ${H[0]}, but got ${K.length} bytes`);B.writeFixedArray(K)}else if(H.length===2&&typeof H[1]=="number"){if(K.length!==H[1])throw new g(`Expecting byte array of length ${H[1]}, but got ${K.length} bytes`);for(let A=0;A<H[1];A++)k(F,null,K[A],H[0],B)}else B.writeArray(K,A=>{k(F,z,A,H[0],B)});else if(H.kind!==void 0)switch(H.kind){case"option":{K==null?B.writeU8(0):(B.writeU8(1),k(F,z,K,H.type,B));break}case"map":{B.writeU32(K.size),K.forEach((A,P)=>{k(F,z,P,H.key,B),k(F,z,A,H.value,B)});break}default:throw new g(`FieldType ${H} unrecognized`)}else I(F,K,B)}catch(A){throw A instanceof g&&A.addToFieldPath(z),A}}function I(F,z,K){if(typeof z.borshSerialize=="function"){z.borshSerialize(K);return}const H=F.get(z.constructor);if(!H)throw new g(`Class ${z.constructor.name} is missing in schema`);if(H.kind==="struct")H.fields.map(([B,A])=>{k(F,B,z[B],A,K)});else if(H.kind==="enum"){const B=z[H.field];for(let A=0;A<H.values.length;++A){const[P,R]=H.values[A];if(P===B){K.writeU8(A),k(F,P,z[P],R,K);break}}}else throw new g(`Unexpected schema kind: ${H.kind} for ${z.constructor.name}`)}function D(F,z,K=x){const H=new K;return I(F,z,H),H.toArray()}Yn.serialize=D;function j(F,z,K,H){try{if(typeof K=="string")return H[`read${E(K)}`]();if(K instanceof Array){if(typeof K[0]=="number")return H.readFixedArray(K[0]);if(typeof K[1]=="number"){const B=[];for(let A=0;A<K[1];A++)B.push(j(F,null,K[0],H));return B}else return H.readArray(()=>j(F,z,K[0],H))}if(K.kind==="option")return H.readU8()?j(F,z,K.type,H):void 0;if(K.kind==="map"){let B=new Map;const A=H.readU32();for(let P=0;P<A;P++){const R=j(F,z,K.key,H),$=j(F,z,K.value,H);B.set(R,$)}return B}return M(F,K,H)}catch(B){throw B instanceof g&&B.addToFieldPath(z),B}}function M(F,z,K){if(typeof z.borshDeserialize=="function")return z.borshDeserialize(K);const H=F.get(z);if(!H)throw new g(`Class ${z.name} is missing in schema`);if(H.kind==="struct"){const B={};for(const[A,P]of F.get(z).fields)B[A]=j(F,A,P,K);return new z(B)}if(H.kind==="enum"){const B=K.readU8();if(B>=H.values.length)throw new g(`Enum index: ${B} is out of range`);const[A,P]=H.values[B],R=j(F,A,P,K);return new z({[A]:R})}throw new g(`Unexpected schema kind: ${H.kind} for ${z.constructor.name}`)}function U(F,z,K,H=w){const B=new H(K),A=M(F,z,B);if(B.offset<K.length)throw new g(`Unexpected ${K.length-B.offset} bytes after deserialized data`);return A}Yn.deserialize=U;function V(F,z,K,H=w){const B=new H(K);return M(F,z,B)}return Yn.deserializeUnchecked=V,Yn}var xO=Aft(),Fe={},AZ;function Tft(){if(AZ)return Fe;AZ=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.s16=Fe.s8=Fe.nu64be=Fe.u48be=Fe.u40be=Fe.u32be=Fe.u24be=Fe.u16be=Fe.nu64=Fe.u48=Fe.u40=Fe.u32=Fe.u24=Fe.u16=Fe.u8=Fe.offset=Fe.greedy=Fe.Constant=Fe.UTF8=Fe.CString=Fe.Blob=Fe.Boolean=Fe.BitField=Fe.BitStructure=Fe.VariantLayout=Fe.Union=Fe.UnionLayoutDiscriminator=Fe.UnionDiscriminator=Fe.Structure=Fe.Sequence=Fe.DoubleBE=Fe.Double=Fe.FloatBE=Fe.Float=Fe.NearInt64BE=Fe.NearInt64=Fe.NearUInt64BE=Fe.NearUInt64=Fe.IntBE=Fe.Int=Fe.UIntBE=Fe.UInt=Fe.OffsetLayout=Fe.GreedyCount=Fe.ExternalLayout=Fe.bindConstructorLayout=Fe.nameWithProperty=Fe.Layout=Fe.uint8ArrayToBuffer=Fe.checkUint8Array=void 0,Fe.constant=Fe.utf8=Fe.cstr=Fe.blob=Fe.unionLayoutDiscriminator=Fe.union=Fe.seq=Fe.bits=Fe.struct=Fe.f64be=Fe.f64=Fe.f32be=Fe.f32=Fe.ns64be=Fe.s48be=Fe.s40be=Fe.s32be=Fe.s24be=Fe.s16be=Fe.ns64=Fe.s48=Fe.s40=Fe.s32=Fe.s24=void 0;const t=H7();function e(O){if(!(O instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Fe.checkUint8Array=e;function n(O){return e(O),t.Buffer.from(O.buffer,O.byteOffset,O.length)}Fe.uint8ArrayToBuffer=n;let r=class{constructor(N,W){if(!Number.isInteger(N))throw new TypeError("span must be an integer");this.span=N,this.property=W}makeDestinationObject(){return{}}getSpan(N,W){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(N){const W=Object.create(this.constructor.prototype);return Object.assign(W,this),W.property=N,W}fromArray(N){}};Fe.Layout=r;function i(O,N){return N.property?O+"["+N.property+"]":O}Fe.nameWithProperty=i;function s(O,N){if(typeof O!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(O,"layout_"))throw new Error("Class is already bound to a layout");if(!(N&&N instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(N,"boundConstructor_"))throw new Error("layout is already bound to a constructor");O.layout_=N,N.boundConstructor_=O,N.makeDestinationObject=(()=>new O),Object.defineProperty(O.prototype,"encode",{value(W,X){return N.encode(this,W,X)},writable:!0}),Object.defineProperty(O,"decode",{value(W,X){return N.decode(W,X)},writable:!0})}Fe.bindConstructorLayout=s;class o extends r{isCount(){throw new Error("ExternalLayout is abstract")}}Fe.ExternalLayout=o;class a extends o{constructor(N=1,W){if(!Number.isInteger(N)||0>=N)throw new TypeError("elementSpan must be a (positive) integer");super(-1,W),this.elementSpan=N}isCount(){return!0}decode(N,W=0){e(N);const X=N.length-W;return Math.floor(X/this.elementSpan)}encode(N,W,X){return 0}}Fe.GreedyCount=a;class l extends o{constructor(N,W=0,X){if(!(N instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(W))throw new TypeError("offset must be integer or undefined");super(N.span,X||N.property),this.layout=N,this.offset=W}isCount(){return this.layout instanceof c||this.layout instanceof u}decode(N,W=0){return this.layout.decode(N,W+this.offset)}encode(N,W,X=0){return this.layout.encode(N,W,X+this.offset)}}Fe.OffsetLayout=l;class c extends r{constructor(N,W){if(super(N,W),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(N,W=0){return n(N).readUIntLE(W,this.span)}encode(N,W,X=0){return n(W).writeUIntLE(N,X,this.span),this.span}}Fe.UInt=c;class u extends r{constructor(N,W){if(super(N,W),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(N,W=0){return n(N).readUIntBE(W,this.span)}encode(N,W,X=0){return n(W).writeUIntBE(N,X,this.span),this.span}}Fe.UIntBE=u;class f extends r{constructor(N,W){if(super(N,W),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(N,W=0){return n(N).readIntLE(W,this.span)}encode(N,W,X=0){return n(W).writeIntLE(N,X,this.span),this.span}}Fe.Int=f;class m extends r{constructor(N,W){if(super(N,W),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(N,W=0){return n(N).readIntBE(W,this.span)}encode(N,W,X=0){return n(W).writeIntBE(N,X,this.span),this.span}}Fe.IntBE=m;const g=Math.pow(2,32);function x(O){const N=Math.floor(O/g),W=O-N*g;return{hi32:N,lo32:W}}function v(O,N){return O*g+N}class w extends r{constructor(N){super(8,N)}decode(N,W=0){const X=n(N),re=X.readUInt32LE(W),ae=X.readUInt32LE(W+4);return v(ae,re)}encode(N,W,X=0){const re=x(N),ae=n(W);return ae.writeUInt32LE(re.lo32,X),ae.writeUInt32LE(re.hi32,X+4),8}}Fe.NearUInt64=w;class E extends r{constructor(N){super(8,N)}decode(N,W=0){const X=n(N),re=X.readUInt32BE(W),ae=X.readUInt32BE(W+4);return v(re,ae)}encode(N,W,X=0){const re=x(N),ae=n(W);return ae.writeUInt32BE(re.hi32,X),ae.writeUInt32BE(re.lo32,X+4),8}}Fe.NearUInt64BE=E;class k extends r{constructor(N){super(8,N)}decode(N,W=0){const X=n(N),re=X.readUInt32LE(W),ae=X.readInt32LE(W+4);return v(ae,re)}encode(N,W,X=0){const re=x(N),ae=n(W);return ae.writeUInt32LE(re.lo32,X),ae.writeInt32LE(re.hi32,X+4),8}}Fe.NearInt64=k;class I extends r{constructor(N){super(8,N)}decode(N,W=0){const X=n(N),re=X.readInt32BE(W),ae=X.readUInt32BE(W+4);return v(re,ae)}encode(N,W,X=0){const re=x(N),ae=n(W);return ae.writeInt32BE(re.hi32,X),ae.writeUInt32BE(re.lo32,X+4),8}}Fe.NearInt64BE=I;class D extends r{constructor(N){super(4,N)}decode(N,W=0){return n(N).readFloatLE(W)}encode(N,W,X=0){return n(W).writeFloatLE(N,X),4}}Fe.Float=D;class j extends r{constructor(N){super(4,N)}decode(N,W=0){return n(N).readFloatBE(W)}encode(N,W,X=0){return n(W).writeFloatBE(N,X),4}}Fe.FloatBE=j;class M extends r{constructor(N){super(8,N)}decode(N,W=0){return n(N).readDoubleLE(W)}encode(N,W,X=0){return n(W).writeDoubleLE(N,X),8}}Fe.Double=M;class U extends r{constructor(N){super(8,N)}decode(N,W=0){return n(N).readDoubleBE(W)}encode(N,W,X=0){return n(W).writeDoubleBE(N,X),8}}Fe.DoubleBE=U;class V extends r{constructor(N,W,X){if(!(N instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(W instanceof o&&W.isCount()||Number.isInteger(W)&&0<=W))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let re=-1;!(W instanceof o)&&0<N.span&&(re=W*N.span),super(re,X),this.elementLayout=N,this.count=W}getSpan(N,W=0){if(0<=this.span)return this.span;let X=0,re=this.count;if(re instanceof o&&(re=re.decode(N,W)),0<this.elementLayout.span)X=re*this.elementLayout.span;else{let ae=0;for(;ae<re;)X+=this.elementLayout.getSpan(N,W+X),++ae}return X}decode(N,W=0){const X=[];let re=0,ae=this.count;for(ae instanceof o&&(ae=ae.decode(N,W));re<ae;)X.push(this.elementLayout.decode(N,W)),W+=this.elementLayout.getSpan(N,W),re+=1;return X}encode(N,W,X=0){const re=this.elementLayout,ae=N.reduce((Ee,ue)=>Ee+re.encode(ue,W,X+Ee),0);return this.count instanceof o&&this.count.encode(N.length,W,X),ae}}Fe.Sequence=V;class F extends r{constructor(N,W,X){if(!(Array.isArray(N)&&N.reduce((ae,Ee)=>ae&&Ee instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof W=="boolean"&&X===void 0&&(X=W,W=void 0);for(const ae of N)if(0>ae.span&&ae.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let re=-1;try{re=N.reduce((ae,Ee)=>ae+Ee.getSpan(),0)}catch{}super(re,W),this.fields=N,this.decodePrefixes=!!X}getSpan(N,W=0){if(0<=this.span)return this.span;let X=0;try{X=this.fields.reduce((re,ae)=>{const Ee=ae.getSpan(N,W);return W+=Ee,re+Ee},0)}catch{throw new RangeError("indeterminate span")}return X}decode(N,W=0){e(N);const X=this.makeDestinationObject();for(const re of this.fields)if(re.property!==void 0&&(X[re.property]=re.decode(N,W)),W+=re.getSpan(N,W),this.decodePrefixes&&N.length===W)break;return X}encode(N,W,X=0){const re=X;let ae=0,Ee=0;for(const ue of this.fields){let me=ue.span;if(Ee=0<me?me:0,ue.property!==void 0){const ce=N[ue.property];ce!==void 0&&(Ee=ue.encode(ce,W,X),0>me&&(me=ue.getSpan(W,X)))}ae=X,X+=me}return ae+Ee-re}fromArray(N){const W=this.makeDestinationObject();for(const X of this.fields)X.property!==void 0&&0<N.length&&(W[X.property]=N.shift());return W}layoutFor(N){if(typeof N!="string")throw new TypeError("property must be string");for(const W of this.fields)if(W.property===N)return W}offsetOf(N){if(typeof N!="string")throw new TypeError("property must be string");let W=0;for(const X of this.fields){if(X.property===N)return W;0>X.span?W=-1:0<=W&&(W+=X.span)}}}Fe.Structure=F;class z{constructor(N){this.property=N}decode(N,W){throw new Error("UnionDiscriminator is abstract")}encode(N,W,X){throw new Error("UnionDiscriminator is abstract")}}Fe.UnionDiscriminator=z;class K extends z{constructor(N,W){if(!(N instanceof o&&N.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(W||N.property||"variant"),this.layout=N}decode(N,W){return this.layout.decode(N,W)}encode(N,W,X){return this.layout.encode(N,W,X)}}Fe.UnionLayoutDiscriminator=K;class H extends r{constructor(N,W,X){let re;if(N instanceof c||N instanceof u)re=new K(new l(N));else if(N instanceof o&&N.isCount())re=new K(N);else if(N instanceof z)re=N;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(W===void 0&&(W=null),!(W===null||W instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(W!==null){if(0>W.span)throw new Error("defaultLayout must have constant span");W.property===void 0&&(W=W.replicate("content"))}let ae=-1;W&&(ae=W.span,0<=ae&&(N instanceof c||N instanceof u)&&(ae+=re.layout.span)),super(ae,X),this.discriminator=re,this.usesPrefixDiscriminator=N instanceof c||N instanceof u,this.defaultLayout=W,this.registry={};let Ee=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(ue){return Ee(ue)},this.configGetSourceVariant=function(ue){Ee=ue.bind(this)}}getSpan(N,W=0){if(0<=this.span)return this.span;const X=this.getVariant(N,W);if(!X)throw new Error("unable to determine span for unrecognized variant");return X.getSpan(N,W)}defaultGetSourceVariant(N){if(Object.prototype.hasOwnProperty.call(N,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(N,this.defaultLayout.property))return;const W=this.registry[N[this.discriminator.property]];if(W&&(!W.layout||W.property&&Object.prototype.hasOwnProperty.call(N,W.property)))return W}else for(const W in this.registry){const X=this.registry[W];if(X.property&&Object.prototype.hasOwnProperty.call(N,X.property))return X}throw new Error("unable to infer src variant")}decode(N,W=0){let X;const re=this.discriminator,ae=re.decode(N,W),Ee=this.registry[ae];if(Ee===void 0){const ue=this.defaultLayout;let me=0;this.usesPrefixDiscriminator&&(me=re.layout.span),X=this.makeDestinationObject(),X[re.property]=ae,X[ue.property]=ue.decode(N,W+me)}else X=Ee.decode(N,W);return X}encode(N,W,X=0){const re=this.getSourceVariant(N);if(re===void 0){const ae=this.discriminator,Ee=this.defaultLayout;let ue=0;return this.usesPrefixDiscriminator&&(ue=ae.layout.span),ae.encode(N[ae.property],W,X),ue+Ee.encode(N[Ee.property],W,X+ue)}return re.encode(N,W,X)}addVariant(N,W,X){const re=new B(this,N,W,X);return this.registry[N]=re,re}getVariant(N,W=0){let X;return N instanceof Uint8Array?X=this.discriminator.decode(N,W):X=N,this.registry[X]}}Fe.Union=H;class B extends r{constructor(N,W,X,re){if(!(N instanceof H))throw new TypeError("union must be a Union");if(!Number.isInteger(W)||0>W)throw new TypeError("variant must be a (non-negative) integer");if(typeof X=="string"&&re===void 0&&(re=X,X=null),X){if(!(X instanceof r))throw new TypeError("layout must be a Layout");if(N.defaultLayout!==null&&0<=X.span&&X.span>N.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof re!="string")throw new TypeError("variant must have a String property")}let ae=N.span;0>N.span&&(ae=X?X.span:0,0<=ae&&N.usesPrefixDiscriminator&&(ae+=N.discriminator.layout.span)),super(ae,re),this.union=N,this.variant=W,this.layout=X||null}getSpan(N,W=0){if(0<=this.span)return this.span;let X=0;this.union.usesPrefixDiscriminator&&(X=this.union.discriminator.layout.span);let re=0;return this.layout&&(re=this.layout.getSpan(N,W+X)),X+re}decode(N,W=0){const X=this.makeDestinationObject();if(this!==this.union.getVariant(N,W))throw new Error("variant mismatch");let re=0;return this.union.usesPrefixDiscriminator&&(re=this.union.discriminator.layout.span),this.layout?X[this.property]=this.layout.decode(N,W+re):this.property?X[this.property]=!0:this.union.usesPrefixDiscriminator&&(X[this.union.discriminator.property]=this.variant),X}encode(N,W,X=0){let re=0;if(this.union.usesPrefixDiscriminator&&(re=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(N,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,W,X);let ae=re;if(this.layout&&(this.layout.encode(N[this.property],W,X+re),ae+=this.layout.getSpan(W,X+re),0<=this.union.span&&ae>this.union.span))throw new Error("encoded variant overruns containing union");return ae}fromArray(N){if(this.layout)return this.layout.fromArray(N)}}Fe.VariantLayout=B;function A(O){return 0>O&&(O+=4294967296),O}class P extends r{constructor(N,W,X){if(!(N instanceof c||N instanceof u))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof W=="string"&&X===void 0&&(X=W,W=!1),4<N.span)throw new RangeError("word cannot exceed 32 bits");super(N.span,X),this.word=N,this.msb=!!W,this.fields=[];let re=0;this._packedSetValue=function(ae){return re=A(ae),this},this._packedGetValue=function(){return re}}decode(N,W=0){const X=this.makeDestinationObject(),re=this.word.decode(N,W);this._packedSetValue(re);for(const ae of this.fields)ae.property!==void 0&&(X[ae.property]=ae.decode(N));return X}encode(N,W,X=0){const re=this.word.decode(W,X);this._packedSetValue(re);for(const ae of this.fields)if(ae.property!==void 0){const Ee=N[ae.property];Ee!==void 0&&ae.encode(Ee)}return this.word.encode(this._packedGetValue(),W,X)}addField(N,W){const X=new R(this,N,W);return this.fields.push(X),X}addBoolean(N){const W=new $(this,N);return this.fields.push(W),W}fieldFor(N){if(typeof N!="string")throw new TypeError("property must be string");for(const W of this.fields)if(W.property===N)return W}}Fe.BitStructure=P;class R{constructor(N,W,X){if(!(N instanceof P))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(W)||0>=W)throw new TypeError("bits must be positive integer");const re=8*N.span,ae=N.fields.reduce((Ee,ue)=>Ee+ue.bits,0);if(W+ae>re)throw new Error("bits too long for span remainder ("+(re-ae)+" of "+re+" remain)");this.container=N,this.bits=W,this.valueMask=(1<<W)-1,W===32&&(this.valueMask=4294967295),this.start=ae,this.container.msb&&(this.start=re-ae-W),this.wordMask=A(this.valueMask<<this.start),this.property=X}decode(N,W){const X=this.container._packedGetValue();return A(X&this.wordMask)>>>this.start}encode(N){if(typeof N!="number"||!Number.isInteger(N)||N!==A(N&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const W=this.container._packedGetValue(),X=A(N<<this.start);this.container._packedSetValue(A(W&~this.wordMask)|X)}}Fe.BitField=R;class $ extends R{constructor(N,W){super(N,1,W)}decode(N,W){return!!super.decode(N,W)}encode(N){typeof N=="boolean"&&(N=+N),super.encode(N)}}Fe.Boolean=$;class q extends r{constructor(N,W){if(!(N instanceof o&&N.isCount()||Number.isInteger(N)&&0<=N))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let X=-1;N instanceof o||(X=N),super(X,W),this.length=N}getSpan(N,W){let X=this.span;return 0>X&&(X=this.length.decode(N,W)),X}decode(N,W=0){let X=this.span;return 0>X&&(X=this.length.decode(N,W)),n(N).slice(W,W+X)}encode(N,W,X){let re=this.length;if(this.length instanceof o&&(re=N.length),!(N instanceof Uint8Array&&re===N.length))throw new TypeError(i("Blob.encode",this)+" requires (length "+re+") Uint8Array as src");if(X+re>W.length)throw new RangeError("encoding overruns Uint8Array");const ae=n(N);return n(W).write(ae.toString("hex"),X,re,"hex"),this.length instanceof o&&this.length.encode(re,W,X),re}}Fe.Blob=q;class te extends r{constructor(N){super(-1,N)}getSpan(N,W=0){e(N);let X=W;for(;X<N.length&&N[X]!==0;)X+=1;return 1+X-W}decode(N,W=0){const X=this.getSpan(N,W);return n(N).slice(W,W+X-1).toString("utf-8")}encode(N,W,X=0){typeof N!="string"&&(N=String(N));const re=t.Buffer.from(N,"utf8"),ae=re.length;if(X+ae>W.length)throw new RangeError("encoding overruns Buffer");const Ee=n(W);return re.copy(Ee,X),Ee[X+ae]=0,ae+1}}Fe.CString=te;class Y extends r{constructor(N,W){if(typeof N=="string"&&W===void 0&&(W=N,N=void 0),N===void 0)N=-1;else if(!Number.isInteger(N))throw new TypeError("maxSpan must be an integer");super(-1,W),this.maxSpan=N}getSpan(N,W=0){return e(N),N.length-W}decode(N,W=0){const X=this.getSpan(N,W);if(0<=this.maxSpan&&this.maxSpan<X)throw new RangeError("text length exceeds maxSpan");return n(N).slice(W,W+X).toString("utf-8")}encode(N,W,X=0){typeof N!="string"&&(N=String(N));const re=t.Buffer.from(N,"utf8"),ae=re.length;if(0<=this.maxSpan&&this.maxSpan<ae)throw new RangeError("text length exceeds maxSpan");if(X+ae>W.length)throw new RangeError("encoding overruns Buffer");return re.copy(n(W),X),ae}}Fe.UTF8=Y;class G extends r{constructor(N,W){super(0,W),this.value=N}decode(N,W){return this.value}encode(N,W,X){return 0}}return Fe.Constant=G,Fe.greedy=((O,N)=>new a(O,N)),Fe.offset=((O,N,W)=>new l(O,N,W)),Fe.u8=(O=>new c(1,O)),Fe.u16=(O=>new c(2,O)),Fe.u24=(O=>new c(3,O)),Fe.u32=(O=>new c(4,O)),Fe.u40=(O=>new c(5,O)),Fe.u48=(O=>new c(6,O)),Fe.nu64=(O=>new w(O)),Fe.u16be=(O=>new u(2,O)),Fe.u24be=(O=>new u(3,O)),Fe.u32be=(O=>new u(4,O)),Fe.u40be=(O=>new u(5,O)),Fe.u48be=(O=>new u(6,O)),Fe.nu64be=(O=>new E(O)),Fe.s8=(O=>new f(1,O)),Fe.s16=(O=>new f(2,O)),Fe.s24=(O=>new f(3,O)),Fe.s32=(O=>new f(4,O)),Fe.s40=(O=>new f(5,O)),Fe.s48=(O=>new f(6,O)),Fe.ns64=(O=>new k(O)),Fe.s16be=(O=>new m(2,O)),Fe.s24be=(O=>new m(3,O)),Fe.s32be=(O=>new m(4,O)),Fe.s40be=(O=>new m(5,O)),Fe.s48be=(O=>new m(6,O)),Fe.ns64be=(O=>new I(O)),Fe.f32=(O=>new D(O)),Fe.f32be=(O=>new j(O)),Fe.f64=(O=>new M(O)),Fe.f64be=(O=>new U(O)),Fe.struct=((O,N,W)=>new F(O,N,W)),Fe.bits=((O,N,W)=>new P(O,N,W)),Fe.seq=((O,N,W)=>new V(O,N,W)),Fe.union=((O,N,W)=>new H(O,N,W)),Fe.unionLayoutDiscriminator=((O,N)=>new K(O,N)),Fe.blob=((O,N)=>new q(O,N)),Fe.cstr=(O=>new te(O)),Fe.utf8=((O,N)=>new Y(O,N)),Fe.constant=((O,N)=>new G(O,N)),Fe}var ve=Tft(),Cft=8078e3,kft=8078001,Nft=8078004,Ift=8078005,Pft=8078006,_ft=8078011;function Ume(t){return Array.isArray(t)?"%5B"+t.map(Ume).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Rft([t,e]){return`${t}=${Ume(e)}`}function Oft(t){const e=Object.entries(t).map(Rft).join("&");return btoa(e)}function Mft(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Oft(e)}'`),`${n}\``}}var Gg=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:o,...a}=n;o&&(i={cause:o}),Object.keys(a).length>0&&(r=a)}const s=Mft(e,r);super(s,i);Se(this,"cause",this.cause);Se(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function Dft(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function Lft(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(Dft(e,t));return t.write(e,n,0),n}})}function Bft(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function q0(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function jft(t,e){if(q0(t)!==q0(e))throw new Gg(Nft);if(q0(t)&&q0(e)&&t.fixedSize!==e.fixedSize)throw new Gg(Ift,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!q0(t)&&!q0(e)&&t.maxSize!==e.maxSize)throw new Gg(Pft,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function Uft(t,e,n=0){if(e.length-n<=0)throw new Gg(Cft,{codecDescription:t})}function Fft(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Gg(kft,{bytesLength:i,codecDescription:t,expected:e})}function zft(t,e,n,r){if(r<e||r>n)throw new Gg(_ft,{codecDescription:t,max:n,min:e,value:r})}function Fme(t){return(t==null?void 0:t.endian)!==1}function $ft(t){return Lft({fixedSize:t.size,write(e,n,r){t.range&&zft(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,Fme(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function Hft(t){return Bft({fixedSize:t.size,read(e,n=0){Uft(t.name,e,n),Fft(t.name,t.size,e,n);const r=new DataView(Vft(e,n,t.size));return[t.get(r,Fme(t.config)),n+t.size]}})}function Vft(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var Gft=(t={})=>$ft({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),qft=(t={})=>Hft({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),Kft=(t={})=>jft(Gft(t),qft(t));class Wft extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function Yft(t){return cE(t)&&typeof t[Symbol.iterator]=="function"}function cE(t){return typeof t=="object"&&t!=null}function I2(t){return cE(t)&&!Array.isArray(t)}function wl(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Jft(t){const{done:e,value:n}=t.next();return e?void 0:n}function Xft(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${wl(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*TZ(t,e,n,r){Yft(t)||(t=[t]);for(const i of t){const s=Xft(i,e,n,r);s&&(yield s)}}function*G7(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,f]of e.entries(t,a)){const m=G7(u,f,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,u],coerce:s,mask:o,message:n.message});for(const g of m)g[0]?(l=g[0].refinement!=null?"not_refined":"not_valid",yield[g[0],void 0]):s&&(u=g[1],c===void 0?t=u:t instanceof Map?t.set(c,u):t instanceof Set?t.add(u):cE(t)&&(u!==void 0||c in t)&&(t[c]=u))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let _c=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,c)=>{const u=i(l,c);return TZ(u,c,this,l)}:this.validator=()=>[],s?this.refiner=(l,c)=>{const u=s(l,c);return TZ(u,c,this,l)}:this.refiner=()=>[]}assert(e,n){return Qft(e,this,n)}create(e,n){return dt(e,this,n)}is(e){return zme(e,this)}mask(e,n){return Zft(e,this,n)}validate(e,n={}){return uE(e,this,n)}};function Qft(t,e,n){const r=uE(t,e,{message:n});if(r[0])throw r[0]}function dt(t,e,n){const r=uE(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Zft(t,e,n){const r=uE(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function zme(t,e){return!uE(t,e)[0]}function uE(t,e,n={}){const r=G7(t,e,n),i=Jft(r);return i[0]?[new Wft(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function zm(t,e){return new _c({type:t,schema:null,validator:e})}function eht(){return zm("any",()=>!0)}function pt(t){return new _c({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${wl(e)}`}})}function Tc(){return zm("boolean",t=>typeof t=="boolean")}function q7(t){return zm("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${wl(e)}`)}function Pr(t){const e=wl(t),n=typeof t;return new _c({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${wl(r)}`}})}function tht(){return zm("never",()=>!1)}function gt(t){return new _c({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function Oe(){return zm("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${wl(t)}`)}function zt(t){return new _c({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function $me(t,e){return new _c({type:"record",schema:null,*entries(n){if(cE(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return I2(n)||`Expected an object, but received: ${wl(n)}`},coercer(n){return I2(n)?{...n}:n}})}function ut(){return zm("string",t=>typeof t=="string"||`Expected a string, but received: ${wl(t)}`)}function K7(t){const e=tht();return new _c({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${wl(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function nt(t){const e=Object.keys(t);return new _c({type:"type",schema:t,*entries(n){if(cE(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return I2(n)||`Expected an object, but received: ${wl(n)}`},coercer(n){return I2(n)?{...n}:n}})}function $s(t){const e=t.map(n=>n.type).join(" | ");return new _c({type:"union",schema:null,coercer(n,r){for(const i of t){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of t){const[...o]=G7(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${wl(n)}`,...i]}})}function Xx(){return zm("unknown",()=>!0)}function dE(t,e,n){return new _c({...t,coercer:(r,i)=>zme(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var _A,nht=new Uint8Array(16);function Hme(){if(!_A&&(_A=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!_A))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _A(nht)}const rht=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function KN(t){return typeof t=="string"&&rht.test(t)}var Hi=[];for(var vO=0;vO<256;++vO)Hi.push((vO+256).toString(16).substr(1));function WN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Hi[t[e+0]]+Hi[t[e+1]]+Hi[t[e+2]]+Hi[t[e+3]]+"-"+Hi[t[e+4]]+Hi[t[e+5]]+"-"+Hi[t[e+6]]+Hi[t[e+7]]+"-"+Hi[t[e+8]]+Hi[t[e+9]]+"-"+Hi[t[e+10]]+Hi[t[e+11]]+Hi[t[e+12]]+Hi[t[e+13]]+Hi[t[e+14]]+Hi[t[e+15]]).toLowerCase();if(!KN(n))throw TypeError("Stringified UUID is invalid");return n}var CZ,bO,wO=0,EO=0;function iht(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||CZ,o=t.clockseq!==void 0?t.clockseq:bO;if(s==null||o==null){var a=t.random||(t.rng||Hme)();s==null&&(s=CZ=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=bO=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:EO+1,u=l-wO+(c-EO)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||l>wO)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");wO=l,EO=c,bO=o,l+=122192928e5;var f=((l&268435455)*1e4+c)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=f&255;var m=l/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=m&255,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var g=0;g<6;++g)i[r+g]=s[g];return e||WN(i)}function Vme(t){if(!KN(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function sht(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var oht="6ba7b810-9dad-11d1-80b4-00c04fd430c8",aht="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Gme(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=sht(i)),typeof s=="string"&&(s=Vme(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return WN(l)}try{r.name=t}catch{}return r.DNS=oht,r.URL=aht,r}function lht(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return cht(uht(dht(t),t.length*8))}function cht(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function qme(t){return(t+64>>>9<<4)+14+1}function uht(t,e){t[e>>5]|=128<<e%32,t[qme(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=i,u=s;n=ss(n,r,i,s,t[o],7,-680876936),s=ss(s,n,r,i,t[o+1],12,-389564586),i=ss(i,s,n,r,t[o+2],17,606105819),r=ss(r,i,s,n,t[o+3],22,-1044525330),n=ss(n,r,i,s,t[o+4],7,-176418897),s=ss(s,n,r,i,t[o+5],12,1200080426),i=ss(i,s,n,r,t[o+6],17,-1473231341),r=ss(r,i,s,n,t[o+7],22,-45705983),n=ss(n,r,i,s,t[o+8],7,1770035416),s=ss(s,n,r,i,t[o+9],12,-1958414417),i=ss(i,s,n,r,t[o+10],17,-42063),r=ss(r,i,s,n,t[o+11],22,-1990404162),n=ss(n,r,i,s,t[o+12],7,1804603682),s=ss(s,n,r,i,t[o+13],12,-40341101),i=ss(i,s,n,r,t[o+14],17,-1502002290),r=ss(r,i,s,n,t[o+15],22,1236535329),n=os(n,r,i,s,t[o+1],5,-165796510),s=os(s,n,r,i,t[o+6],9,-1069501632),i=os(i,s,n,r,t[o+11],14,643717713),r=os(r,i,s,n,t[o],20,-373897302),n=os(n,r,i,s,t[o+5],5,-701558691),s=os(s,n,r,i,t[o+10],9,38016083),i=os(i,s,n,r,t[o+15],14,-660478335),r=os(r,i,s,n,t[o+4],20,-405537848),n=os(n,r,i,s,t[o+9],5,568446438),s=os(s,n,r,i,t[o+14],9,-1019803690),i=os(i,s,n,r,t[o+3],14,-187363961),r=os(r,i,s,n,t[o+8],20,1163531501),n=os(n,r,i,s,t[o+13],5,-1444681467),s=os(s,n,r,i,t[o+2],9,-51403784),i=os(i,s,n,r,t[o+7],14,1735328473),r=os(r,i,s,n,t[o+12],20,-1926607734),n=as(n,r,i,s,t[o+5],4,-378558),s=as(s,n,r,i,t[o+8],11,-2022574463),i=as(i,s,n,r,t[o+11],16,1839030562),r=as(r,i,s,n,t[o+14],23,-35309556),n=as(n,r,i,s,t[o+1],4,-1530992060),s=as(s,n,r,i,t[o+4],11,1272893353),i=as(i,s,n,r,t[o+7],16,-155497632),r=as(r,i,s,n,t[o+10],23,-1094730640),n=as(n,r,i,s,t[o+13],4,681279174),s=as(s,n,r,i,t[o],11,-358537222),i=as(i,s,n,r,t[o+3],16,-722521979),r=as(r,i,s,n,t[o+6],23,76029189),n=as(n,r,i,s,t[o+9],4,-640364487),s=as(s,n,r,i,t[o+12],11,-421815835),i=as(i,s,n,r,t[o+15],16,530742520),r=as(r,i,s,n,t[o+2],23,-995338651),n=ls(n,r,i,s,t[o],6,-198630844),s=ls(s,n,r,i,t[o+7],10,1126891415),i=ls(i,s,n,r,t[o+14],15,-1416354905),r=ls(r,i,s,n,t[o+5],21,-57434055),n=ls(n,r,i,s,t[o+12],6,1700485571),s=ls(s,n,r,i,t[o+3],10,-1894986606),i=ls(i,s,n,r,t[o+10],15,-1051523),r=ls(r,i,s,n,t[o+1],21,-2054922799),n=ls(n,r,i,s,t[o+8],6,1873313359),s=ls(s,n,r,i,t[o+15],10,-30611744),i=ls(i,s,n,r,t[o+6],15,-1560198380),r=ls(r,i,s,n,t[o+13],21,1309151649),n=ls(n,r,i,s,t[o+4],6,-145523070),s=ls(s,n,r,i,t[o+11],10,-1120210379),i=ls(i,s,n,r,t[o+2],15,718787259),r=ls(r,i,s,n,t[o+9],21,-343485551),n=Vf(n,a),r=Vf(r,l),i=Vf(i,c),s=Vf(s,u)}return[n,r,i,s]}function dht(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(qme(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Vf(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function fht(t,e){return t<<e|t>>>32-e}function YN(t,e,n,r,i,s){return Vf(fht(Vf(Vf(e,t),Vf(r,s)),i),n)}function ss(t,e,n,r,i,s,o){return YN(e&n|~e&r,t,e,i,s,o)}function os(t,e,n,r,i,s,o){return YN(e&r|n&~r,t,e,i,s,o)}function as(t,e,n,r,i,s,o){return YN(e^n^r,t,e,i,s,o)}function ls(t,e,n,r,i,s,o){return YN(n^(e|~r),t,e,i,s,o)}var hht=Gme("v3",48,lht);function pht(t,e,n){t=t||{};var r=t.random||(t.rng||Hme)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return WN(r)}function mht(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function SO(t,e){return t<<e|t>>>32-e}function ght(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=t[l*64+u*4]<<24|t[l*64+u*4+1]<<16|t[l*64+u*4+2]<<8|t[l*64+u*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var m=new Uint32Array(80),g=0;g<16;++g)m[g]=a[f][g];for(var x=16;x<80;++x)m[x]=SO(m[x-3]^m[x-8]^m[x-14]^m[x-16],1);for(var v=n[0],w=n[1],E=n[2],k=n[3],I=n[4],D=0;D<80;++D){var j=Math.floor(D/20),M=SO(v,5)+mht(j,w,E,k)+I+e[j]+m[D]>>>0;I=k,k=E,E=SO(w,30)>>>0,w=v,v=M}n[0]=n[0]+v>>>0,n[1]=n[1]+w>>>0,n[2]=n[2]+E>>>0,n[3]=n[3]+k>>>0,n[4]=n[4]+I>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var yht=Gme("v5",80,ght);const xht="00000000-0000-0000-0000-000000000000";function vht(t){if(!KN(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const bht=Object.freeze(Object.defineProperty({__proto__:null,NIL:xht,parse:Vme,stringify:WN,v1:iht,v3:hht,v4:pht,v5:yht,validate:KN,version:vht},Symbol.toStringTag,{value:"Module"})),Kme=cee(bht);var AO,kZ;function wht(){if(kZ)return AO;kZ=1;const t=Kme.v4;return AO=function(n,r,i,s){if(typeof n!="string")throw new TypeError(n+" must be a string");s=s||{};const o=typeof s.version=="number"?s.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const a={method:n};if(o===2&&(a.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");a.params=r}if(typeof i>"u"){const l=typeof s.generator=="function"?s.generator:function(){return t()};a.id=l(a,s)}else o===2&&i===null?s.notificationIdNull&&(a.id=null):a.id=i;return a},AO}var TO,NZ;function Eht(){if(NZ)return TO;NZ=1;const t=Kme.v4,e=wht(),n=function(r,i){if(!(this instanceof n))return new n(r,i);i||(i={}),this.options={reviver:typeof i.reviver<"u"?i.reviver:null,replacer:typeof i.replacer<"u"?i.replacer:null,generator:typeof i.generator<"u"?i.generator:function(){return t()},version:typeof i.version<"u"?i.version:2,notificationIdNull:typeof i.notificationIdNull=="boolean"?i.notificationIdNull:!1},this.callServer=r};return TO=n,n.prototype.request=function(r,i,s,o){const a=this;let l=null;const c=Array.isArray(r)&&typeof i=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&r&&typeof r=="object"&&typeof i=="function")o=i,l=r;else{typeof s=="function"&&(o=s,s=void 0);const m=typeof o=="function";try{l=e(r,i,s,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(g){if(m){o(g);return}throw g}if(!m)return l}let f;try{f=JSON.stringify(l,this.options.replacer)}catch(m){o(m);return}return this.callServer(f,function(m,g){a._parseResponse(m,g,o)}),l},n.prototype._parseResponse=function(r,i,s){if(r){s(r);return}if(!i){s();return}let o;try{o=JSON.parse(i,this.options.reviver)}catch(a){s(a);return}if(s.length===3)if(Array.isArray(o)){const a=function(c){return typeof c.error<"u"},l=function(c){return!a(c)};s(null,o.filter(a),o.filter(l));return}else{s(null,o.error,o.result);return}s(null,o)},TO}var Sht=Eht();const Aht=ts(Sht);var Tht=class extends kB{constructor(e,n){super();Se(this,"socket");this.socket=new window.WebSocket(e,n.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(s){i(s)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function Cht(t,e){return new Tht(t,e)}var kht=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Nht=class extends kB{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},l,c){super();Se(this,"address");Se(this,"rpc_id");Se(this,"queue");Se(this,"options");Se(this,"autoconnect");Se(this,"ready");Se(this,"reconnect");Se(this,"reconnect_timer_id");Se(this,"reconnect_interval");Se(this,"max_reconnects");Se(this,"rest_options");Se(this,"current_reconnects");Se(this,"generate_request_id");Se(this,"socket");Se(this,"webSocketFactory");Se(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=l||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new kht,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),l={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(l),i,c=>{if(c)return o(c);this.queue[a]={promise:[s,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket&&this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=on.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let s=0;s<r.params.length;s++)i.push(r.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,i),1))})}};class Wme extends fme{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,ume(e);const r=B7(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),dx(s)}update(e){return w2(this),this.iHash.update(e),this}digestInto(e){w2(this),Um(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Yme=(t,e,n)=>new Wme(t,e).update(n).digest();Yme.create=(t,e)=>new Wme(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const IZ=(t,e)=>(t+(t>=0?e:-e)/Jme)/e;function Iht(t,e,n){const[[r,i],[s,o]]=e,a=IZ(o*t,n),l=IZ(-i*t,n);let c=t-a*r-l*s,u=-a*i-l*o;const f=c<Bu,m=u<Bu;f&&(c=-c),m&&(u=-u);const g=aE(Math.ceil(vme(n)/2))+qg;if(c<Bu||c>=g||u<Bu||u>=g)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:f,k1:c,k2neg:m,k2:u}}function KD(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function CO(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return Tm(n.lowS,"lowS"),Tm(n.prehash,"prehash"),n.format!==void 0&&KD(n.format),n}class Pht extends Error{constructor(e=""){super(e)}}const fu={Err:Pht,_tlv:{encode:(t,e)=>{const{Err:n}=fu;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=IA(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?IA(i.length/2|128):"";return IA(t)+s+i+e},decode(t,e){const{Err:n}=fu;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=fu;if(t<Bu)throw new e("integer: negative integers are not allowed");let n=IA(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=fu;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return GN(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=fu,i=zr("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=fu,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Bu=BigInt(0),qg=BigInt(1),Jme=BigInt(2),RA=BigInt(3),_ht=BigInt(4);function mg(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=zr("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Rht(t,e={}){const n=Dme("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;lE(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!r.is0(s.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=Qme(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(H,B,A){const{x:P,y:R}=B.toAffine(),$=r.toBytes(P);if(Tm(A,"isCompressed"),A){u();const q=!r.isOdd(R);return ic(Xme(q),$)}else return ic(Uint8Array.of(4),$,r.toBytes(R))}function m(H){ll(H,void 0,"Point");const{publicKey:B,publicKeyUncompressed:A}=c,P=H.length,R=H[0],$=H.subarray(1);if(P===B&&(R===2||R===3)){const q=r.fromBytes($);if(!r.isValid(q))throw new Error("bad point: is not on curve, wrong x");const te=v(q);let Y;try{Y=r.sqrt(te)}catch(N){const W=N instanceof Error?": "+N.message:"";throw new Error("bad point: is not on curve, sqrt error"+W)}u();const G=r.isOdd(Y);return(R&1)===1!==G&&(Y=r.neg(Y)),{x:q,y:Y}}else if(P===A&&R===4){const q=r.BYTES,te=r.fromBytes($.subarray(0,q)),Y=r.fromBytes($.subarray(q,q*2));if(!w(te,Y))throw new Error("bad point: is not on curve");return{x:te,y:Y}}else throw new Error(`bad point: got length ${P}, expected compressed=${B} or uncompressed=${A}`)}const g=e.toBytes||f,x=e.fromBytes||m;function v(H){const B=r.sqr(H),A=r.mul(B,H);return r.add(r.add(A,r.mul(H,s.a)),s.b)}function w(H,B){const A=r.sqr(B),P=v(H);return r.eql(A,P)}if(!w(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const E=r.mul(r.pow(s.a,RA),_ht),k=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(E,k)))throw new Error("bad curve params: a or b");function I(H,B,A=!1){if(!r.isValid(B)||A&&r.is0(B))throw new Error(`bad point coordinate ${H}`);return B}function D(H){if(!(H instanceof F))throw new Error("ProjectivePoint expected")}function j(H){if(!l||!l.basises)throw new Error("no endo");return Iht(H,l.basises,i.ORDER)}const M=S2((H,B)=>{const{X:A,Y:P,Z:R}=H;if(r.eql(R,r.ONE))return{x:A,y:P};const $=H.is0();B==null&&(B=$?r.ONE:r.inv(R));const q=r.mul(A,B),te=r.mul(P,B),Y=r.mul(R,B);if($)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Y,r.ONE))throw new Error("invZ was invalid");return{x:q,y:te}}),U=S2(H=>{if(H.is0()){if(e.allowInfinityPoint&&!r.is0(H.Y))return;throw new Error("bad point: ZERO")}const{x:B,y:A}=H.toAffine();if(!r.isValid(B)||!r.isValid(A))throw new Error("bad point: x or y not field elements");if(!w(B,A))throw new Error("bad point: equation left != right");if(!H.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function V(H,B,A,P,R){return A=new F(r.mul(A.X,H),A.Y,A.Z),B=A2(P,B),A=A2(R,A),B.add(A)}class F{constructor(B,A,P){this.X=I("x",B),this.Y=I("y",A,!0),this.Z=I("z",P),Object.freeze(this)}static CURVE(){return s}static fromAffine(B){const{x:A,y:P}=B||{};if(!B||!r.isValid(A)||!r.isValid(P))throw new Error("invalid affine point");if(B instanceof F)throw new Error("projective point not allowed");return r.is0(A)&&r.is0(P)?F.ZERO:new F(A,P,r.ONE)}static fromBytes(B){const A=F.fromAffine(x(ll(B,void 0,"point")));return A.assertValidity(),A}static fromHex(B){return F.fromBytes(zr("pointHex",B))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(B=8,A=!0){return K.createCache(this,B),A||this.multiply(RA),this}assertValidity(){U(this)}hasEvenY(){const{y:B}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(B)}equals(B){D(B);const{X:A,Y:P,Z:R}=this,{X:$,Y:q,Z:te}=B,Y=r.eql(r.mul(A,te),r.mul($,R)),G=r.eql(r.mul(P,te),r.mul(q,R));return Y&&G}negate(){return new F(this.X,r.neg(this.Y),this.Z)}double(){const{a:B,b:A}=s,P=r.mul(A,RA),{X:R,Y:$,Z:q}=this;let te=r.ZERO,Y=r.ZERO,G=r.ZERO,O=r.mul(R,R),N=r.mul($,$),W=r.mul(q,q),X=r.mul(R,$);return X=r.add(X,X),G=r.mul(R,q),G=r.add(G,G),te=r.mul(B,G),Y=r.mul(P,W),Y=r.add(te,Y),te=r.sub(N,Y),Y=r.add(N,Y),Y=r.mul(te,Y),te=r.mul(X,te),G=r.mul(P,G),W=r.mul(B,W),X=r.sub(O,W),X=r.mul(B,X),X=r.add(X,G),G=r.add(O,O),O=r.add(G,O),O=r.add(O,W),O=r.mul(O,X),Y=r.add(Y,O),W=r.mul($,q),W=r.add(W,W),O=r.mul(W,X),te=r.sub(te,O),G=r.mul(W,N),G=r.add(G,G),G=r.add(G,G),new F(te,Y,G)}add(B){D(B);const{X:A,Y:P,Z:R}=this,{X:$,Y:q,Z:te}=B;let Y=r.ZERO,G=r.ZERO,O=r.ZERO;const N=s.a,W=r.mul(s.b,RA);let X=r.mul(A,$),re=r.mul(P,q),ae=r.mul(R,te),Ee=r.add(A,P),ue=r.add($,q);Ee=r.mul(Ee,ue),ue=r.add(X,re),Ee=r.sub(Ee,ue),ue=r.add(A,R);let me=r.add($,te);return ue=r.mul(ue,me),me=r.add(X,ae),ue=r.sub(ue,me),me=r.add(P,R),Y=r.add(q,te),me=r.mul(me,Y),Y=r.add(re,ae),me=r.sub(me,Y),O=r.mul(N,ue),Y=r.mul(W,ae),O=r.add(Y,O),Y=r.sub(re,O),O=r.add(re,O),G=r.mul(Y,O),re=r.add(X,X),re=r.add(re,X),ae=r.mul(N,ae),ue=r.mul(W,ue),re=r.add(re,ae),ae=r.sub(X,ae),ae=r.mul(N,ae),ue=r.add(ue,ae),X=r.mul(re,ue),G=r.add(G,X),X=r.mul(me,ue),Y=r.mul(Ee,Y),Y=r.sub(Y,X),X=r.mul(Ee,re),O=r.mul(me,O),O=r.add(O,X),new F(Y,G,O)}subtract(B){return this.add(B.negate())}is0(){return this.equals(F.ZERO)}multiply(B){const{endo:A}=e;if(!i.isValidNot0(B))throw new Error("invalid scalar: out of range");let P,R;const $=q=>K.cached(this,q,te=>Ap(F,te));if(A){const{k1neg:q,k1:te,k2neg:Y,k2:G}=j(B),{p:O,f:N}=$(te),{p:W,f:X}=$(G);R=N.add(X),P=V(A.beta,O,W,q,Y)}else{const{p:q,f:te}=$(B);P=q,R=te}return Ap(F,[P,R])[0]}multiplyUnsafe(B){const{endo:A}=e,P=this;if(!i.isValid(B))throw new Error("invalid scalar: out of range");if(B===Bu||P.is0())return F.ZERO;if(B===qg)return P;if(K.hasCache(this))return this.multiply(B);if(A){const{k1neg:R,k1:$,k2neg:q,k2:te}=j(B),{p1:Y,p2:G}=Ydt(F,P,$,te);return V(A.beta,Y,G,R,q)}else return K.unsafe(P,B)}multiplyAndAddUnsafe(B,A,P){const R=this.multiplyUnsafe(A).add(B.multiplyUnsafe(P));return R.is0()?void 0:R}toAffine(B){return M(this,B)}isTorsionFree(){const{isTorsionFree:B}=e;return o===qg?!0:B?B(F,this):K.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:B}=e;return o===qg?this:B?B(F,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(B=!0){return Tm(B,"isCompressed"),this.assertValidity(),g(F,this,B)}toHex(B=!0){return nm(this.toBytes(B))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(B=!0){return this.toBytes(B)}_setWindowSize(B){this.precompute(B)}static normalizeZ(B){return Ap(F,B)}static msm(B,A){return Mme(F,i,B,A)}static fromPrivateKey(B){return F.BASE.multiply(mg(i,B))}}F.BASE=new F(s.Gx,s.Gy,r.ONE),F.ZERO=new F(r.ZERO,r.ONE,r.ZERO),F.Fp=r,F.Fn=i;const z=i.BITS,K=new Ome(F,e.endo?Math.ceil(z/2):z);return F.BASE.precompute(8),F}function Xme(t){return Uint8Array.of(t?2:3)}function Qme(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Oht(t,e={}){const{Fn:n}=t,r=e.randomBytes||j7,i=Object.assign(Qme(t.Fp,n),{seed:Pme(n.ORDER)});function s(g){try{return!!mg(n,g)}catch{return!1}}function o(g,x){const{publicKey:v,publicKeyUncompressed:w}=i;try{const E=g.length;return x===!0&&E!==v||x===!1&&E!==w?!1:!!t.fromBytes(g)}catch{return!1}}function a(g=r(i.seed)){return qdt(ll(g,i.seed,"seed"),n.ORDER)}function l(g,x=!0){return t.BASE.multiply(mg(n,g)).toBytes(x)}function c(g){const x=a(g);return{secretKey:x,publicKey:l(x)}}function u(g){if(typeof g=="bigint")return!1;if(g instanceof t)return!0;const{secretKey:x,publicKey:v,publicKeyUncompressed:w}=i;if(n.allowedLengths||x===v)return;const E=zr("key",g).length;return E===v||E===w}function f(g,x,v=!0){if(u(g)===!0)throw new Error("first arg must be private key");if(u(x)===!1)throw new Error("second arg must be public key");const w=mg(n,g);return t.fromHex(x).multiply(w).toBytes(v)}return Object.freeze({getPublicKey:l,getSharedSecret:f,keygen:c,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:g=>mg(n,g),precompute(g=8,x=t.BASE){return x.precompute(g,!1)}},lengths:i})}function Mht(t,e,n={}){ume(e),lE(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||j7,i=n.hmac||((A,...P)=>Yme(e,A,ic(...P))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o,{keygen:c,getPublicKey:u,getSharedSecret:f,utils:m,lengths:g}=Oht(t,n),x={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},v="compact";function w(A){const P=a>>qg;return A>P}function E(A,P){if(!o.isValidNot0(P))throw new Error(`invalid signature ${A}: out of range 1..Point.Fn.ORDER`);return P}function k(A,P){KD(P);const R=g.signature,$=P==="compact"?R:P==="recovered"?R+1:void 0;return ll(A,$,`${P} signature`)}class I{constructor(P,R,$){this.r=E("r",P),this.s=E("s",R),$!=null&&(this.recovery=$),Object.freeze(this)}static fromBytes(P,R=v){k(P,R);let $;if(R==="der"){const{r:G,s:O}=fu.toSig(ll(P));return new I(G,O)}R==="recovered"&&($=P[0],R="compact",P=P.subarray(1));const q=o.BYTES,te=P.subarray(0,q),Y=P.subarray(q,q*2);return new I(o.fromBytes(te),o.fromBytes(Y),$)}static fromHex(P,R){return this.fromBytes(E2(P),R)}addRecoveryBit(P){return new I(this.r,this.s,P)}recoverPublicKey(P){const R=s.ORDER,{r:$,s:q,recovery:te}=this;if(te==null||![0,1,2,3].includes(te))throw new Error("recovery id invalid");if(a*Jme<R&&te>1)throw new Error("recovery id is ambiguous for h>1 curve");const G=te===2||te===3?$+a:$;if(!s.isValid(G))throw new Error("recovery id 2 or 3 invalid");const O=s.toBytes(G),N=t.fromBytes(ic(Xme((te&1)===0),O)),W=o.inv(G),X=j(zr("msgHash",P)),re=o.create(-X*W),ae=o.create(q*W),Ee=t.BASE.multiplyUnsafe(re).add(N.multiplyUnsafe(ae));if(Ee.is0())throw new Error("point at infinify");return Ee.assertValidity(),Ee}hasHighS(){return w(this.s)}toBytes(P=v){if(KD(P),P==="der")return E2(fu.hexFromSig(this));const R=o.toBytes(this.r),$=o.toBytes(this.s);if(P==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return ic(Uint8Array.of(this.recovery),R,$)}return ic(R,$)}toHex(P){return nm(this.toBytes(P))}assertValidity(){}static fromCompact(P){return I.fromBytes(zr("sig",P),"compact")}static fromDER(P){return I.fromBytes(zr("sig",P),"der")}normalizeS(){return this.hasHighS()?new I(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return nm(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return nm(this.toBytes("compact"))}}const D=n.bits2int||function(P){if(P.length>8192)throw new Error("input is too large");const R=GN(P),$=P.length*8-l;return $>0?R>>BigInt($):R},j=n.bits2int_modN||function(P){return o.create(D(P))},M=aE(l);function U(A){return qD("num < 2^"+l,A,Bu,M),o.toBytes(A)}function V(A,P){return ll(A,void 0,"message"),P?ll(e(A),void 0,"prehashed message"):A}function F(A,P,R){if(["recovered","canonical"].some(re=>re in R))throw new Error("sign() legacy options not supported");const{lowS:$,prehash:q,extraEntropy:te}=CO(R,x);A=V(A,q);const Y=j(A),G=mg(o,P),O=[U(G),U(Y)];if(te!=null&&te!==!1){const re=te===!0?r(g.secretKey):te;O.push(zr("extraEntropy",re))}const N=ic(...O),W=Y;function X(re){const ae=D(re);if(!o.isValidNot0(ae))return;const Ee=o.inv(ae),ue=t.BASE.multiply(ae).toAffine(),me=o.create(ue.x);if(me===Bu)return;const ce=o.create(Ee*o.create(W+me*G));if(ce===Bu)return;let oe=(ue.x===me?0:2)|Number(ue.y&qg),Ce=ce;return $&&w(ce)&&(Ce=o.neg(ce),oe^=1),new I(me,Ce,oe)}return{seed:N,k2sig:X}}function z(A,P,R={}){A=zr("message",A);const{seed:$,k2sig:q}=F(A,P,R);return Ldt(e.outputLen,o.BYTES,i)($,q)}function K(A){let P;const R=typeof A=="string"||oE(A),$=!R&&A!==null&&typeof A=="object"&&typeof A.r=="bigint"&&typeof A.s=="bigint";if(!R&&!$)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if($)P=new I(A.r,A.s);else if(R){try{P=I.fromBytes(zr("sig",A),"der")}catch(q){if(!(q instanceof fu.Err))throw q}if(!P)try{P=I.fromBytes(zr("sig",A),"compact")}catch{return!1}}return P||!1}function H(A,P,R,$={}){const{lowS:q,prehash:te,format:Y}=CO($,x);if(R=zr("publicKey",R),P=V(zr("message",P),te),"strict"in $)throw new Error("options.strict was renamed to lowS");const G=Y===void 0?K(A):I.fromBytes(zr("sig",A),Y);if(G===!1)return!1;try{const O=t.fromBytes(R);if(q&&G.hasHighS())return!1;const{r:N,s:W}=G,X=j(P),re=o.inv(W),ae=o.create(X*re),Ee=o.create(N*re),ue=t.BASE.multiplyUnsafe(ae).add(O.multiplyUnsafe(Ee));return ue.is0()?!1:o.create(ue.x)===N}catch{return!1}}function B(A,P,R={}){const{prehash:$}=CO(R,x);return P=V(P,$),I.fromBytes(A,"recovered").recoverPublicKey(P).toBytes()}return Object.freeze({keygen:c,getPublicKey:u,getSharedSecret:f,utils:m,lengths:g,Point:t,sign:z,verify:H,recoverPublicKey:B,Signature:I,hash:e})}function Dht(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=Fm(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function Lht(t){const{CURVE:e,curveOpts:n}=Dht(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function Bht(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,Nme(n.Fn.ORDER,n.Fn.BITS))})}function jht(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=Lht(t),s=Rht(e,n),o=Mht(s,r,i);return Bht(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Uht(t,e){const n=r=>jht({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const W7={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},Fht={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},PZ=BigInt(2);function zht(t){const e=W7.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,f=jr(u,n,e)*u%e,m=jr(f,n,e)*u%e,g=jr(m,PZ,e)*c%e,x=jr(g,i,e)*g%e,v=jr(x,s,e)*x%e,w=jr(v,a,e)*v%e,E=jr(w,l,e)*w%e,k=jr(E,a,e)*v%e,I=jr(k,n,e)*u%e,D=jr(I,o,e)*x%e,j=jr(D,r,e)*c%e,M=jr(j,PZ,e);if(!WD.eql(WD.sqr(M),t))throw new Error("Cannot find square root");return M}const WD=Fm(W7.p,{sqrt:zht}),$ht=Uht({...W7,Fp:WD,lowS:!0,endo:Fht},gme);Jx.utils.randomPrivateKey;const _Z=()=>{const t=Jx.utils.randomPrivateKey(),e=YD(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},YD=Jx.getPublicKey;function RZ(t){try{return Jx.ExtendedPoint.fromHex(t),!0}catch{return!1}}const Hht=(t,e)=>Jx.sign(t,e.slice(0,32)),Vht=Jx.verify,Ci=t=>on.isBuffer(t)?t:t instanceof Uint8Array?on.from(t.buffer,t.byteOffset,t.byteLength):on.from(t);class Ght{constructor(e){Object.assign(this,e)}encode(){return on.from(xO.serialize(ET,this))}static decode(e){return xO.deserialize(ET,this,e)}static decodeUnchecked(e){return xO.deserializeUnchecked(ET,this,e)}}const ET=new Map;var Zme;const qht=32,Zf=32;function Kht(t){return t._bn!==void 0}let OZ=1;class vt extends Ght{constructor(e){if(super({}),this._bn=void 0,Kht(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Ji.decode(e);if(n.length!=Zf)throw new Error("Invalid public key input");this._bn=new gZ(n)}else this._bn=new gZ(e);if(this._bn.byteLength()>Zf)throw new Error("Invalid public key input")}}static unique(){const e=new vt(OZ);return OZ+=1,new vt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ji.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(on);if(e.length===Zf)return e;const n=on.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=on.concat([e.toBuffer(),on.from(n),r.toBuffer()]),s=bZ(i);return new vt(s)}static createProgramAddressSync(e,n){let r=on.alloc(0);e.forEach(function(s){if(s.length>qht)throw new TypeError("Max seed length exceeded");r=on.concat([r,Ci(s)])}),r=on.concat([r,n.toBuffer(),on.from("ProgramDerivedAddress")]);const i=bZ(r);if(RZ(i))throw new Error("Invalid seeds, address must fall off the curve");return new vt(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(on.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new vt(e);return RZ(n.toBytes())}}Zme=vt;vt.default=new Zme("11111111111111111111111111111111");ET.set(vt,{kind:"struct",fields:[["_bn","u256"]]});new vt("BPFLoader1111111111111111111111111111111111");const Kg=1232,e0e=127,t0e=64;class n0e extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(n0e.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class r0e extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(r0e.prototype,"name",{value:"TransactionExpiredTimeoutError"});class _b extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(_b.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class P2{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const bn=(t="publicKey")=>ve.blob(32,t),gg=(t="string")=>{const e=ve.struct([ve.u32("length"),ve.u32("lengthPadding"),ve.blob(ve.offset(ve.u32(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:on.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>ve.u32().span+ve.u32().span+on.from(s,"utf8").length,i},Wht=(t="authorized")=>ve.struct([bn("staker"),bn("withdrawer")],t),Yht=(t="lockup")=>ve.struct([ve.ns64("unixTimestamp"),ve.ns64("epoch"),bn("custodian")],t),Jht=(t="voteInit")=>ve.struct([bn("nodePubkey"),bn("authorizedVoter"),bn("authorizedWithdrawer"),ve.u8("commission")],t),Xht=(t="voteAuthorizeWithSeedArgs")=>ve.struct([ve.u32("voteAuthorizationType"),bn("currentAuthorityDerivedKeyOwnerPubkey"),gg("currentAuthorityDerivedKeySeed"),bn("newAuthorized")],t);function i0e(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*n(i.elementLayout)}else if("fields"in i)return i0e({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function va(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,(r&128)===0)break}return e}function ba(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function $r(t,e){if(!t)throw new Error(e||"Assertion failed")}class JN{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new JN(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];$r(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{$r(n.length>0,"Expected at least one writable signer key");const[l]=n[0];$r(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new vt(l)),...r.map(([l])=>new vt(l)),...i.map(([l])=>new vt(l)),...s.map(([l])=>new vt(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new vt(s),l=e.findIndex(c=>c.equals(a));l>=0&&($r(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const s0e="Reached end of buffer unexpectedly";function Iu(t){if(t.length===0)throw new Error(s0e);return t.shift()}function wa(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(s0e);return t.splice(...e)}class pd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new vt(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ji.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new P2(this.staticAccountKeys)}static compile(e){const n=JN.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new P2(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ji.encode(a.data)}));return new pd({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];ba(n,e);const r=this.instructions.map(f=>{const{accounts:m,programIdIndex:g}=f,x=Array.from(Ji.decode(f.data));let v=[];ba(v,m.length);let w=[];return ba(w,x.length),{programIdIndex:g,keyIndicesCount:on.from(v),keyIndices:m,dataLength:on.from(w),data:x}});let i=[];ba(i,r.length);let s=on.alloc(Kg);on.from(i).copy(s);let o=i.length;r.forEach(f=>{const g=ve.struct([ve.u8("programIdIndex"),ve.blob(f.keyIndicesCount.length,"keyIndicesCount"),ve.seq(ve.u8("keyIndex"),f.keyIndices.length,"keyIndices"),ve.blob(f.dataLength.length,"dataLength"),ve.seq(ve.u8("userdatum"),f.data.length,"data")]).encode(f,s,o);o+=g}),s=s.slice(0,o);const a=ve.struct([ve.blob(1,"numRequiredSignatures"),ve.blob(1,"numReadonlySignedAccounts"),ve.blob(1,"numReadonlyUnsignedAccounts"),ve.blob(n.length,"keyCount"),ve.seq(bn("key"),e,"keys"),bn("recentBlockhash")]),l={numRequiredSignatures:on.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:on.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:on.from([this.header.numReadonlyUnsignedAccounts]),keyCount:on.from(n),keys:this.accountKeys.map(f=>Ci(f.toBytes())),recentBlockhash:Ji.decode(this.recentBlockhash)};let c=on.alloc(2048);const u=a.encode(l,c);return s.copy(c,u),c.slice(0,u+s.length)}static from(e){let n=[...e];const r=Iu(n);if(r!==(r&e0e))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Iu(n),s=Iu(n),o=va(n);let a=[];for(let m=0;m<o;m++){const g=wa(n,0,Zf);a.push(new vt(on.from(g)))}const l=wa(n,0,Zf),c=va(n);let u=[];for(let m=0;m<c;m++){const g=Iu(n),x=va(n),v=wa(n,0,x),w=va(n),E=wa(n,0,w),k=Ji.encode(on.from(E));u.push({programIdIndex:g,accounts:v,data:k})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Ji.encode(on.from(l)),accountKeys:a,instructions:u};return new pd(f)}}class V1{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new P2(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=JN.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const u of s){const f=n.extractTableLookup(u);if(f!==void 0){const[m,{writable:g,readonly:x}]=f;r.push(m),i.writable.push(...g),i.readonly.push(...x)}}const[o,a]=n.getMessageComponents(),c=new P2(a,i).compileInstructions(e.instructions);return new V1({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();ba(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();ba(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();ba(s,this.addressTableLookups.length);const o=ve.struct([ve.u8("prefix"),ve.struct([ve.u8("numRequiredSignatures"),ve.u8("numReadonlySignedAccounts"),ve.u8("numReadonlyUnsignedAccounts")],"header"),ve.blob(e.length,"staticAccountKeysLength"),ve.seq(bn(),this.staticAccountKeys.length,"staticAccountKeys"),bn("recentBlockhash"),ve.blob(r.length,"instructionsLength"),ve.blob(n.length,"serializedInstructions"),ve.blob(s.length,"addressTableLookupsLength"),ve.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Kg),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:Ji.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(Kg);for(const r of this.compiledInstructions){const i=Array();ba(i,r.accountKeyIndexes.length);const s=Array();ba(s,r.data.length);const o=ve.struct([ve.u8("programIdIndex"),ve.blob(i.length,"encodedAccountKeyIndexesLength"),ve.seq(ve.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),ve.blob(s.length,"encodedDataLength"),ve.blob(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(Kg);for(const r of this.addressTableLookups){const i=Array();ba(i,r.writableIndexes.length);const s=Array();ba(s,r.readonlyIndexes.length);const o=ve.struct([bn("accountKey"),ve.blob(i.length,"encodedWritableIndexesLength"),ve.seq(ve.u8(),r.writableIndexes.length,"writableIndexes"),ve.blob(s.length,"encodedReadonlyIndexesLength"),ve.seq(ve.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=Iu(n),i=r&e0e;$r(r!==i,"Expected versioned message but received legacy message");const s=i;$r(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Iu(n),numReadonlySignedAccounts:Iu(n),numReadonlyUnsignedAccounts:Iu(n)},a=[],l=va(n);for(let x=0;x<l;x++)a.push(new vt(wa(n,0,Zf)));const c=Ji.encode(wa(n,0,Zf)),u=va(n),f=[];for(let x=0;x<u;x++){const v=Iu(n),w=va(n),E=wa(n,0,w),k=va(n),I=new Uint8Array(wa(n,0,k));f.push({programIdIndex:v,accountKeyIndexes:E,data:I})}const m=va(n),g=[];for(let x=0;x<m;x++){const v=new vt(wa(n,0,Zf)),w=va(n),E=wa(n,0,w),k=va(n),I=wa(n,0,k);g.push({accountKey:v,writableIndexes:E,readonlyIndexes:I})}return new V1({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:f,addressTableLookups:g})}}let hf=(function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t})({});const Qht=on.alloc(t0e).fill(0);class Ni{constructor(e){this.keys=void 0,this.programId=void 0,this.data=on.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Ta{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Ni(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let v=0;v<n.length;v++)if(n[v].programId===void 0)throw new Error(`Transaction instruction index ${v} has undefined program id`);const i=[],s=[];n.forEach(v=>{v.keys.forEach(E=>{s.push({...E})});const w=v.programId.toString();i.includes(w)||i.push(w)}),i.forEach(v=>{s.push({pubkey:new vt(v),isSigner:!1,isWritable:!1})});const o=[];s.forEach(v=>{const w=v.pubkey.toString(),E=o.findIndex(k=>k.pubkey.toString()===w);E>-1?(o[E].isWritable=o[E].isWritable||v.isWritable,o[E].isSigner=o[E].isSigner||v.isSigner):o.push(v)}),o.sort(function(v,w){if(v.isSigner!==w.isSigner)return v.isSigner?-1:1;if(v.isWritable!==w.isWritable)return v.isWritable?-1:1;const E={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return v.pubkey.toBase58().localeCompare(w.pubkey.toBase58(),"en",E)});const a=o.findIndex(v=>v.pubkey.equals(r));if(a>-1){const[v]=o.splice(a,1);v.isSigner=!0,v.isWritable=!0,o.unshift(v)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const v of this.signatures){const w=o.findIndex(E=>E.pubkey.equals(v.publicKey));if(w>-1)o[w].isSigner||(o[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${v.publicKey.toString()}`)}let l=0,c=0,u=0;const f=[],m=[];o.forEach(({pubkey:v,isSigner:w,isWritable:E})=>{w?(f.push(v.toString()),l+=1,E||(c+=1)):(m.push(v.toString()),E||(u+=1))});const g=f.concat(m),x=n.map(v=>{const{data:w,programId:E}=v;return{programIdIndex:g.indexOf(E.toString()),accounts:v.keys.map(k=>g.indexOf(k.pubkey.toString())),data:Ji.encode(w)}});return x.forEach(v=>{$r(v.programIdIndex>=0),v.accounts.forEach(w=>$r(w>=0))}),new pd({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:g,recentBlockhash:e,instructions:x})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=Hht(r,i.secretKey);this._addSignature(i.publicKey,Ci(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){$r(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=on.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(s):Vht(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];ba(r,n.length);const i=r.length+n.length*64+e.length,s=on.alloc(i);return $r(n.length<256),on.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&($r(o.length===64,"signature has invalid length"),on.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),$r(s.length<=Kg,`Transaction too large: ${s.length} > ${Kg}`),s}get keys(){return $r(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return $r(this.instructions.length===1),this.instructions[0].programId}get data(){return $r(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=va(n);let i=[];for(let s=0;s<r;s++){const o=wa(n,0,t0e);i.push(Ji.encode(on.from(o)))}return Ta.populate(pd.from(n),i)}static populate(e,n=[]){const r=new Ta;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==Ji.encode(Qht)?null:Ji.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Ni({keys:s,programId:e.accountKeys[i.programIdIndex],data:Ji.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class o0e{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:l}=r,c=o-a;$r(c>0,"Message header is invalid");const u=e.staticAccountKeys.length-o-l;$r(u>=0,"Message header is invalid");const f=e.getAccountKeys(n),m=f.get(0);if(m===void 0)throw new Error("Failed to decompile message because no account keys were found");const g=[];for(const x of i){const v=[];for(const E of x.accountKeyIndexes){const k=f.get(E);if(k===void 0)throw new Error(`Failed to find key for account key index ${E}`);const I=E<o;let D;I?D=E<c:E<f.staticAccountKeys.length?D=E-o<u:D=E-f.staticAccountKeys.length<f.accountKeysFromLookups.writable.length,v.push({pubkey:k,isSigner:E<r.numRequiredSignatures,isWritable:D})}const w=f.get(x.programIdIndex);if(w===void 0)throw new Error(`Failed to find program id for program id index ${x.programIdIndex}`);g.push(new Ni({programId:w,data:Ci(x.data),keys:v}))}return new o0e({payerKey:m,instructions:g,recentBlockhash:s})}compileToLegacyMessage(){return pd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return V1.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}const Zht=160,ept=64,tpt=Zht/ept,npt=1e3/tpt,iyt=new vt("SysvarC1ock11111111111111111111111111111111");new vt("SysvarEpochSchedu1e111111111111111111111111");new vt("Sysvar1nstructions1111111111111111111111111");const kO=new vt("SysvarRecentB1ockHashes11111111111111111111"),MZ=new vt("SysvarRent111111111111111111111111111111111");new vt("SysvarRewards111111111111111111111111111111");new vt("SysvarS1otHashes111111111111111111111111111");new vt("SysvarS1otHistory11111111111111111111111111");new vt("SysvarStakeHistory1111111111111111111111111");class DZ extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(l=>l)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,n(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class Dt extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function eg(t){return new Promise(e=>setTimeout(e,t))}function fs(t,e){const n=t.layout.span>=0?t.layout.span:i0e(t,e),r=on.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}const rpt=ve.nu64("lamportsPerSignature"),a0e=ve.struct([ve.u32("version"),ve.u32("state"),bn("authorizedPubkey"),bn("nonce"),ve.struct([rpt],"feeCalculator")]),LZ=a0e.span;class Y7{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=a0e.decode(Ci(e),0);return new Y7({authorizedPubkey:new vt(n.authorizedPubkey),nonce:new vt(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function px(t){const e=ve.blob(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,s=Kft();return i.decode=(o,a)=>{const l=n(o,a);return s.decode(l)},i.encode=(o,a,l)=>{const c=s.encode(o);return r(c,a,l)},i}const sa=Object.freeze({Create:{index:0,layout:ve.struct([ve.u32("instruction"),ve.ns64("lamports"),ve.ns64("space"),bn("programId")])},Assign:{index:1,layout:ve.struct([ve.u32("instruction"),bn("programId")])},Transfer:{index:2,layout:ve.struct([ve.u32("instruction"),px("lamports")])},CreateWithSeed:{index:3,layout:ve.struct([ve.u32("instruction"),bn("base"),gg("seed"),ve.ns64("lamports"),ve.ns64("space"),bn("programId")])},AdvanceNonceAccount:{index:4,layout:ve.struct([ve.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:ve.struct([ve.u32("instruction"),ve.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:ve.struct([ve.u32("instruction"),bn("authorized")])},AuthorizeNonceAccount:{index:7,layout:ve.struct([ve.u32("instruction"),bn("authorized")])},Allocate:{index:8,layout:ve.struct([ve.u32("instruction"),ve.ns64("space")])},AllocateWithSeed:{index:9,layout:ve.struct([ve.u32("instruction"),bn("base"),gg("seed"),ve.ns64("space"),bn("programId")])},AssignWithSeed:{index:10,layout:ve.struct([ve.u32("instruction"),bn("base"),gg("seed"),bn("programId")])},TransferWithSeed:{index:11,layout:ve.struct([ve.u32("instruction"),px("lamports"),gg("seed"),bn("programId")])},UpgradeNonceAccount:{index:12,layout:ve.struct([ve.u32("instruction")])}});class mx{constructor(){}static createAccount(e){const n=sa.Create,r=fs(n,{lamports:e.lamports,space:e.space,programId:Ci(e.programId.toBuffer())});return new Ni({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=sa.TransferWithSeed;n=fs(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ci(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=sa.Transfer;n=fs(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ni({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=sa.AssignWithSeed;n=fs(i,{base:Ci(e.basePubkey.toBuffer()),seed:e.seed,programId:Ci(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=sa.Assign;n=fs(i,{programId:Ci(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ni({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=sa.CreateWithSeed,r=fs(n,{base:Ci(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ci(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ni({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Ta;"basePubkey"in e&&"seed"in e?n.add(mx.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:LZ,programId:this.programId})):n.add(mx.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:LZ,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=sa.InitializeNonceAccount,r=fs(n,{authorized:Ci(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:kO,isSigner:!1,isWritable:!1},{pubkey:MZ,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ni(i)}static nonceAdvance(e){const n=sa.AdvanceNonceAccount,r=fs(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:kO,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ni(i)}static nonceWithdraw(e){const n=sa.WithdrawNonceAccount,r=fs(n,{lamports:e.lamports});return new Ni({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:kO,isSigner:!1,isWritable:!1},{pubkey:MZ,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=sa.AuthorizeNonceAccount,r=fs(n,{authorized:Ci(e.newAuthorizedPubkey.toBuffer())});return new Ni({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=sa.AllocateWithSeed;n=fs(i,{base:Ci(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ci(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=sa.Allocate;n=fs(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ni({keys:r,programId:this.programId,data:n})}}mx.programId=new vt("11111111111111111111111111111111");new vt("BPFLoader2111111111111111111111111111111111");function ipt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NO,BZ;function spt(){if(BZ)return NO;BZ=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var s in r)i.push(s);return i};function n(r,i){var s,o,a,l,c,u,f;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(f=t.call(r),f==="[object Array]"){for(a="[",o=r.length-1,s=0;s<o;s++)a+=n(r[s],!0)+",";return o>-1&&(a+=n(r[s],!0)),a+"]"}else if(f==="[object Object]"){for(l=e(r).sort(),o=l.length,a="",s=0;s<o;)c=l[s],u=n(r[c],!1),u!==void 0&&(a&&(a+=","),a+=JSON.stringify(c)+":"+u),s++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return NO=function(r){var i=n(r,!1);if(i!==void 0)return""+i},NO}var opt=spt(),jZ=ipt(opt);const mb=32;function IO(t){let e=0;for(;t>1;)t/=2,e++;return e}function apt(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class lpt{constructor(e,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=IO(apt(e+mb+1))-IO(mb)-1,r=this.getSlotsInEpoch(n),i=e-(r-mb);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*mb:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+IO(mb)):this.slotsPerEpoch}}var cpt=globalThis.fetch;class upt extends Nht{constructor(e,n,r){const i=s=>{const o=Cht(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function dpt(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const UZ=56;class FZ{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=dpt(fpt,e),r=e.length-UZ;$r(r>=0,"lookup table is invalid"),$r(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=ve.struct([ve.seq(bn(),i,"addresses")]).decode(e.slice(UZ));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new vt(n.authority[0]):void 0,addresses:s.map(o=>new vt(o))}}}const fpt={index:1,layout:ve.struct([ve.u32("typeIndex"),px("deactivationSlot"),ve.nu64("lastExtendedSlot"),ve.u8("lastExtendedStartIndex"),ve.u8(),ve.seq(bn(),ve.offset(ve.u8(),-1),"authority")])},hpt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function ppt(t){const e=t.match(hpt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${s}`}const Mr=dE(q7(vt),ut(),t=>new vt(t)),l0e=K7([ut(),Pr("base64")]),J7=dE(q7(on),l0e,t=>on.from(t[0],"base64")),mpt=30*1e3;function gpt(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function ur(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function zZ(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function c0e(t){return $s([nt({jsonrpc:Pr("2.0"),id:ut(),result:t}),nt({jsonrpc:Pr("2.0"),id:ut(),error:nt({code:Xx(),message:ut(),data:zt(eht())})})])}const ypt=c0e(Xx());function fn(t){return dE(c0e(t),ypt,e=>"error"in e?e:{...e,result:dt(e.result,t)})}function Jr(t){return fn(nt({context:nt({slot:Oe()}),value:t}))}function XN(t){return nt({context:nt({slot:Oe()}),value:t})}function PO(t,e){return t===0?new V1({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new vt(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Ji.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new pd(e)}const xpt=nt({foundation:Oe(),foundationTerm:Oe(),initial:Oe(),taper:Oe(),terminal:Oe()}),vpt=fn(pt(gt(nt({epoch:Oe(),effectiveSlot:Oe(),amount:Oe(),postBalance:Oe(),commission:zt(gt(Oe()))})))),bpt=pt(nt({slot:Oe(),prioritizationFee:Oe()})),wpt=nt({total:Oe(),validator:Oe(),foundation:Oe(),epoch:Oe()}),Ept=nt({epoch:Oe(),slotIndex:Oe(),slotsInEpoch:Oe(),absoluteSlot:Oe(),blockHeight:zt(Oe()),transactionCount:zt(Oe())}),Spt=nt({slotsPerEpoch:Oe(),leaderScheduleSlotOffset:Oe(),warmup:Tc(),firstNormalEpoch:Oe(),firstNormalSlot:Oe()}),Apt=$me(ut(),pt(Oe())),$m=gt($s([nt({}),ut()])),Tpt=nt({err:$m}),Cpt=Pr("receivedSignature"),kpt=nt({"solana-core":ut(),"feature-set":zt(Oe())}),Npt=nt({program:ut(),programId:Mr,parsed:Xx()}),Ipt=nt({programId:Mr,accounts:pt(Mr),data:ut()}),$Z=Jr(nt({err:gt($s([nt({}),ut()])),logs:gt(pt(ut())),accounts:zt(gt(pt(gt(nt({executable:Tc(),owner:ut(),lamports:Oe(),data:pt(ut()),rentEpoch:zt(Oe())}))))),unitsConsumed:zt(Oe()),returnData:zt(gt(nt({programId:ut(),data:K7([ut(),Pr("base64")])}))),innerInstructions:zt(gt(pt(nt({index:Oe(),instructions:pt($s([Npt,Ipt]))}))))})),Ppt=Jr(nt({byIdentity:$me(ut(),pt(Oe())),range:nt({firstSlot:Oe(),lastSlot:Oe()})}));function _pt(t,e,n,r,i,s){const o=n||cpt;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(u,f)=>{const m=await new Promise((g,x)=>{try{r(u,f,(v,w)=>g([v,w]))}catch(v){x(v)}});return await o(...m)}),new Aht(async(u,f)=>{const m={method:"POST",body:u,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},_mt)};try{let g=5,x,v=500;for(;l?x=await l(t,m):x=await o(t,m),!(x.status!==429||i===!0||(g-=1,g===0));)console.error(`Server responded with ${x.status} ${x.statusText}.  Retrying after ${v}ms delay...`),await eg(v),v*=2;const w=await x.text();x.ok?f(null,w):f(new Error(`${x.status} ${x.statusText}: ${w}`))}catch(g){g instanceof Error&&f(g)}},{})}function Rpt(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(s,o)=>{if(s){i(s);return}r(o)})})}function Opt(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const Mpt=fn(xpt),Dpt=fn(wpt),Lpt=fn(bpt),Bpt=fn(Ept),jpt=fn(Spt),Upt=fn(Apt),Fpt=fn(Oe()),zpt=Jr(nt({total:Oe(),circulating:Oe(),nonCirculating:Oe(),nonCirculatingAccounts:pt(Mr)})),JD=nt({amount:ut(),uiAmount:gt(Oe()),decimals:Oe(),uiAmountString:zt(ut())}),$pt=Jr(pt(nt({address:Mr,amount:ut(),uiAmount:gt(Oe()),decimals:Oe(),uiAmountString:zt(ut())}))),Hpt=Jr(pt(nt({pubkey:Mr,account:nt({executable:Tc(),owner:Mr,lamports:Oe(),data:J7,rentEpoch:Oe()})}))),XD=nt({program:ut(),parsed:Xx(),space:Oe()}),Vpt=Jr(pt(nt({pubkey:Mr,account:nt({executable:Tc(),owner:Mr,lamports:Oe(),data:XD,rentEpoch:Oe()})}))),Gpt=Jr(pt(nt({lamports:Oe(),address:Mr}))),G1=nt({executable:Tc(),owner:Mr,lamports:Oe(),data:J7,rentEpoch:Oe()}),qpt=nt({pubkey:Mr,account:G1}),Kpt=dE($s([q7(on),XD]),$s([l0e,XD]),t=>Array.isArray(t)?dt(t,J7):t),QD=nt({executable:Tc(),owner:Mr,lamports:Oe(),data:Kpt,rentEpoch:Oe()}),Wpt=nt({pubkey:Mr,account:QD}),Ypt=nt({state:$s([Pr("active"),Pr("inactive"),Pr("activating"),Pr("deactivating")]),active:Oe(),inactive:Oe()}),Jpt=fn(pt(nt({signature:ut(),slot:Oe(),err:$m,memo:gt(ut()),blockTime:zt(gt(Oe()))}))),Xpt=fn(pt(nt({signature:ut(),slot:Oe(),err:$m,memo:gt(ut()),blockTime:zt(gt(Oe()))}))),Qpt=nt({subscription:Oe(),result:XN(G1)}),Zpt=nt({pubkey:Mr,account:G1}),emt=nt({subscription:Oe(),result:XN(Zpt)}),tmt=nt({parent:Oe(),slot:Oe(),root:Oe()}),nmt=nt({subscription:Oe(),result:tmt}),rmt=$s([nt({type:$s([Pr("firstShredReceived"),Pr("completed"),Pr("optimisticConfirmation"),Pr("root")]),slot:Oe(),timestamp:Oe()}),nt({type:Pr("createdBank"),parent:Oe(),slot:Oe(),timestamp:Oe()}),nt({type:Pr("frozen"),slot:Oe(),timestamp:Oe(),stats:nt({numTransactionEntries:Oe(),numSuccessfulTransactions:Oe(),numFailedTransactions:Oe(),maxTransactionsPerEntry:Oe()})}),nt({type:Pr("dead"),slot:Oe(),timestamp:Oe(),err:ut()})]),imt=nt({subscription:Oe(),result:rmt}),smt=nt({subscription:Oe(),result:XN($s([Tpt,Cpt]))}),omt=nt({subscription:Oe(),result:Oe()}),amt=nt({pubkey:ut(),gossip:gt(ut()),tpu:gt(ut()),rpc:gt(ut()),version:gt(ut())}),HZ=nt({votePubkey:ut(),nodePubkey:ut(),activatedStake:Oe(),epochVoteAccount:Tc(),epochCredits:pt(K7([Oe(),Oe(),Oe()])),commission:Oe(),lastVote:Oe(),rootSlot:gt(Oe())}),lmt=fn(nt({current:pt(HZ),delinquent:pt(HZ)})),cmt=$s([Pr("processed"),Pr("confirmed"),Pr("finalized")]),umt=nt({slot:Oe(),confirmations:gt(Oe()),err:$m,confirmationStatus:zt(cmt)}),dmt=Jr(pt(gt(umt))),fmt=fn(Oe()),u0e=nt({accountKey:Mr,writableIndexes:pt(Oe()),readonlyIndexes:pt(Oe())}),X7=nt({signatures:pt(ut()),message:nt({accountKeys:pt(ut()),header:nt({numRequiredSignatures:Oe(),numReadonlySignedAccounts:Oe(),numReadonlyUnsignedAccounts:Oe()}),instructions:pt(nt({accounts:pt(Oe()),data:ut(),programIdIndex:Oe()})),recentBlockhash:ut(),addressTableLookups:zt(pt(u0e))})}),d0e=nt({pubkey:Mr,signer:Tc(),writable:Tc(),source:zt($s([Pr("transaction"),Pr("lookupTable")]))}),f0e=nt({accountKeys:pt(d0e),signatures:pt(ut())}),h0e=nt({parsed:Xx(),program:ut(),programId:Mr}),p0e=nt({accounts:pt(Mr),data:ut(),programId:Mr}),hmt=$s([p0e,h0e]),pmt=$s([nt({parsed:Xx(),program:ut(),programId:ut()}),nt({accounts:pt(ut()),data:ut(),programId:ut()})]),m0e=dE(hmt,pmt,t=>"accounts"in t?dt(t,p0e):dt(t,h0e)),g0e=nt({signatures:pt(ut()),message:nt({accountKeys:pt(d0e),instructions:pt(m0e),recentBlockhash:ut(),addressTableLookups:zt(gt(pt(u0e)))})}),_2=nt({accountIndex:Oe(),mint:ut(),owner:zt(ut()),programId:zt(ut()),uiTokenAmount:JD}),y0e=nt({writable:pt(Mr),readonly:pt(Mr)}),QN=nt({err:$m,fee:Oe(),innerInstructions:zt(gt(pt(nt({index:Oe(),instructions:pt(nt({accounts:pt(Oe()),data:ut(),programIdIndex:Oe()}))})))),preBalances:pt(Oe()),postBalances:pt(Oe()),logMessages:zt(gt(pt(ut()))),preTokenBalances:zt(gt(pt(_2))),postTokenBalances:zt(gt(pt(_2))),loadedAddresses:zt(y0e),computeUnitsConsumed:zt(Oe()),costUnits:zt(Oe())}),Q7=nt({err:$m,fee:Oe(),innerInstructions:zt(gt(pt(nt({index:Oe(),instructions:pt(m0e)})))),preBalances:pt(Oe()),postBalances:pt(Oe()),logMessages:zt(gt(pt(ut()))),preTokenBalances:zt(gt(pt(_2))),postTokenBalances:zt(gt(pt(_2))),loadedAddresses:zt(y0e),computeUnitsConsumed:zt(Oe()),costUnits:zt(Oe())}),Qx=$s([Pr(0),Pr("legacy")]),Hm=nt({pubkey:ut(),lamports:Oe(),postBalance:gt(Oe()),rewardType:gt(ut()),commission:zt(gt(Oe()))}),mmt=fn(gt(nt({blockhash:ut(),previousBlockhash:ut(),parentSlot:Oe(),transactions:pt(nt({transaction:X7,meta:gt(QN),version:zt(Qx)})),rewards:zt(pt(Hm)),blockTime:gt(Oe()),blockHeight:gt(Oe())}))),gmt=fn(gt(nt({blockhash:ut(),previousBlockhash:ut(),parentSlot:Oe(),rewards:zt(pt(Hm)),blockTime:gt(Oe()),blockHeight:gt(Oe())}))),ymt=fn(gt(nt({blockhash:ut(),previousBlockhash:ut(),parentSlot:Oe(),transactions:pt(nt({transaction:f0e,meta:gt(QN),version:zt(Qx)})),rewards:zt(pt(Hm)),blockTime:gt(Oe()),blockHeight:gt(Oe())}))),xmt=fn(gt(nt({blockhash:ut(),previousBlockhash:ut(),parentSlot:Oe(),transactions:pt(nt({transaction:g0e,meta:gt(Q7),version:zt(Qx)})),rewards:zt(pt(Hm)),blockTime:gt(Oe()),blockHeight:gt(Oe())}))),vmt=fn(gt(nt({blockhash:ut(),previousBlockhash:ut(),parentSlot:Oe(),transactions:pt(nt({transaction:f0e,meta:gt(Q7),version:zt(Qx)})),rewards:zt(pt(Hm)),blockTime:gt(Oe()),blockHeight:gt(Oe())}))),bmt=fn(gt(nt({blockhash:ut(),previousBlockhash:ut(),parentSlot:Oe(),rewards:zt(pt(Hm)),blockTime:gt(Oe()),blockHeight:gt(Oe())}))),wmt=fn(gt(nt({blockhash:ut(),previousBlockhash:ut(),parentSlot:Oe(),transactions:pt(nt({transaction:X7,meta:gt(QN)})),rewards:zt(pt(Hm)),blockTime:gt(Oe())}))),VZ=fn(gt(nt({blockhash:ut(),previousBlockhash:ut(),parentSlot:Oe(),signatures:pt(ut()),blockTime:gt(Oe())}))),_O=fn(gt(nt({slot:Oe(),meta:gt(QN),blockTime:zt(gt(Oe())),transaction:X7,version:zt(Qx)}))),OA=fn(gt(nt({slot:Oe(),transaction:g0e,meta:gt(Q7),blockTime:zt(gt(Oe())),version:zt(Qx)}))),Emt=Jr(nt({blockhash:ut(),lastValidBlockHeight:Oe()})),Smt=Jr(Tc()),Amt=nt({slot:Oe(),numTransactions:Oe(),numSlots:Oe(),samplePeriodSecs:Oe()}),Tmt=fn(pt(Amt)),Cmt=Jr(gt(nt({feeCalculator:nt({lamportsPerSignature:Oe()})}))),kmt=fn(ut()),Nmt=fn(ut()),Imt=nt({err:$m,logs:pt(ut()),signature:ut()}),Pmt=nt({result:XN(Imt),subscription:Oe()}),_mt={"solana-client":"js/1.0.0-maintenance"};class Rmt{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async u=>{const{commitment:f,config:m}=ur(u),g=this._buildArgs([],f,void 0,m),x=jZ(g);return c[x]=c[x]??(async()=>{try{const v=await this._rpcRequest("getBlockHeight",g),w=dt(v,fn(Oe()));if("error"in w)throw new Dt(w.error,"failed to get block height information");return w.result}finally{delete c[x]}})(),await c[x]}})();let r,i,s,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=gpt(e),this._rpcWsEndpoint=r||ppt(e),this._rpcClient=_pt(e,i,s,o,a,l),this._rpcRequest=Rpt(this._rpcClient),this._rpcBatchRequest=Opt(this._rpcClient),this._rpcWebSocket=new upt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=ur(n),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=dt(o,Jr(Oe()));if("error"in a)throw new Dt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=dt(n,fn(gt(Oe())));if("error"in r)throw new Dt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=dt(e,fn(Oe()));if("error"in n)throw new Dt(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=dt(e,Fpt);if("error"in n)throw new Dt(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=dt(r,zpt);if("error"in i)throw new Dt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=dt(i,Jr(JD));if("error"in s)throw new Dt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=dt(i,Jr(JD));if("error"in s)throw new Dt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:s}=ur(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=dt(l,Hpt);if("error"in c)throw new Dt(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=dt(o,Vpt);if("error"in a)throw new Dt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=dt(i,Gpt);if("error"in s)throw new Dt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=dt(i,$pt);if("error"in s)throw new Dt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=ur(n),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=dt(o,Jr(gt(G1)));if("error"in a)throw new Dt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=ur(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=dt(o,Jr(gt(QD)));if("error"in a)throw new Dt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=ur(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),l=dt(a,Jr(pt(gt(QD))));if("error"in l)throw new Dt(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=ur(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),l=dt(a,Jr(pt(gt(G1))));if("error"in l)throw new Dt(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:s}=ur(n),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=dt(a,fn(Ypt));if("error"in l)throw new Dt(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=ur(n),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",{...o,...o.filters?{filters:zZ(o.filters)}:null}),l=await this._rpcRequest("getProgramAccounts",a),c=pt(qpt),u=o.withContext===!0?dt(l,Jr(c)):dt(l,fn(c));if("error"in u)throw new Dt(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=ur(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=dt(o,fn(pt(Wpt)));if("error"in a)throw new Dt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Ji.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return $r(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,s=!1;const o=new Promise((l,c)=>{try{r=this.onSignature(n,(f,m)=>{r=void 0;const g={context:m,value:f};l({__type:hf.PROCESSED,response:g})},e);const u=new Promise(f=>{r==null?f():i=this._onSubscriptionStateChange(r,m=>{m==="subscribed"&&f()})});(async()=>{if(await u,s)return;const f=await this.getSignatureStatus(n);if(s||f==null)return;const{context:m,value:g}=f;if(g!=null)if(g!=null&&g.err)c(g.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(g.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(g.confirmationStatus==="processed"||g.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,l({__type:hf.PROCESSED,response:{context:m,value:g}})}})()}catch(u){c(u)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(f=>{const m=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let g=await m();if(!s){for(;g<=r;)if(await eg(1e3),s||(g=await m(),s))return;f({__type:hf.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let u;try{const f=await Promise.race([c,l,o]);if(f.__type===hf.PROCESSED)u=f.response;else throw new n0e(i)}finally{s=!0,a()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const l=new Promise(g=>{let x=s,v=null;const w=async()=>{try{const{context:E,value:k}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return v=E.slot,k==null?void 0:k.nonce}catch{return x}};(async()=>{if(x=await w(),!a)for(;;){if(s!==x){g({__type:hf.NONCE_INVALID,slotInWhichNonceDidAdvance:v});return}if(await eg(2e3),a||(x=await w(),a))return}})()}),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),f=this.getCancellationPromise(n);let m;try{const g=await Promise.race([f,u,l]);if(g.__type===hf.PROCESSED)m=g.response;else{let x;for(;;){const v=await this.getSignatureStatus(o);if(v==null)break;if(v.context.slot<(g.slotInWhichNonceDidAdvance??r)){await eg(400);continue}x=v;break}if(x!=null&&x.value){const v=e||"finalized",{confirmationStatus:w}=x.value;switch(v){case"processed":case"recent":if(w!=="processed"&&w!=="confirmed"&&w!=="finalized")throw new _b(o);break;case"confirmed":case"single":case"singleGossip":if(w!=="confirmed"&&w!=="finalized")throw new _b(o);break;case"finalized":case"max":case"root":if(w!=="finalized")throw new _b(o);break;default:}m={context:x.context,value:{err:x.value.err}}}else throw new _b(o)}}finally{a=!0,c()}return m}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:hf.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,i]);if(l.__type===hf.PROCESSED)a=l.response;else throw new r0e(n,l.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=dt(e,fn(pt(amt)));if("error"in n)throw new Dt(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=dt(r,lmt);if("error"in i)throw new Dt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=ur(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=dt(s,fn(Oe()));if("error"in o)throw new Dt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=ur(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=dt(s,fn(ut()));if("error"in o)throw new Dt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),s=dt(i,fn(pt(Mr)));if("error"in s)throw new Dt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);$r(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=dt(i,dmt);if("error"in s)throw new Dt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=ur(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=dt(s,fn(Oe()));if("error"in o)throw new Dt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=dt(r,Mpt);if("error"in i)throw new Dt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:s}=ur(r),o=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=dt(a,vpt);if("error"in l)throw new Dt(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=dt(e,Dpt);if("error"in n)throw new Dt(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=ur(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=dt(s,Bpt);if("error"in o)throw new Dt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=dt(e,jpt);if("error"in n)throw new Dt(n.error,"failed to get epoch schedule");const r=n.result;return new lpt(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=dt(e,Upt);if("error"in n)throw new Dt(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=dt(i,fmt);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=dt(n,Tmt);if("error"in r)throw new Dt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=dt(i,Cmt);if("error"in s)throw new Dt(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Ci(e.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=dt(s,Jr(gt(Oe())));if("error"in o)throw new Dt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=dt(i,Lpt);if("error"in s)throw new Dt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=ur(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=dt(s,Emt);if("error"in o)throw new Dt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=ur(n),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=dt(o,Smt);if("error"in a)throw new Dt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=dt(e,fn(kpt));if("error"in n)throw new Dt(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=dt(e,fn(ut()));if("error"in n)throw new Dt(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=ur(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=dt(o,ymt);if("error"in a)throw a.error;return a.result}case"none":{const a=dt(o,gmt);if("error"in a)throw a.error;return a.result}default:{const a=dt(o,mmt);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:u,version:f})=>({meta:u,transaction:{...c,message:PO(f,c.message)},version:f}))}:null}}}catch(a){throw new Dt(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=ur(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=dt(o,vmt);if("error"in a)throw a.error;return a.result}case"none":{const a=dt(o,bmt);if("error"in a)throw a.error;return a.result}default:{const a=dt(o,xmt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Dt(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=dt(s,Ppt);if("error"in o)throw new Dt(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:i}=ur(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=dt(o,_O);if("error"in a)throw new Dt(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:PO(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=ur(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=dt(o,OA);if("error"in a)throw new Dt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=ur(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(l=>{const c=dt(l,OA);if("error"in c)throw new Dt(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=ur(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(l=>{const c=dt(l,_O);if("error"in c)throw new Dt(c.error,"failed to get transactions");const u=c.result;return u&&{...u,transaction:{...u.transaction,message:PO(u.version,u.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),s=dt(i,wmt);if("error"in s)throw new Dt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:c})=>{const u=new pd(l.message);return{meta:c,transaction:{...l,message:u}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:Ta.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",i),o=dt(s,fn(pt(Oe())));if("error"in o)throw new Dt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=dt(i,VZ);if("error"in s)throw new Dt(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=dt(i,VZ);if("error"in s)throw new Dt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),s=dt(i,_O);if("error"in s)throw new Dt(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new pd(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:Ta.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),s=dt(i,OA);if("error"in s)throw new Dt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=dt(o,OA);if("error"in a)throw new Dt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=dt(s,Jpt);if("error"in o)throw new Dt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=dt(s,Xpt);if("error"in o)throw new Dt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=new FZ({key:e,state:FZ.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=Y7.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=dt(r,kmt);if("error"in i)throw new Dt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await eg(100);const r=Date.now()-this._blockhashInfo.lastFetch>=mpt;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await eg(npt/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=ur(e),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=dt(s,Jr(Oe()));if("error"in o)throw new Dt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const v=e.serialize(),w=on.from(v).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const E=n||{};E.encoding="base64","commitment"in E||(E.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(E.innerInstructions=n.innerInstructions);const k=[w,E],I=await this._rpcRequest("simulateTransaction",k),D=dt(I,$Z);if("error"in D)throw new Error("failed to simulate transaction: "+D.error.message);return D.result}let i;if(e instanceof Ta){let x=e;i=new Ta,i.feePayer=x.feePayer,i.instructions=e.instructions,i.nonceInfo=x.nonceInfo,i.signatures=x.signatures}else i=Ta.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let x=this._disableBlockhashCaching;for(;;){const v=await this._blockhashWithExpiryBlockHeight(x);if(i.lastValidBlockHeight=v.lastValidBlockHeight,i.recentBlockhash=v.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const w=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(w)&&!this._blockhashInfo.transactionSignatures.includes(w)){this._blockhashInfo.simulatedSignatures.push(w);break}else x=!0}}const o=i._compile(),a=o.serialize(),c=i._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const x=(Array.isArray(r)?r:o.nonProgramIds()).map(v=>v.toBase58());u.accounts={encoding:"base64",addresses:x}}s&&(u.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(u.innerInstructions=n.innerInstructions);const f=[c,u],m=await this._rpcRequest("simulateTransaction",f),g=dt(m,$Z);if("error"in g){let x;if("data"in g.error&&(x=g.error.data.logs,x&&Array.isArray(x))){const v=`
    `,w=v+x.join(v);console.error(g.error.message,w)}throw new DZ({action:"simulate",signature:"",transactionMessage:g.error.message,logs:x})}return g.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=Ci(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=dt(a,Nmt);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new DZ({action:i?"send":"simulate",signature:"",transactionMessage:l.error.message,logs:c})}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=dt(e,Qpt);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=jZ([e.method,n]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];$r(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:s}=ur(r),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=dt(e,emt);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:s,config:o}=ur(r),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:zZ(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=dt(e,Pmt);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=dt(e,nmt);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=dt(e,imt);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=dt(e,smt);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=dt(e,omt);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Fo{constructor(e){this._keypair=void 0,this._keypair=e??_Z()}static generate(){return new Fo(_Z())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const i=e.slice(0,32),s=YD(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new Fo({publicKey:r,secretKey:e})}static fromSeed(e){const n=YD(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new Fo({publicKey:n,secretKey:r})}get publicKey(){return new vt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:ve.struct([ve.u32("instruction"),px("recentSlot"),ve.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:ve.struct([ve.u32("instruction")])},ExtendLookupTable:{index:2,layout:ve.struct([ve.u32("instruction"),px(),ve.seq(bn(),ve.offset(ve.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ve.struct([ve.u32("instruction")])},CloseLookupTable:{index:4,layout:ve.struct([ve.u32("instruction")])}});new vt("AddressLookupTab1e1111111111111111111111111");const MA=Object.freeze({RequestUnits:{index:0,layout:ve.struct([ve.u8("instruction"),ve.u32("units"),ve.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:ve.struct([ve.u8("instruction"),ve.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:ve.struct([ve.u8("instruction"),ve.u32("units")])},SetComputeUnitPrice:{index:3,layout:ve.struct([ve.u8("instruction"),px("microLamports")])}});class Omt{constructor(){}static requestUnits(e){const n=MA.RequestUnits,r=fs(n,e);return new Ni({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=MA.RequestHeapFrame,r=fs(n,e);return new Ni({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=MA.SetComputeUnitLimit,r=fs(n,e);return new Ni({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=MA.SetComputeUnitPrice,r=fs(n,{microLamports:BigInt(e.microLamports)});return new Ni({keys:[],programId:this.programId,data:r})}}Omt.programId=new vt("ComputeBudget111111111111111111111111111111");ve.struct([ve.u8("numSignatures"),ve.u8("padding"),ve.u16("signatureOffset"),ve.u16("signatureInstructionIndex"),ve.u16("publicKeyOffset"),ve.u16("publicKeyInstructionIndex"),ve.u16("messageDataOffset"),ve.u16("messageDataSize"),ve.u16("messageInstructionIndex")]);new vt("Ed25519SigVerify111111111111111111111111111");$ht.utils.isValidPrivateKey;ve.struct([ve.u8("numSignatures"),ve.u16("signatureOffset"),ve.u8("signatureInstructionIndex"),ve.u16("ethAddressOffset"),ve.u8("ethAddressInstructionIndex"),ve.u16("messageDataOffset"),ve.u16("messageDataSize"),ve.u8("messageInstructionIndex"),ve.blob(20,"ethAddress"),ve.blob(64,"signature"),ve.u8("recoveryId")]);new vt("KeccakSecp256k11111111111111111111111111111");var x0e;new vt("StakeConfig11111111111111111111111111111111");class v0e{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}x0e=v0e;v0e.default=new x0e(0,0,vt.default);Object.freeze({Initialize:{index:0,layout:ve.struct([ve.u32("instruction"),Wht(),Yht()])},Authorize:{index:1,layout:ve.struct([ve.u32("instruction"),bn("newAuthorized"),ve.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:ve.struct([ve.u32("instruction")])},Split:{index:3,layout:ve.struct([ve.u32("instruction"),ve.ns64("lamports")])},Withdraw:{index:4,layout:ve.struct([ve.u32("instruction"),ve.ns64("lamports")])},Deactivate:{index:5,layout:ve.struct([ve.u32("instruction")])},Merge:{index:7,layout:ve.struct([ve.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:ve.struct([ve.u32("instruction"),bn("newAuthorized"),ve.u32("stakeAuthorizationType"),gg("authoritySeed"),bn("authorityOwner")])}});new vt("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ve.struct([ve.u32("instruction"),Jht()])},Authorize:{index:1,layout:ve.struct([ve.u32("instruction"),bn("newAuthorized"),ve.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:ve.struct([ve.u32("instruction"),ve.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:ve.struct([ve.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:ve.struct([ve.u32("instruction"),Xht()])}});new vt("Vote111111111111111111111111111111111111111");new vt("Va1idator1nfo111111111111111111111111111111");nt({name:ut(),website:zt(ut()),details:zt(ut()),iconUrl:zt(ut()),keybaseUsername:zt(ut())});new vt("Vote111111111111111111111111111111111111111");ve.struct([bn("nodePubkey"),bn("authorizedWithdrawer"),ve.u8("commission"),ve.nu64(),ve.seq(ve.struct([ve.nu64("slot"),ve.u32("confirmationCount")]),ve.offset(ve.u32(),-8),"votes"),ve.u8("rootSlotValid"),ve.nu64("rootSlot"),ve.nu64(),ve.seq(ve.struct([ve.nu64("epoch"),bn("authorizedVoter")]),ve.offset(ve.u32(),-8),"authorizedVoters"),ve.struct([ve.seq(ve.struct([bn("authorizedPubkey"),ve.nu64("epochOfLastAuthorizedSwitch"),ve.nu64("targetEpoch")]),32,"buf"),ve.nu64("idx"),ve.u8("isEmpty")],"priorVoters"),ve.nu64(),ve.seq(ve.struct([ve.nu64("epoch"),ve.nu64("credits"),ve.nu64("prevCredits")]),ve.offset(ve.u32(),-8),"epochCredits"),ve.struct([ve.nu64("slot"),ve.nu64("timestamp")],"lastTimestamp")]);const DA=1e9;var RO,GZ;function Mmt(){if(GZ)return RO;GZ=1;function t(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var v=0,w=0,E=0,k=x.length;E!==k&&x[E]===0;)E++,v++;for(var I=(k-E)*u+1>>>0,D=new Uint8Array(I);E!==k;){for(var j=x[E],M=0,U=I-1;(j!==0||M<w)&&U!==-1;U--,M++)j+=256*D[U]>>>0,D[U]=j%a>>>0,j=j/a>>>0;if(j!==0)throw new Error("Non-zero carry");w=M,E++}for(var V=I-w;V!==I&&D[V]===0;)V++;for(var F=l.repeat(v);V<I;++V)F+=e.charAt(D[V]);return F}function m(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;for(var v=0,w=0,E=0;x[v]===l;)w++,v++;for(var k=(x.length-v)*c+1>>>0,I=new Uint8Array(k);x[v];){var D=x.charCodeAt(v);if(D>255)return;var j=n[D];if(j===255)return;for(var M=0,U=k-1;(j!==0||M<E)&&U!==-1;U--,M++)j+=a*I[U]>>>0,I[U]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");E=M,v++}for(var V=k-E;V!==k&&I[V]===0;)V++;for(var F=new Uint8Array(w+(k-V)),z=w;V!==k;)F[z++]=I[V++];return F}function g(x){var v=m(x);if(v)return v;throw new Error("Non-base"+a+" character")}return{encode:f,decodeUnsafe:m,decode:g}}return RO=t,RO}var OO,qZ;function Dmt(){return qZ||(qZ=1,OO=Mmt()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),OO}var LA=Dmt();const fE=new vt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new vt("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const ZN=new vt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new vt("So11111111111111111111111111111111111111112");new vt("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const Z7=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}};var Yh={},KZ;function Lmt(){if(KZ)return Yh;KZ=1,Object.defineProperty(Yh,"__esModule",{value:!0});function t(i){{const s=dn.from(i);s.reverse();const o=s.toString("hex");return o.length===0?BigInt(0):BigInt(`0x${o}`)}}Yh.toBigIntLE=t;function e(i){{const s=i.toString("hex");return s.length===0?BigInt(0):BigInt(`0x${s}`)}}Yh.toBigIntBE=e;function n(i,s){{const o=i.toString(16),a=dn.from(o.padStart(s*2,"0").slice(0,s*2),"hex");return a.reverse(),a}}Yh.toBufferLE=n;function r(i,s){{const o=i.toString(16);return dn.from(o.padStart(s*2,"0").slice(0,s*2),"hex")}}return Yh.toBufferBE=r,Yh}var WZ=Lmt();const Bmt=t=>e=>{const n=ve.blob(t,e),{encode:r,decode:i}=Z7(n),s=n;return s.decode=(o,a)=>{const l=i(o,a);return WZ.toBigIntLE(dn.from(l))},s.encode=(o,a,l)=>{const c=WZ.toBufferLE(o,t);return r(c,a,l)},s},b0e=Bmt(8),jmt=t=>{const e=ve.u8(t),{encode:n,decode:r}=Z7(e),i=e;return i.decode=(s,o)=>!!r(s,o),i.encode=(s,o,a)=>{const l=Number(s);return n(l,o,a)},i},YZ=t=>{const e=ve.blob(32,t),{encode:n,decode:r}=Z7(e),i=e;return i.decode=(s,o)=>{const a=r(s,o);return new vt(a)},i.encode=(s,o,a)=>{const l=s.toBuffer();return n(l,o,a)},i};class w0e extends Error{constructor(e){super(e)}}class E0e extends w0e{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var R2;(function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension",t[t.GroupPointerExtension=40]="GroupPointerExtension",t[t.GroupMemberPointerExtension=41]="GroupMemberPointerExtension"})(R2||(R2={}));function Umt(t,e,n){if(n.length){t.push({pubkey:e,isSigner:!1,isWritable:!1});for(const r of n)t.push({pubkey:r instanceof vt?r:r.publicKey,isSigner:!0,isWritable:!1})}else t.push({pubkey:e,isSigner:!0,isWritable:!1});return t}const S0e=ve.struct([ve.u32("mintAuthorityOption"),YZ("mintAuthority"),b0e("supply"),ve.u8("decimals"),jmt("isInitialized"),ve.u32("freezeAuthorityOption"),YZ("freezeAuthority")]);S0e.span;async function ZD(t,e,n=!1,r=fE,i=ZN){if(!n&&!vt.isOnCurve(e.toBuffer()))throw new E0e;const[s]=await vt.findProgramAddress([e.toBuffer(),r.toBuffer(),t.toBuffer()],i);return s}function A0e(t,e,n,r,i=fE,s=ZN){return Fmt(t,e,n,r,dn.alloc(0),i,s)}function Fmt(t,e,n,r,i,s=fE,o=ZN){const a=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:mx.programId,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new Ni({keys:a,programId:o,data:i})}const eL=ve.struct([ve.u8("instruction"),b0e("amount")]);function T0e(t,e,n,r,i=[],s=fE){const o=Umt([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],n,i),a=dn.alloc(eL.span);return eL.encode({instruction:R2.Transfer,amount:BigInt(r)},a),new Ni({keys:o,programId:s,data:a})}const JZ=Object.freeze(Object.defineProperty({__proto__:null,ASSOCIATED_TOKEN_PROGRAM_ID:ZN,MintLayout:S0e,TOKEN_PROGRAM_ID:fE,TokenError:w0e,get TokenInstruction(){return R2},TokenOwnerOffCurveError:E0e,createAssociatedTokenAccountInstruction:A0e,createTransferInstruction:T0e,getAssociatedTokenAddress:ZD,transferInstructionData:eL},Symbol.toStringTag,{value:"Module"}));class zmt{constructor(){this.connection=new Rmt(_We,"confirmed")}createVaultKeypair(){return Fo.generate()}getKeypairFromSecretKey(e){const n=Uint8Array.from(JSON.parse(e));return Fo.fromSecretKey(n)}async getBalance(e){try{return await this.connection.getBalance(new vt(e))/DA}catch(n){return console.error("Error fetching balance:",n),0}}async wait(e){return new Promise(n=>setTimeout(n,e))}async getAccountInfoWithRetry(e,n=5){for(let r=0;r<n;r++)try{return await this.connection.getAccountInfo(e)}catch(i){if(console.warn(`Attempt ${r+1} failed to fetch account info: ${i.message}`),r===n-1)throw i;await this.wait(500*Math.pow(2,r))}return null}async getLatestBlockhashWithRetry(e=5){for(let n=0;n<e;n++)try{return await this.connection.getLatestBlockhash("confirmed")}catch(r){if(console.warn(`Attempt ${n+1} failed to get blockhash: ${r.message}`),n===e-1)throw new Error("Network error: Failed to fetch blockhash. Devnet may be down.");await this.wait(500*Math.pow(2,n))}throw new Error("Failed to get blockhash")}async getTokenBalances(e){const n=await this.getBalance(e);return Qf.map(r=>({...r,balance:r.symbol==="SOL"?n:0}))}async airdrop(e){var n,r;try{const i=await this.connection.requestAirdrop(new vt(e),1*DA),s=await this.getLatestBlockhashWithRetry();return await this.connection.confirmTransaction({blockhash:s.blockhash,lastValidBlockHeight:s.lastValidBlockHeight,signature:i}),i}catch(i){throw(n=i.message)!=null&&n.includes("429")?new Error("Devnet Rate Limit Reached. Please try again later."):(r=i.message)!=null&&r.includes("limit reached")?new Error("Daily Airdrop Limit Reached for this IP."):i}}async connectWallet(){try{const{solana:e}=window;if(e&&e.isPhantom)return(await e.connect()).publicKey.toString();throw alert("Solana object not found! Get a Phantom Wallet "),new Error("No wallet found")}catch(e){throw console.error(e),e}}async pollForConfirmation(e,n=15,r=2e3){var i,s,o;for(let a=0;a<n;a++)try{const l=await this.connection.getSignatureStatus(e);if((i=l==null?void 0:l.value)!=null&&i.confirmationStatus){const c=l.value.confirmationStatus;if(c==="confirmed"||c==="finalized")return console.log(`[Solana]  Transaction confirmed (${c}) after ${a+1} attempts`),!0;c==="processed"&&console.log("[Solana]  Transaction processed, waiting for confirmation...")}if((s=l==null?void 0:l.value)!=null&&s.err)throw new Error(`Transaction failed on-chain: ${JSON.stringify(l.value.err)}`);await this.wait(r)}catch(l){if((o=l.message)!=null&&o.includes("failed on-chain"))throw l;console.warn(`[Solana] Poll attempt ${a+1} failed:`,l.message),await this.wait(r)}return!1}async sendTransactionWithRetry(e,n){var i,s;let r="";try{const o=await this.getLatestBlockhashWithRetry();if(e.recentBlockhash=o.blockhash,e.lastValidBlockHeight=o.lastValidBlockHeight,e.sign(...n),r=await this.connection.sendRawTransaction(e.serialize(),{skipPreflight:!1,preflightCommitment:"confirmed"}),console.log(`[Solana]  Transaction sent: ${r.slice(0,16)}...`),!await this.pollForConfirmation(r,15,2e3)){console.warn(`[Solana]  Confirmation polling timed out, but transaction may have succeeded: ${r}`);const l=new Error("Transaction timed out. The network is congested. Please check your wallet history before trying again to avoid double spending.");throw l.signature=r,l.isTimeout=!0,l}return r}catch(o){if(console.warn("Transaction Error:",o.name,o.message),o.name==="TransactionExpiredBlockheightExceededError"||(i=o.message)!=null&&i.includes("block height exceeded")||(s=o.message)!=null&&s.includes("timeout")||o.isTimeout){const a=new Error("Transaction timed out. The network is congested. Please check your wallet history before trying again to avoid double spending.");throw a.signature=r,a.isTimeout=!0,a}throw o}}async transferSol(e,n,r){try{const i=new Ta().add(mx.transfer({fromPubkey:e.publicKey,toPubkey:new vt(n),lamports:Math.floor(r*DA)}));return i.feePayer=e.publicKey,await this.sendTransactionWithRetry(i,[e])}catch(i){throw console.error("Transfer Error",i),new Error(`Transfer failed: ${i.message}`)}}async findPoolKeys(e,n){const{Liquidity:r,MARKET_STATE_LAYOUT_V3:i,LIQUIDITY_STATE_LAYOUT_V4:s,SPL_MINT_LAYOUT:o}=await Ql(async()=>{const{Liquidity:I,MARKET_STATE_LAYOUT_V3:D,LIQUIDITY_STATE_LAYOUT_V4:j,SPL_MINT_LAYOUT:M}=await import("./index-DwQx8pry.js");return{Liquidity:I,MARKET_STATE_LAYOUT_V3:D,LIQUIDITY_STATE_LAYOUT_V4:j,SPL_MINT_LAYOUT:M}},[]),a=new vt(e),l=new vt(n),c=new vt(RWe),u=[{dataSize:s.span},{memcmp:{offset:s.offsetOf("baseMint"),bytes:a.toBase58()}},{memcmp:{offset:s.offsetOf("quoteMint"),bytes:l.toBase58()}}],f=[{dataSize:s.span},{memcmp:{offset:s.offsetOf("baseMint"),bytes:l.toBase58()}},{memcmp:{offset:s.offsetOf("quoteMint"),bytes:a.toBase58()}}];let m=await this.connection.getProgramAccounts(c,{filters:u});if(m.length===0&&(m=await this.connection.getProgramAccounts(c,{filters:f})),m.length===0)return null;const g=m[0],x=s.decode(g.account.data),v=x.marketId,w=await this.connection.getAccountInfo(v);if(!w)throw new Error("Failed to fetch market info");const E=i.decode(w.data),k=r.getAssociatedAuthority({programId:c}).publicKey;return{id:g.pubkey,baseMint:x.baseMint,quoteMint:x.quoteMint,lpMint:x.lpMint,baseDecimals:x.baseDecimal.toNumber(),quoteDecimals:x.quoteDecimal.toNumber(),lpDecimals:5,version:4,programId:c,authority:k,openOrders:x.openOrders,targetOrders:x.targetOrders,baseVault:x.baseVault,quoteVault:x.quoteVault,withdrawQueue:x.withdrawQueue,lpVault:x.lpVault,marketVersion:3,marketProgramId:x.marketProgramId,marketId:x.marketId,marketAuthority:r.getAssociatedAuthority({programId:x.marketProgramId}).publicKey,marketBaseVault:E.baseVault,marketQuoteVault:E.quoteVault,marketBids:E.bids,marketAsks:E.asks,marketEventQueue:E.eventQueue}}async executeSwap(e,n,r,i,s){const{Liquidity:o,Token:a,TokenAmount:l,Percent:c,TxVersion:u}=await Ql(async()=>{const{Liquidity:f,Token:m,TokenAmount:g,Percent:x,TxVersion:v}=await import("./index-DwQx8pry.js");return{Liquidity:f,Token:m,TokenAmount:g,Percent:x,TxVersion:v}},[]);try{const f=B=>{console.log(`[Swap Status] ${B}`),s&&s(B)};f("Initializing Swap Protocol...");const m="So11111111111111111111111111111111111111112",g=n.trim()==="SOL"?m:n.trim(),x=r.trim()==="SOL"?m:r.trim();f("Fetching Pool Keys...");const v=await this.findPoolKeys(g,x);if(!v)throw new Error(`No Liquidity Pool found for ${g} <-> ${x} on Devnet.`);f("Calculating Amount Out...");const w=g===v.baseMint.toBase58(),{TOKEN_PROGRAM_ID:E}=await Ql(async()=>{const{TOKEN_PROGRAM_ID:B}=await Promise.resolve().then(()=>JZ);return{TOKEN_PROGRAM_ID:B}},void 0),k=new a(E,new vt(g),w?v.baseDecimals:v.quoteDecimals),I=new a(E,new vt(x),w?v.quoteDecimals:v.baseDecimals),D=new l(k,i,!1),j=new c(25,100);f("Fetching Pool Reserves...");const M=await o.fetchInfo({connection:this.connection,poolKeys:v}),{amountOut:U,minAmountOut:V}=o.computeAmountOut({poolKeys:v,poolInfo:M,amountIn:D,currencyOut:I,slippage:j});f(`Calculated Amount Out: ${U.toFixed()} (Min: ${V.toFixed()})`),f("Building Swap Transaction...");const F=await this.getTokenAccountsByOwner(e.publicKey),{innerTransactions:z}=await o.makeSwapInstructionSimple({connection:this.connection,poolKeys:v,userKeys:{tokenAccounts:F,owner:e.publicKey},amountIn:D,amountOut:V,fixedSide:"in",makeTxVersion:u.V0});f("Sending Transaction to Devnet...");const K=await Promise.all(z.map(async B=>{const{instructions:A,signers:P}=B,R=new Ta;return R.add(...A),R.feePayer=e.publicKey,R.recentBlockhash=(await this.connection.getLatestBlockhash()).blockhash,R.sign(e,...P),R}));let H="";for(const B of K){const A=await this.connection.sendRawTransaction(B.serialize(),{skipPreflight:!1,preflightCommitment:"confirmed",maxRetries:5});if(console.log(`[Swap]  Transaction sent: ${A.slice(0,16)}...`),!await this.pollForConfirmation(A,15,2e3))throw new Error("Transaction confirmation timed out - please check explorer for status");H=A}return f("Transaction Confirmed!"),H}catch(f){throw console.error("Swap Error:",f),new Error(`Swap failed: ${f.message}`)}}async getWalletAssets(e){const n=new vt(e),r=await this.getBalance(e),s=(await this.getTokenAccountsByOwner(n)).map(o=>{var a,l;return{mint:o.accountInfo.mint.toBase58(),amount:o.accountInfo.amount,decimals:o.accountInfo.decimals,symbol:((a=Qf.find(c=>c.mint===o.accountInfo.mint.toBase58()))==null?void 0:a.symbol)||"UNKNOWN",name:((l=Qf.find(c=>c.mint===o.accountInfo.mint.toBase58()))==null?void 0:l.name)||"Unknown Token",isNft:o.accountInfo.decimals===0&&o.accountInfo.amount==="1"}});return s.unshift({mint:"So11111111111111111111111111111111111111112",amount:(r*DA).toString(),decimals:9,symbol:"SOL",name:"Solana",isNft:!1}),s}async getTokenAccountsByOwner(e){const{TOKEN_PROGRAM_ID:n}=await Ql(async()=>{const{TOKEN_PROGRAM_ID:i}=await Promise.resolve().then(()=>JZ);return{TOKEN_PROGRAM_ID:i}},void 0);return(await this.connection.getParsedTokenAccountsByOwner(e,{programId:n})).value.map(i=>({pubkey:i.pubkey,programId:i.account.owner,accountInfo:{mint:new vt(i.account.data.parsed.info.mint),amount:i.account.data.parsed.info.tokenAmount.amount,decimals:i.account.data.parsed.info.tokenAmount.decimals}}))}async transferToken(e,n,r,i,s){if(n==="So11111111111111111111111111111111111111112"||n==="SOL")return this.transferSol(e,r,i);try{const o=new vt(n),a=new vt(r),l=await ZD(o,e.publicKey),c=await ZD(o,a),u=new Ta;await this.connection.getAccountInfo(c)||u.add(A0e(e.publicKey,c,a,o));let m;if(await this.connection.getAccountInfo(l)){const x=await this.connection.getTokenAccountBalance(l),v=BigInt(x.value.amount),w=BigInt(Math.round(i*Math.pow(10,s))),E=v>w?v-w:w-v,k=v/BigInt(100);E<=k?(m=v,console.log(`[Transfer] Using actual balance: ${v} (requested: ${w})`)):m=w}else m=BigInt(Math.round(i*Math.pow(10,s)));return u.add(T0e(l,c,e.publicKey,m)),u.feePayer=e.publicKey,await this.sendTransactionWithRetry(u,[e])}catch(o){throw console.error("Token Transfer Error",o),new Error(`Token Transfer failed: ${o.message}`)}}async getRecentTransactions(e,n=20){try{const r=new vt(e);return(await this.connection.getSignaturesForAddress(r,{limit:n})).map(s=>({signature:s.signature,slot:s.slot,err:s.err,memo:s.memo,blockTime:s.blockTime,status:s.err?"failed":"success",confirmationStatus:s.confirmationStatus}))}catch(r){return console.error("Error fetching transactions:",r),[]}}}const ms=new zmt,bf=class bf{static async setSessionHash(e){try{const n=Date.now(),r=new TextEncoder,i=crypto.getRandomValues(new Uint8Array(16)),s=r.encode(e+n.toString()),o=new Uint8Array(i.length+s.length);o.set(i),o.set(s,i.length);const a=await crypto.subtle.digest("SHA-256",o),l=new Uint8Array(a);this.sessionHash=btoa(String.fromCharCode(...l)),this.sessionTimestamp=n}catch{console.error("[SecurityService] Failed to set session hash")}}static hasValidSession(){return this.sessionHash!==null&&this.sessionTimestamp>0}static getSessionTimestamp(){return this.sessionTimestamp}static clearSession(){this.sessionHash=null,this.sessionTimestamp=0}static initializeDevToolsDetection(){if(this.detectionInterval)return;const e=()=>{const i=window.outerWidth-window.innerWidth>160,s=window.outerHeight-window.innerHeight>160;(i||s)&&!this.devToolsDetected&&this.handleDevToolsDetected()},n=new Image;let r=!1;Object.defineProperty(n,"id",{get:function(){return r=!0,""}}),this.detectionInterval=setInterval(()=>{r=!1,console.log(n),console.clear(),r&&!this.devToolsDetected&&this.handleDevToolsDetected(),e()},2e3),window.addEventListener("resize",e)}static handleDevToolsDetected(){this.devToolsDetected||(this.devToolsDetected=!0,console.clear(),console.warn("%c SECURITY NOTICE ","color: #ff4444; font-size: 28px; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);"),console.warn("%cDeveloper tools detected.","color: #ff8800; font-size: 16px;"),console.warn("%cFor your security, sensitive operations may be restricted.","color: #ffaa00; font-size: 14px;"),console.warn("%cIf you are not a developer, please close this panel immediately.","color: #ffffff; font-size: 12px;"),this.securityListeners.forEach(e=>{try{e()}catch{}}))}static isDevToolsDetected(){return this.devToolsDetected}static onSecurityBreach(e){return this.securityListeners.add(e),()=>this.securityListeners.delete(e)}static initializeConsoleSanitization(){const e=[/0x[a-fA-F0-9]{64}/g,/[1-9A-HJ-NP-Za-km-z]{87,88}/g,/0x[a-fA-F0-9]{40,}/g,/[A-Za-z0-9+/]{100,}={0,2}/g],n=r=>r.map(i=>{if(typeof i=="string"){let s=i;for(const o of e)s=s.replace(o,"[REDACTED]");return s}if(typeof i=="object"&&i!==null)try{const s=JSON.stringify(i);let o=!1;for(const a of e)if(a.test(s)){o=!0;break}if(o)return"[Object with sensitive data]"}catch{}return i});console.log=(...r)=>{this.originalConsole.log.apply(console,n(r))},console.warn=(...r)=>{this.originalConsole.warn.apply(console,n(r))},console.info=(...r)=>{this.originalConsole.info.apply(console,n(r))},console.debug=(...r)=>{this.originalConsole.debug.apply(console,n(r))}}static protectGlobalNamespace(){if(typeof window>"u")return;const e=window,n=["__dealerService","__polymarketDealerService","__backgroundTimer"];for(const r of n)try{e[r]&&delete e[r],Object.defineProperty(e,r,{value:void 0,writable:!1,configurable:!1})}catch{}}static initializeProductionSecurity(){console.log("[SecurityService] Initializing production security..."),this.initializeConsoleSanitization(),this.initializeDevToolsDetection(),this.protectGlobalNamespace(),console.log("[SecurityService] Production security initialized")}static cleanup(){this.detectionInterval&&(clearInterval(this.detectionInterval),this.detectionInterval=null),this.securityListeners.clear(),this.devToolsDetected=!1,this.clearSession()}};bf.sessionHash=null,bf.sessionTimestamp=0,bf.devToolsDetected=!1,bf.detectionInterval=null,bf.securityListeners=new Set,bf.originalConsole={log:console.log,warn:console.warn,error:console.error,info:console.info,debug:console.debug};let Wg=bf;const XZ="vault_balance_history",QZ="vault_intraday_history",ZZ=90,eee=96;class $mt{constructor(){this.history=[],this.intradayHistory=[],this.listeners=new Set,this.isInitialized=!1,this.initPromise=null,this.initPromise=this.initialize()}async initialize(){this.isInitialized||(await this.loadFromStorage(),this.isInitialized=!0,this.notify())}async waitForInit(){this.initPromise&&await this.initPromise}async loadFromStorage(){try{const e=await Pe.getItem(Pe.getUserKey(XZ));e&&(this.history=JSON.parse(e));const n=await Pe.getItem(Pe.getUserKey(QZ));if(n){this.intradayHistory=JSON.parse(n);const r=Date.now()-1440*60*1e3;this.intradayHistory=this.intradayHistory.filter(i=>i.timestamp>r)}}catch(e){console.error("[BalanceHistory] Failed to load:",e),this.history=[],this.intradayHistory=[]}}async saveToStorage(){try{await Pe.setItem(Pe.getUserKey(XZ),JSON.stringify(this.history)),await Pe.setItem(Pe.getUserKey(QZ),JSON.stringify(this.intradayHistory))}catch(e){console.error("[BalanceHistory] Failed to save:",e)}}notify(){this.listeners.forEach(e=>e())}getTodayDate(){return new Date().toISOString().split("T")[0]}get15MinTimeKey(){const e=new Date,n=Math.floor(e.getMinutes()/15)*15;return`${e.getHours().toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}async reloadFromStorage(){console.log("[BalanceHistory] Reloading from storage..."),await this.loadFromStorage(),this.notify()}reset(){console.log("[BalanceHistory] Resetting history..."),this.history=[],this.intradayHistory=[],this.notify()}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}getSnapshot(){return this.history}recordSnapshot(e,n,r){const i=this.getTodayDate(),s=e+n+r,o=Date.now(),a=this.history.findIndex(g=>g.date===i),l={date:i,timestamp:o,solValue:e,hlValue:n,pmValue:r,totalValue:s};a>=0?this.history[a]=l:this.history.push(l),this.history.sort((g,x)=>g.date.localeCompare(x.date)),this.history.length>ZZ&&(this.history=this.history.slice(-ZZ));const c=this.get15MinTimeKey(),u=o-1440*60*1e3;this.intradayHistory=this.intradayHistory.filter(g=>g.timestamp>u);const f=this.intradayHistory.findIndex(g=>g.timeKey===c&&o-g.timestamp<900*1e3),m={timestamp:o,timeKey:c,solValue:e,hlValue:n,pmValue:r,totalValue:s};f>=0?this.intradayHistory[f]=m:this.intradayHistory.push(m),this.intradayHistory.length>eee&&(this.intradayHistory=this.intradayHistory.slice(-eee)),this.saveToStorage(),this.notify(),console.log(`[BalanceHistory]  Snapshot saved: SOL=$${e.toFixed(2)}, HL=$${n.toFixed(2)}, PM=$${r.toFixed(2)} [${c}]`)}getHistoryForChart(e=30){return e===1?this.intradayHistory.map(r=>({date:r.timeKey,value:r.totalValue,solValue:r.solValue,hlValue:r.hlValue,pmValue:r.pmValue})):this.history.slice(-e).map(r=>({date:new Date(r.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),value:r.totalValue,solValue:r.solValue,hlValue:r.hlValue,pmValue:r.pmValue}))}hasHistory(){return this.history.length>0||this.intradayHistory.length>0}getHistoryDays(){return this.history.length}hasIntradayHistory(){return this.intradayHistory.length>0}clearHistory(){this.history=[],this.intradayHistory=[],this.saveToStorage(),this.notify()}}const Ga=new $mt,Hmt=(t,e)=>{const[n,r]=T.useState(!0),[i,s]=T.useState({publicKey:null,encryptedPrivateKey:null,solBalance:0,tokens:Qf,assets:[],isUnlocked:!1,ownerPublicKey:null,hlPublicKey:null,hlEncryptedPrivateKey:null,hlBalance:0,hlOwnerPublicKey:null,hlPositions:[],pmPublicKey:null,pmEncryptedPrivateKey:null,pmBalance:0,pmOwnerPublicKey:null}),[o,a]=T.useState(""),[l,c]=T.useState(""),[u,f]=T.useState("SOL"),[m,g]=T.useState(null),[x,v]=T.useState(!1),[w,E]=T.useState(""),[k,I]=T.useState(!1),[D,j]=T.useState(""),[M,U]=T.useState(!1),[V,F]=T.useState(""),[z,K]=T.useState(!1),[H,B]=T.useState(""),[A,P]=T.useState(!1),[R,$]=T.useState(!1),[q,te]=T.useState(!1),[Y,G]=T.useState(""),[O,N]=T.useState(""),[W,X]=T.useState(""),[re,ae]=T.useState(""),[Ee,ue]=T.useState(""),[me,ce]=T.useState("");T.useEffect(()=>{const he=Wg.onSecurityBreach(()=>{i.isUnlocked&&(console.warn("[useVault] Security breach detected - locking vault"),s(ye=>({...ye,isUnlocked:!1})),a(""),g(null),Wg.clearSession(),t("Security alert: Vault locked for protection"))});return()=>he()},[i.isUnlocked,t]),T.useEffect(()=>{if(!e){console.log("[useVault] Waiting for userId before loading vault data..."),r(!0),Ga.reset(),Nt.reset();return}(async()=>{r(!0);try{await Ga.reloadFromStorage(),await Nt.reloadFromStorage(),await Pe.migrateFromLocalStorage(),console.log("[useVault] Loading vault data for user:",e.substring(0,8)+"...");const ye=await Pe.getItem(Pe.getUserKey("agent_vault_pubkey")),Xe=await Pe.getItem(Pe.getUserKey("agent_vault_enc")),et=await Pe.getItem(Pe.getUserKey("agent_owner_pubkey")),it=await Pe.getItem(Pe.getUserKey("agent_hl_vault_pubkey")),Ut=await Pe.getItem(Pe.getUserKey("agent_hl_vault_enc")),xt=await Pe.getItem(Pe.getUserKey("agent_hl_owner_pubkey")),Rt=await Pe.getItem(Pe.getUserKey("agent_pm_vault_pubkey")),nn=await Pe.getItem(Pe.getUserKey("agent_pm_vault_enc")),Qt=await Pe.getItem(Pe.getUserKey("agent_pm_owner_pubkey"));console.log("[useVault] Loaded keys:",{solana:ye?ye.substring(0,8)+"...":null,hyperliquid:it?it.substring(0,8)+"...":null,polymarket:Rt?Rt.substring(0,8)+"...":null}),ye&&Xe?(s(rn=>({...rn,publicKey:ye,encryptedPrivateKey:Xe,ownerPublicKey:et,hlPublicKey:it,hlEncryptedPrivateKey:Ut,hlOwnerPublicKey:xt,pmPublicKey:Rt,pmEncryptedPrivateKey:nn,pmOwnerPublicKey:Qt})),Ne(ye),it&&oe(it),Rt&&Ce(Rt)):it&&Ut?(s(rn=>({...rn,hlPublicKey:it,hlEncryptedPrivateKey:Ut,hlOwnerPublicKey:xt,pmPublicKey:Rt,pmEncryptedPrivateKey:nn,pmOwnerPublicKey:Qt})),oe(it),Rt&&Ce(Rt)):Rt&&nn&&(s(rn=>({...rn,pmPublicKey:Rt,pmEncryptedPrivateKey:nn,pmOwnerPublicKey:Qt})),Ce(Rt))}catch(ye){console.error("[useVault] Failed to load vault from storage",ye)}finally{r(!1)}})()},[e]);const oe=async he=>{try{const ye=await Ft.getUserState(he),Xe=ye.marginSummary,et=Xe?parseFloat(Xe.accountValue):0,it=ye.assetPositions||[];s(Ut=>({...Ut,hlBalance:et,hlPositions:it}))}catch(ye){console.error("Failed to refresh HL balance",ye)}},Ce=async he=>{try{const{ethers:ye}=await Ql(async()=>{const{ethers:nn}=await import("./index-ChzjWDlT.js");return{ethers:nn}},[]),Xe=new ye.JsonRpcProvider("https://polygon-rpc.com"),et="0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",it=["function balanceOf(address) view returns (uint256)"],xt=await new ye.Contract(et,it,Xe).balanceOf(he),Rt=parseFloat(ye.formatUnits(xt,6));s(nn=>({...nn,pmBalance:Rt}))}catch(ye){console.error("Failed to refresh Polymarket balance",ye)}},Ne=async he=>{try{const ye=await ms.getBalance(he),Xe=await ms.getWalletAssets(he);s(et=>({...et,solBalance:ye,assets:Xe}))}catch(ye){console.error("Failed to refresh balance",ye)}};return{vault:i,setVault:s,password:o,setPassword:a,withdrawAmount:l,setWithdrawAmount:c,withdrawNetwork:u,setWithdrawNetwork:f,showBackupModal:x,setShowBackupModal:v,backupKey:w,setBackupKey:E,showHLBackupModal:k,setShowHLBackupModal:I,hlBackupKey:D,setHLBackupKey:j,isImporting:z,setIsImporting:K,importKey:H,setImportKey:B,refreshBalance:Ne,connectOwnerWallet:async()=>{try{const he=await ms.connectWallet();s(ye=>({...ye,ownerPublicKey:he})),await Pe.setItem(Pe.getUserKey("agent_owner_pubkey"),he),t("Solana Owner Wallet Connected: "+he.slice(0,6)+"...")}catch{t("Failed to connect Solana wallet.")}},disconnectOwnerWallet:async()=>{s(he=>({...he,ownerPublicKey:null})),await Pe.removeItem(Pe.getUserKey("agent_owner_pubkey")),t("Solana Owner Wallet Disconnected")},connectHLOwnerWallet:async()=>{try{const{ethereum:he}=window;if(he){const Xe=(await he.request({method:"eth_requestAccounts"}))[0];s(et=>({...et,hlOwnerPublicKey:Xe})),await Pe.setItem(Pe.getUserKey("agent_hl_owner_pubkey"),Xe),t("Hyperliquid Owner Wallet Connected: "+Xe.slice(0,6)+"...")}else t("No Ethereum wallet found! Install MetaMask.")}catch{t("Failed to connect EVM wallet.")}},disconnectHLOwnerWallet:async()=>{s(he=>({...he,hlOwnerPublicKey:null})),await Pe.removeItem(Pe.getUserKey("agent_hl_owner_pubkey")),t("Hyperliquid Owner Wallet Disconnected")},createVault:async()=>{if(!o){t("Password is required");return}try{const he=ms.createVaultKeypair(),ye=Array.from(he.secretKey),Xe=await ir.encrypt(JSON.stringify(ye),o),et=Ft.createVaultWallet(),it=await ir.encrypt(et.privateKey,o);await Pe.setItem(Pe.getUserKey("agent_vault_pubkey"),he.publicKey.toBase58()),await Pe.setItem(Pe.getUserKey("agent_vault_enc"),Xe),await Pe.setItem(Pe.getUserKey("agent_hl_vault_pubkey"),et.address),await Pe.setItem(Pe.getUserKey("agent_hl_vault_enc"),it),s(Ut=>({...Ut,isUnlocked:!0,publicKey:he.publicKey.toBase58(),encryptedPrivateKey:Xe,hlPublicKey:et.address,hlEncryptedPrivateKey:it})),j(et.privateKey),E(LA.encode(he.secretKey)),v(!0),t("Vaults created successfully")}catch(he){console.error("Vault creation failed",he),t("Failed to create vault")}},unlockVault:async()=>{if(!o){t("Password is required");return}try{const he=await Pe.getItem(Pe.getUserKey("agent_vault_enc")),ye=await Pe.getItem(Pe.getUserKey("agent_vault_pubkey")),Xe=await Pe.getItem(Pe.getUserKey("agent_hl_vault_enc")),et=await Pe.getItem(Pe.getUserKey("agent_hl_vault_pubkey"));if((!he||!ye)&&(!Xe||!et)){t("No vault found. Please create one.");return}let it=null,Ut=null,xt=null;if(he&&ye)try{const Rt=await ir.decrypt(he,o),nn=Uint8Array.from(JSON.parse(Rt));if(it=Fo.fromSecretKey(nn),it.publicKey.toBase58()!==ye)throw new Error("Keypair mismatch");g(it)}catch(Rt){throw console.error("Solana unlock failed",Rt),new Error("Incorrect password for Solana Vault")}if(Xe&&et)try{const Rt=await ir.decrypt(Xe,o),{ethers:nn}=await Ql(async()=>{const{ethers:rn}=await import("./index-ChzjWDlT.js");return{ethers:rn}},[]),Qt=new nn.Wallet(Rt);Qt.address.toLowerCase()!==et.toLowerCase()?(console.error(`[Vault]  HL Address Mismatch! Stored: ${et}, Derived: ${Qt.address}`),Ut=Qt.address,t("Warning: Stored HL address mismatch. Using derived address.")):Ut=et,xt=Xe}catch(Rt){throw console.error("Hyperliquid unlock failed",Rt),new Error("Incorrect password for Hyperliquid Vault")}s(Rt=>({...Rt,isUnlocked:!0,publicKey:it?it.publicKey.toBase58():null,encryptedPrivateKey:he||null,hlPublicKey:Ut||null,hlEncryptedPrivateKey:xt||null})),Ut&&oe(Ut),it&&Ne(it.publicKey.toBase58()),await Wg.setSessionHash(o),t("Vault unlocked")}catch(he){console.error("Unlock failed",he),t(he.message||"Incorrect password or corrupted vault")}},requestAirdrop:async()=>{if(i.publicKey)try{t("Requesting 1 SOL Airdrop..."),await ms.airdrop(i.publicKey),t("Airdrop Successful!"),setTimeout(()=>Ne(i.publicKey),2e3)}catch(he){console.error("Airdrop failed",he),t(`Airdrop Failed: ${he.message}`),alert(he.message)}},handleWithdraw:async()=>{if(!i.isUnlocked&&!m){alert("Vault is locked or keypair missing");return}if(!i.isUnlocked||!m){alert("Vault is locked");return}if(!i.ownerPublicKey){alert("Connect Owner Wallet first");return}const he=parseFloat(l);if(isNaN(he)||he<=0){alert("Invalid amount");return}if(he>i.solBalance){alert("Insufficient balance");return}try{t(`Sending ${he} SOL to Owner...`);const ye=await ms.transferSol(m,i.ownerPublicKey,he);t(`Withdrawal Success! Sig: ${ye.slice(0,8)}...`),c(""),Ne(i.publicKey)}catch(ye){console.error(ye),t(`Withdrawal Failed: ${ye.message}`)}},handleWithdrawHL:async()=>{if(!i.isUnlocked){alert("Vault is locked");return}if(!i.hlOwnerPublicKey){alert("Connect Hyperliquid Owner Wallet first");return}if(!i.hlEncryptedPrivateKey){alert("Hyperliquid vault not found");return}const he=parseFloat(l);if(isNaN(he)||he<=1){alert("Amount must be greater than $1 (withdrawal fee)");return}if(he>(i.hlBalance||0)){alert("Insufficient USDC balance");return}try{const ye=await ir.decrypt(i.hlEncryptedPrivateKey,o),Xe=Ft.getWalletFromPrivateKey(ye);t(`Withdrawing ${he} USDC to Hyperliquid Owner...`);const et=await Ft.withdrawUSDC(Xe,i.hlOwnerPublicKey,he);t(`Withdrawal Success! Status: ${et.status}`),c(""),i.hlPublicKey&&setTimeout(()=>oe(i.hlPublicKey),2e3)}catch(ye){console.error(ye),t(`Withdrawal Failed: ${ye.message}`)}},handleWithdrawPM:async()=>{if(!i.isUnlocked){alert("Vault is locked");return}if(!i.pmOwnerPublicKey){alert("Connect Polymarket Owner Wallet first");return}if(!i.pmEncryptedPrivateKey){alert("Polymarket vault not found");return}const he=parseFloat(l);if(isNaN(he)||he<=0){alert("Amount must be greater than 0");return}if(he>(i.pmBalance||0)){alert("Insufficient USDC balance");return}try{const ye=await ir.decrypt(i.pmEncryptedPrivateKey,o),{ethers:Xe}=await Ql(async()=>{const{ethers:rn}=await import("./index-ChzjWDlT.js");return{ethers:rn}},[]),et=new Xe.JsonRpcProvider("https://polygon-rpc.com"),it=new Xe.Wallet(ye,et),Ut="0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",xt=["function transfer(address to, uint256 amount) returns (bool)","function balanceOf(address) view returns (uint256)"],Rt=new Xe.Contract(Ut,xt,it),nn=Xe.parseUnits(he.toString(),6);t(`Withdrawing ${he} USDC to Polymarket Owner...`);const Qt=await Rt.transfer(i.pmOwnerPublicKey,nn);await Qt.wait(),t(`Withdrawal Success! Tx: ${Qt.hash.slice(0,10)}...`),c(""),i.pmPublicKey&&setTimeout(()=>Ce(i.pmPublicKey),2e3)}catch(ye){console.error(ye),t(`Withdrawal Failed: ${ye.message}`)}},importVault:async()=>{if(!o||!H){t("Password and Private Key are required");return}try{const he=LA.decode(H),ye=Fo.fromSecretKey(he),Xe=Array.from(ye.secretKey),et=await ir.encrypt(JSON.stringify(Xe),o);await Pe.setItem(Pe.getUserKey("agent_vault_pubkey"),ye.publicKey.toBase58()),await Pe.setItem(Pe.getUserKey("agent_vault_enc"),et),s(it=>({...it,isUnlocked:!0,publicKey:ye.publicKey.toBase58(),encryptedPrivateKey:et})),t("Vault imported successfully"),K(!1),B("")}catch(he){console.error("Vault import failed",he),t("Invalid Private Key or Import Failed")}},resolveTokenMint:he=>{const ye=he.trim(),Xe=Qf.find(et=>et.symbol.toUpperCase()===ye.toUpperCase());return Xe?Xe.mint:ye},refreshHLBalance:oe,isImportingSolana:A,setIsImportingSolana:P,isImportingHyperliquid:R,setIsImportingHyperliquid:$,solanaPassword:Y,setSolanaPassword:G,hyperliquidPassword:O,setHyperliquidPassword:N,solanaImportKey:re,setSolanaImportKey:ae,hlImportKey:Ee,setHLImportKey:ue,createSolanaVault:async()=>{if(!Y){t("Password is required");return}try{const he=ms.createVaultKeypair(),ye=Array.from(he.secretKey),Xe=await ir.encrypt(JSON.stringify(ye),Y);await Pe.setItem(Pe.getUserKey("agent_vault_pubkey"),he.publicKey.toBase58()),await Pe.setItem(Pe.getUserKey("agent_vault_enc"),Xe),s(et=>({...et,isUnlocked:!0,publicKey:he.publicKey.toBase58(),encryptedPrivateKey:Xe})),g(he),E(LA.encode(he.secretKey)),v(!0),t("Solana Vault created successfully"),G("")}catch(he){console.error("Solana vault creation failed",he),t("Failed to create Solana vault")}},createHyperliquidVault:async()=>{if(!O){t("Password is required");return}try{const he=Ft.createVaultWallet(),ye=await ir.encrypt(he.privateKey,O);await Pe.setItem(Pe.getUserKey("agent_hl_vault_pubkey"),he.address),await Pe.setItem(Pe.getUserKey("agent_hl_vault_enc"),ye),s(Xe=>({...Xe,hlPublicKey:he.address,hlEncryptedPrivateKey:ye})),j(he.privateKey),I(!0),t("Hyperliquid Vault created successfully"),N(""),oe(he.address)}catch(he){console.error("Hyperliquid vault creation failed",he),t("Failed to create Hyperliquid vault")}},importSolanaVault:async()=>{if(!Y||!re){t("Password and Private Key are required");return}try{const he=LA.decode(re),ye=Fo.fromSecretKey(he),Xe=Array.from(ye.secretKey),et=await ir.encrypt(JSON.stringify(Xe),Y);await Pe.setItem(Pe.getUserKey("agent_vault_pubkey"),ye.publicKey.toBase58()),await Pe.setItem(Pe.getUserKey("agent_vault_enc"),et),s(it=>({...it,isUnlocked:!0,publicKey:ye.publicKey.toBase58(),encryptedPrivateKey:et})),g(ye),t("Solana Vault imported successfully"),P(!1),ae(""),G(""),Ne(ye.publicKey.toBase58())}catch(he){console.error("Solana vault import failed",he),t("Invalid Private Key or Import Failed")}},importHyperliquidVault:async()=>{if(!O||!Ee){t("Password and Private Key are required");return}try{let he=Ee.trim();he.startsWith("0x")||(he="0x"+he);const{ethers:ye}=await Ql(async()=>{const{ethers:it}=await import("./index-ChzjWDlT.js");return{ethers:it}},[]),Xe=new ye.Wallet(he),et=await ir.encrypt(he,O);await Pe.setItem(Pe.getUserKey("agent_hl_vault_pubkey"),Xe.address),await Pe.setItem(Pe.getUserKey("agent_hl_vault_enc"),et),s(it=>({...it,hlPublicKey:Xe.address,hlEncryptedPrivateKey:et})),t("Hyperliquid Vault imported successfully"),$(!1),ue(""),N(""),oe(Xe.address)}catch(he){console.error("Hyperliquid vault import failed",he),t("Invalid Private Key or Import Failed")}},isImportingPolymarket:q,setIsImportingPolymarket:te,polymarketPassword:W,setPolymarketPassword:X,pmImportKey:me,setPMImportKey:ce,createPolymarketVault:async()=>{if(!W){t("Password is required");return}try{const{ethers:he}=await Ql(async()=>{const{ethers:et}=await import("./index-ChzjWDlT.js");return{ethers:et}},[]),ye=he.Wallet.createRandom(),Xe=await ir.encrypt(ye.privateKey,W);await Pe.setItem(Pe.getUserKey("agent_pm_vault_pubkey"),ye.address),await Pe.setItem(Pe.getUserKey("agent_pm_vault_enc"),Xe),s(et=>({...et,pmPublicKey:ye.address,pmEncryptedPrivateKey:Xe})),F(ye.privateKey),U(!0),t("Polymarket Vault created successfully"),X(""),Ce(ye.address)}catch(he){console.error("Polymarket vault creation failed",he),t("Failed to create Polymarket vault")}},importPolymarketVault:async()=>{if(!W||!me){t("Password and Private Key are required");return}try{let he=me.trim();he.startsWith("0x")||(he="0x"+he);const{ethers:ye}=await Ql(async()=>{const{ethers:it}=await import("./index-ChzjWDlT.js");return{ethers:it}},[]),Xe=new ye.Wallet(he),et=await ir.encrypt(he,W);await Pe.setItem(Pe.getUserKey("agent_pm_vault_pubkey"),Xe.address),await Pe.setItem(Pe.getUserKey("agent_pm_vault_enc"),et),s(it=>({...it,pmPublicKey:Xe.address,pmEncryptedPrivateKey:et})),t("Polymarket Vault imported successfully"),te(!1),ce(""),X(""),Ce(Xe.address)}catch(he){console.error("Polymarket vault import failed",he),t("Invalid Private Key or Import Failed")}},connectPMOwnerWallet:async()=>{try{const{ethereum:he}=window;if(he){const Xe=(await he.request({method:"eth_requestAccounts"}))[0];s(et=>({...et,pmOwnerPublicKey:Xe})),await Pe.setItem(Pe.getUserKey("agent_pm_owner_pubkey"),Xe),t("Polymarket Owner Wallet Connected: "+Xe.slice(0,6)+"...")}else t("No Ethereum wallet found! Install MetaMask.")}catch{t("Failed to connect EVM wallet.")}},disconnectPMOwnerWallet:async()=>{s(he=>({...he,pmOwnerPublicKey:null})),await Pe.removeItem(Pe.getUserKey("agent_pm_owner_pubkey")),t("Polymarket Owner Wallet Disconnected")},refreshPMBalance:Ce,showPMBackupModal:M,setShowPMBackupModal:U,pmBackupKey:V,setPMBackupKey:F,deleteAccount:async()=>{try{await Pe.clear(),window.location.reload()}catch(he){console.error(he)}}}},tu=["#E7FE55","#D4EB4C","#C1D843","#AEC53A","#9BB231","#889F28","#758C1F","#627916","#4F660D","#3C5304"];Array.from({length:30},(t,e)=>({date:new Date(Date.now()-(29-e)*24*60*60*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric"}),value:100+Math.random()*50+e*2}));const Vmt=t=>{const[e,n]=T.useState([]),[r,i]=T.useState([]),[s,o]=T.useState({}),a=T.useSyncExternalStore(at.subscribe.bind(at),at.getSnapshot.bind(at));T.useEffect(()=>{const u=async()=>{const f={};try{const m=await no.getMarketPrice("SOLUSDT");f.SOL=m.price}catch(m){console.error("Failed to fetch SOL price",m)}for(const m of t.assets||[])if(!(!m.symbol||m.symbol==="UNKNOWN"))try{const g=m.symbol.toUpperCase();if(f[g])continue;const x=await no.getMarketPrice(`${g}USDT`);f[g]=x.price}catch(g){console.warn(`Failed to fetch price for ${m.symbol}`,g)}f.USDC=1,o(m=>({...m,...f}))};if(t.isUnlocked){u();const f=setInterval(u,6e4);return()=>clearInterval(f)}},[t.isUnlocked,t.assets]);const l=T.useSyncExternalStore(Ga.subscribe.bind(Ga),Ga.getSnapshot.bind(Ga));T.useEffect(()=>{if(!t.isUnlocked)return;const u=s.SOL||0,f=t.solBalance*u,m=t.hlBalance||0,g=(a.portfolioValue||0)+(a.currentExposure||0);(f>0||m>0||g>0)&&Ga.recordSnapshot(f,m,g)},[t.isUnlocked,t.solBalance,s,t.hlBalance,a.portfolioValue,a.currentExposure]),T.useEffect(()=>{if(!t.isUnlocked)return;const u=()=>{const g=s.SOL||0,x=t.solBalance*g,v=t.hlBalance||0,w=(a.portfolioValue||0)+(a.currentExposure||0);(x>0||v>0||w>0)&&(Ga.recordSnapshot(x,v,w),console.log("[useMarketData]  Periodic 15-min snapshot recorded"))};u();const f=900*1e3,m=setInterval(u,f);return()=>clearInterval(m)},[t.isUnlocked]),T.useEffect(()=>{if(Ga.hasHistory()){const u=Ga.getHistoryForChart(1);n(u);const f=Ga.getHistoryForChart(365);i(f)}},[l]);const c=T.useMemo(()=>{const u=[];let f=0,m=0;const g=s.SOL||0,x=t.solBalance*g;t.solBalance>0&&(u.push({name:"Solana",symbol:"SOL",value:x,amount:t.solBalance,price:g,color:tu[0],hasPrice:g>0,network:"solana"}),g>0?f+=x:m++);const v=t.hlBalance||0;v>0&&(u.push({name:"USDC (Hyperliquid)",symbol:"USDC",value:v,amount:v,price:1,color:tu[1],hasPrice:!0,network:"hyperliquid"}),f+=v),t.hlPositions&&t.hlPositions.length>0&&t.hlPositions.forEach((E,k)=>{const I=E.position,D=parseFloat(I.szi),j=parseFloat(I.entryPx),M=parseFloat(I.unrealizedPnl),U=Math.abs(D*j)+M;U>0&&(u.push({name:`${I.coin} ${D>=0?"Long":"Short"}`,symbol:I.coin,value:U,amount:Math.abs(D),price:j,color:tu[(k+2)%tu.length],hasPrice:!0,network:"hyperliquid",pnl:M}),f+=U)});const w=a.portfolioValue||0;return w>0&&(u.push({name:"USDC (Polymarket)",symbol:"USDC",value:w,amount:w,price:1,color:tu[2],hasPrice:!0,network:"polymarket"}),f+=w),a.activePositions&&a.activePositions.length>0&&a.activePositions.forEach((E,k)=>{E.currentValue>0&&(u.push({name:`${E.question}`,symbol:E.outcome,value:E.currentValue,amount:E.shares,price:E.currentPrice,color:tu[(k+4)%tu.length],hasPrice:!0,network:"polymarket",pnl:E.unrealizedPnl}),f+=E.currentValue)}),(t.assets||[]).forEach((E,k)=>{var D;if(E.isNft||((D=E.symbol)==null?void 0:D.toUpperCase())==="SOL")return;const I=parseFloat(E.amount)/Math.pow(10,E.decimals);if(I>0){const j=s[E.symbol]||0,M=I*j;u.push({name:E.name||E.symbol,symbol:E.symbol,value:M,amount:I,price:j,color:tu[(k+3)%tu.length],hasPrice:j>0,network:"solana"}),j>0?f+=M:m++}}),m>0&&u.forEach(E=>{E.hasPrice||(E.value=E.amount*1,E.price=1,f+=E.value)}),{data:u.sort((E,k)=>k.value-E.value),totalValue:f}},[t.solBalance,t.hlBalance,t.hlPositions,t.assets,s,a.portfolioValue,a.currentExposure,a.activePositions]);return{portfolioHistoryDaily:e,portfolioHistoryLongTerm:r,assetPrices:s,assetAllocationData:c}},Gmt=t=>{const[e,n]=T.useState([]),[r,i]=T.useState([]),[s,o]=T.useState(4);T.useEffect(()=>{(async()=>{const c=Pe.getUserKey("agent_activity_log"),u=await Pe.getItem(c);u&&i(JSON.parse(u))})()},[]);const a=(l,c,u)=>{const f={type:l,desc:c,signature:u,timestamp:Date.now(),status:"pending"};i(m=>{const g=[f,...m].slice(0,50);return Pe.setItem(Pe.getUserKey("agent_activity_log"),JSON.stringify(g)),g})};return T.useEffect(()=>{if(!t.isUnlocked)return;const l=async()=>{try{if(Ft.isDealerActive()){console.log("[ActivityFeed]   Skipping fetch - dealer is active");return}const u=[];if(t.publicKey){const m=(await ms.getRecentTransactions(t.publicKey)).map(g=>({type:g.err?"Failed":"Transaction",desc:`Signature: ${g.signature.slice(0,8)}...`,time:g.blockTime?new Date(g.blockTime*1e3).toLocaleTimeString():"Unknown",status:g.err?"failed":"success",signature:g.signature,network:"solana",timestamp:g.blockTime?g.blockTime*1e3:0}));u.push(...m)}if(t.hlPublicKey){const m=(await Ft.getUserFillsShared(t.hlPublicKey,20)).map(g=>{const x=g.side==="B"?"Buy":"Sell",v=g.dir||x,w=parseFloat(g.closedPnl||"0"),E=w!==0?` (PnL: ${w>=0?"+":""}$${w.toFixed(2)})`:"";return{type:v,desc:`${g.coin} ${parseFloat(g.sz).toFixed(4)} @ $${parseFloat(g.px).toFixed(2)}${E}`,time:new Date(g.time).toLocaleTimeString(),status:"success",signature:`hl-${g.tid}`,network:"hyperliquid",timestamp:g.time}});u.push(...m)}u.sort((f,m)=>m.timestamp-f.timestamp),n(u)}catch(u){console.error("Failed to fetch history",u)}};l();const c=setInterval(l,3e4);return()=>clearInterval(c)},[t.isUnlocked,t.publicKey,t.hlPublicKey]),{activityFeed:e,localActivityLog:r,activityDisplayCount:s,setActivityDisplayCount:o,addActivityLog:a}},MO="vault-scheduler",qmt=(t,e,n,r,i)=>{const[s,o]=T.useState([]),[a,l]=T.useState(!1);T.useEffect(()=>{(async()=>{const f=Pe.getUserKey("agent_scheduled_tasks"),m=await Pe.getItem(f);m&&o(JSON.parse(m)),l(!0)})()},[]);const c=T.useRef(null);return T.useEffect(()=>{if(!t.isUnlocked){Aa.stop(MO);return}console.log("[Scheduler]  Starting scheduler loop with Web Worker timer (background-safe, checks every 10s)");const u=async()=>{var g,x,v,w,E,k,I,D,j,M,U,V;const f=Date.now(),m=s.filter(F=>F.status==="active");if(m.length===0){console.log("[Scheduler]   No active tasks to check");return}console.log(`[Scheduler]  Checking ${m.length} active task(s)...`);for(const F of m){let z=!1;if(F.executeAt&&F.executeAt<=f)console.log(`[Scheduler]  Time-based task ${String(F.id).slice(0,6)} triggered`),z=!0;else if(F.condition)try{const{symbol:K,indicator:H,operator:B,value:A,timeframe:P}=F.condition;console.log(`[Scheduler]  Checking ${H.toUpperCase()} for ${K} (${P}): target ${B} ${A}`);const R=await no.getIndicator(K,H,P);let $=0;if(typeof R.value=="number")$=R.value;else if(typeof R.value=="object"&&R.value!==null){const q=H.toLowerCase();q==="macd"?$=R.value.macd||0:q==="stoch"||q==="stochastic"?$=R.value.k||0:"value"in R.value?$=R.value.value:"rsi"in R.value?$=R.value.rsi:console.warn(`[Scheduler] Unknown indicator object structure for ${H}:`,R.value)}console.log(`[Scheduler]  Current ${H.toUpperCase()}: ${$.toFixed(2)} | Condition: ${B} ${A}`),B===">"&&$>A&&(z=!0),B==="<"&&$<A&&(z=!0),B===">="&&$>=A&&(z=!0),B==="<="&&$<=A&&(z=!0),B==="=="&&$==A&&(z=!0),console.log(z?`[Scheduler]  Condition MET! ${$.toFixed(2)} ${B} ${A}`:`[Scheduler]  Condition NOT met: ${$.toFixed(2)} ${B} ${A}`)}catch(K){console.error(`[Scheduler]   Error checking condition for task ${F.id}:`,K)}if(z){if(((g=s.find(B=>B.id===F.id))==null?void 0:g.status)==="executing"){console.log(`[Scheduler]   Task ${String(F.id).slice(0,6)} is already executing, skipping...`);continue}const H=(x=s.find(B=>B.id===F.id))==null?void 0:x.lastExecuted;if(H&&Date.now()-H<3e5){console.log(`[Scheduler]  Task ${String(F.id).slice(0,6)} was recently completed (${Math.round((Date.now()-H)/1e3)}s ago), skipping...`);continue}console.log(`[Scheduler]  Executing task ${String(F.id).slice(0,6)} (${F.type})...`),o(B=>B.map(A=>A.id===F.id?{...A,status:"executing"}:A));try{const B=JSON.parse(F.params||"{}");let A="";if(!t.encryptedPrivateKey)throw new Error("Vault encrypted key not available");const P=await ir.decrypt(t.encryptedPrivateKey,e),R=Uint8Array.from(JSON.parse(P)),$=Fo.fromSecretKey(R);if(F.type==="SWAP"){console.log(`[Scheduler]  Swapping ${B.amount} ${B.inputToken} -> ${B.outputToken}`);try{A=await ms.executeSwap($,B.inputToken,B.outputToken,B.amount,q=>console.log(`[Scheduler] ${q}`)),i("Swap",`Scheduled: Swapped ${B.amount} ${B.inputToken} -> ${B.outputToken}`,A)}catch(q){if((v=q.message)!=null&&v.includes("timeout")||q.isTimeout){console.warn("[Scheduler]   Swap confirmation timeout. Verifying transaction status...");const te=q.signature;if(te)try{const Y=await ms.connection.getSignatureStatus(te),G=Y==null?void 0:Y.value;if((G==null?void 0:G.confirmationStatus)==="finalized"||(G==null?void 0:G.confirmationStatus)==="confirmed"){console.log(`[Scheduler]  Transaction verified as successful: ${te}`),A=te,i("Swap",`Scheduled: Swapped ${B.amount} ${B.inputToken} -> ${B.outputToken}`,te),o(O=>{const N=O.map(W=>W.id===F.id?{...W,status:"completed",lastExecuted:Date.now(),result:`Success: ${te}`}:W);return Pe.setItem(Pe.getUserKey("agent_scheduled_tasks"),JSON.stringify(N)),N}),n(`Task ${String(F.id).slice(0,4)} completed: ${te.slice(0,8)}...`),r(t.publicKey);continue}else{if(G!=null&&G.err)throw console.error("[Scheduler]  Transaction failed on-chain:",G.err),new Error(`Transaction failed: ${JSON.stringify(G.err)}`);console.warn(`[Scheduler]   Transaction status unknown. Signature: ${te}`),o(O=>{const N=O.map(W=>W.id===F.id?{...W,status:"completed",lastExecuted:Date.now(),result:`Warning: Status unknown - verify manually: ${te}`}:W);return Pe.setItem(Pe.getUserKey("agent_scheduled_tasks"),JSON.stringify(N)),N}),n(`Task ${String(F.id).slice(0,4)} - verify: ${te.slice(0,8)}...`),r(t.publicKey);continue}}catch(Y){console.error("[Scheduler]   Failed to verify transaction:",Y)}}throw q}}else if(F.type==="TRANSFER"){if(console.log(`[Scheduler]  Transferring ${B.amount} tokens to Owner`),!t.ownerPublicKey)throw new Error("Owner wallet not connected");try{B.tokenMint==="So11111111111111111111111111111111111111112"?A=await ms.transferSol($,t.ownerPublicKey,B.amount):A=await ms.transferToken($,B.tokenMint,t.ownerPublicKey,B.amount,B.decimals||9),i("Transfer",`Scheduled: Sent ${B.amount} to Owner`,A)}catch(q){if((w=q.message)!=null&&w.includes("timeout")||q.isTimeout){console.warn("[Scheduler]   Transfer confirmation timeout. Verifying transaction status...");const te=q.signature;if(te)try{const Y=await ms.connection.getSignatureStatus(te),G=Y==null?void 0:Y.value;if((G==null?void 0:G.confirmationStatus)==="finalized"||(G==null?void 0:G.confirmationStatus)==="confirmed"){console.log(`[Scheduler]  Transaction verified as successful: ${te}`),A=te,i("Transfer",`Scheduled: Sent ${B.amount} to Owner`,te),o(O=>{const N=O.map(W=>W.id===F.id?{...W,status:"completed",lastExecuted:Date.now(),result:`Success: ${te}`}:W);return Pe.setItem(Pe.getUserKey("agent_scheduled_tasks"),JSON.stringify(N)),N}),n(`Task ${String(F.id).slice(0,4)} completed: ${te.slice(0,8)}...`),r(t.publicKey);continue}else{if(G!=null&&G.err)throw console.error("[Scheduler]  Transaction failed on-chain:",G.err),new Error(`Transaction failed: ${JSON.stringify(G.err)}`);console.warn(`[Scheduler]   Transaction status unknown. Signature: ${te}`),o(O=>{const N=O.map(W=>W.id===F.id?{...W,status:"completed",lastExecuted:Date.now(),result:`Warning: Status unknown - verify manually: ${te}`}:W);return Pe.setItem(Pe.getUserKey("agent_scheduled_tasks"),JSON.stringify(N)),N}),n(`Task ${String(F.id).slice(0,4)} - verify: ${te.slice(0,8)}...`),r(t.publicKey);continue}}catch(Y){console.error("[Scheduler]   Failed to verify transaction:",Y)}}throw q}}else if(F.type==="ALERT")console.log(`[Scheduler]  Alert triggered for task ${String(F.id).slice(0,6)}`),A="ALERT_TRIGGERED",n(` ALERT: ${(E=F.condition)==null?void 0:E.indicator.toUpperCase()} ${(k=F.condition)==null?void 0:k.operator} ${(I=F.condition)==null?void 0:I.value}`);else if(F.type==="HL_ORDER"){if(console.log(`[Scheduler]  Executing Hyperliquid Order: ${B.side} ${B.size} ${B.coin}`),!t.hlEncryptedPrivateKey)throw new Error("Hyperliquid Vault not available");const q=await ir.decrypt(t.hlEncryptedPrivateKey,e),te=Ft.getWalletFromPrivateKey(q);B.leverage&&B.leverage!==1&&await zn.updateLeverage(te,B.coin,B.leverage,!1);const Y=B.isBuy!==void 0?B.isBuy:B.side==="B";let G=B.size;if(G==null&&B.usdcAmount){console.log(`[Scheduler]  Calculating size for ${B.usdcAmount} USDC of ${B.coin}...`);try{let ae=B.price;if(!ae){const ce=await Ft.getMarketData(B.coin),oe=parseFloat(ce.levels[1][0].px),Ce=parseFloat(ce.levels[0][0].px);ae=Y?oe:Ce,console.log(`[Scheduler]   Current Price for ${B.coin}: ${ae}`)}if(!ae||ae===0)throw new Error("Could not determine price for size calculation");const Ee=await Ft.getAssetDecimals(B.coin),ue=B.usdcAmount/ae,me=Math.pow(10,Ee);G=Math.floor(ue*me)/me,console.log(`[Scheduler]  Calculated Size: ${G} ${B.coin} (Decimals: ${Ee})`)}catch(ae){throw console.error("[Scheduler]  Error calculating size:",ae),new Error(`Failed to calculate order size: ${ae.message}`)}}if(!G||G<=0)throw new Error(`Invalid order size: ${G}`);let O=B.orderType||"limit",N=B.price;const W=await Ft.getAssetDecimals(B.coin),X=Math.max(0,6-W);if(O==="market"){console.log("[Scheduler]  Converting Market Order to Limit IOC with slippage...");const ae=await Ft.getMarketData(B.coin),Ee=parseFloat(ae.levels[0][0].px),ue=parseFloat(ae.levels[1][0].px),me=Y?ue:Ee,ce=.05;let oe=Y?me*(1+ce):me*(1-ce),Ce=parseFloat(oe.toFixed(X));Ce=parseFloat(Ce.toPrecision(5)),N=parseFloat(Ce.toFixed(X)),O="ioc",console.log(`[Scheduler]   Market -> IOC: Base ${me} -> Slippage ${N}`)}else if(N){let ae=parseFloat(N.toFixed(X));ae=parseFloat(ae.toPrecision(5)),N=parseFloat(ae.toFixed(X)),console.log(`[Scheduler]   Limit price rounded: ${B.price} -> ${N} (maxDecimals=${X})`)}const re=await zn.createOrder(te,B.coin,Y,G,N,{orderType:O,reduceOnly:B.reduceOnly||!1,stopLoss:B.stopLoss,takeProfit:B.takeProfit});if(re.status==="ok"){const ae=(M=(j=(D=re.response)==null?void 0:D.data)==null?void 0:j.statuses)==null?void 0:M[0];if(ae!=null&&ae.error)throw new Error(`HL Order Error: ${ae.error}`);A=`HL_ORDER:${((U=ae==null?void 0:ae.filled)==null?void 0:U.oid)||((V=ae==null?void 0:ae.resting)==null?void 0:V.oid)||"placed"}`,i("HL Order",`Placed ${B.side} ${B.size} ${B.coin} @ ${B.price}`,A)}else throw new Error(`HL Order Failed: ${JSON.stringify(re)}`)}o(q=>{const te=q.map(Y=>Y.id===F.id?{...Y,status:"completed",lastExecuted:Date.now(),result:`Success: ${A}`}:Y);return Pe.setItem(Pe.getUserKey("agent_scheduled_tasks"),JSON.stringify(te)),te}),console.log(`[Scheduler]  Task ${String(F.id).slice(0,6)} completed! TX: ${A.slice(0,12)}...`),n(`Task ${String(F.id).slice(0,4)} executed: ${A.slice(0,8)}...`),r(t.publicKey)}catch(B){console.error(`[Scheduler]  Task ${F.id} failed:`,B),o(A=>{const P=A.map(R=>R.id===F.id?{...R,status:"failed",lastExecuted:Date.now(),result:B.message}:R);return Pe.setItem(Pe.getUserKey("agent_scheduled_tasks"),JSON.stringify(P)),P}),n(`Task ${String(F.id).slice(0,4)} failed: ${B.message}`)}}}};return c.current=u,Aa.start(MO,1e4,()=>{c.current&&c.current()}),u(),()=>{console.log("[Scheduler]  Stopping scheduler loop"),Aa.stop(MO)}},[t.isUnlocked,s]),{scheduledTasks:s,setScheduledTasks:o}};var Kmt={};const Wmt="agent_conversation_",Ymt="agent_conversations_metadata";class Gu{static getConversationKey(e){return Pe.getUserKey(`${Wmt}${e}`)}static getMetadataKey(){return Pe.getUserKey(Ymt)}static async saveConversation(e,n){if(!Kmt.TEST&&!n)throw new Error("Password required for encryption");try{const r=await ir.encrypt(JSON.stringify(e),n);await Pe.setItem(this.getConversationKey(e.id),r);const i={id:e.id,title:e.title,lastMessage:e.lastMessage,timestamp:e.timestamp};await this.updateMetadata(i)}catch(r){throw console.error("Failed to save conversation:",r),r}}static async updateMetadata(e){const n=await Pe.getItem(this.getMetadataKey());let r=n?JSON.parse(n):[];if(r=r.filter(i=>i.id!==e.id),r.unshift(e),r.length>50){const i=r.pop();i&&await Pe.removeItem(this.getConversationKey(i.id))}await Pe.setItem(this.getMetadataKey(),JSON.stringify(r))}static async getHistory(){const e=this.getMetadataKey();console.log("[ConversationService] Loading history from key:",e);const n=await Pe.getItem(e);if(console.log("[ConversationService] Raw data:",n?`${n.length} characters`:"null"),!n)return[];try{const r=JSON.parse(n);return console.log("[ConversationService] Parsed conversations:",Array.isArray(r)?r.length:"not array"),Array.isArray(r)?r:[]}catch(r){return console.error("Failed to parse conversation history:",r),[]}}static async loadConversation(e,n){const r=await Pe.getItem(this.getConversationKey(e));if(!r)return null;try{const i=await ir.decrypt(r,n);return JSON.parse(i)}catch(i){throw console.error(`Failed to load conversation ${e}:`,i),new Error("Failed to decrypt conversation. Wrong password?")}}static async deleteConversation(e){await Pe.removeItem(this.getConversationKey(e));const n=await Pe.getItem(this.getMetadataKey());if(n){let r=JSON.parse(n);r=r.filter(i=>i.id!==e),await Pe.setItem(this.getMetadataKey(),JSON.stringify(r))}}static generateTitle(e){return e?e.length>30?e.substring(0,30)+"...":e:"New Conversation"}}const Jmt=(t,e,n,r,i,s,o)=>{const[a,l]=T.useState([]),[c,u]=T.useState(null),[f,m]=T.useState(""),[g,x]=T.useState(!1),[v,w]=T.useState(""),E=T.useRef(null);T.useEffect(()=>{E.current&&(E.current.scrollTop=E.current.scrollHeight)},[]),T.useEffect(()=>{E.current&&(E.current.scrollTop=E.current.scrollHeight)},[a]);const k=()=>{var M,U;try{const V=tm.getApiKey();return V||((U=(M=window.process)==null?void 0:M.env)==null?void 0:U.GEMINI_API_KEY)}catch{return}};return{messages:a,setMessages:l,activeConversationId:c,loadConversation:M=>{l(M.messages),u(M.id)},startNewConversation:()=>{l([]),u(null),m(""),x(!1),w("")},inputMessage:f,setInputMessage:m,isAiProcessing:g,aiStatus:v,scrollRef:E,handleSendMessage:async()=>{var F,z,K,H,B,A,P,R,$;if(!f.trim())return;const M=k();if(!M){r("System: API Key not found in environment.");return}const U={id:Date.now().toString(),role:"user",content:f,timestamp:Date.now()};let V=c;V||(V=Date.now().toString(),u(V)),l(q=>{const te=[...q,U];if(t.isUnlocked&&e&&V){q.length===0&&Gu.generateTitle(U.content);const Y={id:V,title:q.length===0?Gu.generateTitle(U.content):"Conversation",lastMessage:U.content,timestamp:Date.now(),messages:te};Gu.saveConversation(Y,e).catch(G=>console.error("Auto-save failed",G))}return te}),m(""),x(!0),w("Thinking...");try{tm.initialize(M);const q=Nt.getSnapshot(),te=q.logs.slice(0,5).map(ue=>`[${new Date(ue.timestamp).toLocaleTimeString()}] ${ue.type}: ${ue.message}`).join(`
`);let Y="",G="";if(t.hlPublicKey)try{const ue=await zn.getUserFills(t.hlPublicKey);if(ue&&Array.isArray(ue)&&ue.length>0){let me=0,ce=0,oe=0,Ce=0,Ne=0;ue.forEach(We=>{const St=parseFloat(We.closedPnl||"0"),st=parseFloat(We.fee||"0");me+=St-st,Ne+=st,Ce+=parseFloat(We.px)*parseFloat(We.sz),St>0?ce++:St<0&&oe++});const $e=ce+oe,Ze=$e>0?ce/$e*100:0;Y=`
          **[PERFORMANCE METRICS - Trading Results]**
          - Total Profit/Loss: ${me>=0?"+":""}$${me.toFixed(2)} USD
          - Win Rate: ${Ze.toFixed(1)}% (${ce} wins / ${oe} losses)
          - Total Trades: ${ue.length}
          - Total Volume: $${Ce.toFixed(2)} USD
          - Total Fees Paid: $${Ne.toFixed(2)} USD`,G=`
          **[RECENT TRADES - Last 5 Fills]**
${[...ue].sort((We,St)=>St.time-We.time).slice(0,5).map(We=>{const St=parseFloat(We.closedPnl||"0"),st=St!==0?` | PnL: ${St>=0?"+":""}$${St.toFixed(2)}`:"";return`          - ${We.coin} ${We.side==="B"?"BUY":"SELL"} ${We.sz} @ $${parseFloat(We.px).toFixed(2)}${st} (${new Date(We.time).toLocaleString()})`}).join(`
`)}`}else Y=`
          **[PERFORMANCE METRICS]**
          - No trading history yet. Dealer has not executed any trades.`}catch(ue){console.warn("[Agent] Could not fetch dealer performance:",ue),Y=`
          **[PERFORMANCE METRICS]**
          - Unable to fetch trading history at this moment.`}else Y=`
          **[PERFORMANCE METRICS]**
          - Hyperliquid wallet not connected. Cannot fetch trading data.`;const O=`
          **HYPERLIQUID DEALER CONTEXT (AUTONOMOUS TRADING ENGINE):**
          You have FULL access to the Hyperliquid Dealer's state, performance, and trading history.
          
          **[STATUS DATA - Current State]**
          - Dealer Status: ${q.isOn?" ACTIVE":" INACTIVE"}
          - Currently Analyzing: ${q.isAnalyzing?"Yes":"No"}
          - Current Task: ${q.currentTask||"Idle"}
          - Current Signal: ${q.currentSignal||"No signal"}
          - Trend Assessment: ${q.trendAssessment}
          - Current Exposure: $${q.currentExposure.toFixed(2)} USDC
          ${Y}
          ${G}
          
          **[CONFIGURATION DATA - Only mention when user asks to CHANGE settings]**
          - Max Leverage: ${q.settings.maxLeverage}x
          - Max Position Size: $${q.settings.maxPositionSizeUSDC} USDC
          - Max Open Positions: ${q.settings.maxOpenPositions}
          - Trading Pairs: ${q.settings.tradingPairs.join(", ")}
          - Check Interval: ${q.settings.checkIntervalSeconds}s
          - Bankroll: ${q.settings.bankrollType} (${q.settings.bankrollType==="MANUAL"?"$"+q.settings.manualBankroll:"All Available"})
          
          **[ACTIVITY LOGS - Only show if user asks about activity/history]**
          ${te||"No recent activity"}
          
          **RESPONSE GUIDELINES (CRITICAL):**
          
          1. **STATUS QUESTIONS** (e.g., "What is the dealer doing?", "O que o dealer est fazendo?"):
             - Show: Status (active/inactive), current task, current signal
             - Keep response SHORT and concise (2-3 sentences max)
             - DO NOT list all settings or metrics unless asked
          
          2. **PERFORMANCE/RESULTS QUESTIONS** (e.g., "How much profit?", "Quanto lucrou?", "What's my win rate?"):
             - Use the PERFORMANCE METRICS data above
             - Answer specifically what was asked
             - You CAN mention recent trades if relevant
          
          3. **CONFIGURATION CHANGE REQUESTS** (e.g., "I want to change leverage", "Quero mudar os pares"):
             - Show the relevant current setting
             - Include the configuration navigation button:
             
             [ Go to Dealer Configuration](nav://DEALER_CONFIG)
          
          4. **TRADE REASONING QUESTIONS** (e.g., "Why did you open BTC?", "Por que o Dealer entrou em ETH?", "Explique essa operao"):
             - Use the 'getDealerTradeHistory' tool to fetch detailed reasoning
             - The tool returns the AI's analysis and confidence for each trade
             - Explain the reasoning in a conversational way
             - Include entry price, size, and confidence level
          
          5. **OPEN POSITIONS QUESTIONS** (e.g., "Quais posies esto abertas?", "What positions are open?", "Show my positions"):
             - The Hyperliquid Dealer operates ONLY on Hyperliquid - so if user asks about Dealer positions, use 'getHLBalance'
             - If the conversation context is about Dealer (trading, positions, anlise), assume Hyperliquid - DO NOT ask which network
             - Use the 'getHLBalance' tool to fetch LIVE positions from Hyperliquid
             - This shows CURRENT open positions with entry price, size, and unrealized PnL
             - Only ask "Solana ou Hyperliquid?" if there's no context at all about Dealer
             
             **CRITICAL - DEALER POSITION QUERIES:**
             When user asks ANY of these, IMMEDIATELY call 'getHLBalance':
             - "posies do dealer", "dealer positions"
             - "quais posies", "what positions" (when dealer context exists)
             - "posies abertas", "open positions" (when dealer context exists)
             - "quais?" as follow-up to a position question
             DO NOT respond with just text - CALL THE TOOL!
          
          6. **SPECIFIC QUESTIONS**: Answer ONLY what was asked. Don't dump all data.
          `,N=`
          You are Vault Operator, an autonomous DeFi Agent managing TWO separate vaults: Solana and Hyperliquid.
          Your name is Vault Operator. You also respond to just "Operator". When users ask "who are you" or similar questions, introduce yourself as Vault Operator.
          
          **YOUR IDENTITY:**
          - Solana Vault Address: ${t.publicKey||"UNKNOWN"}
          - Hyperliquid Vault Address: ${t.hlPublicKey||"NOT CREATED"}
          - Your Owner's Wallet: ${t.ownerPublicKey||"NOT CONNECTED"}
          - Current Vault SOL Balance: ${t.solBalance.toFixed(4)} SOL
          
          ${O}
          
          **NETWORK CONTEXT AWARENESS (CRITICAL):**
          You manage TWO separate vaults on different networks:
          1. **Solana Vault** - for SOL and SPL tokens (USDC, RAY, etc.)
          2. **Hyperliquid Vault** - for perpetual trading with USDC on Hyperliquid Testnet
          
          **KEYWORD RECOGNITION:**
          - "hype", "hyperliquid", "hl" = Hyperliquid operations  call 'getHLBalance' for positions/balance
          - "sol", "solana" = Solana operations  call 'getVaultBalance' for balance
          - "dealer", "hyperliquid dealer", "trading bot", "autonomous trading" = Hyperliquid Dealer questions (implies Hyperliquid)
          
          **CRITICAL - NETWORK vs COIN DISAMBIGUATION:**
          "Solana" and "Hyperliquid" are BOTH network names AND coin names!
          
          CONTEXT CLUES FOR NETWORK:
          - "saldo", "balance", "posies", "positions", "carteira", "wallet"  asking about NETWORK
          - "enviar", "transferir", "withdraw", "sacar"  asking about NETWORK
          - Following a question about "which network?"  answering about NETWORK
          
          CONTEXT CLUES FOR COIN/TOKEN:
          - "preo", "price", "comprar", "buy", "vender", "sell"  asking about COIN
          - "anlise", "analyze", "RSI", "indicador"  asking about COIN
          - "abrir posio", "open position", "long", "short"  trading the COIN
          
          EXAMPLES:
          - "Qual meu saldo no Hyperliquid?"  NETWORK (getHLBalance)
          - "Qual o preo do HYPE?"  COIN (getMarketPrice with HYPEUSDT)
          - "Qual meu saldo de SOL?"  COIN balance on Solana network (getVaultBalance)
          - "Check Solana network"  NETWORK (getVaultBalance without token)
          - "Buy SOL on Hyperliquid"  Trading SOL COIN on HL network
          
          **CRITICAL - NETWORK RESPONSE HANDLING:**
          If the previous message was a question about which network and user responds with:
          - "hype", "hyperliquid", "hl"  IMMEDIATELY call 'getHLBalance' tool - DO NOT just acknowledge
          - "sol", "solana"  IMMEDIATELY call 'getVaultBalance' tool - DO NOT just acknowledge
          - The user is answering your question, so EXECUTE the action right away
          
          **TRANSFER DISAMBIGUATION (CRITICAL):**
          When a user requests a transfer (e.g., "send 1 USDC", "transfer USDC to me"):
          1. Check the conversation context:
             - If they just checked Hyperliquid balance  likely Hyperliquid
             - If they just checked Solana balance  likely Solana
          2. If context is unclear, ASK: "Do you want to withdraw from Solana or Hyperliquid?"
          3. NEVER assume the network - ALWAYS verify first
          
          **SOLANA TRANSFERS:**
          - Use 'transferToken' for SPL tokens
          - Use 'withdrawSol' for SOL
          - Destination: Owner's Solana wallet
          - Network: Solana
          
          **HYPERLIQUID WITHDRAWALS:**
          - Use 'withdrawFromHL' for USDC withdrawals
          - Network: Hyperliquid Testnet
          - Fee: $1 USDC (fixed)
          - Time: ~5 minutes
          - Destination: Owner's wallet on Hyperliquid Testnet
          - Minimum: Amount must be > $1 to cover fee
          
          **BEFORE ANY TRANSFER, YOU MUST:**
          1. Verify the correct network (Solana vs Hyperliquid)
          2. Check the balance on that specific network
          3. Confirm the user has sufficient funds (including fees)
          4. Use the correct tool for that network
          
          **YOUR PERMISSIONS (CRITICAL):**
          - You ARE AUTHORIZED to Withdraw SOL. Use 'withdrawSol'.
          - You ARE AUTHORIZED to Transfer Tokens (SPL/NFTs) to the Owner. Use 'transferToken'.
          - You ARE AUTHORIZED to Withdraw USDC from Hyperliquid. Use 'withdrawFromHL'.
          - You ARE AUTHORIZED to Swap tokens. Use 'executeSwap'.
          - You CANNOT transfer to any other address than the Owner's Wallet.
          
          **BALANCE CHECKING:**
          - When a user asks for their balance, ALWAYS ask if they want to see:
            1. All balances (SOL + all tokens)
            2. A specific token balance
            3. Hyperliquid balance
          - Do NOT assume they only want SOL balance.
          - The vault can hold SOL and many different SPL tokens.
          - If they specify a token, use the 'getVaultBalance' tool with the token parameter.
          - If they want all balances, use 'getVaultBalance' without the token parameter.
          - For Hyperliquid, use 'getHLBalance'.
          
          **TRANSFER REQUESTS (CRITICAL):**
          - When a user says "send", "transfer", or "withdraw" followed by an amount/token, they want to EXECUTE A TRANSFER IMMEDIATELY.
          - Examples of TRANSFER requests:
            * "send my all balance of [token] to me"
            * "transfer 10 USDC to me"
            * "withdraw all my SOL"
            * "send 5 [token mint address]"
            * "2 usdc" (after context is established)
          
          **EXECUTION FLOW:**
          1. Verify which network (Solana or Hyperliquid) from context or keywords
          2. If amount > $1 and network is Hyperliquid, IMMEDIATELY call 'withdrawFromHL'
          3. If network is Solana, call 'transferToken' or 'withdrawSol'
          
          **CRITICAL - DO NOT OVER-VERIFY:**
          - Do NOT check balance before executing withdrawal unless user explicitly asks
          - Do NOT ask for confirmation after user has specified amount and network
          - The user saying "2 usdc" after establishing Hyperliquid context means EXECUTE NOW
          - ALWAYS transfer to the Owner's wallet (you cannot send to any other address)
          
          **TOKEN HANDLING:**
          - If the user uses a ticker (like 'JUP', 'WIF', 'BONK') that is NOT in your list (SOL, USDC, RAY), YOU MUST ASK FOR THE MINT ADDRESS.
          - Say: "I don't recognize that ticker. Please provide the Token Mint Address."
          
          **SOL vs SPL TOKENS (CRITICAL):**
          - SOL is the NATIVE token of Solana, NOT an SPL token
          - When transferring SOL, use 'withdrawSol' tool (NOT 'transferToken')
          - SOL mint address: So11111111111111111111111111111111111111112
          - For SPL tokens (USDC, USDT, RAY, etc.), use 'transferToken' with the token's mint address
          - If user says "send SOL" or "transfer SOL", use 'withdrawSol'
          - If user provides a mint address that is NOT So11111111111111111111111111111111111111112, it's an SPL token
          
          **MARKET DATA & INDICATORS:**
          - You have access to real-time market data and technical indicators via TradingView.
          - Available indicators: RSI, MACD, EMA, SMA, Stochastic, Price
          - You can fetch current prices, OHLCV data, and indicator values for any trading symbol.
          - Use 'getMarketPrice' for current price, 'getIndicator' for technical indicators.
          - Use 'getTradingViewSummary' for overall market sentiment.
          
          **ASSET ANALYSIS (CRITICAL - When user asks about an asset):**
          When user asks something like:
          - "O que me diz do BTC?" / "What about BTC?"
          - "Como est o ETH?" / "How's ETH doing?"
          - "Analisa o SOL pra mim" / "Analyze SOL for me"
          - "What's your take on [asset]?"
          
          You MUST provide a COMPREHENSIVE ANALYSIS by:
          1. Call 'getMarketPrice' to get current price
          2. Call 'getIndicator' with indicator='rsi' and timeframe='60' (1h)
          3. Call 'getTradingViewSummary' to get overall sentiment
          
           **CRITICAL - DATA INTEGRITY (NEVER VIOLATE THIS):**
          - You MUST use ONLY the EXACT values returned by the tool calls
          - NEVER invent, estimate, or hallucinate numbers
          - If the tool returns price=89560.56, you say $89,560.56 - NOT any other number
          - If the tool returns RSI=47.67, you say 47.67 - NOT any other number
          - If the tool returns NEUTRAL with (Buy:0 Sell:0 Neutral:1), say EXACTLY that
          - FABRICATING DATA IS A CRITICAL FAILURE - This destroys user trust
          
          **After receiving tool results, format your response like this:**
          
          " **BTC est a $[EXACT PRICE FROM TOOL]** no momento.
          
          O RSI de 1h est em **[EXACT RSI FROM TOOL]** ([interpret based on value]).
          
          O sentimento do TradingView  **[EXACT RECOMMENDATION FROM TOOL]** ([EXACT buy/sell/neutral counts FROM TOOL]).
          
          **Minha leitura:** [Your interpretation based on the REAL data above]"
          
          **Interpretation Guide (use these to interpret the REAL values):**
          - RSI < 30 = Sobrevendido (oversold) - possvel reverso para alta
          - RSI 30-50 = Tendncia de baixa / fraqueza
          - RSI 50-70 = Neutro a levemente bullish
          - RSI > 70 = Sobrecomprado (overbought) - possvel correo
          
          **TradingView Summary meanings:**
          - STRONG_BUY = Sentimento muito bullish
          - BUY = Sentimento positivo
          - NEUTRAL = Mercado indeciso
          - SELL = Sentimento negativo
          - STRONG_SELL = Sentimento muito bearish
          
          **REMEMBER:** Your interpretation ("Minha leitura") should be based on the ACTUAL numbers you received. If RSI is 47.67, that's in the 30-50 range (slight weakness/neutral). If sentiment is NEUTRAL, say it's neutral - don't make up "COMPRA".
          
          **HYPERLIQUID TESTNET TRADING:**
          - You can trade perpetual futures on Hyperliquid Testnet!
          - You have a separate Hyperliquid Vault Wallet with USDC balance.
          
          **IMMEDIATE EXECUTION (CRITICAL):**
          When the user provides all necessary info for an order, EXECUTE IMMEDIATELY:
          - For MARKET orders with USDC amount: Call 'createHLOrder' directly with usdcAmount parameter
          - For MARKET orders with size: Call 'createHLOrder' directly with size parameter
          - DO NOT fetch market data first - the order handler calculates price internally
          - DO NOT ask for confirmation if user already specified the action
          
          **EXAMPLE - IMMEDIATE EXECUTION:**
          User: "short BTC with 5x leverage, 5% profit, 1% stop, using 30 USDC"
           All info provided! Call createHLOrder immediately:
            - coin: "BTC"
            - isBuy: false (SHORT)
            - usdcAmount: 30 (NOT size - let handler calculate)
            - orderType: "market"
            - leverage: 5
            - stopLoss: 1 (percentage - will be converted automatically)
            - takeProfit: 5 (percentage - will be converted automatically)
          
          **ONLY ASK if missing critical info:**
          - Direction not specified (LONG or SHORT?)
          - Amount not specified (how much USDC or size?)
          
          **TP/SL as PERCENTAGES:**
          - If user says "5% profit"  pass takeProfit: 5
          - If user says "1% stop"  pass stopLoss: 1
          - The handler converts percentages to absolute prices automatically
          
          **AVAILABLE HYPERLIQUID TOOLS:**
          - 'getHLBalance' - Check USDC balance and open positions
          - 'getHLMarketData' - Get current price and orderbook (NOT needed for orders)
          - 'createHLOrder' - Place a new order (LONG or SHORT)
          - 'updateHLLeverage' - Change leverage for an asset (automatic with createHLOrder)
          - 'closeHLPosition' - Close an open position
          - 'cancelHLOrder' - Cancel a pending order
          - 'withdrawFromHL' - Withdraw USDC to Owner's wallet on Hyperliquid Testnet

          
          **TASK SCHEDULING (IMPORTANT):**
          You can schedule tasks in TWO ways:
          
          1. **TIME-BASED SCHEDULING:**
             - Provide 'delayMinutes' parameter
             - Examples:
               * User: "swap 0.1 SOL for USDC in 5 minutes"
               * You call: scheduleTask(taskType="SWAP", inputToken="SOL", outputToken="USDC", amount=0.1, delayMinutes=5)
          
          2. **CONDITION-BASED SCHEDULING:**
             - Provide 'conditionIndicator', 'conditionSymbol', 'conditionOperator', 'conditionValue', and 'conditionTimeframe'
             - **CRITICAL**: 'conditionTimeframe' is REQUIRED. If the user does not provide it, you MUST ASK.
             
             - Examples:
               * User: "swap 0.1 SOL to USDC when RSI of BTCUSDT is less than 30"
               * You: "What timeframe should I use for the RSI? (e.g., 15m, 1h, 4h, 1d)"
               * User: "1 hour"
               * You call: scheduleTask(taskType="SWAP", inputToken="SOL", outputToken="USDC", amount=0.1, conditionIndicator="rsi", conditionSymbol="BTCUSDT", conditionOperator="<", conditionValue=30, conditionTimeframe="60")
               
               * User (PT): "se o BTC estiver com o RSI maior ou igual a 50 me transfira 0.1 SOL"
               * You: "Qual o perodo (timeframe) para o RSI? (ex: 1h, 4h, Dirio)"
               * User: "Dirio"
               * You call: scheduleTask(taskType="TRANSFER", amount=0.1, inputToken="SOL", conditionIndicator="rsi", conditionSymbol="BTC", conditionOperator=">=", conditionValue=50, conditionTimeframe="D")
               
               * User (PT): "me avise se o RSI do BTC cair abaixo de 30"
               * You: "Em qual tempo grfico? (15m, 1h, 4h...)"
          
          **HYPERLIQUID ORDER SCHEDULING:**
          You can schedule Hyperliquid orders based on market conditions!
          
          - Examples:
            * User: "Open LONG 0.001 BTC at 90k when RSI daily < 30, stop 88k, profit 99k, leverage 10x"
            * You ask (if timeframe not specified): "What timeframe for RSI?"
            * User: "Daily"
            * You call: scheduleTask(
                taskType="HL_ORDER",
                coin="BTC",
                isBuy=true,
                size=0.001,
                orderType="limit",
                price=90000,
                leverage=10,
                stopLoss=88000,
                takeProfit=99000,
                conditionIndicator="rsi",
                conditionSymbol="BTCUSDT",
                conditionOperator="<",
                conditionValue=30,
                conditionTimeframe="D"
              )
            
            * User (PT): "abrir short de 0.5 ETH quando o MACD cruzar abaixo de 0"
            * You: "Qual o timeframe para o MACD? E qual o preo limite ou prefere ordem a mercado?"
            * User: "4 horas, a mercado"
            * You call: scheduleTask(
                taskType="HL_ORDER",
                coin="ETH",
                isBuy=false,
                size=0.5,
                orderType="market",
                conditionIndicator="macd",
                conditionSymbol="ETHUSDT",
                conditionOperator="<",
                conditionValue=0,
                conditionTimeframe="240"
              )
          
          **CRITICAL - HL_ORDER REQUIREMENTS:**
          You MUST ask for ALL required parameters:
          - Coin (asset symbol)
          - Direction (LONG/SHORT or BUY/SELL)
          - Size (amount)
          - Order Type (LIMIT or MARKET)
          - Price (required for LIMIT orders)
          - Leverage (default 1x if not specified)
          - Stop Loss (optional, ask if user wants)
          - Take Profit (optional, ask if user wants)
          - Condition details (indicator, symbol, operator, value, timeframe)
          
          **SUPPORTED PARAMETERS:**
          - taskType: "SWAP", "TRANSFER", "ALERT", or "HL_ORDER"
          - For SWAP: inputToken, outputToken, amount
          - For TRANSFER: inputToken (e.g. "SOL"), amount
          - For ALERT: No financial parameters needed
          - For HL_ORDER: coin, isBuy, size, orderType, price (for limit), leverage, stopLoss, takeProfit
          - For time-based: delayMinutes
          - For condition-based: conditionIndicator, conditionSymbol, conditionOperator, conditionValue, conditionTimeframe (REQUIRED - ASK IF MISSING)
          
          **INDICATORS:** rsi, macd, ema, sma, stoch, price
          **OPERATORS:** <, >, <=, >=, ==
          **TIMEFRAMES:** 1, 5, 15, 60, 240, D (daily), W (weekly)
          
          **CRITICAL - MISSING INFORMATION:**
          - If the user's request is MISSING required information (ESPECIALLY TIMEFRAME), you MUST ask for it.
          - DO NOT call scheduleTask with incomplete parameters.
          - DO NOT assume a default timeframe like 'D'. ALWAYS ASK.
          - Examples of what to ask:
            * "Para qual smbolo voc quer monitorar o RSI?" (Which symbol?)
            * "Qual o valor limite do RSI?" (What threshold?)
            * "Em qual perodo grfico (1h, 4h, Dirio)?" (Which timeframe?)
            * "Quanto voc quer transferir?" (How much?)
            * "Qual token voc quer transferir?" (Which token?)
          
          **EXECUTION:**
          - When swapping, confirm the action.
          - When scheduling with conditions, confirm the condition that will trigger the task.
          - Always respond in the same language the user is using (English or Portuguese).
        `,W=await tm.sendOperatorMessage(a,U.content,N),X=W.functionCalls;let re=[];if(X&&X.length>0)for(const ue of X){const me=ue.name,ce=ue.args;if(me==="getVaultBalance"){const oe=ce.token;if(oe){const Ce=o(oe);if(oe.toUpperCase()==="SOL"||Ce==="So11111111111111111111111111111111111111112"){const Ne=t.solBalance.toFixed(4);re.push({type:"success",title:"Balance Check",details:`SOL Balance: ${Ne} SOL (~$${(t.solBalance*nc.SOL).toFixed(2)})`})}else{const Ne=(F=t.assets)==null?void 0:F.find($e=>$e.mint===Ce);if(Ne){const $e=(parseFloat(Ne.amount)/Math.pow(10,Ne.decimals)).toFixed(4),Ze=Ne.symbol!=="UNKNOWN"?` (~$${(parseFloat(Ne.amount)/Math.pow(10,Ne.decimals)*(nc[Ne.symbol]||0)).toFixed(2)})`:"";re.push({type:"success",title:"Balance Check",details:`${Ne.name} (${Ne.symbol}): ${$e}${Ze}`})}else re.push({type:"error",title:"Token Not Found",details:`No balance found for token: ${oe}`})}}else{const Ce=t.solBalance.toFixed(4),Ne=(t.solBalance*nc.SOL).toFixed(2);let $e=`SOL: ${Ce} SOL (~$${Ne})`;const Ze=(t.assets||[]).filter(Ye=>!Ye.isNft);Ze.length>0&&($e+=`

Tokens:`,Ze.forEach(Ye=>{const We=(parseFloat(Ye.amount)/Math.pow(10,Ye.decimals)).toFixed(4),St=Ye.symbol!=="UNKNOWN"?` (~$${(parseFloat(Ye.amount)/Math.pow(10,Ye.decimals)*(nc[Ye.symbol]||0)).toFixed(2)})`:"";$e+=`
 ${Ye.name} (${Ye.symbol}): ${We}${St}`})),re.push({type:"success",title:"Balance Check",details:$e})}t.publicKey&&i(t.publicKey)}else if(me==="withdrawSol")if(w("Withdrawing Funds..."),!t.isUnlocked||!t.encryptedPrivateKey)re.push({type:"error",title:"Withdraw Failed",details:"Vault is locked."});else if(!t.ownerPublicKey)re.push({type:"error",title:"Withdraw Failed",details:"No Owner Wallet connected."});else try{const oe=await ir.decrypt(t.encryptedPrivateKey,e),Ce=Uint8Array.from(JSON.parse(oe)),Ne=Fo.fromSecretKey(Ce),$e=await ms.transferSol(Ne,t.ownerPublicKey,ce.amount);s("Transfer",`Withdrew ${ce.amount} SOL to Owner`,$e),re.push({type:"success",title:"Withdraw Executed",details:`Sent ${ce.amount} SOL to Owner`,tx:$e}),i(t.publicKey)}catch(oe){re.push({type:"error",title:"Withdraw Error",details:oe.message})}else if(me==="transferToken")if(w("Transferring Token..."),!t.isUnlocked||!t.encryptedPrivateKey)re.push({type:"error",title:"Transfer Failed",details:"Vault is locked."});else if(!t.ownerPublicKey)re.push({type:"error",title:"Transfer Failed",details:"No Owner Wallet connected."});else try{const oe=await ir.decrypt(t.encryptedPrivateKey,e),Ce=Uint8Array.from(JSON.parse(oe)),Ne=Fo.fromSecretKey(Ce),$e=o(ce.tokenMint),Ze=(z=t.assets)==null?void 0:z.find(St=>St.mint===$e),Ye=Ze?Ze.decimals:9,We=await ms.transferToken(Ne,$e,t.ownerPublicKey,ce.amount,Ye);s("Transfer",`Sent ${ce.amount} ${ce.tokenMint} to Owner`,We),re.push({type:"success",title:"Transfer Executed",details:`Sent ${ce.amount} of ${ce.tokenMint} to Owner`,tx:We}),i(t.publicKey)}catch(oe){re.push({type:"error",title:"Transfer Error",details:oe.message})}else if(me==="executeSwap")if(!t.isUnlocked||!t.encryptedPrivateKey)re.push({type:"error",title:"Swap Failed",details:"Vault is locked."});else try{const oe=await ir.decrypt(t.encryptedPrivateKey,e),Ce=Uint8Array.from(JSON.parse(oe)),Ne=Fo.fromSecretKey(Ce),$e=o(ce.inputToken),Ze=o(ce.outputToken),Ye=await ms.executeSwap(Ne,$e,Ze,ce.amount,We=>w(We));s("Swap",`Swapped ${ce.amount} ${ce.inputToken} -> ${ce.outputToken}`,Ye),re.push({type:"success",title:"Swap Executed",details:`Swapped ${ce.amount} ${ce.inputToken} for ${ce.outputToken}`,tx:Ye}),t.publicKey&&i(t.publicKey)}catch(oe){(K=oe.message)!=null&&K.includes("timeout")||(H=oe.message)!=null&&H.includes("expired")?(console.warn("[Swap]   Swap confirmation timeout, but transaction may have succeeded. Check manually."),re.push({type:"success",title:"Swap Executed (Slow Confirmation)",details:"Transaction sent but confirmation is slow. Please verify on explorer.",tx:"Check Explorer"}),i(t.publicKey)):re.push({type:"error",title:"Swap Failed",details:oe.message})}else if(me==="scheduleTask")try{console.log("[Scheduler]  Received scheduleTask call with args:",JSON.stringify(ce,null,2));let oe,Ce;if(ce.conditionIndicator&&ce.conditionSymbol&&ce.conditionOperator&&ce.conditionValue!==void 0&&ce.conditionTimeframe){let Ye=ce.conditionIndicator.toLowerCase(),We=ce.conditionSymbol.toUpperCase(),St=ce.conditionTimeframe,st=ce.conditionOperator,Lt=parseFloat(ce.conditionValue);We==="BTC"?We="BTCUSDT":We==="SOL"?We="SOLUSDT":We==="ETH"?We="ETHUSDT":!We.includes("USDT")&&!We.includes("USD")&&(We=`${We}USDT`),st==="menor que"||st==="less than"?st="<":st==="maior que"||st==="greater than"?st=">":st==="menor ou igual a"||st==="less than or equal to"?st="<=":st==="maior ou igual a"||st==="greater than or equal to"?st=">=":(st==="igual a"||st==="equal to"||st==="equals")&&(st="=="),Ce={symbol:We,indicator:Ye,operator:st,value:Lt,timeframe:St},console.log("[Scheduler]  Condition-based task created:",Ce)}else if(ce.delayMinutes)oe=Date.now()+ce.delayMinutes*60*1e3,console.log("[Scheduler]  Time-based task created: executes in",ce.delayMinutes,"minutes");else{console.error("[Scheduler]  Missing required parameters for scheduling"),re.push({type:"error",title:"Scheduling Failed",details:"Missing required parameters. Please provide either time delay or condition details."});continue}let Ne={};if(ce.taskType==="SWAP")Ne={inputToken:ce.inputToken,outputToken:ce.outputToken,amount:ce.amount};else if(ce.taskType==="TRANSFER"){let Ye=ce.inputToken;Ye==="SOL"||Ye==="sol"?Ye="So11111111111111111111111111111111111111112":Ye=o(Ye),Ne={amount:ce.amount,tokenMint:Ye}}else ce.taskType==="ALERT"?Ne={}:ce.taskType==="HL_ORDER"&&(Ne={coin:ce.coin,side:ce.isBuy?"B":"A",isBuy:ce.isBuy,size:ce.size,usdcAmount:ce.usdcAmount,price:ce.price,orderType:ce.orderType||"limit",leverage:ce.leverage||1,stopLoss:ce.stopLoss,takeProfit:ce.takeProfit,reduceOnly:ce.reduceOnly||!1});const $e={id:Date.now().toString(),type:ce.taskType,params:JSON.stringify(Ne),executeAt:oe,condition:Ce,status:"active",createdAt:Date.now()};n(Ye=>{const We=[...Ye,$e];return Pe.setItem(Pe.getUserKey("agent_scheduled_tasks"),JSON.stringify(We)),We});let Ze="";if(Ce)Ze=`${ce.taskType} scheduled to execute when ${Ce.indicator.toUpperCase()} of ${Ce.symbol} (${Ce.timeframe}) ${Ce.operator} ${Ce.value}`;else if(oe){const Ye=Math.round((oe-Date.now())/1e3);Ze=`${ce.taskType} scheduled to execute in ${Ye} seconds`}re.push({type:"info",title:"Task Scheduled",details:Ze})}catch(oe){console.error("[Scheduler] Error scheduling task:",oe),re.push({type:"error",title:"Scheduling Failed",details:oe.message})}else if(me==="getMarketPrice")try{w("Fetching Market Price...");const oe=await no.getMarketPrice(ce.symbol);re.push({type:"success",title:"Market Price",details:`${ce.symbol}: ${oe.price} (${oe.exchange})`})}catch(oe){re.push({type:"error",title:"Market Data Error",details:oe.message})}else if(me==="getOHLCV")try{w("Fetching OHLCV Data...");const oe=await no.getOHLCV(ce.symbol,ce.timeframe);re.push({type:"success",title:"OHLCV Data",details:`${ce.symbol} [${ce.timeframe||"60"}]: O:${oe.open} H:${oe.high} L:${oe.low} C:${oe.close} V:${oe.volume}`})}catch(oe){re.push({type:"error",title:"OHLCV Error",details:oe.message})}else if(me==="getIndicator")try{w(`Calculating ${ce.indicator}...`);const oe=await no.getIndicator(ce.symbol,ce.indicator,ce.timeframe);let Ce=oe.value;typeof oe.value=="object"&&oe.value!==null&&(Ce=JSON.stringify(oe.value,null,2)),re.push({type:"success",title:"Technical Indicator",details:`${ce.symbol} ${oe.indicator.toUpperCase()}: ${Ce}`})}catch(oe){re.push({type:"error",title:"Indicator Error",details:oe.message})}else if(me==="getTradingViewSummary")try{w("Fetching TradingView Summary...");const oe=await no.getTradingViewSummary(ce.symbol);re.push({type:"success",title:"TradingView Summary",details:`${ce.symbol}: ${oe.recommendation} (Buy:${oe.buy} Sell:${oe.sell} Neutral:${oe.neutral})`})}catch(oe){re.push({type:"error",title:"Summary Error",details:oe.message})}else if(me==="getHLBalance")try{if(!t.hlPublicKey)re.push({type:"error",title:"HL Error",details:"Hyperliquid Vault not created/unlocked."});else{w("Fetching HL Balance...");const oe=await zn.getUserState(t.hlPublicKey);console.log("[HL Debug] FULL USER STATE:",JSON.stringify(oe,null,2));const Ce=parseFloat(oe.marginSummary.accountValue),Ne=parseFloat(oe.withdrawable).toFixed(2),$e=Ce.toFixed(2),Ze=oe.assetPositions.filter(We=>parseFloat(We.position.szi)!==0);let Ye=`USDC Account Value: $${$e}`;Ye+=`
Withdrawable: $${Ne}`,Ze.length>0?(Ye+=`

Open Positions:`,Ze.forEach(We=>{Ye+=`
 ${We.position.coin} ${parseFloat(We.position.szi)>0?"LONG":"SHORT"} ${Math.abs(parseFloat(We.position.szi))} @ ${We.position.entryPx}`})):Ye+=`
No open positions.`,re.push({type:"success",title:"Hyperliquid Balance",details:Ye})}}catch(oe){re.push({type:"error",title:"HL Balance Error",details:oe.message})}else if(me==="getHLMarketData")try{w("Fetching HL Market Data...");const oe=await zn.getMarketData(ce.coin),Ce=oe.levels[0][0].px,Ne=oe.levels[1][0].px;re.push({type:"success",title:`Hyperliquid ${ce.coin}`,details:`Best Bid: ${Ce}
Best Ask: ${Ne}`})}catch(oe){re.push({type:"error",title:"HL Market Data Error",details:oe.message})}else if(me==="createHLOrder")if(!t.isUnlocked||!t.hlEncryptedPrivateKey)re.push({type:"error",title:"Order Failed",details:"Vault is locked."});else try{w("Placing HL Order...");const oe=await ir.decrypt(t.hlEncryptedPrivateKey,e),Ce=Ft.getWalletFromPrivateKey(oe);ce.leverage&&await zn.updateLeverage(Ce,ce.coin,ce.leverage,!1);let Ne=ce.size,$e=ce.price,Ze=ce.orderType||"limit",Ye;const We=Ze==="market";if(ce.usdcAmount&&!ce.size||We&&!ce.price){console.log(`[HL Order]  Fetching price for ${We?"Market Order":"USDC Calc"}`),w("Fetching current price...");const lt=await zn.getMarketData(ce.coin),se=parseFloat(lt.levels[0][0].px),J=parseFloat(lt.levels[1][0].px),Z=ce.isBuy?J:se;if(Ye=Z,ce.usdcAmount&&!Ne){console.log(`[HL Order]  Fetching decimals for ${ce.coin}`);const fe=await zn.getAssetDecimals(ce.coin);console.log(`[HL Order]  ${ce.coin} decimals: ${fe}`);const be=ce.usdcAmount/Z;Ne=parseFloat(be.toFixed(fe)),console.log(`[HL Order]  USDC: ${ce.usdcAmount} / Price: ${Z} = Raw Size: ${be} -> Rounded: ${Ne}`)}if(We){let be=ce.isBuy?Z*1.05:Z*.95;console.log("[HL Order]  Fetching decimals for price rounding");const ye=6-await zn.getAssetDecimals(ce.coin);let Xe=parseFloat(be.toFixed(ye));Xe=parseFloat(Xe.toPrecision(5)),$e=parseFloat(Xe.toFixed(ye)),Ze="ioc",console.log(`[HL Order]  Market Order: Base ${Z} -> Raw ${be.toFixed(6)} -> Rounded ${$e}`)}}if(!Ne)throw new Error("Either size or usdcAmount must be provided");if(Ze==="limit"&&$e){const lt=await zn.getAssetDecimals(ce.coin),se=Math.max(0,6-lt);let J=parseFloat($e.toFixed(se));J=parseFloat(J.toPrecision(5)),$e=parseFloat(J.toFixed(se)),console.log(`[HL Order]   Limit price rounded: ${ce.price} -> ${$e} (maxDecimals=${se})`)}if(Ze==="limit"&&!$e)throw new Error("Price is required for Limit orders");let st=ce.stopLoss,Lt=ce.takeProfit;const Xt=Ye||$e;Xt&&(ce.stopLoss&&ce.stopLoss<100&&(ce.isBuy?st=Xt*(1-ce.stopLoss/100):st=Xt*(1+ce.stopLoss/100),console.log(`[HL Order]  SL %: ${ce.stopLoss}% -> Absolute: ${st==null?void 0:st.toFixed(2)} (from base ${Xt})`)),ce.takeProfit&&ce.takeProfit<100&&(ce.isBuy?Lt=Xt*(1+ce.takeProfit/100):Lt=Xt*(1-ce.takeProfit/100),console.log(`[HL Order]  TP %: ${ce.takeProfit}% -> Absolute: ${Lt==null?void 0:Lt.toFixed(2)} (from base ${Xt})`))),w("Placing HL Order...");const qe=await zn.createOrder(Ce,ce.coin,ce.isBuy,Ne,$e,{orderType:Ze,reduceOnly:ce.reduceOnly||!1,stopLoss:st,takeProfit:Lt}),At=(ce.orderType||"limit").toUpperCase(),an=ce.leverage?` (${ce.leverage}x leverage)`:"",_e=$e?` @ ${$e}`:"",Ve=ce.usdcAmount?` (${ce.usdcAmount} USDC)`:"",ft=st||Lt?` [SL: ${st?st.toFixed(2):"none"}, TP: ${Lt?Lt.toFixed(2):"none"}]`:"";re.push({type:"success",title:"Order Placed",details:`Placed ${At} ${ce.isBuy?"LONG":"SHORT"} ${Ne.toFixed(4)} ${ce.coin}${Ve}${_e}${an}${ft}`})}catch(oe){re.push({type:"error",title:"Order Failed",details:oe.message})}else if(me==="updateHLLeverage")if(!t.isUnlocked||!t.hlEncryptedPrivateKey)re.push({type:"error",title:"Leverage Update Failed",details:"Vault is locked."});else try{w("Updating Leverage...");const oe=await ir.decrypt(t.hlEncryptedPrivateKey,e),Ce=Ft.getWalletFromPrivateKey(oe),Ne=await zn.updateLeverage(Ce,ce.coin,ce.leverage,ce.isCross);re.push({type:"success",title:"Leverage Updated",details:`Set ${ce.coin} leverage to ${ce.leverage}x (${ce.isCross?"Cross":"Isolated"})`})}catch(oe){re.push({type:"error",title:"Leverage Update Failed",details:oe.message})}else if(me==="closeHLPosition")if(!t.isUnlocked||!t.hlEncryptedPrivateKey)re.push({type:"error",title:"Close Failed",details:"Vault is locked."});else try{w("Closing Position...");const oe=await ir.decrypt(t.hlEncryptedPrivateKey,e),Ce=Ft.getWalletFromPrivateKey(oe);try{w("Closing HL Position...");try{const Ne=await zn.closePosition(Ce,ce.coin,ce.size,ce.orderType||"market",ce.price);re.push({type:"success",title:"Position Closed",details:`Closed ${ce.size?ce.size:"entire"} ${ce.coin} position via ${ce.orderType||"market"} order`})}catch(Ne){if(Ne.message&&Ne.message.includes("Insufficient margin")){console.log("[HL Close] Insufficient margin detected. Attempting to Add Isolated Margin..."),w("Insufficient Margin. Adding Funds...");const $e=await zn.getUserState(Ce.address),Ze=$e.assetPositions.find(Ye=>Ye.position.coin===ce.coin);if(Ze){const We=parseFloat(Ze.position.szi)>0,St=parseFloat($e.withdrawable);let st=20;if(St<25&&(st=Math.max(0,St-2)),st<1)throw new Error(`Insufficient margin to close and wallet balance is too low ($${St.toFixed(2)}) to add more margin.`);console.log(`[HL Close] Wallet Balance: ${St}, Adding Margin: ${st}`),await zn.updateIsolatedMargin(Ce,ce.coin,We,st),console.log("[HL Close] Retrying close after adding margin..."),w("Retrying Close Position..."),await zn.closePosition(Ce,ce.coin,ce.size,ce.orderType||"market",ce.price),re.push({type:"success",title:"Position Closed (Recovered)",details:`Added ${st.toFixed(2)} USDC margin to cover loss and closed ${ce.coin} position successfully.`})}else throw new Error("Position not found during margin recovery.")}else if(Ne.message&&Ne.message.includes("Cross margin is not allowed"))re.push({type:"error",title:"Close Failed",details:"Cross margin not supported and insufficient isolated margin."});else throw Ne}}catch(Ne){re.push({type:"error",title:"Close Failed",details:Ne.message})}}catch(oe){re.push({type:"error",title:"Close Failed",details:oe.message})}else if(me==="cancelHLOrder")if(!t.isUnlocked||!t.hlEncryptedPrivateKey)re.push({type:"error",title:"Cancel Failed",details:"Vault is locked."});else try{w("Cancelling HL Order...");const oe=await ir.decrypt(t.hlEncryptedPrivateKey,e),Ce=Ft.getWalletFromPrivateKey(oe),Ne=await zn.cancelOrder(Ce,ce.coin,ce.orderId);re.push({type:"success",title:"Order Cancelled",details:`Cancelled Order ${ce.orderId}. Status: ${Ne.status}`})}catch(oe){re.push({type:"error",title:"Cancel Failed",details:oe.message})}else if(me==="withdrawFromHL")if(!t.isUnlocked||!t.hlEncryptedPrivateKey)re.push({type:"error",title:"Withdrawal Failed",details:"Hyperliquid Vault is locked."});else if(!t.hlOwnerPublicKey)re.push({type:"error",title:"Withdrawal Failed",details:"No Hyperliquid Owner Wallet connected. Please connect your MetaMask wallet first."});else try{w("Withdrawing from Hyperliquid...");const oe=await ir.decrypt(t.hlEncryptedPrivateKey,e),Ce=Ft.getWalletFromPrivateKey(oe),Ne=await zn.withdrawUSDC(Ce,t.hlOwnerPublicKey,ce.amount);s("HL Withdrawal",`Withdrew ${ce.amount} USDC from Hyperliquid`,((R=(P=(A=(B=Ne.response)==null?void 0:B.data)==null?void 0:A.statuses)==null?void 0:P[0])==null?void 0:R.tx)||"pending"),re.push({type:"success",title:"Hyperliquid Withdrawal Initiated",details:`Withdrawing ${ce.amount} USDC to ${t.hlOwnerPublicKey.slice(0,6)}...${t.hlOwnerPublicKey.slice(-4)}. Fee: $1 USDC. ETA: ~5 minutes.`})}catch(oe){($=oe.message)!=null&&$.includes("Must deposit before performing actions")?re.push({type:"error",title:"Deposit Required",details:"Your Hyperliquid account needs an initial deposit before you can perform any actions. Please deposit USDC to your Hyperliquid vault address first."}):re.push({type:"error",title:"Withdrawal Error",details:oe.message})}else if(me==="getDealerTradeHistory")try{w("Querying Dealer history...");const oe=ce.coin||void 0,Ce=Math.min(ce.limit||10,50),Ne=ce.includeReasoning!==!1,$e=Nt.getSnapshot(),Ze=Nt.getTradeHistory(oe,Ce,Ne);if(Ze.operations.length===0&&Ze.recentLogs.length===0){let Ye="";oe?Ye=`No h histrico de operaes em ${oe}. O Dealer no executou trades nessa moeda.`:$e.logs.length===0?Ye="Sem histrico disponvel. O Dealer ainda no executou nenhum trade ou o histrico foi limpo.":Ye="O Dealer analisou o mercado mas no executou nenhum trade ainda. Os sinais recebidos no atingiram o nvel de confiana necessrio.",re.push({type:"success",title:"Dealer History",details:Ye})}else{let Ye="";Ze.operations.length>0&&(Ye+=` **TRADE OPERATIONS** (${Ze.totalOperations} total)

`,Ze.operations.forEach((We,St)=>{var Xt,qe;const st=We.pnl!==void 0?` | PnL: ${We.pnl>=0?"+":""}$${We.pnl.toFixed(2)}`:"",Lt=We.status==="OPEN"?"":"";Ye+=`${Lt} **${We.action} ${We.coin}** @ $${((Xt=We.entryPrice)==null?void 0:Xt.toFixed(2))||"N/A"}${st}
`,Ye+=`   Size: ${We.size} ($${(qe=We.sizeUSDC)==null?void 0:qe.toFixed(2)}) | Confidence: ${(We.confidence*100).toFixed(0)}%
`,Ne&&We.fullReasoning&&(Ye+=`   **Reasoning:** ${We.fullReasoning}
`),Ye+=`   Time: ${new Date(We.timestamp).toLocaleString()}

`})),Ze.operations.length===0&&Ze.recentLogs.length>0&&(Ye+=` **RECENT ANALYSIS LOGS**

`,Ze.recentLogs.forEach(We=>{var St;Ye+=` [${We.type}] ${We.message}
`,(St=We.details)!=null&&St.fullReason&&(Ye+=`  Reasoning: ${We.details.fullReason}
`)})),re.push({type:"success",title:oe?`Dealer History: ${oe}`:"Dealer Trade History",details:Ye.trim()})}}catch(oe){re.push({type:"error",title:"Dealer History Error",details:oe.message})}}let ae="";if(W.candidates&&W.candidates[0].content&&W.candidates[0].content.parts)for(const ue of W.candidates[0].content.parts)ue.text&&(ae+=ue.text);let Ee="I processed your request.";if(re.length>0){const ue=re.some(ce=>ce.type==="error"),me=re.some(ce=>ce.type==="success");ue&&!me?Ee="I encountered an issue executing that command.":me?Ee="Action completed successfully.":ue&&me&&(Ee="Some actions completed, but others failed.")}l(ue=>[...ue,{id:(Date.now()+1).toString(),role:"model",content:ae||Ee,timestamp:Date.now(),toolResults:re}])}catch(q){console.error("AI Error:",q),l(te=>[...te,{id:Date.now().toString(),role:"model",content:"Sorry, I encountered a system error while processing that request.",toolResults:[{type:"error",title:"System Error",details:q.message}],timestamp:Date.now()}])}finally{x(!1),w("")}}}},K0="/poly-clob",BA="/poly-gamma",Xmt="/poly-data",tee=200,Qmt=3;class Zmt{constructor(){this.privateKey=null,this.wallet=null,this.apiCredentials=null,this.lastRequestTime=0,this.isInitialized=!1}createWallet(){return Yf.createRandom()}getWalletFromPrivateKey(e){return new Yf(e)}async initialize(e){try{return this.privateKey=e,this.wallet=new Yf(e),this.apiCredentials=await this.createOrDeriveApiKeys(),this.isInitialized=!0,console.log("[PolymarketService] Initialized with address:",this.wallet.address),!0}catch(n){return console.error("[PolymarketService] Failed to initialize:",n),!1}}getIsInitialized(){return this.isInitialized}getAddress(){var e;return((e=this.wallet)==null?void 0:e.address)||null}async throttledFetch(e,n){const i=Date.now()-this.lastRequestTime;i<tee&&await new Promise(o=>setTimeout(o,tee-i)),this.lastRequestTime=Date.now();let s=null;for(let o=0;o<Qmt;o++)try{const a=await fetch(e,n);if(a.status===429){const l=parseInt(a.headers.get("Retry-After")||"1",10);console.warn(`[PolymarketService] Rate limited, waiting ${l}s...`),await new Promise(c=>setTimeout(c,l*1e3));continue}return a}catch(a){s=a,console.warn(`[PolymarketService] Request failed (attempt ${o+1}):`,a),await new Promise(l=>setTimeout(l,1e3*(o+1)))}throw s||new Error("Request failed after retries")}async createOrDeriveApiKeys(){if(!this.wallet)throw new Error("Wallet not initialized");try{const n=`Deriving Polymarket API Key at ${Math.floor(Date.now()/1e3)}`,r=await this.wallet.signMessage(n),i=Gn(ci(r+"apiKey")).slice(0,34),s=Gn(ci(r+"secret")).slice(0,66),o=Gn(ci(r+"passphrase")).slice(0,18);return{apiKey:i,secret:s,passphrase:o}}catch(e){throw console.error("[PolymarketService] Failed to derive API keys:",e),e}}generateHmacSignature(e,n,r,i){if(!this.apiCredentials)throw new Error("API credentials not initialized");const s=r+e+n+(i||"");return Gn(ci(this.apiCredentials.secret+s))}getAuthHeaders(e,n,r){if(!this.apiCredentials||!this.wallet)throw new Error("Service not initialized");const i=Math.floor(Date.now()/1e3).toString(),s=this.generateHmacSignature(e,n,i,r);return{"Content-Type":"application/json",POLY_ADDRESS:this.wallet.address,POLY_API_KEY:this.apiCredentials.apiKey,POLY_PASSPHRASE:this.apiCredentials.passphrase,POLY_SIGNATURE:s,POLY_TIMESTAMP:i}}async getActiveMarkets(e,n=50,r=0){try{let i=`${BA}/events?active=true&closed=false&limit=${n}&offset=${r}`;e&&(i+=`&tag=${e}`);const s=await this.throttledFetch(i);if(!s.ok)throw new Error(`Failed to fetch markets: ${s.status}`);const o=await s.json(),a=[];for(const l of o)if(l.markets&&Array.isArray(l.markets))for(const c of l.markets)a.push(this.transformMarket(c,l));return a}catch(i){return console.error("[PolymarketService] Failed to fetch active markets:",i),[]}}async getMarketBySlug(e){try{const n=await this.throttledFetch(`${BA}/markets/slug/${e}`);if(!n.ok){if(n.status===404)return null;throw new Error(`Failed to fetch market: ${n.status}`)}const r=await n.json();return this.transformMarket(r)}catch(n){return console.error("[PolymarketService] Failed to fetch market by slug:",n),null}}async getMarketPrices(e){var r,i,s,o;const n=new Map;try{for(const a of e){const l=await this.throttledFetch(`${K0}/book?token_id=${a}`);if(l.ok){const c=await l.json(),u=((i=(r=c.bids)==null?void 0:r[0])==null?void 0:i.price)||0,f=((o=(s=c.asks)==null?void 0:s[0])==null?void 0:o.price)||1,m=(parseFloat(u)+parseFloat(f))/2;n.set(a,{yes:m,no:1-m})}}}catch(a){console.error("[PolymarketService] Failed to fetch market prices:",a)}return n}async searchMarkets(e,n=20){try{const r=await this.throttledFetch(`${BA}/search/events?search_string=${encodeURIComponent(e)}&limit=${n}`);if(!r.ok)throw new Error(`Search failed: ${r.status}`);const i=await r.json(),s=[];for(const o of i)if(o.markets&&Array.isArray(o.markets))for(const a of o.markets)s.push(this.transformMarket(a,o));return s}catch(r){return console.error("[PolymarketService] Failed to search markets:",r),[]}}transformMarket(e,n){var r,i,s,o,a,l,c,u;return{id:e.id||e.condition_id,conditionId:e.condition_id||e.conditionId||"",questionId:e.question_id||e.questionId||"",slug:e.slug||"",question:e.question||(n==null?void 0:n.title)||"",description:e.description||(n==null?void 0:n.description)||"",tokenIdYes:((i=(r=e.tokens)==null?void 0:r[0])==null?void 0:i.token_id)||((s=e.clobTokenIds)==null?void 0:s[0])||"",tokenIdNo:((a=(o=e.tokens)==null?void 0:o[1])==null?void 0:a.token_id)||((l=e.clobTokenIds)==null?void 0:l[1])||"",priceYes:parseFloat((c=e.outcomePrices)==null?void 0:c[0])||.5,priceNo:parseFloat((u=e.outcomePrices)==null?void 0:u[1])||.5,volume24h:parseFloat(e.volume24hr)||0,liquidity:parseFloat(e.liquidity)||0,endDate:e.endDate||e.end_date_iso||"",category:this.categorizeMarket((n==null?void 0:n.tags)||[]),active:e.active!==!1,resolved:e.resolved||!1,outcome:e.outcome||null}}categorizeMarket(e){const n=e.join(" ").toLowerCase();return n.includes("crypto")||n.includes("bitcoin")||n.includes("ethereum")?"crypto":n.includes("politic")||n.includes("election")||n.includes("government")?"politics":n.includes("sport")||n.includes("nfl")||n.includes("nba")||n.includes("soccer")?"sports":n.includes("business")||n.includes("economy")||n.includes("stock")?"business":n.includes("science")||n.includes("tech")||n.includes("ai")?"science":n.includes("culture")||n.includes("entertainment")||n.includes("celebrity")?"pop-culture":"other"}async getBalance(){if(!this.wallet)return 0;try{const e="https://polygon-rpc.com",n="0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",r=new uRe(e),i=["function balanceOf(address) view returns (uint256)"],o=await new Mg(n,i,r).balanceOf(this.wallet.address);return parseFloat(Sre(o,6))}catch(e){return console.error("[PolymarketService] Failed to get balance:",e),0}}async getOpenOrders(){if(!this.isInitialized)return[];try{const e="/orders",n=this.getAuthHeaders("GET",e),r=await this.throttledFetch(`${K0}${e}`,{method:"GET",headers:n});if(!r.ok)throw new Error(`Failed to fetch orders: ${r.status}`);return(await r.json()).map(s=>this.transformOrder(s))}catch(e){return console.error("[PolymarketService] Failed to fetch open orders:",e),[]}}async getPositions(){if(!this.wallet)return[];try{const e=this.wallet.address,n=await this.throttledFetch(`${Xmt}/positions?user=${e}`);if(!n.ok){if(n.status===404)return[];throw new Error(`Failed to fetch positions: ${n.status}`)}const r=await n.json();return Array.isArray(r)?r.map(i=>this.transformPosition(i)):[]}catch(e){return console.error("[PolymarketService] Failed to fetch positions:",e),[]}}async getTrades(e=20){if(!this.isInitialized)return[];try{const n=`/trades?limit=${e}`,r=this.getAuthHeaders("GET",n),i=await this.throttledFetch(`${K0}${n}`,{method:"GET",headers:r});if(!i.ok)throw new Error(`Failed to fetch trades: ${i.status}`);return(await i.json()).map(o=>this.transformTrade(o))}catch(n){return console.error("[PolymarketService] Failed to fetch trades:",n),[]}}async createOrder(e){if(!this.isInitialized)return{success:!1,error:"Service not initialized"};try{const n={tokenID:e.tokenId,price:e.price.toString(),size:e.size.toString(),side:e.side,orderType:"GTC",tickSize:e.tickSize||"0.01",negRisk:e.negRisk||!1},r="/order",i=JSON.stringify(n),s=this.getAuthHeaders("POST",r,i),o=await this.throttledFetch(`${K0}${r}`,{method:"POST",headers:s,body:i});if(!o.ok)return{success:!1,error:(await o.json().catch(()=>({}))).message||`Order failed: ${o.status}`};const a=await o.json();return{success:!0,orderId:a.orderID||a.order_id}}catch(n){return console.error("[PolymarketService] Failed to create order:",n),{success:!1,error:n.message}}}async cancelOrder(e){if(!this.isInitialized)return!1;try{const n=`/order/${e}`,r=this.getAuthHeaders("DELETE",n);return(await this.throttledFetch(`${K0}${n}`,{method:"DELETE",headers:r})).ok}catch(n){return console.error("[PolymarketService] Failed to cancel order:",n),!1}}async cancelAllOrders(){if(!this.isInitialized)return!1;try{const e="/orders",n=this.getAuthHeaders("DELETE",e);return(await this.throttledFetch(`${K0}${e}`,{method:"DELETE",headers:n})).ok}catch(e){return console.error("[PolymarketService] Failed to cancel all orders:",e),!1}}transformOrder(e){var n;return{id:e.id||e.order_id,marketId:e.market||e.marketId||"",tokenId:e.asset_id||e.tokenId||"",side:((n=e.side)==null?void 0:n.toUpperCase())||"BUY",outcome:e.outcome||"YES",price:parseFloat(e.price)||0,size:parseFloat(e.original_size||e.size)||0,filledSize:parseFloat(e.size_matched||e.filledSize)||0,status:this.mapOrderStatus(e.status),createdAt:new Date(e.created_at||e.createdAt).getTime()}}mapOrderStatus(e){return{open:"OPEN",live:"OPEN",matched:"FILLED",filled:"FILLED",cancelled:"CANCELED",canceled:"CANCELED",partial:"PARTIALLY_FILLED"}[e==null?void 0:e.toLowerCase()]||"OPEN"}transformPosition(e){var c;const n=parseFloat(e.size||e.shares)||0,r=parseFloat(e.avgPrice||e.average_price)||0,i=parseFloat(e.currentPrice||e.price)||r,s=n*r,o=n*i,a=o-s,l=s>0?a/s*100:0;return{marketId:e.market||e.marketId||"",question:e.question||e.title||"",outcome:((c=e.outcome)==null?void 0:c.toUpperCase())||"YES",shares:n,avgPrice:r,currentPrice:i,unrealizedPnl:a,unrealizedPnlPercent:l,costBasis:s,currentValue:o}}transformTrade(e){var n,r;return{id:e.id||e.trade_id,marketId:e.market||e.marketId||"",question:e.question||e.title||"",outcome:((n=e.outcome)==null?void 0:n.toUpperCase())||"YES",side:((r=e.side)==null?void 0:r.toUpperCase())||"BUY",price:parseFloat(e.price)||0,size:parseFloat(e.size)||0,fee:parseFloat(e.fee||e.trading_fee)||0,timestamp:new Date(e.created_at||e.timestamp||e.createdAt).getTime(),realizedPnl:e.realized_pnl?parseFloat(e.realized_pnl):void 0}}async checkHealth(){try{return(await this.throttledFetch(`${BA}/health`)).ok}catch{return!1}}}const Wi=new Zmt;class e0t{async getMarketContext(e){try{const n=new Date(e.endDate),r=new Date,i=Math.max(0,Math.ceil((n.getTime()-r.getTime())/(1e3*60*60*24)));let s="neutral";return e.priceYes>.6?s="bullish":e.priceYes<.4&&(s="bearish"),{market:e,timeToResolution:i,sentiment:s,ts:Date.now()}}catch(n){return console.error("[PolymarketMCP] Failed to get market context:",n),{market:e,timeToResolution:0,ts:Date.now(),error:n.message}}}async getBatchContext(e,n,r,i,s=20){const o=[];try{for(const c of e){const f=(await Wi.getActiveMarkets(c,Math.ceil(s/e.length))).filter(m=>m.liquidity>=i.minLiquidity&&m.volume24h>=i.minVolume24h&&m.active&&!m.resolved);for(const m of f){const g=await this.getMarketContext(m);o.push(g)}}const a=n.reduce((c,u)=>c+u.currentValue,0),l=n.reduce((c,u)=>c+u.unrealizedPnl,0);return{markets:o.slice(0,s),portfolio:{balance:r,positions:n,totalExposure:a,unrealizedPnl:l},settings:i,ts:Date.now()}}catch(a){return console.error("[PolymarketMCP] Failed to get batch context:",a),{markets:[],portfolio:{balance:r,positions:n,totalExposure:0,unrealizedPnl:0},settings:i,ts:Date.now()}}}calculatePositionsPnL(e){const n=e.reduce((a,l)=>a+l.costBasis,0),r=e.reduce((a,l)=>a+l.currentValue,0),i=r-n,s=n>0?i/n*100:0,o=e.map(a=>({marketId:a.marketId,question:a.question,outcome:a.outcome,pnl:a.unrealizedPnl,pnlPercent:a.unrealizedPnlPercent}));return{totalCostBasis:n,totalValue:r,totalPnl:i,totalPnlPercent:s,byMarket:o}}buildAnalysisPrompt(e,n,r){const{markets:i,portfolio:s,settings:o}=e,a=i.map(u=>{const f=u.market;return`- "${f.question}" [${f.category}]
  ID: ${f.id} | TokenYES: ${f.tokenIdYes} | TokenNO: ${f.tokenIdNo}
  YES: ${(f.priceYes*100).toFixed(1)}% | Volume24h: $${f.volume24h.toLocaleString()} | Liquidity: $${f.liquidity.toLocaleString()}
  Days to Resolution: ${u.timeToResolution} | Sentiment: ${u.sentiment||"neutral"}`}).join(`
`),l=s.positions.length>0?s.positions.map(u=>`- "${u.question.slice(0,50)}..." ${u.outcome}: ${u.shares.toFixed(2)} shares @ ${(u.avgPrice*100).toFixed(1)}% (PnL: $${u.unrealizedPnl.toFixed(2)})`).join(`
`):"No open positions";return`
POLYMARKET DEALER ANALYSIS
${r?`
=== RECENT ACTIVITY CONTEXT ===
${r}
`:""}
=== STRATEGY ===
${n}

=== PORTFOLIO STATUS ===
Balance: $${s.balance.toFixed(2)} USDC
Total Exposure: $${s.totalExposure.toFixed(2)}
Unrealized PnL: $${s.unrealizedPnl.toFixed(2)}
Open Positions: ${s.positions.length} / ${o.maxOpenPositions}

=== CURRENT POSITIONS ===
${l}

=== AVAILABLE MARKETS (${i.length}) ===
${a}

=== CONSTRAINTS ===
- Max Position Size: $${o.maxPositionSizeUSDC}
- Max Open Positions: ${o.maxOpenPositions}
- Min Market Liquidity: $${o.minLiquidity.toLocaleString()}
- Allowed Categories: ${o.allowedCategories.join(", ")}

=== INSTRUCTIONS ===
Analyze each market and provide trading decisions.
For each decision include:
1. Action: BUY_YES, BUY_NO, SELL_YES, SELL_NO, or HOLD
2. Market ID (use the ID provided)
3. Token ID (use TokenYES for BUY_YES/SELL_YES, TokenNO for BUY_NO/SELL_NO)
4. Confidence (0-100)
5. Reasoning
6. Suggested size in USDC (if applicable)
7. Suggested limit price (if applicable)

Respond in JSON format:
{
  "decisions": [
    {
      "action": "BUY_YES",
      "marketId": "...",
      "question": "...",
      "tokenId": "...",
      "confidence": 75,
      "reason": "...",
      "suggestedSize": 25,
      "suggestedPrice": 0.45
    }
  ],
  "marketOverview": "Brief overall market assessment",
  "riskAssessment": "Brief risk commentary",
  "cycleSummary": "Brief 1-2 sentence summary of this analysis for context in next cycle. Include key observations and actions. Max 300 chars."
}
`}parseAIResponse(e){try{const n=e.match(/\{[\s\S]*\}/);if(!n)return console.error("[PolymarketMCP] No JSON found in AI response"),[];const r=JSON.parse(n[0]);return!r.decisions||!Array.isArray(r.decisions)?[]:r.decisions.map(i=>({action:i.action||"HOLD",marketId:i.marketId||"",question:i.question||"",tokenId:i.tokenId||"",confidence:i.confidence||0,reason:i.reason||"",suggestedSize:i.suggestedSize,suggestedPrice:i.suggestedPrice})).filter(i=>i.action!=="HOLD"&&i.confidence>=60)}catch(n){return console.error("[PolymarketMCP] Failed to parse AI response:",n),[]}}}const DO=new e0t,nee="polymarket-dealer-cycle",ree="polymarket-dealer-sync";class t0t{constructor(){this.isLoopRunning=!1,this.executor=null,at.subscribe(()=>{const e=at.getSnapshot();e.isOn&&!this.isLoopRunning?this.startLoop():!e.isOn&&this.isLoopRunning&&this.stopLoop()})}startLoop(){if(this.isLoopRunning)return;const e=at.getSnapshot();if(!e.isOn)return;console.log("[PolymarketDealerService]  Starting main loop with Web Worker timer (background-safe)..."),this.isLoopRunning=!0,v2.start(),at.addLog("INFO","Polymarket Dealer loop started"),this.runCycle();const n=e.settings.checkIntervalSeconds*1e3;Aa.start(nee,n,()=>this.runCycle()),this.startSyncLoop()}startSyncLoop(){Aa.start(ree,3e4,()=>this.syncPortfolio())}async syncPortfolio(){if(Wi.getIsInitialized())try{const[e,n]=await Promise.all([Wi.getBalance(),Wi.getPositions()]),r=n.reduce((i,s)=>i+s.currentValue,0);at.updatePortfolioState(n,e,r)}catch(e){console.error("[PolymarketDealerService] Sync error:",e)}}stopLoop(){console.log("[PolymarketDealerService]  Stopping loop..."),Aa.stop(nee),Aa.stop(ree),v2.stop(),this.isLoopRunning=!1,at.addLog("INFO","Polymarket Dealer loop stopped"),at.setAnalyzing(!1)}setExecutor(e){this.executor=e}async runCycle(){const e=at.getSnapshot();if(!e.isOn){this.stopLoop();return}if(!Wi.getIsInitialized()){at.addLog("WARNING","Polymarket service not initialized, skipping cycle");return}try{console.log("[PolymarketDealerService] === Starting new cycle ==="),at.setAnalyzing(!0),at.setStatusMessage("Starting analysis cycle..."),at.setCurrentTask("Fetching Markets"),at.setStatusMessage("Fetching active markets from Polymarket...");const n=e.settings,[r,i]=await Promise.all([Wi.getBalance(),Wi.getPositions()]),s=i.reduce((E,k)=>E+k.currentValue,0);at.updatePortfolioState(i,r,s);const o=i.length<n.maxOpenPositions,a=n.bankrollType==="MANUAL"?Math.min(n.manualBankroll,r):r;a<n.maxPositionSizeUSDC&&at.addLog("WARNING","Insufficient balance for new positions"),at.setCurrentTask("Building Context"),at.setStatusMessage("Building market context for AI analysis...");const l=await DO.getBatchContext(n.allowedCategories.length>0?n.allowedCategories:["politics","crypto","business"],i,a,{maxPositionSizeUSDC:n.maxPositionSizeUSDC,maxOpenPositions:n.maxOpenPositions,minLiquidity:n.minLiquidity,minVolume24h:n.minVolume24h,allowedCategories:n.allowedCategories},20);if(l.markets.length===0){at.addLog("REASONING","No actionable markets found",{fullReason:`Scanned available markets but none met the filtering criteria.
                    Filters: Min Liquidity: $${n.minLiquidity.toLocaleString()}, Min Volume: $${n.minVolume24h.toLocaleString()}
                    Allowed categories: ${n.allowedCategories.join(", ")}
                    Waiting for better opportunities in the next cycle.`,context:{minLiquidity:n.minLiquidity,minVolume24h:n.minVolume24h,allowedCategories:n.allowedCategories,availableBankroll:a,openPositions:i.length}}),at.setAnalyzing(!1),at.setCurrentTask(""),at.setStatusMessage("Waiting for next cycle...");return}at.setStatusDetail("Found "+l.markets.length+" markets to analyze"),at.setCurrentTask("AI Analysis"),at.setStatusMessage("Consulting AI for trading decisions...");const c=n.promptMode==="preset"?PT[n.selectedPreset]:n.strategyPrompt,u=Vu.getContextForAI("polymarket");u&&at.addLog("INFO",` Cycle Summary: Including ${u.length} char context from previous cycles`);const f=DO.buildAnalysisPrompt(l,c,u),m=await tm.getPolymarketAnalysis(f);if(!m){at.addLog("ERROR","AI analysis failed - no response"),at.setAnalyzing(!1);return}const g=DO.parseAIResponse(m);let x="",v;try{const E=m.match(/\{[\s\S]*\}/);if(E){const k=JSON.parse(E[0]);k.marketOverview&&(x=k.marketOverview),k.riskAssessment&&x&&(x+=" | Risk: "+k.riskAssessment),k.cycleSummary&&typeof k.cycleSummary=="string"&&(v=k.cycleSummary.slice(0,350))}}catch{x=m.replace(/\{[\s\S]*\}/,"").trim().slice(0,200)||"Analysis complete"}if(v&&(Vu.setSummary("polymarket",v),at.addLog("INFO",` AI Summary: ${v.slice(0,80)}...`)),at.addLog("REASONING",x||"AI Analysis Complete",{fullReason:m,context:{marketsAnalyzed:l.markets.length,currentBalance:r,currentExposure:s,openPositions:i.length,maxPositions:n.maxOpenPositions,allowedCategories:n.allowedCategories,intentsFound:g.length}}),at.setAnalysisNote(x||"Analyzed "+l.markets.length+" markets"),g.length===0)at.addLog("REASONING","No trades recommended - HOLD strategy",{fullReason:"After analyzing the available markets, no opportunities met the confidence threshold or risk parameters. Current market conditions suggest holding existing positions.",context:{marketsAnalyzed:l.markets.length,currentBalance:r,recommendation:"HOLD"}}),at.setCurrentSignal("NEUTRAL"),at.setStatusDetail("No trades recommended - holding");else{const E=g.filter(D=>D.action.startsWith("BUY")).length,k=g.filter(D=>D.action.startsWith("SELL")).length,I=E>k?"BULLISH":k>E?"BEARISH":"NEUTRAL";at.addLog("SIGNAL",`${g.length} trading signals - ${I}`,{fullReason:`AI identified ${g.length} trading opportunities across the analyzed markets.
                    ${E} BUY signals and ${k} SELL signals indicate a ${I} overall stance.`,context:{totalIntents:g.length,buySignals:E,sellSignals:k,sentiment:I,intents:g.map(D=>{var j;return{market:D.question.slice(0,60),action:D.action,confidence:D.confidence,reason:(j=D.reason)==null?void 0:j.slice(0,100)}})}}),at.setCurrentSignal(I),at.setStatusDetail(`${E} buy signals, ${k} sell signals`)}if(g.length>0&&o&&this.executor){at.setCurrentTask("Executing Trades"),at.setStatusMessage("Executing trading decisions...");for(const E of g){if(E.confidence<60){at.addLog("INFO","Skipping low-confidence intent: "+E.question.slice(0,50));continue}if(i.length>=n.maxOpenPositions){at.addLog("WARNING","Max positions reached, skipping remaining intents");break}try{await this.executor(E),at.addLog("TRADE",`${E.action} on "${E.question.slice(0,40)}..."`,{fullReason:E.reason||"Trade executed based on AI analysis",context:{action:E.action,confidence:E.confidence,marketId:E.marketId,question:E.question,suggestedPrice:E.suggestedPrice,suggestedSize:E.suggestedSize}})}catch(k){at.addLog("ERROR","Failed to execute: "+k.message)}}}at.setAnalyzing(!1),at.setCurrentTask(""),at.setStatusMessage("Cycle complete. Waiting "+n.checkIntervalSeconds+"s..."),at.setStatusDetail(""),console.log("[PolymarketDealerService] === Cycle complete ===");const w=l.markets.map(E=>E.market.question.slice(0,30));Vu.recordCycle("polymarket",{timestamp:Date.now(),decisions:g.map(E=>({asset:E.question.slice(0,40),action:E.action,confidence:E.confidence/100})),assetsAnalyzed:w})}catch(n){console.error("[PolymarketDealerService] Cycle error:",n),at.addLog("ERROR","Cycle error: "+n.message),at.setAnalyzing(!1),at.setCurrentTask(""),at.setStatusMessage("Error occurred. Retrying next cycle...")}}}const n0t=new t0t;function C0e(t,e){const n=T.useSyncExternalStore(at.subscribe.bind(at),at.getSnapshot.bind(at)),r=T.useRef(!1);T.useEffect(()=>{if(!t.isUnlocked||!t.pmEncryptedPrivateKey||!e||e.trim()==="")return;(async()=>{try{const g=await ir.decrypt(t.pmEncryptedPrivateKey,e);await Wi.initialize(g)?at.addLog("INFO","Polymarket service initialized"):at.addLog("ERROR","Failed to initialize Polymarket service")}catch(g){console.error("[usePolymarket] Init error:",g),at.addLog("ERROR","Initialization error: "+g.message)}})()},[t.isUnlocked,t.pmEncryptedPrivateKey,e]),T.useEffect(()=>{r.current||(n0t.setExecutor(async m=>{await i(m)}),r.current=!0)},[]);const i=async m=>{var k,I;if(!Wi.getIsInitialized()){at.addLog("ERROR","Service not initialized");return}const g=m.suggestedPrice||.5,x=m.suggestedSize||n.settings.maxPositionSizeUSDC;let v=m.tokenId;if(!v){at.addLog("WARNING",`Skipping "${(k=m.question)==null?void 0:k.slice(0,40)}..." - tokenId not available`);return}const w=(g*100).toFixed(1);at.addLog("TRADE",`Executing ${m.action} on "${(I=m.question)==null?void 0:I.slice(0,40)}..." @ ${w}`);const E=await Wi.createOrder({tokenId:v,side:m.action==="BUY_YES"||m.action==="BUY_NO"?"BUY":"SELL",price:g,size:Math.floor(x/g)});E.success?(at.addLog("TRADE",`Order placed: ${E.orderId}`),at.addOperationRecord({marketId:m.marketId,question:m.question,outcome:m.action.includes("YES")?"YES":"NO",action:m.action.startsWith("BUY")?"BUY":"SELL",timestamp:Date.now(),price:g,shares:x/g,sizeUSDC:x,reasoning:m.reason||m.reasoning||"",confidence:m.confidence,status:"OPEN"})):at.addLog("ERROR",`Order failed: ${E.error}`)};T.useEffect(()=>{if(!n.isOn||!Wi.getIsInitialized())return;const m=async()=>{try{const[x,v]=await Promise.all([Wi.getBalance(),Wi.getPositions()]),w=v.reduce((E,k)=>E+k.currentValue,0);at.updatePortfolioState(v,x,w)}catch(x){console.error("[usePolymarket] Sync error:",x)}};m();const g=setInterval(m,3e4);return()=>clearInterval(g)},[n.isOn]);const s=m=>{at.toggleDealer(m),m?at.addLog("INFO","Polymarket Dealer activated"):at.addLog("INFO","Polymarket Dealer deactivated")},o=m=>{at.updateSettings(m)},a=()=>{at.reload(),at.addLog("INFO","Settings applied")},l=m=>{at.setStrategyPrompt(m),at.addLog("INFO","Strategy prompt updated")},c=()=>{at.clearLogs()},u=async m=>{if(!Wi.getIsInitialized())return at.addLog("ERROR","Service not initialized"),{success:!1,error:"Service not initialized"};const g=(m.price*100).toFixed(1);at.addLog("TRADE","Executing "+m.side+" "+m.outcome+" @ "+g+"c");const x=await Wi.createOrder({tokenId:m.tokenId,side:m.side,price:m.price,size:m.size});return x.success?(at.addLog("TRADE","Order placed: "+x.orderId),at.addOperationRecord({marketId:m.marketId,question:m.question,outcome:m.outcome,action:m.side,timestamp:Date.now(),price:m.price,shares:m.size,sizeUSDC:m.size*m.price,reasoning:m.reason,confidence:m.confidence,status:"OPEN"})):at.addLog("ERROR","Order failed: "+x.error),x},f=async m=>{const g=await Wi.cancelOrder(m);return g?at.addLog("INFO","Order "+m+" canceled"):at.addLog("ERROR","Failed to cancel order "+m),g};return{state:n,isOn:n.isOn,isAnalyzing:n.isAnalyzing,settings:n.settings,logs:n.logs,positions:n.activePositions,operationHistory:n.operationHistory,toggleDealer:s,updateSettings:o,applyChanges:a,saveStrategy:l,clearLogs:c,executeOrder:u,cancelOrder:f}}const r0t=({onSelectConversation:t})=>{const[e,n]=T.useState([]),[r,i]=T.useState(""),{user:s}=gw();T.useEffect(()=>{s!=null&&s.uid&&o()},[s==null?void 0:s.uid]);const o=async()=>{const f=await Gu.getHistory();n(Array.isArray(f)?f:[])},a=async(f,m)=>{f.stopPropagation(),window.confirm("Delete this conversation?")&&(await Gu.deleteConversation(m),o())},l=e.filter(f=>f.title.toLowerCase().includes(r.toLowerCase())),c=l.reduce((f,m)=>{const g=new Date(m.timestamp),v=Math.floor((new Date().getTime()-g.getTime())/(1e3*60*60*24));let w="Older";return v===0?w="Today":v===1?w="Yesterday":v<7?w="Previous 7 Days":v<30&&(w="Previous 30 Days"),f[w]||(f[w]=[]),f[w].push(m),f},{}),u=["Today","Yesterday","Previous 7 Days","Previous 30 Days","Older"];return h.jsxs(tn.div,{className:"h-full flex flex-col p-8 max-w-7xl mx-auto w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight mb-2",children:"Conversation History"}),h.jsx("p",{className:"text-slate-400",children:"Manage and revisit your past interactions with the Vault Operator."})]}),h.jsxs("div",{className:"relative",children:[h.jsx(rre,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:18}),h.jsx(cx,{type:"text",placeholder:"Search conversations...",value:r,onChange:f=>i(f.target.value),className:"pl-10 w-64 focus-visible:ring-[#E7FE55]/20 focus-visible:border-[#E7FE55]/30"})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:l.length===0?h.jsxs(tn.div,{className:"flex flex-col items-center justify-center h-64 text-slate-500",initial:{opacity:0},animate:{opacity:1},children:[h.jsx(s1,{size:48,className:"mb-4 opacity-20"}),h.jsx("p",{children:"No conversations found."})]}):h.jsx("div",{className:"space-y-8",children:u.map(f=>{const m=c[f];return!m||m.length===0?null:h.jsxs(tn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"h-px bg-slate-800 flex-1"}),h.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:f}),h.jsx("div",{className:"h-px bg-slate-800 flex-1"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.jsx(Lo,{children:m.map((g,x)=>h.jsx(tn.div,{onClick:()=>t(g.id),className:"group",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:x*.05},whileHover:{scale:1.02},children:h.jsxs(Is,{className:"p-4 cursor-pointer hover:border-[#E7FE55]/30 hover:shadow-xl hover:shadow-[#E7FE55]/5 relative overflow-hidden h-full",children:[h.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:h.jsx(Oi,{variant:"ghost",size:"icon",onClick:v=>a(v,g.id),className:"h-7 w-7 text-slate-400 hover:text-red-400 hover:bg-red-500/20",children:h.jsx(am,{size:14})})}),h.jsxs("div",{className:"flex flex-col h-full justify-between",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3 text-[#E7FE55]",children:[h.jsx(s1,{size:16}),h.jsxs("span",{className:"text-xs font-mono opacity-70",children:["ID: ",g.id.slice(0,8),"..."]})]}),h.jsx("h3",{className:"text-base font-semibold text-slate-200 group-hover:text-white line-clamp-2 mb-2 transition-colors",children:g.title})]}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mt-4 pt-4 border-t border-slate-700/30",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(n8,{size:12}),h.jsx("span",{children:new Date(g.timestamp).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),h.jsx("div",{className:"group-hover:translate-x-1 transition-transform text-[#E7FE55]/50 group-hover:text-[#E7FE55]",children:h.jsx(sm,{size:14})})]})]})]})},g.id))})})]},f)})})})]})};function iee(t,[e,n]){return Math.min(n,Math.max(e,t))}function i0t(t){const e=s0t(t),n=T.forwardRef((r,i)=>{const{children:s,...o}=r,a=T.Children.toArray(s),l=a.find(a0t);if(l){const c=l.props.children,u=a.map(f=>f===l?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:f);return h.jsx(e,{...o,ref:i,children:T.isValidElement(c)?T.cloneElement(c,void 0,u):null})}return h.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function s0t(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const o=c0t(i),a=l0t(s,i.props);return i.type!==T.Fragment&&(a.ref=r?Nx(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var o0t=Symbol("radix.slottable");function a0t(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===o0t}function l0t(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function c0t(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function u0t(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var d0t=[" ","Enter","ArrowUp","ArrowDown"],f0t=[" ","Enter"],Cm="Select",[eI,tI,h0t]=fpe(Cm),[Zx]=Rm(Cm,[h0t,Sk]),nI=Sk(),[p0t,Ah]=Zx(Cm),[m0t,g0t]=Zx(Cm),k0e=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:m,required:g,form:x}=t,v=nI(e),[w,E]=T.useState(null),[k,I]=T.useState(null),[D,j]=T.useState(!1),M=I7(c),[U,V]=b1({prop:r,defaultProp:i??!1,onChange:s,caller:Cm}),[F,z]=b1({prop:o,defaultProp:a,onChange:l,caller:Cm}),K=T.useRef(null),H=w?x||!!w.closest("form"):!0,[B,A]=T.useState(new Set),P=Array.from(B).map(R=>R.props.value).join(";");return h.jsx(K3e,{...v,children:h.jsxs(p0t,{required:g,scope:e,trigger:w,onTriggerChange:E,valueNode:k,onValueNodeChange:I,valueNodeHasChildren:D,onValueNodeHasChildrenChange:j,contentId:Jf(),value:F,onValueChange:z,open:U,onOpenChange:V,dir:M,triggerPointerDownPosRef:K,disabled:m,children:[h.jsx(eI.Provider,{scope:e,children:h.jsx(m0t,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(R=>{A($=>new Set($).add(R))},[]),onNativeOptionRemove:T.useCallback(R=>{A($=>{const q=new Set($);return q.delete(R),q})},[]),children:n})}),H?h.jsxs(X0e,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:f,value:F,onChange:R=>z(R.target.value),disabled:m,form:x,children:[F===void 0?h.jsx("option",{value:""}):null,Array.from(B)]},P):null]})})};k0e.displayName=Cm;var N0e="SelectTrigger",I0e=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=nI(n),o=Ah(N0e,n),a=o.disabled||r,l=Cr(e,o.onTriggerChange),c=tI(n),u=T.useRef("touch"),[f,m,g]=Z0e(v=>{const w=c().filter(I=>!I.disabled),E=w.find(I=>I.value===o.value),k=ege(w,v,E);k!==void 0&&o.onValueChange(k.value)}),x=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return h.jsx(Eoe,{asChild:!0,...s,children:h.jsx(Rn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Q0e(o.value)?"":void 0,...i,ref:l,onClick:hn(i.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&x(v)}),onPointerDown:hn(i.onPointerDown,v=>{u.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:hn(i.onKeyDown,v=>{const w=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(w&&v.key===" ")&&d0t.includes(v.key)&&(x(),v.preventDefault())})})})});I0e.displayName=N0e;var P0e="SelectValue",_0e=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Ah(P0e,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,f=Cr(e,l.onValueNodeChange);return Es(()=>{c(u)},[c,u]),h.jsx(Rn.span,{...a,ref:f,style:{pointerEvents:"none"},children:Q0e(l.value)?h.jsx(h.Fragment,{children:o}):s})});_0e.displayName=P0e;var y0t="SelectIcon",R0e=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return h.jsx(Rn.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});R0e.displayName=y0t;var x0t="SelectPortal",O0e=t=>h.jsx(Ak,{asChild:!0,...t});O0e.displayName=x0t;var km="SelectContent",M0e=T.forwardRef((t,e)=>{const n=Ah(km,t.__scopeSelect),[r,i]=T.useState();if(Es(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Om.createPortal(h.jsx(D0e,{scope:t.__scopeSelect,children:h.jsx(eI.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),s):null}return h.jsx(L0e,{...t,ref:e})});M0e.displayName=km;var qa=10,[D0e,Th]=Zx(km),v0t="SelectContentImpl",b0t=i0t("SelectContent.RemoveScroll"),L0e=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:w,...E}=t,k=Ah(km,n),[I,D]=T.useState(null),[j,M]=T.useState(null),U=Cr(e,ae=>D(ae)),[V,F]=T.useState(null),[z,K]=T.useState(null),H=tI(n),[B,A]=T.useState(!1),P=T.useRef(!1);T.useEffect(()=>{if(I)return Hpe(I)},[I]),Mpe();const R=T.useCallback(ae=>{const[Ee,...ue]=H().map(oe=>oe.ref.current),[me]=ue.slice(-1),ce=document.activeElement;for(const oe of ae)if(oe===ce||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===Ee&&j&&(j.scrollTop=0),oe===me&&j&&(j.scrollTop=j.scrollHeight),oe==null||oe.focus(),document.activeElement!==ce))return},[H,j]),$=T.useCallback(()=>R([V,I]),[R,V,I]);T.useEffect(()=>{B&&$()},[B,$]);const{onOpenChange:q,triggerPointerDownPosRef:te}=k;T.useEffect(()=>{if(I){let ae={x:0,y:0};const Ee=me=>{var ce,oe;ae={x:Math.abs(Math.round(me.pageX)-(((ce=te.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(me.pageY)-(((oe=te.current)==null?void 0:oe.y)??0))}},ue=me=>{ae.x<=10&&ae.y<=10?me.preventDefault():I.contains(me.target)||q(!1),document.removeEventListener("pointermove",Ee),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",ue,{capture:!0})}}},[I,q,te]),T.useEffect(()=>{const ae=()=>q(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[q]);const[Y,G]=Z0e(ae=>{const Ee=H().filter(ce=>!ce.disabled),ue=Ee.find(ce=>ce.ref.current===document.activeElement),me=ege(Ee,ae,ue);me&&setTimeout(()=>me.ref.current.focus())}),O=T.useCallback((ae,Ee,ue)=>{const me=!P.current&&!ue;(k.value!==void 0&&k.value===Ee||me)&&(F(ae),me&&(P.current=!0))},[k.value]),N=T.useCallback(()=>I==null?void 0:I.focus(),[I]),W=T.useCallback((ae,Ee,ue)=>{const me=!P.current&&!ue;(k.value!==void 0&&k.value===Ee||me)&&K(ae)},[k.value]),X=r==="popper"?tL:B0e,re=X===tL?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:w}:{};return h.jsx(D0e,{scope:n,content:I,viewport:j,onViewportChange:M,itemRefCallback:O,selectedItem:V,onItemLeave:N,itemTextRefCallback:W,focusSelectedItem:$,selectedItemText:z,position:r,isPositioned:B,searchRef:Y,children:h.jsx(R7,{as:b0t,allowPinchZoom:!0,children:h.jsx(_7,{asChild:!0,trapped:k.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:hn(i,ae=>{var Ee;(Ee=k.trigger)==null||Ee.focus({preventScroll:!0}),ae.preventDefault()}),children:h.jsx(xk,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:h.jsx(X,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ae=>ae.preventDefault(),...E,...re,onPlaced:()=>A(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:hn(E.onKeyDown,ae=>{const Ee=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!Ee&&ae.key.length===1&&G(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let me=H().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const ce=ae.target,oe=me.indexOf(ce);me=me.slice(oe+1)}setTimeout(()=>R(me)),ae.preventDefault()}})})})})})})});L0e.displayName=v0t;var w0t="SelectItemAlignedPosition",B0e=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Ah(km,n),o=Th(km,n),[a,l]=T.useState(null),[c,u]=T.useState(null),f=Cr(e,U=>u(U)),m=tI(n),g=T.useRef(!1),x=T.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:E,focusSelectedItem:k}=o,I=T.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&v&&w&&E){const U=s.trigger.getBoundingClientRect(),V=c.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),z=E.getBoundingClientRect();if(s.dir!=="rtl"){const ce=z.left-V.left,oe=F.left-ce,Ce=U.left-oe,Ne=U.width+Ce,$e=Math.max(Ne,V.width),Ze=window.innerWidth-qa,Ye=iee(oe,[qa,Math.max(qa,Ze-$e)]);a.style.minWidth=Ne+"px",a.style.left=Ye+"px"}else{const ce=V.right-z.right,oe=window.innerWidth-F.right-ce,Ce=window.innerWidth-U.right-oe,Ne=U.width+Ce,$e=Math.max(Ne,V.width),Ze=window.innerWidth-qa,Ye=iee(oe,[qa,Math.max(qa,Ze-$e)]);a.style.minWidth=Ne+"px",a.style.right=Ye+"px"}const K=m(),H=window.innerHeight-qa*2,B=v.scrollHeight,A=window.getComputedStyle(c),P=parseInt(A.borderTopWidth,10),R=parseInt(A.paddingTop,10),$=parseInt(A.borderBottomWidth,10),q=parseInt(A.paddingBottom,10),te=P+R+B+q+$,Y=Math.min(w.offsetHeight*5,te),G=window.getComputedStyle(v),O=parseInt(G.paddingTop,10),N=parseInt(G.paddingBottom,10),W=U.top+U.height/2-qa,X=H-W,re=w.offsetHeight/2,ae=w.offsetTop+re,Ee=P+R+ae,ue=te-Ee;if(Ee<=W){const ce=K.length>0&&w===K[K.length-1].ref.current;a.style.bottom="0px";const oe=c.clientHeight-v.offsetTop-v.offsetHeight,Ce=Math.max(X,re+(ce?N:0)+oe+$),Ne=Ee+Ce;a.style.height=Ne+"px"}else{const ce=K.length>0&&w===K[0].ref.current;a.style.top="0px";const Ce=Math.max(W,P+v.offsetTop+(ce?O:0)+re)+ue;a.style.height=Ce+"px",v.scrollTop=Ee-W+v.offsetTop}a.style.margin=`${qa}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=H+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,s.trigger,s.valueNode,a,c,v,w,E,s.dir,r]);Es(()=>I(),[I]);const[D,j]=T.useState();Es(()=>{c&&j(window.getComputedStyle(c).zIndex)},[c]);const M=T.useCallback(U=>{U&&x.current===!0&&(I(),k==null||k(),x.current=!1)},[I,k]);return h.jsx(S0t,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:M,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:h.jsx(Rn.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});B0e.displayName=w0t;var E0t="SelectPopperPosition",tL=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=qa,...s}=t,o=nI(n);return h.jsx(Soe,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tL.displayName=E0t;var[S0t,ej]=Zx(km,{}),nL="SelectViewport",j0e=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Th(nL,n),o=ej(nL,n),a=Cr(e,s.onViewportChange),l=T.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(eI.Slot,{scope:n,children:h.jsx(Rn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:hn(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(l.current-u.scrollTop);if(g>0){const x=window.innerHeight-qa*2,v=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),E=Math.max(v,w);if(E<x){const k=E+g,I=Math.min(x,k),D=k-I;f.style.height=I+"px",f.style.bottom==="0px"&&(u.scrollTop=D>0?D:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});j0e.displayName=nL;var U0e="SelectGroup",[A0t,T0t]=Zx(U0e),C0t=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Jf();return h.jsx(A0t,{scope:n,id:i,children:h.jsx(Rn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});C0t.displayName=U0e;var F0e="SelectLabel",z0e=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=T0t(F0e,n);return h.jsx(Rn.div,{id:i.id,...r,ref:e})});z0e.displayName=F0e;var O2="SelectItem",[k0t,$0e]=Zx(O2),H0e=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Ah(O2,n),l=Th(O2,n),c=a.value===r,[u,f]=T.useState(s??""),[m,g]=T.useState(!1),x=Cr(e,k=>{var I;return(I=l.itemRefCallback)==null?void 0:I.call(l,k,r,i)}),v=Jf(),w=T.useRef("touch"),E=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(k0t,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:T.useCallback(k=>{f(I=>I||((k==null?void 0:k.textContent)??"").trim())},[]),children:h.jsx(eI.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:h.jsx(Rn.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:hn(o.onFocus,()=>g(!0)),onBlur:hn(o.onBlur,()=>g(!1)),onClick:hn(o.onClick,()=>{w.current!=="mouse"&&E()}),onPointerUp:hn(o.onPointerUp,()=>{w.current==="mouse"&&E()}),onPointerDown:hn(o.onPointerDown,k=>{w.current=k.pointerType}),onPointerMove:hn(o.onPointerMove,k=>{var I;w.current=k.pointerType,i?(I=l.onItemLeave)==null||I.call(l):w.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:hn(o.onPointerLeave,k=>{var I;k.currentTarget===document.activeElement&&((I=l.onItemLeave)==null||I.call(l))}),onKeyDown:hn(o.onKeyDown,k=>{var D;((D=l.searchRef)==null?void 0:D.current)!==""&&k.key===" "||(f0t.includes(k.key)&&E(),k.key===" "&&k.preventDefault())})})})})});H0e.displayName=O2;var Rb="SelectItemText",V0e=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Ah(Rb,n),a=Th(Rb,n),l=$0e(Rb,n),c=g0t(Rb,n),[u,f]=T.useState(null),m=Cr(e,E=>f(E),l.onItemTextChange,E=>{var k;return(k=a.itemTextRefCallback)==null?void 0:k.call(a,E,l.value,l.disabled)}),g=u==null?void 0:u.textContent,x=T.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=c;return Es(()=>(v(x),()=>w(x)),[v,w,x]),h.jsxs(h.Fragment,{children:[h.jsx(Rn.span,{id:l.textId,...s,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Om.createPortal(s.children,o.valueNode):null]})});V0e.displayName=Rb;var G0e="SelectItemIndicator",q0e=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return $0e(G0e,n).isSelected?h.jsx(Rn.span,{"aria-hidden":!0,...r,ref:e}):null});q0e.displayName=G0e;var rL="SelectScrollUpButton",K0e=T.forwardRef((t,e)=>{const n=Th(rL,t.__scopeSelect),r=ej(rL,t.__scopeSelect),[i,s]=T.useState(!1),o=Cr(e,r.onScrollButtonChange);return Es(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?h.jsx(Y0e,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});K0e.displayName=rL;var iL="SelectScrollDownButton",W0e=T.forwardRef((t,e)=>{const n=Th(iL,t.__scopeSelect),r=ej(iL,t.__scopeSelect),[i,s]=T.useState(!1),o=Cr(e,r.onScrollButtonChange);return Es(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?h.jsx(Y0e,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});W0e.displayName=iL;var Y0e=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Th("SelectScrollButton",n),o=T.useRef(null),a=tI(n),l=T.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return T.useEffect(()=>()=>l(),[l]),Es(()=>{var u;const c=a().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),h.jsx(Rn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:hn(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:hn(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:hn(i.onPointerLeave,()=>{l()})})}),N0t="SelectSeparator",J0e=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(Rn.div,{"aria-hidden":!0,...r,ref:e})});J0e.displayName=N0t;var sL="SelectArrow",I0t=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=nI(n),s=Ah(sL,n),o=Th(sL,n);return s.open&&o.position==="popper"?h.jsx(Aoe,{...i,...r,ref:e}):null});I0t.displayName=sL;var P0t="SelectBubbleInput",X0e=T.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=T.useRef(null),s=Cr(r,i),o=u0t(e);return T.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const f=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(f)}},[o,e]),h.jsx(Rn.select,{...n,style:{...Toe,...n.style},ref:s,defaultValue:e})});X0e.displayName=P0t;function Q0e(t){return t===""||t===void 0}function Z0e(t){const e=nh(t),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(o=>{const a=n.current+o;e(a),(function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(a)},[e]),s=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function ege(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=_0t(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function _0t(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var R0t=k0e,tge=I0e,O0t=_0e,M0t=R0e,D0t=O0e,nge=M0e,L0t=j0e,rge=z0e,ige=H0e,B0t=V0e,j0t=q0e,sge=K0e,oge=W0e,age=J0e;const see=R0t,oee=O0t,oL=T.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(tge,{ref:r,className:jt("flex h-10 w-full items-center justify-between whitespace-nowrap rounded-lg border border-slate-700 bg-slate-800/50 px-3 py-2 text-sm text-white ring-offset-background placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(M0t,{asChild:!0,children:h.jsx(pl,{className:"h-4 w-4 opacity-50"})})]}));oL.displayName=tge.displayName;const lge=T.forwardRef(({className:t,...e},n)=>h.jsx(sge,{ref:n,className:jt("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(om,{className:"h-4 w-4"})}));lge.displayName=sge.displayName;const cge=T.forwardRef(({className:t,...e},n)=>h.jsx(oge,{ref:n,className:jt("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(pl,{className:"h-4 w-4"})}));cge.displayName=oge.displayName;const aL=T.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>h.jsx(D0t,{children:h.jsxs(nge,{ref:i,className:jt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-slate-700 bg-slate-800 text-slate-100 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(lge,{}),h.jsx(L0t,{className:jt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(cge,{})]})}));aL.displayName=nge.displayName;const U0t=T.forwardRef(({className:t,...e},n)=>h.jsx(rge,{ref:n,className:jt("px-2 py-1.5 text-sm font-semibold text-slate-400",t),...e}));U0t.displayName=rge.displayName;const lL=T.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(ige,{ref:r,className:jt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-slate-700 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(j0t,{children:h.jsx(ou,{className:"h-4 w-4"})})}),h.jsx(B0t,{children:e})]}));lL.displayName=ige.displayName;const F0t=T.forwardRef(({className:t,...e},n)=>h.jsx(age,{ref:n,className:jt("-mx-1 my-1 h-px bg-slate-700",t),...e}));F0t.displayName=age.displayName;const z0t=({addNotification:t,password:e})=>{var P,R,$,q,te,Y,G,O;const{user:n,logout:r}=gw(),[i,s]=T.useState(!1),[o,a]=T.useState(!1),[l,c]=T.useState(""),[u,f]=T.useState(!1),[m,g]=T.useState(null),[x,v]=T.useState(!1),[w,E]=T.useState(!1),[k,I]=T.useState(""),D=T.useRef(null),[j,M]=T.useState(!1),[U,V]=T.useState(""),F=async N=>{var W,X,re,ae,Ee,ue,me,ce,oe,Ce,Ne,$e,Ze,Ye,We,St,st,Lt,Xt,qe,At,an,_e,Ve,ft,lt,se,J,Z,fe,be,he,ye,Xe,et,it,Ut,xt,Rt,nn;if(!(n!=null&&n.uid)){t("No user session found");return}v(!0);try{const Qt=Pe.getUserKey("agent_activity_log"),rn=Pe.getUserKey("vault_dealer_strategy"),Bi=Pe.getUserKey("agent_scheduler_tasks"),[$n,le,Q]=await Promise.all([Pe.getItem(Qt),Pe.getItem(rn),Pe.getItem(Bi)]);let ee=[];if(N){const ct=await Gu.getHistory();for(const Vs of ct)try{const Un=await Gu.loadConversation(Vs.id,N);Un&&ee.push(Un)}catch(Un){console.warn(`Failed to decrypt conversation ${Vs.id}`,Un)}}const pe=await Pe.getItem(Pe.getUserKey("vault_dealer_storage"));let Te=null;if(pe)try{const ct=JSON.parse(pe);Te={strategyPrompt:(W=ct.settings)==null?void 0:W.strategyPrompt,aggressiveMode:(X=ct.settings)==null?void 0:X.aggressiveMode,maxLeverage:(re=ct.settings)==null?void 0:re.maxLeverage,maxPositionSizeUSDC:(ae=ct.settings)==null?void 0:ae.maxPositionSizeUSDC,maxOpenPositions:(Ee=ct.settings)==null?void 0:Ee.maxOpenPositions,bankrollType:(ue=ct.settings)==null?void 0:ue.bankrollType,manualBankroll:(me=ct.settings)==null?void 0:me.manualBankroll,tradingPairs:(ce=ct.settings)==null?void 0:ce.tradingPairs,checkIntervalSeconds:(oe=ct.settings)==null?void 0:oe.checkIntervalSeconds,analysisTimeframe:(Ce=ct.settings)==null?void 0:Ce.analysisTimeframe,historyCandles:(Ne=ct.settings)==null?void 0:Ne.historyCandles,macroTimeframeEnabled:($e=ct.settings)==null?void 0:$e.macroTimeframeEnabled,macroTimeframe:(Ze=ct.settings)==null?void 0:Ze.macroTimeframe,macroEnabledIndicators:(Ye=ct.settings)==null?void 0:Ye.macroEnabledIndicators,indicatorSettings:(We=ct.settings)==null?void 0:We.indicatorSettings,autonomousIndicators:(St=ct.settings)==null?void 0:St.autonomousIndicators,selectedPreset:(st=ct.settings)==null?void 0:st.selectedPreset,promptMode:(Lt=ct.settings)==null?void 0:Lt.promptMode,stopLossEnabled:(Xt=ct.settings)==null?void 0:Xt.stopLossEnabled,stopLossPercent:(qe=ct.settings)==null?void 0:qe.stopLossPercent,takeProfitEnabled:(At=ct.settings)==null?void 0:At.takeProfitEnabled,takeProfitPercent:(an=ct.settings)==null?void 0:an.takeProfitPercent}}catch(ct){console.error("Failed to parse dealer settings",ct)}const Re=await Pe.getItem(Pe.getUserKey("vault_polymarket_storage"));let ze=null,Kt;if(Re)try{const ct=JSON.parse(Re);ze={strategyPrompt:(_e=ct.settings)==null?void 0:_e.strategyPrompt,promptMode:(Ve=ct.settings)==null?void 0:Ve.promptMode,selectedPreset:(ft=ct.settings)==null?void 0:ft.selectedPreset,marketSelectionMode:(lt=ct.settings)==null?void 0:lt.marketSelectionMode,selectedMarkets:(se=ct.settings)==null?void 0:se.selectedMarkets,allowedCategories:(J=ct.settings)==null?void 0:J.allowedCategories,maxPositionSizeUSDC:(Z=ct.settings)==null?void 0:Z.maxPositionSizeUSDC,maxOpenPositions:(fe=ct.settings)==null?void 0:fe.maxOpenPositions,minLiquidity:(be=ct.settings)==null?void 0:be.minLiquidity,minVolume24h:(he=ct.settings)==null?void 0:he.minVolume24h,minVolumeThreshold:(ye=ct.settings)==null?void 0:ye.minVolumeThreshold,minLiquidityThreshold:(Xe=ct.settings)==null?void 0:Xe.minLiquidityThreshold,minSpreadThreshold:(et=ct.settings)==null?void 0:et.minSpreadThreshold,confidenceThreshold:(it=ct.settings)==null?void 0:it.confidenceThreshold,bankrollType:(Ut=ct.settings)==null?void 0:Ut.bankrollType,manualBankroll:(xt=ct.settings)==null?void 0:xt.manualBankroll,checkIntervalSeconds:(Rt=ct.settings)==null?void 0:Rt.checkIntervalSeconds},Kt=(nn=ct.settings)==null?void 0:nn.strategyPrompt}catch(ct){console.error("Failed to parse polymarket settings",ct)}const qt={version:"1.0",exportedAt:new Date().toISOString(),data:{activityLog:$n?JSON.parse($n):[],conversations:ee.length>0?ee:void 0,hyperliquidDealer:{settings:Te,strategyPrompt:le||void 0},polymarketDealer:{settings:ze,strategyPrompt:Kt},schedulerTasks:Q?JSON.parse(Q):[]}},Ht=new Blob([JSON.stringify(qt,null,2)],{type:"application/json"}),pn=URL.createObjectURL(Ht),mt=document.createElement("a");mt.href=pn,mt.download=`autonomousvault_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(mt),mt.click(),document.body.removeChild(mt),URL.revokeObjectURL(pn),t("Backup exported successfully!"),M(!1),V("")}catch(Qt){console.error("Export failed:",Qt),t("Failed to export data")}finally{v(!1)}},z=()=>{V(""),M(!0)},K=()=>{if(!U){t("Please enter your password");return}if(U!==e){t("Incorrect password");return}F(U)},H=N=>{var re;const W=(re=N.target.files)==null?void 0:re[0];if(!W)return;const X=new FileReader;X.onload=ae=>{var Ee;try{const ue=(Ee=ae.target)==null?void 0:Ee.result,me=JSON.parse(ue);if(!me.version||!me.data){t("Invalid backup file format");return}g(me),f(!0)}catch(ue){console.error("Failed to parse backup file:",ue),t("Failed to read backup file")}},X.readAsText(W),D.current&&(D.current.value="")},B=async()=>{var N,W,X,re,ae,Ee,ue;if(!(!m||!(n!=null&&n.uid))){E(!0);try{const{data:me}=m;if((N=me.activityLog)!=null&&N.length){const oe=Pe.getUserKey("agent_activity_log");await Pe.setItem(oe,JSON.stringify(me.activityLog))}if((W=me.schedulerTasks)!=null&&W.length){const oe=Pe.getUserKey("agent_scheduler_tasks");await Pe.setItem(oe,JSON.stringify(me.schedulerTasks))}if((X=me.hyperliquidDealer)!=null&&X.strategyPrompt){const oe=Pe.getUserKey("vault_dealer_strategy");await Pe.setItem(oe,me.hyperliquidDealer.strategyPrompt)}const ce=e||k;if((re=me.conversations)!=null&&re.length){if(!ce){t("ERROR: Password required to import conversations"),E(!1);return}console.log(`[Import] Restoring ${me.conversations.length} conversations using provided password...`);for(const oe of me.conversations)try{await Gu.saveConversation(oe,ce)}catch(Ce){console.warn(`Failed to restore conversation ${oe.id}`,Ce)}}if((ae=me.hyperliquidDealer)!=null&&ae.settings){const oe=await Pe.getItem(Pe.getUserKey("vault_dealer_storage"));try{const Ce=oe?JSON.parse(oe):{settings:{}};Ce.settings={...Ce.settings,...me.hyperliquidDealer.settings},await Pe.setItem(Pe.getUserKey("vault_dealer_storage"),JSON.stringify(Ce))}catch(Ce){console.error("Failed to merge dealer settings",Ce)}}if((Ee=me.polymarketDealer)!=null&&Ee.settings||(ue=me.polymarketDealer)!=null&&ue.strategyPrompt){console.log("[Import] Restoring Polymarket settings:",me.polymarketDealer);const oe=await Pe.getItem(Pe.getUserKey("vault_polymarket_storage"));try{const Ce=oe?JSON.parse(oe):{settings:{}};me.polymarketDealer.settings&&(Ce.settings={...Ce.settings,...me.polymarketDealer.settings}),me.polymarketDealer.strategyPrompt&&(Ce.settings={...Ce.settings,strategyPrompt:me.polymarketDealer.strategyPrompt}),console.log("[Import] Saving Polymarket settings:",Ce.settings),await Pe.setItem(Pe.getUserKey("vault_polymarket_storage"),JSON.stringify(Ce))}catch(Ce){console.error("Failed to merge polymarket settings",Ce)}}else console.log("[Import] No Polymarket settings to restore");console.log("[Import] Reloading stores from storage..."),await Nt.reloadFromStorage(),await at.reloadFromStorage(),t("Data restored successfully!"),f(!1),g(null)}catch(me){console.error("Import failed:",me),t("Failed to import data")}finally{E(!1)}}},A=async()=>{if(!(!(n!=null&&n.uid)||l!=="DELETE")){a(!0);try{Nt.reset(),at.reset(),await Pe.clearUserData(n.uid),await r(),t("Account deleted successfully")}catch(N){console.error("Delete account failed:",N),t("Failed to delete account"),a(!1)}}};return h.jsxs(tn.div,{className:"h-full flex flex-col gap-4 overflow-y-auto custom-scrollbar pb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[h.jsxs("div",{className:"glass-panel p-5 rounded",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(q2e,{className:"h-4 w-4 text-[#E7FE55]"}),h.jsx("span",{className:"text-sm font-semibold text-white",children:"Legal"})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[h.jsxs("a",{href:"/terms.html",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-[#14151a] border border-[#232328] rounded hover:border-[#E7FE55]/30 transition-all group",children:[h.jsx("div",{className:"p-2 rounded bg-[#E7FE55]/10",children:h.jsx(w2e,{size:18,className:"text-[#E7FE55]"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("span",{className:"text-sm font-medium text-white group-hover:text-[#E7FE55] transition-colors",children:"Terms of Use"}),h.jsx("p",{className:"text-[10px] text-[#747580]",children:"Read our terms and conditions"})]}),h.jsx($y,{size:14,className:"text-[#747580] group-hover:text-[#E7FE55]"})]}),h.jsxs("a",{href:"/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-[#14151a] border border-[#232328] rounded hover:border-[#E7FE55]/30 transition-all group",children:[h.jsx("div",{className:"p-2 rounded bg-[#E7FE55]/10",children:h.jsx(ire,{size:18,className:"text-[#E7FE55]"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("span",{className:"text-sm font-medium text-white group-hover:text-[#E7FE55] transition-colors",children:"Privacy Policy"}),h.jsx("p",{className:"text-[10px] text-[#747580]",children:"How we handle your data"})]}),h.jsx($y,{size:14,className:"text-[#747580] group-hover:text-[#E7FE55]"})]})]})]}),h.jsxs("div",{className:"glass-panel p-5 rounded",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(v2e,{className:"h-4 w-4 text-[#E7FE55]"}),h.jsx("span",{className:"text-sm font-semibold text-white",children:"Data Backup"})]}),h.jsxs("p",{className:"text-xs text-[#747580] mb-4",children:["Export your settings, activity history, and prompts to restore on another device.",h.jsx("span",{className:"text-amber-400",children:" Private keys and sensitive data are never included."})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[h.jsxs("button",{onClick:z,disabled:x,className:"flex items-center gap-3 p-4 bg-[#14151a] border border-[#232328] rounded hover:border-[#E7FE55]/30 transition-all group disabled:opacity-50",children:[h.jsx("div",{className:"p-2 rounded bg-emerald-500/10",children:h.jsx(Io,{size:18,className:"text-emerald-400"})}),h.jsxs("div",{className:"flex-1 text-left",children:[h.jsx("span",{className:"text-sm font-medium text-white group-hover:text-emerald-400 transition-colors",children:x?"Exporting...":"Export Data"}),h.jsx("p",{className:"text-[10px] text-[#747580]",children:"Download your settings as JSON"})]})]}),h.jsxs("button",{onClick:()=>{var N;return(N=D.current)==null?void 0:N.click()},className:"flex items-center gap-3 p-4 bg-[#14151a] border border-[#232328] rounded hover:border-[#E7FE55]/30 transition-all group",children:[h.jsx("div",{className:"p-2 rounded bg-blue-500/10",children:h.jsx(UT,{size:18,className:"text-blue-400"})}),h.jsxs("div",{className:"flex-1 text-left",children:[h.jsx("span",{className:"text-sm font-medium text-white group-hover:text-blue-400 transition-colors",children:"Import Data"}),h.jsx("p",{className:"text-[10px] text-[#747580]",children:"Restore from a backup file"})]})]}),h.jsx("input",{ref:D,type:"file",accept:".json",onChange:H,className:"hidden"})]})]}),h.jsxs("div",{className:"glass-panel p-5 rounded border border-red-500/20",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(am,{className:"h-4 w-4 text-red-400"}),h.jsx("span",{className:"text-sm font-semibold text-white",children:"Danger Zone"})]}),h.jsx("div",{className:"bg-red-500/5 border border-red-500/20 rounded p-4 mb-4",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Xu,{size:20,className:"text-red-400 shrink-0 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-red-400 mb-1",children:"Delete Account"}),h.jsx("p",{className:"text-xs text-[#a0a1a8]",children:"This will permanently delete all your data including activity history, dealer configurations, prompts, and scheduled tasks. This action cannot be undone."})]})]})}),h.jsx("button",{onClick:()=>s(!0),className:"px-4 py-2 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm font-medium hover:bg-red-500/20 transition-colors",children:"Delete My Account"})]}),i&&h.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsx("div",{className:"bg-[#14151a] border border-[#232328] w-full max-w-md rounded-xl shadow-2xl overflow-hidden",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"p-3 rounded-full bg-red-500/10",children:h.jsx(Xu,{size:24,className:"text-red-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Delete Account"}),h.jsx("p",{className:"text-xs text-[#747580]",children:"This action is irreversible"})]})]}),h.jsxs("p",{className:"text-sm text-[#a0a1a8] mb-4",children:["All your data will be permanently deleted. To confirm, type ",h.jsx("strong",{className:"text-white",children:"DELETE"})," below:"]}),h.jsx("input",{type:"text",value:l,onChange:N=>c(N.target.value),placeholder:"Type DELETE to confirm",className:"w-full px-3 py-2 bg-[#0f1015] border border-[#232328] rounded text-white placeholder:text-[#3a3b42] focus:outline-none focus:border-red-500/50 mb-4"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>{s(!1),c("")},className:"flex-1 px-4 py-2 bg-[#232328] rounded text-white text-sm font-medium hover:bg-[#2a2b30] transition-colors",children:"Cancel"}),h.jsx("button",{onClick:A,disabled:l!=="DELETE"||o,className:jt("flex-1 px-4 py-2 rounded text-sm font-medium transition-colors",l==="DELETE"?"bg-red-500 text-white hover:bg-red-600":"bg-red-500/30 text-red-400/50 cursor-not-allowed"),children:o?"Deleting...":"Delete Account"})]})]})})}),u&&m&&h.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsx("div",{className:"bg-[#14151a] border border-[#232328] w-full max-w-md rounded-xl shadow-2xl overflow-hidden",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"p-3 rounded-full bg-blue-500/10",children:h.jsx(UT,{size:24,className:"text-blue-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Import Backup"}),h.jsxs("p",{className:"text-xs text-[#747580]",children:["Created: ",new Date(m.exportedAt).toLocaleDateString()]})]})]}),h.jsxs("div",{className:"bg-[#0f1015] border border-[#232328] rounded p-4 mb-4 space-y-2",children:[h.jsx("p",{className:"text-xs text-[#747580] uppercase tracking-wider mb-2",children:"Data to restore:"}),(P=m.data.activityLog)!=null&&P.length?h.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#a0a1a8]",children:[h.jsx(ou,{size:14,className:"text-emerald-400"}),h.jsxs("span",{children:["Activity Log (",m.data.activityLog.length," items)"]})]}):null,(R=m.data.conversations)!=null&&R.length?h.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#a0a1a8]",children:[h.jsx(ou,{size:14,className:"text-emerald-400"}),h.jsxs("span",{children:["Conversations (",m.data.conversations.length," chats)"]})]}):null,($=m.data.hyperliquidDealer)!=null&&$.settings?h.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#a0a1a8]",children:[h.jsx(ou,{size:14,className:"text-emerald-400"}),h.jsx("span",{children:"Hyperliquid Dealer Settings"})]}):null,(q=m.data.hyperliquidDealer)!=null&&q.strategyPrompt?h.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#a0a1a8]",children:[h.jsx(ou,{size:14,className:"text-emerald-400"}),h.jsx("span",{children:"Hyperliquid Strategy Prompt"})]}):null,(te=m.data.polymarketDealer)!=null&&te.settings?h.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#a0a1a8]",children:[h.jsx(ou,{size:14,className:"text-emerald-400"}),h.jsx("span",{children:"Polymarket Dealer Settings"})]}):null,(Y=m.data.polymarketDealer)!=null&&Y.strategyPrompt?h.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#a0a1a8]",children:[h.jsx(ou,{size:14,className:"text-emerald-400"}),h.jsx("span",{children:"Polymarket Strategy Prompt"})]}):null,(G=m.data.schedulerTasks)!=null&&G.length?h.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#a0a1a8]",children:[h.jsx(ou,{size:14,className:"text-emerald-400"}),h.jsxs("span",{children:["Scheduled Tasks (",m.data.schedulerTasks.length," items)"]})]}):null]}),(O=m.data.conversations)!=null&&O.length?h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-xs text-[#747580] mb-2",children:"Encryption password required to secure imported conversations:"}),h.jsx("input",{type:"password",value:k,onChange:N=>I(N.target.value),placeholder:"Enter encryption password",className:"w-full px-3 py-2 bg-[#0f1015] border border-[#232328] rounded text-white placeholder:text-[#3a3b42] focus:outline-none focus:border-[#E7FE55]/50"}),!k&&!e&&h.jsx("p",{className:"text-[10px] text-amber-500 mt-1",children:"Warning: Without password, conversations will NOT be imported."})]}):null,h.jsx("p",{className:"text-xs text-amber-400 mb-4",children:" This will overwrite your current settings. Are you sure?"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>{f(!1),g(null),I("")},className:"flex-1 px-4 py-2 bg-[#232328] rounded text-white text-sm font-medium hover:bg-[#2a2b30] transition-colors",children:"Cancel"}),h.jsx("button",{onClick:B,disabled:w,className:"flex-1 px-4 py-2 bg-[#E7FE55] rounded text-black text-sm font-semibold hover:bg-[#d9f044] transition-colors disabled:opacity-50",children:w?"Importing...":"Restore Data"})]})]})})}),j&&h.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsx("div",{className:"bg-[#14151a] border border-[#232328] w-full max-w-md rounded-xl shadow-2xl overflow-hidden",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"p-3 rounded-full bg-emerald-500/10",children:h.jsx(Io,{size:24,className:"text-emerald-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Confirm Data Export"}),h.jsx("p",{className:"text-xs text-[#747580]",children:"Security check required"})]})]}),h.jsx("p",{className:"text-sm text-[#a0a1a8] mb-4",children:"Please enter your Vault password to authorize the export. This ensures only you can download your data."}),h.jsx("div",{className:"mb-4",children:h.jsx("input",{type:"password",value:U,onChange:N=>V(N.target.value),placeholder:"Enter Vault password",className:"w-full px-3 py-2 bg-[#0f1015] border border-[#232328] rounded text-white placeholder:text-[#3a3b42] focus:outline-none focus:border-[#E7FE55]/50",onKeyDown:N=>{N.key==="Enter"&&K()}})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>{M(!1),V("")},className:"flex-1 px-4 py-2 bg-[#232328] rounded text-white text-sm font-medium hover:bg-[#2a2b30] transition-colors",children:"Cancel"}),h.jsx("button",{onClick:K,className:"flex-1 px-4 py-2 bg-[#E7FE55] rounded text-black text-sm font-semibold hover:bg-[#d9f044] transition-colors",children:"Export"})]})]})})})]})},LO={operator:{name:"Chat Operator",shortName:"Operator",icon:h.jsx(j2e,{size:14}),description:"Chat assistant",color:"#9b87f5"},hyperliquidDealer:{name:"Hyperliquid Dealer",shortName:"Hyperliquid Dealer",icon:h.jsx(Pn,{size:14}),description:"Perp trading",color:"#E7FE55"},polymarketDealer:{name:"Polymarket Dealer",shortName:"Polymarket Dealer",icon:h.jsx(Ng,{size:14}),description:"Predictions",color:"#22d3ee"}},$0t=({vault:t,password:e,addNotification:n,activeTab:r,setActiveTab:i})=>{const[s,o]=T.useState("gemini"),[a,l]=T.useState({gemini:"",openai:"",claude:""}),[c,u]=T.useState({gemini:!1,openai:!1,claude:!1}),[f,m]=T.useState({gemini:"empty",openai:"empty",claude:"empty"}),[g,x]=T.useState({operator:{providerType:"gemini",modelId:"gemini-2.5-flash"},hyperliquidDealer:{providerType:"gemini",modelId:"gemini-2.5-flash"},polymarketDealer:{providerType:"gemini",modelId:"gemini-2.5-flash"}}),[v,w]=T.useState("devnet"),[E,k]=T.useState("testnet"),[I,D]=T.useState(!1);T.useEffect(()=>{const K=or.getSnapshot(),H={gemini:"",openai:"",claude:""},B={gemini:"empty",openai:"empty",claude:"empty"};for(const P of["gemini","openai","claude"]){const R=or.getApiKey(P);H[P]=R,B[P]=R?"saved":"empty"}l(H),m(B),x(K.componentConfigs);const A=or.subscribe(()=>{const P=or.getSnapshot();x(P.componentConfigs)});return()=>{A()}},[]);const j=(K,H)=>{l(A=>({...A,[K]:H}));const B=or.getApiKey(K);m(A=>({...A,[K]:H===""?"empty":H!==B?"modified":"saved"}))},M=K=>{const H=a[K].trim();H&&(or.setApiKey(K,H),m(B=>({...B,[K]:"saved"})),n(`${Dl[K].name} API Key saved!`))},U=K=>{or.clearApiKey(K),l(H=>({...H,[K]:""})),m(H=>({...H,[K]:"empty"})),n(`${Dl[K].name} API Key cleared`)},V=(K,H)=>{var R;const A=((R=Hg[H][0])==null?void 0:R.id)||"",P={providerType:H,modelId:A};or.isProviderConfigured(H)?(or.setComponentConfig(K,P),n(`${LO[K].name} now using ${Dl[H].name}`)):n(`Please configure ${Dl[H].name} API key first`)},F=(K,H)=>{const B=g[K],A={...B,modelId:H};or.setComponentConfig(K,A);const P=Hg[B.providerType].find(R=>R.id===H);n(`${LO[K].name} model changed to ${(P==null?void 0:P.name)||H}`)},z=()=>or.getConfiguredProviders();return h.jsx(tn.div,{className:"h-full flex flex-col gap-4 overflow-y-auto custom-scrollbar pb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:r==="user"?h.jsx(z0t,{addNotification:n,password:e}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"glass-panel p-5 rounded",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(Xne,{className:"h-4 w-4 text-[#E7FE55]"}),h.jsx("span",{className:"text-sm font-semibold text-white",children:"AI Providers"}),h.jsx("div",{className:"flex items-center gap-1.5 ml-auto",children:["gemini","openai","claude"].map(K=>h.jsx("div",{className:jt("w-2 h-2 rounded-full transition-all",f[K]==="saved"?"bg-[#34d399]":"bg-[#3a3b42]"),title:`${Dl[K].name}: ${f[K]==="saved"?"Configured":"Not configured"}`},K))})]}),h.jsx("div",{className:"flex bg-[#14151a] rounded-lg p-1 border border-[#232328] mb-4",children:["gemini","openai","claude"].map(K=>{const H=Dl[K],B=s===K,A=f[K]==="saved";return h.jsxs("button",{onClick:()=>o(K),className:jt("flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-md text-xs font-medium transition-all",B?"bg-[#1a1b21] text-white":"text-[#747580] hover:text-[#a0a1a8]"),children:[h.jsx("span",{children:H.icon}),h.jsx("span",{children:H.name.split(" ")[0]}),A&&h.jsx("span",{className:"relative flex h-2 w-2",children:h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-[#34d399]"})})]},K)})}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Zne,{size:14,className:"text-[#747580]"}),h.jsxs("span",{className:"text-[10px] text-[#747580] uppercase tracking-[0.1em]",children:[Dl[s].name," API Key"]}),f[s]==="saved"&&h.jsxs("span",{className:"px-2 py-0.5 rounded bg-[#34d399]/15 text-[#34d399] text-[9px] font-semibold uppercase tracking-wider flex items-center gap-1",children:[h.jsx(ou,{size:10})," Saved"]}),f[s]==="modified"&&h.jsxs("span",{className:"px-2 py-0.5 rounded bg-amber-500/15 text-amber-400 text-[9px] font-semibold uppercase tracking-wider flex items-center gap-1",children:[h.jsx(Q2,{size:10})," Unsaved"]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("input",{type:c[s]?"text":"password",value:a[s],onChange:K=>j(s,K.target.value),placeholder:`Enter ${Dl[s].name} key...`,className:"w-full h-9 px-3 pr-9 text-xs font-mono bg-[#0f1015] border border-[#232328] rounded text-white placeholder:text-[#3a3b42] focus:outline-none focus:border-[#E7FE55]/30 transition-colors"}),h.jsx("button",{type:"button",onClick:()=>u(K=>({...K,[s]:!K[s]})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#747580] hover:text-white transition-colors",children:c[s]?h.jsx(r8,{size:14}):h.jsx(Qne,{size:14})})]}),h.jsx("button",{onClick:()=>M(s),disabled:f[s]!=="modified",className:jt("h-9 px-4 rounded text-xs font-semibold transition-all",f[s]==="modified"?"bg-[#E7FE55] text-black hover:bg-[#E7FE55]/90":"bg-[#232328] text-[#3a3b42] cursor-not-allowed"),children:"Save"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[a[s]&&h.jsx("button",{onClick:()=>U(s),className:"text-[10px] text-red-400/70 hover:text-red-400 transition-colors",children:"Clear key"}),h.jsxs("a",{href:Dl[s].keyUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-[#E7FE55]/60 hover:text-[#E7FE55] transition-colors flex items-center gap-1 ml-auto",children:["Get API key ",h.jsx($y,{size:10})]})]})]})]}),h.jsxs("div",{className:"glass-panel p-5 rounded",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(ao,{className:"h-4 w-4 text-[#E7FE55]"}),h.jsx("span",{className:"text-sm font-semibold text-white",children:"Component Models"})]}),h.jsx("div",{className:"grid grid-cols-3 gap-3",children:["operator","hyperliquidDealer","polymarketDealer"].map(K=>{const H=LO[K],B=g[K],A=Hg[B.providerType],P=z(),R=P.includes(B.providerType);return h.jsxs("div",{className:"p-4 rounded border border-[#232328] bg-[#14151a] space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"p-1.5 rounded",style:{backgroundColor:`${H.color}15`},children:h.jsx("span",{style:{color:H.color},children:H.icon})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:"text-xs font-semibold text-white truncate",children:H.shortName}),h.jsxs("span",{className:"relative flex h-2 w-2",children:[R&&h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#34d399] opacity-75"}),h.jsx("span",{className:jt("relative inline-flex rounded-full h-2 w-2",R?"bg-[#34d399]":"bg-amber-400")})]})]}),h.jsx("p",{className:"text-[9px] text-[#747580] uppercase tracking-[0.05em]",children:H.description})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[9px] text-[#747580] uppercase tracking-[0.1em] mb-1.5 block",children:"Provider"}),h.jsxs(see,{value:B.providerType,onValueChange:$=>V(K,$),children:[h.jsx(oL,{className:"w-full h-8 text-xs bg-[#0f1015] border-[#232328] text-white",children:h.jsx(oee,{})}),h.jsx(aL,{className:"bg-[#14151a] border-[#232328]",children:["gemini","openai","claude"].map($=>{const q=Dl[$],te=P.includes($);return h.jsx(lL,{value:$,disabled:!te,className:"text-xs",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{children:q.icon}),h.jsx("span",{children:q.name.split(" ")[0]}),!te&&h.jsx("span",{className:"text-[#3a3b42] text-[10px]",children:"(no key)"})]})},$)})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[9px] text-[#747580] uppercase tracking-[0.1em] mb-1.5 block",children:"Model"}),h.jsxs(see,{value:B.modelId,onValueChange:$=>F(K,$),children:[h.jsx(oL,{className:"w-full h-8 text-xs bg-[#0f1015] border-[#232328] text-white",children:h.jsx(oee,{})}),h.jsx(aL,{className:"bg-[#14151a] border-[#232328]",children:A.map($=>h.jsx(lL,{value:$.id,className:"text-xs",children:h.jsx("span",{children:$.name})},$.id))})]})]})]},K)})})]}),h.jsxs("div",{className:"glass-panel rounded overflow-hidden",children:[h.jsxs("button",{onClick:()=>D(!I),className:"w-full p-4 flex items-center justify-between hover:bg-[#1a1b21]/50 transition-all",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(KA,{className:"h-4 w-4 text-[#34d399]"}),h.jsx("span",{className:"text-sm font-semibold text-white",children:"Networks"})]}),h.jsx(pl,{size:16,className:jt("text-[#747580] transition-transform duration-200",I&&"rotate-180")})]}),I&&h.jsxs("div",{className:"px-4 pb-4 border-t border-[#232328] space-y-3 pt-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-[10px] text-[#747580] uppercase tracking-[0.1em]",children:"Solana"}),h.jsxs("div",{className:"flex bg-[#14151a] rounded-lg p-1 border border-[#232328]",children:[h.jsx("button",{onClick:()=>w("devnet"),className:jt("px-3 py-1.5 rounded-md text-[11px] font-medium transition-all",v==="devnet"?"bg-[#1a1b21] text-white":"text-[#747580]"),children:"Devnet"}),h.jsxs("button",{disabled:!0,className:"px-3 py-1.5 rounded-md text-[11px] text-[#3a3b42] flex items-center gap-1",children:["Mainnet ",h.jsx("span",{className:"text-[8px] text-[#747580] bg-[#232328] px-1 rounded",children:"SOON"})]})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-[10px] text-[#747580] uppercase tracking-[0.1em]",children:"Hyperliquid"}),h.jsxs("div",{className:"flex bg-[#14151a] rounded-lg p-1 border border-[#232328]",children:[h.jsx("button",{onClick:()=>k("testnet"),className:jt("px-3 py-1.5 rounded-md text-[11px] font-medium transition-all",E==="testnet"?"bg-[#1a1b21] text-white":"text-[#747580]"),children:"Testnet"}),h.jsxs("button",{disabled:!0,className:"px-3 py-1.5 rounded-md text-[11px] text-[#3a3b42] flex items-center gap-1",children:["Mainnet ",h.jsx("span",{className:"text-[8px] text-[#747580] bg-[#232328] px-1 rounded",children:"SOON"})]})]})]})]})]})]})})},H0t=(t,e,n)=>t*n.inputPricePerMillion/1e6+e*n.outputPricePerMillion/1e6,V0t=({addNotification:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState([]),[s,o]=T.useState(!1),[a,l]=T.useState(!1),[c,u]=T.useState(20),[f,m]=T.useState("ALL"),[g,x]=T.useState(Ps.getSnapshot().pricing),[v,w]=T.useState(Ps.getSnapshot().pricing),E=U=>{const V=Ps.getRecords(1e3),F=Ps.getStats();if(!F)return null;const z=new Date,K=new Date(z.getFullYear(),z.getMonth(),z.getDate()).getTime(),H=new Date(z.getFullYear(),z.getMonth(),1).getTime();let B=0;const A={MANAGER:0,DEALER:0,POLYMARKET_DEALER:0},P={input:0,output:0,cost:0},R={input:0,output:0,cost:0};for(const $ of V){const q=H0t($.inputTokens,$.outputTokens,U);B+=q,A[$.source]+=q,$.timestamp>=K&&(P.input+=$.inputTokens,P.output+=$.outputTokens,P.cost+=q),$.timestamp>=H&&(R.input+=$.inputTokens,R.output+=$.outputTokens,R.cost+=q)}return{...F,totalCost:B,bySource:{MANAGER:{...F.bySource.MANAGER,cost:A.MANAGER},DEALER:{...F.bySource.DEALER,cost:A.DEALER},POLYMARKET_DEALER:{...F.bySource.POLYMARKET_DEALER,cost:A.POLYMARKET_DEALER}},today:P,thisMonth:R}};T.useEffect(()=>{const U=()=>{n(E(v)),i(Ps.getRecords(c,f==="ALL"?void 0:f))};U();const V=Ps.subscribe(U);return()=>{V()}},[c,f]),T.useEffect(()=>{const U=E(v);n(U)},[v]);const k=()=>{Ps.updatePricing(g),w({...g}),t("Pricing updated successfully")},I=()=>{confirm("Are you sure you want to clear all token usage history?")&&(Ps.clearHistory(),t("Token usage history cleared"))},D=U=>U>=1e6?(U/1e6).toFixed(2)+"M":U>=1e3?(U/1e3).toFixed(1)+"K":U.toFixed(0),j=U=>"$"+U.toFixed(4),M=U=>new Date(U).toLocaleString();return e?h.jsxs(tn.div,{className:"h-full flex flex-col space-y-6 overflow-y-auto px-1 pb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsx(Is,{className:"border-slate-700/50 bg-gradient-to-br from-slate-900/80 to-slate-800/30",children:h.jsxs(iu,{className:"p-5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/20",children:h.jsx(Qu,{className:"text-indigo-400",size:20})}),h.jsx("span",{className:"text-sm text-slate-400",children:"Total Tokens"})]}),h.jsxs(Oi,{variant:"ghost",size:"sm",onClick:I,className:"h-7 px-2 text-xs text-slate-400 hover:text-red-400 hover:bg-red-500/10",children:[h.jsx(am,{size:14,className:"mr-1"})," Clear"]})]}),h.jsx("div",{className:"text-2xl font-bold text-white",children:D(e.totalInputTokens+e.totalOutputTokens)}),h.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-slate-500",children:[h.jsxs("span",{children:["In: ",D(e.totalInputTokens)]}),h.jsxs("span",{children:["Out: ",D(e.totalOutputTokens)]})]})]})}),h.jsx(Is,{className:"border-amber-500/30 bg-gradient-to-br from-slate-900/80 to-amber-950/20",children:h.jsxs(iu,{className:"p-5",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("div",{className:"p-2 rounded-lg bg-amber-500/20",children:h.jsx(Jne,{className:"text-amber-400",size:20})}),h.jsx("span",{className:"text-sm text-slate-400",children:"Total Cost"})]}),h.jsx("div",{className:"text-2xl font-bold text-amber-400",children:j(e.totalCost)}),h.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Estimated based on current pricing"})]})}),h.jsx(Is,{className:"border-emerald-500/30 bg-gradient-to-br from-slate-900/80 to-emerald-950/20",children:h.jsxs(iu,{className:"p-5",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/20",children:h.jsx(Pn,{className:"text-emerald-400",size:20})}),h.jsx("span",{className:"text-sm text-slate-400",children:"Today"})]}),h.jsx("div",{className:"text-2xl font-bold text-white",children:D(e.today.input+e.today.output)}),h.jsx("div",{className:"text-xs text-emerald-400 mt-2",children:j(e.today.cost)})]})}),h.jsx(Is,{className:"border-blue-500/30 bg-gradient-to-br from-slate-900/80 to-blue-950/20",children:h.jsxs(iu,{className:"p-5",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20",children:h.jsx(Z2,{className:"text-blue-400",size:20})}),h.jsx("span",{className:"text-sm text-slate-400",children:"This Month"})]}),h.jsx("div",{className:"text-2xl font-bold text-white",children:D(e.thisMonth.input+e.thisMonth.output)}),h.jsx("div",{className:"text-xs text-blue-400 mt-2",children:j(e.thisMonth.cost)})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(Is,{className:"border-indigo-500/30 bg-gradient-to-br from-slate-900/80 to-indigo-950/20",children:[h.jsx(TD,{className:"pb-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/20",children:h.jsx(og,{className:"text-indigo-400",size:24})}),h.jsxs("div",{children:[h.jsx(CD,{className:"text-base",children:"Vault Operator"}),h.jsx(kD,{children:"User queries and tool calls"})]})]})}),h.jsxs(iu,{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-slate-400",children:"Total Queries"}),h.jsx("span",{className:"text-white font-medium",children:e.managerMetrics.totalQueries})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-slate-400",children:"Avg Tokens/Query"}),h.jsx("span",{className:"text-white font-medium",children:D(e.managerMetrics.avgTokensPerQuery)})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-slate-400",children:"Avg Cost/Interaction"}),h.jsx("span",{className:"text-indigo-400 font-medium",children:e.managerMetrics.totalQueries>0?j(e.bySource.MANAGER.cost/e.managerMetrics.totalQueries):"$0.0000"})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-slate-400",children:"Total Cost"}),h.jsx("span",{className:"text-indigo-400 font-medium",children:j(e.bySource.MANAGER.cost)})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:[h.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[h.jsxs("span",{children:["Input: ",D(e.bySource.MANAGER.input)]}),h.jsxs("span",{children:["Output: ",D(e.bySource.MANAGER.output)]})]}),h.jsxs("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden flex",children:[h.jsx("div",{className:"bg-indigo-500 h-full",style:{width:`${e.bySource.MANAGER.input/(e.bySource.MANAGER.input+e.bySource.MANAGER.output+1)*100}%`}}),h.jsx("div",{className:"bg-indigo-300 h-full",style:{width:`${e.bySource.MANAGER.output/(e.bySource.MANAGER.input+e.bySource.MANAGER.output+1)*100}%`}})]})]})]})]}),h.jsxs(Is,{className:"border-amber-500/30 bg-gradient-to-br from-slate-900/80 to-amber-950/20",children:[h.jsx(TD,{className:"pb-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 rounded-lg bg-amber-500/20",children:h.jsx(Qu,{className:"text-amber-400",size:24})}),h.jsxs("div",{children:[h.jsx(CD,{className:"text-base",children:"Hyperliquid Dealer"}),h.jsx(kD,{children:"Automated analysis cycles"})]})]})}),h.jsxs(iu,{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-slate-400",children:"Analysis Cycles"}),h.jsx("span",{className:"text-white font-medium",children:e.bySource.DEALER.count})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-slate-400",children:"Coins Analyzed"}),h.jsx("span",{className:"text-white font-medium",children:e.dealerMetrics.totalCoinsAnalyzed})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-slate-400",children:"Avg Cost/Cycle"}),h.jsx("span",{className:"text-amber-400 font-medium",children:e.bySource.DEALER.count>0?j(e.bySource.DEALER.cost/e.bySource.DEALER.count):"$0.0000"})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-slate-400",children:"Avg Cost/Coin"}),h.jsx("span",{className:"text-amber-400 font-medium",children:e.dealerMetrics.totalCoinsAnalyzed>0?j(e.bySource.DEALER.cost/e.dealerMetrics.totalCoinsAnalyzed):"$0.0000"})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm text-slate-400",children:"Total Cost"}),h.jsx("span",{className:"text-amber-400 font-medium",children:j(e.bySource.DEALER.cost)})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:[h.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[h.jsxs("span",{children:["Input: ",D(e.bySource.DEALER.input)]}),h.jsxs("span",{children:["Output: ",D(e.bySource.DEALER.output)]})]}),h.jsxs("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden flex",children:[h.jsx("div",{className:"bg-amber-500 h-full",style:{width:`${e.bySource.DEALER.input/(e.bySource.DEALER.input+e.bySource.DEALER.output+1)*100}%`}}),h.jsx("div",{className:"bg-amber-300 h-full",style:{width:`${e.bySource.DEALER.output/(e.bySource.DEALER.input+e.bySource.DEALER.output+1)*100}%`}})]})]})]})]})]}),h.jsxs(Is,{children:[h.jsxs("button",{onClick:()=>o(!s),className:"w-full p-4 flex items-center justify-between hover:bg-slate-800/50 rounded-xl transition-all",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(jT,{size:20,className:"text-slate-400"}),h.jsx("span",{className:"text-white font-medium",children:"Pricing Configuration"})]}),s?h.jsx(om,{size:20,className:"text-slate-400"}):h.jsx(pl,{size:20,className:"text-slate-400"})]}),s&&h.jsxs(iu,{className:"pt-0 border-t border-slate-700/50",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Input Price (per 1M tokens)"}),h.jsx(cx,{type:"number",step:"0.01",value:g.inputPricePerMillion,onChange:U=>x(V=>({...V,inputPricePerMillion:parseFloat(U.target.value)||0})),className:"focus-visible:ring-[#E7FE55]/20 focus-visible:border-[#E7FE55]/30"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Output Price (per 1M tokens)"}),h.jsx(cx,{type:"number",step:"0.01",value:g.outputPricePerMillion,onChange:U=>x(V=>({...V,outputPricePerMillion:parseFloat(U.target.value)||0})),className:"focus-visible:ring-[#E7FE55]/20 focus-visible:border-[#E7FE55]/30"})]})]}),h.jsx("div",{className:"mt-4 flex justify-end",children:h.jsx(Oi,{onClick:k,variant:"success",size:"sm",children:"Apply Pricing"})})]})]}),h.jsxs(Is,{children:[h.jsxs("button",{onClick:()=>l(!a),className:"w-full p-4 flex items-center justify-between hover:bg-slate-800/50 rounded-xl transition-all",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(xc,{size:20,className:"text-slate-400"}),h.jsx("span",{className:"text-white font-medium",children:"Usage History"}),h.jsxs(vl,{variant:"secondary",children:[r.length," records"]})]}),a?h.jsx(om,{size:20,className:"text-slate-400"}):h.jsx(pl,{size:20,className:"text-slate-400"})]}),a&&h.jsxs(iu,{className:"pt-0 border-t border-slate-700/50",children:[h.jsxs("div",{className:"flex items-center gap-4 mt-4 mb-4",children:[h.jsx("div",{className:"flex bg-slate-800 rounded-lg p-1",children:["ALL","MANAGER","DEALER"].map(U=>h.jsx(Oi,{variant:f===U?"default":"ghost",size:"sm",onClick:()=>m(U),className:"text-xs",children:U},U))}),h.jsxs("select",{value:c,onChange:U=>u(parseInt(U.target.value)),className:"bg-slate-800 border border-slate-700 text-white rounded-lg px-3 py-1.5 text-xs",children:[h.jsx("option",{value:10,children:"10 records"}),h.jsx("option",{value:20,children:"20 records"}),h.jsx("option",{value:50,children:"50 records"})]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"text-slate-400 text-xs uppercase border-b border-slate-700",children:[h.jsx("th",{className:"text-left py-3 px-2",children:"Timestamp"}),h.jsx("th",{className:"text-left py-3 px-2",children:"Source"}),h.jsx("th",{className:"text-left py-3 px-2",children:"Operation"}),h.jsx("th",{className:"text-right py-3 px-2",children:"Input"}),h.jsx("th",{className:"text-right py-3 px-2",children:"Output"}),h.jsx("th",{className:"text-right py-3 px-2",children:"Cost"})]})}),h.jsxs("tbody",{children:[r.map(U=>h.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-800/50",children:[h.jsx("td",{className:"py-2 px-2 text-slate-400 text-xs",children:M(U.timestamp)}),h.jsx("td",{className:"py-2 px-2",children:h.jsx(vl,{variant:U.source==="MANAGER"?"info":"warning",children:U.source})}),h.jsx("td",{className:"py-2 px-2 text-slate-300 text-xs",children:U.operation}),h.jsx("td",{className:"py-2 px-2 text-right text-slate-300",children:D(U.inputTokens)}),h.jsx("td",{className:"py-2 px-2 text-right text-slate-300",children:D(U.outputTokens)}),h.jsx("td",{className:"py-2 px-2 text-right text-amber-400 font-medium",children:j(U.inputTokens*v.inputPricePerMillion/1e6+U.outputTokens*v.outputPricePerMillion/1e6)})]},U.id)),r.length===0&&h.jsx("tr",{children:h.jsx("td",{colSpan:6,className:"py-8 text-center text-slate-500",children:"No usage records yet."})})]})]})})]})]})]}):h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx(tn.div,{className:"h-8 w-8 border-b-2 border-indigo-500 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})})},G0t=t=>{const e=t.match(/Market:\s*(.+?)(?:\s*\||$)/);return e?e[1].slice(0,30):null},q0t=({status:t,onToggle:e,vaultAddress:n,setActiveTab:r})=>{var z;const[i,s]=T.useState(0),[o,a]=T.useState([]),[l,c]=T.useState({totalPnl:0,winRate:0,totalVolume:0,tradesWithPnl:0}),[u,f]=T.useState(!1),{summary:m,isGenerating:g,cycleCount:x,lastUpdate:v,hasSummary:w}=dpe("polymarket"),[E,k]=T.useState(0),I=T.useMemo(()=>t.logs.filter(K=>K.type==="REASONING"||K.type==="SIGNAL").slice(0,20),[t.logs]),D=T.useMemo(()=>{var H,B,A;const K=new Map;for(const P of I){const R=G0t(P.message)||((A=(B=(H=P.details)==null?void 0:H.context)==null?void 0:B.question)==null?void 0:A.slice(0,30));R&&!K.has(R)&&K.set(R,P)}return Array.from(K.entries()).sort((P,R)=>R[1].timestamp-P[1].timestamp).map(([P,R])=>({market:P,log:R}))},[I]);T.useEffect(()=>{D.length>0&&!t.isAnalyzing&&k(0)},[D.length,t.isAnalyzing]);const j=D[E];T.useEffect(()=>{if(t.operationHistory.length>0){let K=0,H=0,B=0,A=0;const P=[];let R=0;t.operationHistory.slice().reverse().forEach(q=>{const te=q.pnl||0;R+=te,K+=te,A+=q.sizeUSDC,te>0?H++:te<0&&B++,P.push({time:q.timestamp,date:new Date(q.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),pnl:R})});const $=H+B;c({totalPnl:K,winRate:$>0?H/$*100:0,totalVolume:A,tradesWithPnl:$}),a(P)}},[t.operationHistory]),T.useEffect(()=>{if(!n)return;const K=async()=>{try{const B=await Wi.getBalance();s(B)}catch(B){console.error("Failed to fetch Polymarket balance",B)}};K();const H=setInterval(K,6e4);return()=>clearInterval(H)},[n]);const M=()=>{n&&e(!t.isOn)},U=T.useMemo(()=>t.activePositions.reduce((K,H)=>K+H.unrealizedPnl,0),[t.activePositions]),V=()=>{k(K=>Math.min(D.length-1,K+1))},F=()=>{k(K=>Math.max(0,K-1))};return n?h.jsxs("div",{className:"flex flex-col h-full gap-4 overflow-y-auto custom-scrollbar pb-4",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 shrink-0",children:[h.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsx("div",{className:"glass-panel p-4 rounded flex items-center justify-between",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:`px-3 py-1.5 rounded border flex items-center gap-2 transition-all ${t.isOn?"bg-[#E7FE55]/10 border-[#E7FE55]/30":"bg-[#1a1b21] border-[#232328]"}`,children:[h.jsxs("span",{className:"relative flex h-2 w-2",children:[t.isOn&&h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#E7FE55] opacity-75"}),h.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${t.isOn?"bg-[#E7FE55]":"bg-red-500"}`})]}),h.jsx("span",{className:`font-semibold tracking-wider text-[10px] uppercase ${t.isOn?"text-[#E7FE55]":"text-[#747580]"}`,children:t.isOn?"ACTIVE":"OFFLINE"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[9px] font-medium text-[#747580] uppercase tracking-[0.1em]",children:"Master"}),h.jsx("button",{onClick:M,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-all focus:outline-none ${t.isOn?"bg-[#E7FE55]":"bg-[#232328] hover:bg-[#2a2b30]"}`,children:h.jsx("span",{className:`${t.isOn?"translate-x-5":"translate-x-1"} inline-block h-3 w-3 transform rounded-full bg-black transition-transform`})})]})]})}),h.jsxs("div",{className:"glass-panel p-4 rounded",children:[h.jsx("div",{className:"text-[10px] text-[#747580] uppercase tracking-[0.1em] mb-1",children:"Total Profit"}),h.jsxs("div",{className:`text-xl font-semibold font-mono tracking-tight ${l.totalPnl>=0?"text-[#34d399]":"text-red-400"}`,children:[l.totalPnl>=0?"+":"",l.totalPnl.toFixed(2)," USD"]})]}),h.jsxs("div",{className:"glass-panel p-4 rounded",children:[h.jsx("div",{className:"text-[10px] text-[#747580] uppercase tracking-[0.1em] mb-1",children:"Unrealized PnL"}),h.jsxs("div",{className:`text-xl font-semibold font-mono tracking-tight ${U>=0?"text-[#34d399]":"text-red-400"}`,children:[U>=0?"+":"",U.toFixed(2)," USD"]})]}),h.jsxs("div",{className:"glass-panel p-4 rounded",children:[h.jsx("div",{className:"text-[10px] text-[#747580] uppercase tracking-[0.1em] mb-1",children:"Win Rate"}),h.jsxs("div",{className:"text-xl font-semibold text-white font-mono tracking-tight",children:[l.winRate.toFixed(1),"%"]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"glass-panel p-4 rounded flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.1em] mb-1",children:"Exposure"}),h.jsxs("span",{className:"text-white font-mono text-sm font-semibold",children:["$",t.currentExposure.toLocaleString()]})]}),h.jsx(Ju,{className:"h-4 w-4 text-[#747580]"})]}),h.jsxs("div",{className:"glass-panel p-4 rounded flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.1em] mb-1",children:"Categories"}),h.jsx("span",{className:"text-white font-mono text-sm font-semibold",children:t.settings.allowedCategories.length})]}),h.jsx(r1,{className:"h-4 w-4 text-[#747580]"})]}),h.jsxs("div",{className:"glass-panel p-4 rounded flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.1em] mb-1",children:"Interval"}),h.jsxs("span",{className:"text-white font-mono text-sm font-semibold",children:[t.settings.checkIntervalSeconds,"s"]})]}),h.jsx(_a,{className:"h-4 w-4 text-[#747580]"})]}),h.jsxs("div",{className:"glass-panel p-4 rounded flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.1em] mb-1",children:"Max Position"}),h.jsxs("span",{className:"text-white font-mono text-sm font-semibold",children:["$",t.settings.maxPositionSizeUSDC]})]}),h.jsx(ww,{className:"h-4 w-4 text-[#747580]"})]})]}),h.jsxs("div",{className:"glass-panel p-5 rounded min-h-[220px] flex flex-col flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(Pn,{className:"h-4 w-4 text-[#E7FE55]"}),h.jsx("span",{className:"text-sm font-semibold text-white",children:"Performance Curve"})]}),h.jsx("div",{className:"flex-1 w-full",children:o.length>0?h.jsx(T1,{width:"100%",height:"100%",minWidth:100,minHeight:100,children:h.jsxs(ife,{data:o,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorPnlPoly",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#E7FE55",stopOpacity:.2}),h.jsx("stop",{offset:"95%",stopColor:"#E7FE55",stopOpacity:0})]})}),h.jsx(B1,{strokeDasharray:"3 3",stroke:"#232328",vertical:!1}),h.jsx(U1,{dataKey:"date",stroke:"#747580",fontSize:10,tickLine:!1,axisLine:!1}),h.jsx(F1,{stroke:"#747580",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:K=>`$${K}`}),h.jsx(HC,{contentStyle:{backgroundColor:"#14151a",borderColor:"#232328",borderRadius:"4px"},itemStyle:{color:"#E7FE55"},formatter:K=>[`$${K.toFixed(2)}`,"Net PnL"]}),h.jsx(EN,{type:"monotone",dataKey:"pnl",stroke:"#E7FE55",strokeWidth:1.5,fillOpacity:1,fill:"url(#colorPnlPoly)"})]})}):h.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-[#747580]",children:[h.jsx(al,{className:"h-8 w-8 mb-2 opacity-40"}),h.jsx("span",{className:"text-[11px]",children:"No performance data yet"})]})})]})]}),h.jsxs("div",{className:"glass-panel p-5 rounded flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(dc,{className:`h-4 w-4 shrink-0 ${t.isAnalyzing?"text-[#E7FE55] animate-pulse":"text-[#E7FE55]/60"}`}),h.jsxs("div",{className:"flex items-center bg-[#0f1015] rounded-full p-0.5 border border-[#232328]",children:[h.jsx("button",{onClick:()=>f(!1),className:`px-2 py-0.5 rounded-full text-[9px] font-semibold uppercase tracking-wider transition-all ${u?"text-[#747580] hover:text-white":"bg-[#E7FE55] text-black"}`,children:"Live"}),h.jsx("button",{onClick:()=>w&&f(!0),disabled:!w,className:`px-2 py-0.5 rounded-full text-[9px] font-semibold uppercase tracking-wider transition-all ${u?"bg-[#E7FE55] text-black":w?"text-[#747580] hover:text-white":"text-[#3a3b42] cursor-not-allowed"}`,title:w?"View AI Summary":`Available after ${2-x} more cycles`,children:"Summary"})]}),t.isAnalyzing&&!u&&h.jsx("span",{className:"px-2 py-0.5 rounded bg-[#E7FE55]/15 text-[#E7FE55] text-[9px] font-semibold uppercase tracking-wider animate-pulse",children:"LIVE"})]}),!t.isAnalyzing&&D.length>0&&!u&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:V,disabled:E>=D.length-1,className:`p-1 rounded transition-colors ${E>=D.length-1?"text-[#3a3b42] cursor-not-allowed":"text-[#747580] hover:text-white hover:bg-[#1a1b21]"}`,title:"Previous market",children:h.jsx(BT,{size:16})}),h.jsxs("span",{className:"text-[10px] text-[#747580] font-mono min-w-[32px] text-center",children:[E+1,"/",D.length]}),h.jsx("button",{onClick:F,disabled:E<=0,className:`p-1 rounded transition-colors ${E<=0?"text-[#3a3b42] cursor-not-allowed":"text-[#747580] hover:text-white hover:bg-[#1a1b21]"}`,title:"Next market",children:h.jsx(sm,{size:16})})]})]}),u?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"px-2 py-0.5 rounded bg-[#E7FE55]/15 text-[#E7FE55] text-[9px] font-semibold uppercase tracking-wider",children:[x," cycles"]}),g&&h.jsx("span",{className:"text-[10px] text-[#747580] animate-pulse",children:"generating..."})]}),v>0&&h.jsx("span",{className:"text-[10px] text-[#747580] font-mono",children:new Date(v).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),h.jsx("div",{className:"flex-1 bg-[#0f1015] rounded p-3 border border-[#232328] overflow-y-auto custom-scrollbar min-h-0 mb-3",children:m?h.jsx("p",{className:"text-[13px] text-[#a0a1a8] leading-relaxed whitespace-pre-wrap",children:m}):h.jsx("p",{className:"text-[13px] text-[#747580] italic",children:"Summary will be generated after 2+ analysis cycles..."})})]}):t.isAnalyzing?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex items-center justify-between mb-3",children:h.jsx("span",{className:`px-2 py-0.5 rounded text-[9px] font-semibold uppercase tracking-wider ${t.currentSignal==="BULLISH"?"bg-[#34d399]/15 text-[#34d399]":t.currentSignal==="BEARISH"?"bg-red-500/15 text-red-400":"bg-[#1a1b21] text-[#747580]"}`,children:t.currentSignal||"ANALYZING"})}),h.jsx("div",{className:"flex-1 bg-[#0f1015] rounded p-3 border border-[#232328] overflow-y-auto custom-scrollbar min-h-0 mb-3",children:h.jsxs("p",{className:"text-[13px] text-[#a0a1a8] italic leading-relaxed",children:['"',t.statusDetail||t.statusMessage,'"']})})]}):j?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex items-center justify-between mb-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"px-2 py-1 rounded bg-[#E7FE55]/15 text-[#E7FE55] text-xs font-semibold uppercase tracking-wider truncate max-w-[150px]",children:j.market}),h.jsx("span",{className:"text-[10px] text-[#747580] font-mono",children:new Date(j.log.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),h.jsx("div",{className:"flex-1 bg-[#0f1015] rounded p-3 border border-[#232328] overflow-y-auto custom-scrollbar min-h-0 mb-3",children:h.jsxs("p",{className:"text-[13px] text-[#a0a1a8] italic leading-relaxed whitespace-pre-wrap",children:['"',((z=j.log.details)==null?void 0:z.fullReason)||j.log.message,'"']})})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex items-center justify-between mb-3",children:h.jsx("span",{className:`px-2 py-0.5 rounded text-[9px] font-semibold uppercase tracking-wider ${t.currentSignal==="BULLISH"?"bg-[#34d399]/15 text-[#34d399]":t.currentSignal==="BEARISH"?"bg-red-500/15 text-red-400":"bg-[#1a1b21] text-[#747580]"}`,children:t.currentSignal||"NEUTRAL"})}),h.jsx("div",{className:"flex-1 bg-[#0f1015] rounded p-3 border border-[#232328] overflow-y-auto custom-scrollbar min-h-0 mb-3",children:h.jsxs("p",{className:"text-[13px] text-[#a0a1a8] italic leading-relaxed",children:['"',t.statusMessage||"Waiting for analysis...",'"']})})]}),h.jsxs("div",{className:"pt-3 border-t border-[#232328] flex flex-col gap-2 shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.05em] w-12 shrink-0",children:"Task"}),h.jsx("div",{className:"text-[10px] text-white truncate font-mono flex-1",children:t.currentTask||" Idle"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.05em] w-12 shrink-0",children:"Status"}),h.jsx("div",{className:"text-[10px] text-[#a0a1a8] font-mono truncate flex-1",children:t.statusMessage})]}),t.statusDetail&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.05em] w-12 shrink-0",children:"Info"}),h.jsx("div",{className:"text-[10px] text-[#E7FE55] truncate flex-1",children:t.statusDetail})]})]})]})]}),h.jsxs("div",{className:"glass-panel p-5 rounded shrink-0",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ng,{className:"h-4 w-4 text-[#E7FE55]"}),h.jsx("span",{className:"text-sm font-semibold text-white",children:"Active Positions"})]}),h.jsxs("span",{className:"text-[10px] text-[#747580]",children:[t.activePositions.length," / ",t.settings.maxOpenPositions]})]}),t.activePositions.length>0?h.jsx("div",{className:"overflow-auto max-h-[200px] custom-scrollbar",children:h.jsxs("table",{className:"w-full text-xs",children:[h.jsx("thead",{className:"text-[#747580] text-left sticky top-0 bg-[#14151a]",children:h.jsxs("tr",{children:[h.jsx("th",{className:"pb-2 font-medium",children:"Market"}),h.jsx("th",{className:"pb-2 font-medium",children:"Side"}),h.jsx("th",{className:"pb-2 font-medium text-right",children:"Shares"}),h.jsx("th",{className:"pb-2 font-medium text-right",children:"Avg Price"}),h.jsx("th",{className:"pb-2 font-medium text-right",children:"Current"}),h.jsx("th",{className:"pb-2 font-medium text-right",children:"PnL"})]})}),h.jsx("tbody",{className:"text-[#a0a1a8]",children:t.activePositions.map((K,H)=>h.jsxs("tr",{className:"border-t border-[#232328] hover:bg-[#1a1b21]",children:[h.jsxs("td",{className:"py-2 max-w-[200px] truncate",title:K.question,children:[K.question.slice(0,40),"..."]}),h.jsx("td",{className:`py-2 font-medium ${K.outcome==="YES"?"text-[#34d399]":"text-red-400"}`,children:K.outcome}),h.jsx("td",{className:"py-2 text-right font-mono",children:K.shares.toFixed(2)}),h.jsxs("td",{className:"py-2 text-right font-mono",children:[(K.avgPrice*100).toFixed(1),""]}),h.jsxs("td",{className:"py-2 text-right font-mono",children:[(K.currentPrice*100).toFixed(1),""]}),h.jsxs("td",{className:`py-2 text-right font-mono ${K.unrealizedPnl>=0?"text-[#34d399]":"text-red-400"}`,children:[K.unrealizedPnl>=0?"+":"","$",K.unrealizedPnl.toFixed(2)]})]},H))})]})}):h.jsxs("div",{className:"h-24 flex flex-col items-center justify-center text-[#747580] gap-2 bg-[#0f1015] rounded border border-[#232328]",children:[h.jsx(Hy,{className:"h-6 w-6 opacity-40"}),h.jsx("span",{className:"text-[11px]",children:"No active positions"})]})]})]}):h.jsx("div",{className:"flex flex-col h-full items-center justify-center",children:h.jsxs("div",{className:"max-w-md w-full mx-auto space-y-6 p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-[#1a1b21] rounded-full flex items-center justify-center mx-auto mb-4 border border-[#232328]",children:h.jsx(Hy,{size:32,className:"text-[#E7FE55]"})}),h.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:"Polymarket Vault Required"}),h.jsxs("p",{className:"text-[#747580] text-sm",children:["To use the Polymarket Dealer, you need to create a ",h.jsx("span",{className:"text-[#E7FE55]",children:"Polymarket Vault"})," first."]}),h.jsx("button",{onClick:()=>r(ke.VAULT),className:"mt-4 px-6 py-3 bg-[#E7FE55] hover:bg-[#d4eb4d] text-black font-bold rounded-xl transition-all",children:"Go to Vault Operator"})]})})},K0t=({settings:t,onUpdateSettings:e,onApplyChanges:n,isOn:r=!1,onToggle:i})=>{const[s,o]=T.useState(t),[a,l]=T.useState(!1);T.useEffect(()=>{o(t)},[t]),T.useEffect(()=>{l(JSON.stringify(s)!==JSON.stringify(t))},[s,t]);const c=x=>{o(v=>({...v,...x}))},u=()=>{e(s),n()},f=()=>{o(t),l(!1)},m=x=>{if(x==="custom")return;const v=Db[x];v&&c({selectedPreset:x,allowedCategories:v.categories})},g=x=>{const v=s.allowedCategories,w=v.includes(x)?v.filter(E=>E!==x):[...v,x];c({allowedCategories:w})};return h.jsx("div",{className:"h-full flex flex-col gap-4 overflow-y-auto custom-scrollbar",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx("div",{className:"glass-panel p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`h-10 w-10 rounded flex items-center justify-center ${r?"bg-[#E7FE55]/15 text-[#E7FE55]":"bg-[#1a1b21] text-[#747580]"}`,children:h.jsx(Qu,{className:"h-5 w-5"})}),h.jsxs("div",{children:[h.jsx("span",{className:"block text-sm font-semibold text-white",children:"Engine Status"}),h.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[h.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${r?"bg-[#E7FE55] animate-pulse":"bg-[#747580]"}`}),h.jsx("span",{className:"text-[10px] text-[#747580] font-medium uppercase tracking-wider",children:r?"Active & Running":"Stopped"})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[i&&h.jsx("button",{onClick:()=>i(!r),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${r?"bg-[#E7FE55]":"bg-[#3a3b42]"}`,children:h.jsx("span",{className:`${r?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-black transition-transform shadow`})}),a&&h.jsxs("button",{onClick:f,className:"flex items-center gap-2 bg-[#1a1b21] hover:bg-[#232328] text-[#747580] px-3 py-1.5 rounded text-[10px] font-semibold uppercase tracking-wider transition-all",children:[h.jsx(ek,{className:"h-3 w-3"})," Reset"]}),h.jsxs("button",{onClick:u,disabled:!a,className:`flex items-center gap-2 px-3 py-1.5 rounded text-[10px] font-semibold uppercase tracking-wider transition-all active:scale-95
                                        ${a?"bg-[#E7FE55] hover:bg-[#d4e94d] text-black":"bg-[#1a1b21] text-[#747580] cursor-not-allowed opacity-50"}`,children:[h.jsx(xc,{className:"h-3 w-3"})," Apply"]})]})]})}),h.jsxs("div",{className:"glass-panel p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-[#E7FE55] font-semibold uppercase tracking-[0.1em] mb-3",children:[h.jsx(s1,{className:"h-3.5 w-3.5"})," Strategy Preset"]}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Db).filter(([x])=>x!=="custom").map(([x,v])=>h.jsxs("button",{onClick:()=>m(x),className:`p-3 rounded border text-left transition-all ${s.selectedPreset===x?"border-[#E7FE55] bg-[#E7FE55]/10":"border-[#232328] hover:border-[#747580] bg-[#0f1015]"}`,children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"text-sm",children:v.emoji}),h.jsx("span",{className:"text-[11px] font-semibold text-white",children:v.name})]}),h.jsx("p",{className:"text-[10px] text-[#747580] leading-relaxed",children:v.description})]},x))})]}),h.jsxs("div",{className:"glass-panel p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-[#E7FE55] font-semibold uppercase tracking-[0.1em] mb-3",children:[h.jsx(ww,{className:"h-3.5 w-3.5"})," Capital & Risk"]}),h.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[h.jsxs("div",{className:"bg-[#0f1015] p-3 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1.5",children:"Type"}),h.jsxs("div",{className:"flex gap-0.5",children:[h.jsx("button",{onClick:()=>c({bankrollType:"MANUAL"}),className:`flex-1 py-1 text-[9px] font-semibold rounded transition-all ${s.bankrollType==="MANUAL"?"bg-[#60a5fa] text-white":"text-[#747580] hover:text-white"}`,children:"Fix"}),h.jsx("button",{onClick:()=>c({bankrollType:"ALL_AVAILABLE"}),className:`flex-1 py-1 text-[9px] font-semibold rounded transition-all ${s.bankrollType==="ALL_AVAILABLE"?"bg-[#34d399] text-white":"text-[#747580] hover:text-white"}`,children:"Max"})]})]}),h.jsxs("div",{className:"bg-[#0f1015] p-3 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1.5",children:"Amount ($)"}),s.bankrollType==="MANUAL"?h.jsx("input",{type:"number",value:s.manualBankroll,onChange:x=>c({manualBankroll:parseFloat(x.target.value)||0}),className:"w-full bg-transparent text-sm font-mono text-white focus:outline-none"}):h.jsx("span",{className:"text-sm font-mono text-[#34d399]",children:"Auto"})]}),h.jsxs("div",{className:"bg-[#0f1015] p-3 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1.5",children:"Max Pos ($)"}),h.jsx("input",{type:"number",value:s.maxPositionSizeUSDC,onChange:x=>c({maxPositionSizeUSDC:parseInt(x.target.value)||0}),className:"w-full bg-transparent text-sm font-mono text-white focus:outline-none"})]}),h.jsxs("div",{className:"bg-[#0f1015] p-3 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1.5",children:"Max Open"}),h.jsx("input",{type:"number",value:s.maxOpenPositions,onChange:x=>c({maxOpenPositions:parseInt(x.target.value)||1}),className:"w-full bg-transparent text-sm font-mono text-white focus:outline-none"})]})]})]}),h.jsxs("div",{className:"glass-panel p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-[#E7FE55] font-semibold uppercase tracking-[0.1em] mb-3",children:[h.jsx(_a,{className:"h-3.5 w-3.5"})," Analysis Settings"]}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsxs("div",{className:"bg-[#0f1015] p-3 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1.5",children:"Interval"}),h.jsxs("div",{className:"flex items-baseline gap-1",children:[h.jsx("input",{type:"number",value:s.checkIntervalSeconds,onChange:x=>c({checkIntervalSeconds:Math.max(60,parseInt(x.target.value)||60)}),className:"w-full bg-transparent text-sm font-mono text-white focus:outline-none"}),h.jsx("span",{className:"text-[10px] text-[#747580]",children:"s"})]})]}),h.jsxs("div",{className:"bg-[#0f1015] p-3 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1.5",children:"Min Volume"}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-[10px] text-[#747580] mr-1",children:"$"}),h.jsx("input",{type:"number",value:s.minVolumeThreshold,onChange:x=>c({minVolumeThreshold:parseInt(x.target.value)||0}),className:"w-full bg-transparent text-sm font-mono text-white focus:outline-none"})]})]}),h.jsxs("div",{className:"bg-[#0f1015] p-3 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1.5",children:"Min Liquidity"}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"text-[10px] text-[#747580] mr-1",children:"$"}),h.jsx("input",{type:"number",value:s.minLiquidityThreshold,onChange:x=>c({minLiquidityThreshold:parseInt(x.target.value)||0}),className:"w-full bg-transparent text-sm font-mono text-white focus:outline-none"})]})]})]})]})]}),h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"glass-panel p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-[#E7FE55] font-semibold uppercase tracking-[0.1em]",children:[h.jsx(S2e,{className:"h-3.5 w-3.5"})," Market Categories"]}),h.jsx("span",{className:"text-[10px] bg-[#E7FE55]/15 text-[#E7FE55] px-2 py-0.5 rounded border border-[#E7FE55]/30 font-mono",children:s.allowedCategories.length})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:eEe.map(x=>h.jsxs("button",{onClick:()=>g(x.value),className:`px-3 py-1.5 rounded-full text-xs flex items-center gap-1.5 transition-all ${s.allowedCategories.includes(x.value)?"bg-[#E7FE55]/20 text-[#E7FE55] border border-[#E7FE55]/50":"bg-[#0f1015] text-[#747580] border border-[#232328] hover:border-[#747580]"}`,children:[h.jsx("span",{children:x.icon}),x.label]},x.value))})]}),h.jsxs("div",{className:"glass-panel p-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-[#E7FE55] font-semibold uppercase tracking-[0.1em] mb-3",children:[h.jsx(Pn,{className:"h-3.5 w-3.5"})," Market Filters"]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{className:"bg-[#0f1015] p-3 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1.5",children:"Spread Edge"}),h.jsx("div",{className:"flex items-baseline gap-1",children:h.jsx("input",{type:"number",step:"0.01",value:s.minSpreadThreshold||.02,onChange:x=>c({minSpreadThreshold:parseFloat(x.target.value)||.02}),className:"w-full bg-transparent text-sm font-mono text-white focus:outline-none"})})]}),h.jsxs("div",{className:"bg-[#0f1015] p-3 rounded border border-[#232328]",children:[h.jsx("label",{className:"block text-[9px] text-[#747580] uppercase tracking-wider mb-1.5",children:"Confidence"}),h.jsx("div",{className:"flex items-baseline gap-1",children:h.jsx("input",{type:"number",step:"0.05",min:"0",max:"1",value:s.confidenceThreshold||.6,onChange:x=>c({confidenceThreshold:parseFloat(x.target.value)||.6}),className:"w-full bg-transparent text-sm font-mono text-white focus:outline-none"})})]})]})]}),h.jsxs("div",{className:"glass-panel p-4 flex items-start gap-3",children:[h.jsx(Q2,{className:"h-4 w-4 text-[#E7FE55] shrink-0 mt-0.5"}),h.jsx("div",{children:h.jsxs("p",{className:"text-[10px] text-[#747580] leading-relaxed",children:[h.jsx("strong",{className:"text-[#a0a1a8]",children:"Polymarket Data:"})," Market data is fetched via the CLOB API. Categories filter which markets are analyzed. Higher confidence = fewer but more certain trades."]})})]})]})]})})},W0t=({settings:t,onUpdateSettings:e,onApplyChanges:n})=>{var v,w;const[r,i]=T.useState(t.strategyPrompt),[s,o]=T.useState(!1),[a,l]=T.useState(t.promptMode||"preset"),[c,u]=T.useState(t.selectedPreset||"balanced");T.useEffect(()=>{i(t.strategyPrompt),l(t.promptMode||"preset"),u(t.selectedPreset||"balanced")},[t.strategyPrompt,t.promptMode,t.selectedPreset]),T.useEffect(()=>{o(r!==t.strategyPrompt)},[r,t.strategyPrompt]);const f=E=>{if(E==="custom")l("custom"),u("custom"),o(!0);else{const k=PT[E];i(k),l("preset"),u(E),o(k!==t.strategyPrompt)}},m=E=>{i(E);const k=Object.entries(PT).find(([I,D])=>D===E);k?(l("preset"),u(k[0])):(l("custom"),u("custom")),o(E!==t.strategyPrompt)},g=()=>{e({strategyPrompt:r,promptMode:a,selectedPreset:c}),n(),o(!1)},x=E=>`
            flex items-center gap-1.5 px-3 py-1.5 rounded text-[10px] font-semibold uppercase tracking-[0.08em] transition-all
            ${c===E&&a==="preset"||a==="custom"&&E==="custom"?"bg-[#E7FE55] text-black":"bg-transparent text-[#747580] hover:text-[#a0a1a8] hover:bg-[#1a1b21]"}
        `;return h.jsxs("div",{className:"h-full flex flex-col gap-4 overflow-hidden",children:[h.jsx("div",{className:"glass-panel p-4 shrink-0",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(s1,{className:"h-4 w-4 text-[#E7FE55]"}),h.jsx("span",{className:"text-sm font-semibold text-white",children:"Strategy Prompt"})]}),h.jsxs("div",{className:`
                            inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[9px] font-semibold uppercase tracking-wider
                            ${a==="preset"?"bg-[#E7FE55]/10 text-[#E7FE55]":"bg-[#1a1b21] text-[#747580]"}
                        `,children:[h.jsx("span",{className:`h-1 w-1 rounded-full ${a==="preset"?"bg-[#E7FE55]":"bg-[#747580]"}`}),a==="preset"?`${(v=Db[c])==null?void 0:v.emoji} ${(w=Db[c])==null?void 0:w.name}`:"Custom"]}),s&&h.jsx("span",{className:"text-[9px] text-amber-500 uppercase tracking-wider font-medium",children:" Unsaved"})]}),h.jsxs("button",{onClick:g,disabled:!s,className:`
                            flex items-center gap-2 px-4 py-1.5 rounded text-[10px] font-semibold uppercase tracking-wider transition-all
                            ${s?"bg-[#E7FE55] hover:bg-[#f0ff7a] text-black":"bg-[#1a1b21] text-[#3a3b42] cursor-not-allowed"}
                        `,children:[h.jsx(tre,{className:"h-3.5 w-3.5"}),"Save"]})]})}),h.jsxs("div",{className:"flex-1 flex gap-4 min-h-0 overflow-hidden",children:[h.jsxs("div",{className:"w-40 shrink-0 flex flex-col gap-2",children:[h.jsxs("div",{className:"flex items-center gap-1.5 px-1 py-2",children:[h.jsx(sre,{size:12,className:"text-[#E7FE55]"}),h.jsx("span",{className:"text-[9px] text-[#747580] uppercase tracking-[0.1em] font-semibold",children:"Presets"})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[Object.entries(Db).filter(([E])=>E!=="custom").map(([E,k])=>h.jsxs("button",{onClick:()=>f(E),className:x(E),children:[h.jsx("span",{children:k.emoji}),h.jsx("span",{children:k.name})]},E)),h.jsx("div",{className:"h-px bg-[#232328] my-2"}),h.jsxs("button",{onClick:()=>f("custom"),className:x("custom"),children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Custom"})]})]}),h.jsx("div",{className:"mt-auto pt-4 px-1",children:h.jsx("p",{className:"text-[10px] text-[#3a3b42] leading-relaxed",children:"Edit the prompt to switch to custom mode automatically."})})]}),h.jsxs("div",{className:"flex-1 glass-panel relative overflow-hidden flex flex-col",children:[h.jsx("div",{className:"absolute inset-x-0 top-0 h-6 bg-gradient-to-b from-[#1e2028] to-transparent pointer-events-none z-10"}),h.jsx("textarea",{value:r,onChange:E=>m(E.target.value),className:"w-full h-full bg-transparent text-[#a0a1a8] font-mono text-[13px] p-5 resize-none focus:outline-none leading-relaxed custom-scrollbar selection:bg-[#E7FE55]/30",spellCheck:!1,placeholder:`// Define your prediction market strategy here...
// 
// Example:
// You are a probability analyst focusing on mispriced markets.
// 1. Look for markets with high volume and clear catalysts.
// 2. Prioritize events with upcoming resolution dates.
// 3. Consider news sentiment and expert opinions.`}),h.jsx("div",{className:"absolute inset-x-0 bottom-0 h-6 bg-gradient-to-t from-[#1e2028] to-transparent pointer-events-none z-10"}),h.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-2 opacity-50 hover:opacity-100 transition-opacity",children:[h.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-[#E7FE55]"}),h.jsx("span",{className:"text-[9px] text-[#747580] font-mono uppercase tracking-wider",children:"Live Context"})]})]})]})]})},Y0t=({logs:t,onClearLogs:e})=>{const[n,r]=T.useState(null),i=t.filter(a=>{if(["REASONING","SIGNAL","TRADE","ERROR"].includes(a.type))return!0;if(["INFO","WARNING"].includes(a.type)){const l=a.message.toLowerCase();return l.includes("executing")||l.includes("skipping")||l.includes("ignored")||l.includes("position")}return!1}),s=(a,l)=>a==="ERROR"?h.jsx("div",{className:"text-red-400",children:h.jsx(xM,{size:16})}):a==="TRADE"?h.jsx("div",{className:"text-[#34d399]",children:h.jsx($y,{size:16})}):l.includes("YES")||l.includes("BULLISH")?h.jsx("div",{className:"text-[#34d399]",children:h.jsx(Pn,{size:16})}):l.includes("NO")||l.includes("BEARISH")?h.jsx("div",{className:"text-red-400",children:h.jsx(Z2,{size:16})}):h.jsx("div",{className:"text-[#E7FE55]",children:h.jsx(dc,{size:16})}),o=a=>new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"});return h.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[h.jsxs("div",{className:"p-4 border-b border-[#232328] flex justify-between items-center shrink-0",children:[h.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2 text-white",children:[h.jsx(dc,{className:"h-4 w-4 text-[#E7FE55]"}),"AI Reasoning Log"]}),h.jsx("button",{onClick:e,className:"text-[10px] text-[#747580] hover:text-white transition-colors uppercase tracking-wider",children:"Clear History"})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:i.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-[#747580] opacity-50 py-12",children:[h.jsx(dc,{size:48,className:"mb-4 opacity-30"}),h.jsx("p",{className:"text-sm",children:"No analysis recorded yet."}),h.jsx("p",{className:"text-[10px] text-[#747580]",children:"Start the dealer to see its thought process."})]}):i.map(a=>{var f,m;const l=n===a.id,c=(f=a.details)==null?void 0:f.context,u=(m=a.details)==null?void 0:m.context;return h.jsxs("div",{className:"relative pl-6 pb-2 border-l border-[#232328] last:border-0 transition-colors group",children:[h.jsx("div",{className:"absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full bg-[#14151a] border border-[#232328] group-hover:border-[#747580] transition-colors"}),h.jsxs("div",{className:"bg-[#14151a] p-3 rounded border border-[#232328] hover:border-[#3a3b42] transition-all",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[s(a.type,a.message),h.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wider ${a.type==="ERROR"?"text-red-400":a.type==="TRADE"?"text-[#34d399]":a.type==="SIGNAL"?"text-[#E7FE55]":"text-[#a0a1a8]"}`,children:a.type})]}),h.jsxs("span",{className:"text-[10px] text-[#747580] flex items-center gap-1 font-mono",children:[h.jsx(_a,{size:10}),o(a.timestamp)]})]}),h.jsx("p",{className:"text-sm text-[#a0a1a8] leading-relaxed",children:a.message}),a.details&&a.details.fullReason&&h.jsxs("div",{className:"mt-2 p-2 bg-[#0f1015] rounded text-[11px] text-[#747580] font-mono italic border-l-2 border-[#E7FE55]/30 whitespace-pre-wrap",children:['"',typeof a.details.fullReason=="string"?a.details.fullReason:JSON.stringify(a.details.fullReason),'"']}),c&&h.jsxs("button",{onClick:()=>r(l?null:a.id),className:"mt-2 flex items-center gap-1 text-[10px] text-[#E7FE55] hover:text-[#d4eb4d] transition-colors uppercase tracking-wider",children:[l?h.jsx(om,{size:12}):h.jsx(pl,{size:12}),l?"Hide":"Show"," Market Context"]}),l&&c&&h.jsxs("div",{className:"mt-3 p-3 bg-[#0f1015] rounded border border-[#232328] space-y-3",children:[u.question&&h.jsxs("div",{className:"text-[10px] text-[#747580]",children:["Market: ",h.jsxs("span",{className:"text-white",children:[u.question.slice(0,100),u.question.length>100?"...":""]})]}),(u.volume24h||u.liquidity)&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-[#34d399] mb-2 uppercase tracking-wider font-semibold",children:[h.jsx(ww,{size:10}),h.jsx("span",{children:"Market Metrics"})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.volume24h&&h.jsxs("div",{className:"bg-[#34d399]/10 border border-[#34d399]/20 px-2 py-1 rounded text-[10px]",children:[h.jsx("span",{className:"text-[#34d399] uppercase font-medium",children:"Volume 24h"}),h.jsxs("span",{className:"text-[#4ade80] font-mono ml-2",children:["$",u.volume24h.toLocaleString()]})]}),u.liquidity&&h.jsxs("div",{className:"bg-[#34d399]/10 border border-[#34d399]/20 px-2 py-1 rounded text-[10px]",children:[h.jsx("span",{className:"text-[#34d399] uppercase font-medium",children:"Liquidity"}),h.jsxs("span",{className:"text-[#4ade80] font-mono ml-2",children:["$",u.liquidity.toLocaleString()]})]}),u.spread&&h.jsxs("div",{className:"bg-[#34d399]/10 border border-[#34d399]/20 px-2 py-1 rounded text-[10px]",children:[h.jsx("span",{className:"text-[#34d399] uppercase font-medium",children:"Spread"}),h.jsxs("span",{className:"text-[#4ade80] font-mono ml-2",children:[(u.spread*100).toFixed(2),"%"]})]})]})]}),(u.yesPrice||u.noPrice)&&h.jsxs("div",{className:"text-[10px] text-[#747580]",children:["Prices:",u.yesPrice&&h.jsxs("span",{className:"text-[#34d399] font-mono ml-2",children:["YES: ",(u.yesPrice*100).toFixed(1),""]}),u.noPrice&&h.jsxs("span",{className:"text-red-400 font-mono ml-2",children:["NO: ",(u.noPrice*100).toFixed(1),""]})]}),h.jsx("pre",{className:"text-[9px] text-[#747580] overflow-x-auto whitespace-pre-wrap custom-scrollbar max-h-[200px]",children:JSON.stringify(u,null,2)})]})]})]},a.id)})})]})},J0t=({log:t,index:e,getLogBadgeVariant:n})=>{const[r,i]=T.useState(!1),s=t.details&&Object.keys(t.details).length>0;return h.jsxs(tn.div,{className:"flex gap-3 p-3 hover:bg-[#1a1b21] rounded border-b border-[#232328] last:border-0 transition-colors",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:e*.02},children:[h.jsx("span",{className:"text-[#747580] shrink-0 text-[10px] mt-0.5 font-mono",children:new Date(t.timestamp).toLocaleTimeString()}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(vl,{variant:n(t.type),className:"text-[9px] uppercase tracking-wider",children:t.type}),h.jsx("span",{className:"text-[#a0a1a8] flex-1 text-sm truncate",children:t.message}),s&&h.jsx("button",{onClick:()=>i(!r),className:"text-[#747580] hover:text-white transition-colors p-1 rounded hover:bg-[#232328]",title:r?"Collapse details":"Expand details",children:r?h.jsx(pl,{className:"h-4 w-4"}):h.jsx(sm,{className:"h-4 w-4"})})]}),h.jsx(Lo,{children:s&&r&&h.jsx(tn.pre,{className:"mt-2 text-[10px] text-[#747580] bg-[#0f1015] p-3 rounded overflow-x-auto max-h-[300px] overflow-y-auto custom-scrollbar border border-[#232328] font-mono",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:JSON.stringify(t.details,null,2)})})]})]},t.id)},X0t=({status:t,onClearLogs:e})=>{const[n,r]=T.useState("thinking"),i=T.useRef(null);if(!t)return h.jsx("div",{className:"p-4 text-red-500",children:"Error: Status not available"});const s=()=>{const a=JSON.stringify(t.logs,null,2),l="data:application/json;charset=utf-8,"+encodeURIComponent(a),c=`polymarket_logs_${new Date().toISOString()}.json`,u=document.createElement("a");u.setAttribute("href",l),u.setAttribute("download",c),u.click()},o=a=>{switch(a){case"INFO":return"info";case"WARNING":return"warning";case"ERROR":return"destructive";case"TRADE":return"success";case"SIGNAL":return"purple";case"REASONING":return"secondary";default:return"secondary"}};return h.jsxs("div",{className:"flex flex-col h-full gap-4 overflow-hidden p-4",children:[h.jsx("div",{className:"glass-panel p-4 shrink-0",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-[#1a1b21] p-1 rounded border border-[#232328]",children:[h.jsxs("button",{onClick:()=>r("thinking"),className:`flex items-center gap-2 px-4 py-2 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${n==="thinking"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:[h.jsx(dc,{className:"h-4 w-4"}),"Thinking"]}),h.jsxs("button",{onClick:()=>r("logs"),className:`flex items-center gap-2 px-4 py-2 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${n==="logs"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:[h.jsx(nre,{className:"h-4 w-4"}),"Activity Log",t.logs.length>0&&h.jsx("span",{className:"bg-white/20 px-1.5 py-0.5 rounded text-[9px]",children:t.logs.length})]})]}),h.jsx(Lo,{children:n==="logs"&&h.jsxs(tn.div,{className:"flex items-center gap-2",initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},children:[h.jsx("button",{onClick:e,className:"p-2 rounded hover:bg-red-500/10 text-[#747580] hover:text-red-400 transition-colors border border-[#232328]",title:"Clear Logs",children:h.jsx(am,{className:"h-4 w-4"})}),h.jsx("button",{onClick:s,className:"p-2 rounded hover:bg-[#1a1b21] text-[#747580] hover:text-white transition-colors border border-[#232328]",title:"Export JSON",children:h.jsx(Io,{className:"h-4 w-4"})})]})})]})}),h.jsxs("div",{className:"glass-panel flex-1 min-h-0 overflow-hidden flex flex-col",children:[n==="thinking"&&h.jsx(Y0t,{logs:t.logs,onClearLogs:e}),n==="logs"&&h.jsx("div",{className:"flex-1 min-h-0 relative",children:h.jsx("div",{ref:i,className:"absolute inset-0 overflow-y-auto custom-scrollbar",children:t.logs.length===0?h.jsxs(tn.div,{className:"h-full flex flex-col items-center justify-center text-[#747580] gap-3 py-12",initial:{opacity:0},animate:{opacity:1},children:[h.jsx(i8,{className:"h-10 w-10 opacity-30"}),h.jsx("p",{className:"text-sm",children:"No operations recorded yet."})]}):h.jsx(Lo,{children:t.logs.map((a,l)=>h.jsx(J0t,{log:a,index:l,getLogBadgeVariant:o},a.id))})})})]})]})},Q0t=({vault:t,password:e,activeTab:n,setActiveTab:r})=>{const i=!!t.pmPublicKey,s=n===ke.POLYMARKET_DEALER?ke.POLYMARKET_DASHBOARD:n,{state:o,toggleDealer:a,updateSettings:l,applyChanges:c,clearLogs:u}=C0e(t,e),f=()=>{switch(s){case ke.POLYMARKET_DASHBOARD:return"dashboard";case ke.POLYMARKET_THINKING:return"thinking";case ke.POLYMARKET_CONFIG:return"config";case ke.POLYMARKET_PROMPT:return"prompt";default:return"dashboard"}},m=g=>{switch(g){case"dashboard":r(ke.POLYMARKET_DASHBOARD);break;case"thinking":r(ke.POLYMARKET_THINKING);break;case"config":r(ke.POLYMARKET_CONFIG);break;case"prompt":r(ke.POLYMARKET_PROMPT);break}};return i?h.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[!t.isUnlocked&&h.jsx(tn.div,{className:"mb-3 flex justify-end shrink-0 px-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:h.jsx(vl,{variant:"destructive",className:"animate-pulse",children:"VAULT LOCKED"})}),h.jsx(Rpe,{value:f(),onValueChange:m,className:"flex-1 flex flex-col min-h-0",children:h.jsxs("div",{className:"flex-1 min-h-0 relative",children:[h.jsx(Lu,{value:"dashboard",forceMount:!0,className:"h-full mt-0 absolute inset-0 data-[state=inactive]:hidden",children:h.jsx(q0t,{status:o,onToggle:a,vaultAddress:t.pmPublicKey,setActiveTab:r})}),h.jsx(Lu,{value:"thinking",forceMount:!0,className:"h-full mt-0 absolute inset-0 data-[state=inactive]:hidden",children:h.jsx(X0t,{status:o,onClearLogs:u})}),h.jsx(Lu,{value:"config",forceMount:!0,className:"h-full mt-0 absolute inset-0 overflow-y-auto data-[state=inactive]:hidden",children:h.jsx(K0t,{settings:o.settings,onUpdateSettings:l,onApplyChanges:c,isOn:o.isOn,onToggle:a})}),h.jsx(Lu,{value:"prompt",forceMount:!0,className:"h-full mt-0 absolute inset-0 data-[state=inactive]:hidden",children:h.jsx(W0t,{settings:o.settings,onUpdateSettings:l,onApplyChanges:c})})]})})]}):h.jsx(tn.div,{className:"flex flex-col h-[calc(100vh-8rem)] items-center justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:h.jsxs("div",{className:"max-w-md w-full mx-auto space-y-6 p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-[#1a1b21] rounded-full flex items-center justify-center mx-auto mb-4 border border-[#232328]",children:h.jsx(Hy,{size:32,className:"text-[#E7FE55]"})}),h.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:"Create a Vault First"}),h.jsxs("p",{className:"text-[#747580] text-sm",children:["You need to create a Polymarket wallet before using Polymarket Dealer. Go to the ",h.jsx("span",{className:"text-[#E7FE55]",children:"Vault"})," page to set up your wallet."]}),h.jsx(Oi,{onClick:()=>r(ke.VAULT),variant:"success",size:"lg",className:"mt-4 bg-[#E7FE55] hover:bg-[#d4eb4d] text-black",children:"Go to Vault"})]})})},Z0t=()=>{const t=()=>{window.location.reload()};return h.jsx("div",{className:"min-h-screen bg-[#0f172a] text-slate-200 p-8 font-sans",children:h.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[h.jsxs("div",{className:"border-b border-slate-700 pb-6 mb-10",children:[h.jsx("h1",{className:"text-4xl font-light text-white mb-2",children:"Privacy Policy"}),h.jsx("p",{className:"text-slate-400",children:"Last Updated: December 23, 2025"})]}),h.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-6 mb-8",children:h.jsx("p",{className:"text-blue-200 text-sm",children:"This Privacy Policy explains how AutonomousVault handles your data. In short: We don't want your data, and we can't see your keys."})}),h.jsxs("section",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[#E7FE55]",children:[h.jsx(f2e,{size:20}),h.jsx("h2",{className:"text-2xl font-light text-white",children:"1. Data Collection & Storage"})]}),h.jsxs("p",{className:"leading-relaxed text-slate-300",children:["AutonomousVault operates on a ",h.jsx("strong",{children:'"Local-First"'})," architecture."]}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-slate-400",children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Private Keys:"})," Generated locally and stored ONLY in your browser's encrypted storage (IndexedDB). They never leave your device unencrypted."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Chat History:"})," Stored locally on your device."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Usage Data:"})," We do not collect analytics or tracking data."]})]})]}),h.jsxs("section",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[#E7FE55]",children:[h.jsx(r8,{size:20}),h.jsx("h2",{className:"text-2xl font-light text-white",children:"2. Third-Party Services"})]}),h.jsx("p",{className:"leading-relaxed text-slate-300",children:"While the app runs locally, it interacts with the following services to function:"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[h.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-white font-medium mb-1",children:"Google Gemini (AI)"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Processes user prompts to generate responses. Your keys are NOT sent to the AI."})]}),h.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-white font-medium mb-1",children:"Firebase (Auth)"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Handles email/password and Google login. We only see your User ID."})]}),h.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-white font-medium mb-1",children:"RPC Nodes"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Public nodes (Solana, Hyperliquid) receive your signed transactions to execute them on-chain."})]})]})]}),h.jsxs("section",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[#E7FE55]",children:[h.jsx(i1,{size:20}),h.jsx("h2",{className:"text-2xl font-light text-white",children:"3. Your Rights (GDPR/LGPD)"})]}),h.jsx("p",{className:"leading-relaxed text-slate-300",children:"You have complete control over your data:"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-slate-400",children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Access:"})," All your data is visible within the application."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Deletion:"}),' You can use the "Delete Account" button in Settings to wipe all local data and delete your Firebase authentication record.']}),h.jsxs("li",{children:[h.jsx("strong",{children:"Portability:"})," You can export your private keys at any time via the Backup feature."]})]})]}),h.jsxs("div",{className:"pt-10 border-t border-slate-700 flex justify-between items-center mt-12",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"AutonomousVault v0.1"}),h.jsxs("button",{onClick:t,className:"text-[#E7FE55] hover:underline flex items-center gap-2",children:[h.jsx(Kne,{size:14})," Return to App"]})]})]})})},egt=()=>h.jsx("div",{className:"min-h-screen bg-[#0f172a] text-slate-200 p-8 font-sans",children:h.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[h.jsxs("div",{className:"border-b border-slate-700 pb-6 mb-10",children:[h.jsx("h1",{className:"text-4xl font-light text-white mb-2",children:"Terms of Use"}),h.jsx("p",{className:"text-slate-400",children:"Effective Date: December 23, 2025"})]}),h.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-6 flex flex-col gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3 text-red-400",children:[h.jsx(Xu,{size:24}),h.jsx("h2",{className:"text-xl font-semibold",children:"Critical Disclaimer"})]}),h.jsx("p",{className:"text-sm leading-relaxed text-red-100/80",children:'AutonomousVault is experimental, open-source software. It is provided "AS IS", without warranty of any kind. You use this software entirely at your own risk. The developers constitute a non-custodial entity and accept no liability for lost funds, private key mismanagement, or protocol failures.'})]}),h.jsxs("section",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[#E7FE55]",children:[h.jsx(Zne,{size:20}),h.jsx("h2",{className:"text-2xl font-light text-white",children:"1. Self-Custody Model"})]}),h.jsx("p",{className:"leading-relaxed text-slate-300",children:"By using AutonomousVault, you acknowledge that:"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-slate-400",children:[h.jsx("li",{children:"You are the sole custodian of your cryptographic private keys."}),h.jsx("li",{children:"Private keys are encrypted and stored solely within your device's browser (IndexedDB)."}),h.jsx("li",{children:"We (the developers) never have access to your private keys or funds."}),h.jsx("li",{children:"If you lose your password or clear your browser data without a backup, your funds are permanently lost."})]})]}),h.jsxs("section",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[#E7FE55]",children:[h.jsx(i8,{size:20}),h.jsx("h2",{className:"text-2xl font-light text-white",children:"2. AI Agent Autonomy"})]}),h.jsx("p",{className:"leading-relaxed text-slate-300",children:"The application uses Artificial Intelligence (AI) to execute transactions on your behalf."}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-slate-400",children:[h.jsx("li",{children:"You are responsible for reviewing and supervising the AI's configured strategies."}),h.jsx("li",{children:"The AI may make errors, hallucinate market data, or execute suboptimal trades."}),h.jsx("li",{children:"You agree to hold the developers harmless for any trading losses incurred by the AI agent."})]})]}),h.jsxs("section",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-[#E7FE55]",children:[h.jsx(ire,{size:20}),h.jsx("h2",{className:"text-2xl font-light text-white",children:"3. Prohibited Activities"})]}),h.jsx("p",{className:"leading-relaxed text-slate-300",children:"You agree not to use AutonomousVault for:"}),h.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-slate-400",children:[h.jsx("li",{children:"Money laundering or financing terrorism."}),h.jsx("li",{children:"Interacting with sanctioned addresses or entities."}),h.jsx("li",{children:"Any illegal activity defined by the laws of your jurisdiction."})]})]}),h.jsxs("div",{className:"pt-10 border-t border-slate-700 flex justify-between items-center mt-12",children:[h.jsx("p",{className:"text-xs text-slate-500",children:"AutonomousVault v0.1"}),h.jsxs("button",{onClick:()=>window.location.reload(),className:"text-[#E7FE55] hover:underline flex items-center gap-2",children:[h.jsx(Kne,{size:14})," Return to App"]})]})]})}),tgt=({userId:t})=>{const[e,n]=T.useState(!0),[r,i]=T.useState(!0),s=t?`legal_consent_v1_${t}`:null;T.useEffect(()=>{(async()=>{if(!s){i(!1);return}const l=await Pe.getItem(s);n(l==="true"),i(!1)})()},[s]);const o=async()=>{s&&await Pe.setItem(s,"true"),n(!0)};return r||e?null:h.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-[#0f172a] border border-slate-700 w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden",children:[h.jsxs("div",{className:"p-8 pb-4 text-center",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-[#E7FE55]/10 mb-4",children:h.jsx(Ju,{size:32,className:"text-[#E7FE55]"})}),h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome to AutonomousVault"}),h.jsx("p",{className:"text-slate-400 text-sm",children:"Use AI to manage your DeFi portfolio autonomously."})]}),h.jsxs("div",{className:"px-8 py-4 space-y-4",children:[h.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 text-sm text-slate-300 border border-slate-700",children:[h.jsx("p",{className:"mb-2 font-semibold text-white",children:"Before you continue:"}),h.jsxs("ul",{className:"space-y-2 list-disc pl-4 text-slate-400",children:[h.jsxs("li",{children:["This software is ",h.jsx("strong",{children:"experimental"}),"."]}),h.jsxs("li",{children:["You maintain ",h.jsx("strong",{children:"sole custody"})," of your keys."]}),h.jsxs("li",{children:["The developers are ",h.jsx("strong",{children:"not liable"})," for any funds lost."]})]})]}),h.jsxs("p",{className:"text-xs text-center text-slate-500 mt-4 leading-relaxed",children:['By clicking "I Agree", you acknowledge that you have read and agree to our',h.jsx("br",{}),h.jsx("a",{href:"/terms.html",target:"_blank",rel:"noopener noreferrer",className:"text-[#E7FE55] hover:underline",children:"Terms of Use"})," and ",h.jsx("a",{href:"/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"text-[#E7FE55] hover:underline",children:"Privacy Policy"}),"."]})]}),h.jsx("div",{className:"p-8 pt-4",children:h.jsxs("button",{onClick:o,className:"w-full bg-[#E7FE55] hover:bg-[#d9f044] text-black font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-[#E7FE55]/20",children:["I Agree & Continue ",h.jsx(Wne,{size:18})]})})]})})},ngt=({onNavigate:t})=>h.jsx("footer",{className:"w-full py-4 text-center mt-auto border-t border-[#232328]/50",children:h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx("p",{className:"text-[10px] text-slate-600 font-medium tracking-wide",children:" 2025 AutonomousVault. All rights reserved."}),t&&h.jsxs("div",{className:"flex items-center gap-4 text-[10px] text-slate-500",children:[h.jsx("button",{onClick:()=>t(ke.TERMS),className:"hover:text-[#E7FE55] transition-colors",children:"Terms of Use"}),h.jsx("span",{children:""}),h.jsx("button",{onClick:()=>t(ke.PRIVACY),className:"hover:text-[#E7FE55] transition-colors",children:"Privacy Policy"})]})]})});function rgt(){var $o,kl,fo,ho,Ho,po,gr,Oc;const[t,e]=T.useState(ke.AGENT),[n,r]=T.useState([]),[i,s]=T.useState(!1),[o,a]=T.useState(!1),[l,c]=T.useState("providers"),[u,f]=T.useState("main"),{user:m,logout:g}=gw(),x=T.useRef(null);T.useEffect(()=>{x.current&&(x.current.scrollTop=0)},[t]);const v=wr=>{const Gr=Date.now();r(ns=>[...ns,{id:Gr,message:wr}]),setTimeout(()=>{r(ns=>ns.filter(Ch=>Ch.id!==Gr))},5e3)},{vault:w,password:E,setPassword:k,withdrawAmount:I,setWithdrawAmount:D,withdrawNetwork:j,setWithdrawNetwork:M,showBackupModal:U,setShowBackupModal:V,backupKey:F,setBackupKey:z,showHLBackupModal:K,setShowHLBackupModal:H,hlBackupKey:B,setHLBackupKey:A,isImporting:P,setIsImporting:R,importKey:$,setImportKey:q,refreshBalance:te,connectOwnerWallet:Y,disconnectOwnerWallet:G,createVault:O,unlockVault:N,requestAirdrop:W,handleWithdraw:X,handleWithdrawHL:re,handleWithdrawPM:ae,importVault:Ee,resolveTokenMint:ue,connectHLOwnerWallet:me,disconnectHLOwnerWallet:ce,refreshHLBalance:oe,isImportingSolana:Ce,setIsImportingSolana:Ne,isImportingHyperliquid:$e,setIsImportingHyperliquid:Ze,isImportingPolymarket:Ye,setIsImportingPolymarket:We,solanaPassword:St,setSolanaPassword:st,hyperliquidPassword:Lt,setHyperliquidPassword:Xt,polymarketPassword:qe,setPolymarketPassword:At,solanaImportKey:an,setSolanaImportKey:_e,hlImportKey:Ve,setHLImportKey:ft,pmImportKey:lt,setPMImportKey:se,createSolanaVault:J,createHyperliquidVault:Z,createPolymarketVault:fe,importSolanaVault:be,importHyperliquidVault:he,importPolymarketVault:ye,connectPMOwnerWallet:Xe,disconnectPMOwnerWallet:et,showPMBackupModal:it,setShowPMBackupModal:Ut,pmBackupKey:xt,setPMBackupKey:Rt}=Hmt(v,(m==null?void 0:m.uid)||null),nn=!!(w.publicKey||w.hlPublicKey);T.useEffect(()=>{[ke.AGENT,ke.VAULT_DEALER,ke.DEALER_DASHBOARD,ke.DEALER_THINKING,ke.DEALER_CONFIG].includes(t)&&!w.isUnlocked&&nn&&e(ke.VAULT)},[t,w.isUnlocked,nn]),T.useEffect(()=>{w.isUnlocked&&e(ke.DASHBOARD)},[w.isUnlocked]);const{portfolioHistoryDaily:Qt,portfolioHistoryLongTerm:rn,assetPrices:Bi,assetAllocationData:$n}=Vmt(w),{activityFeed:le,activityDisplayCount:Q,addActivityLog:ee}=Gmt(w),{scheduledTasks:pe,setScheduledTasks:Te}=qmt(w,E,v,te,ee),{messages:Re,inputMessage:ze,setInputMessage:Kt,isAiProcessing:qt,aiStatus:Ht,scrollRef:pn,handleSendMessage:mt,activeConversationId:ct,loadConversation:Vs,startNewConversation:Un}=Jmt(w,E,Te,v,te,ee,ue);C0e(w,E);const mr=async wr=>{try{const Gr=await Gu.loadConversation(wr,E);Gr?Vs(Gr):v("Failed to load conversation.")}catch(Gr){console.error(Gr),v("Error loading conversation. Check password.")}},Rc=()=>{Un(),e(ke.AGENT)},Cl=async()=>{v("Refreshing data...");try{const wr=[];w.publicKey&&wr.push(te(w.publicKey)),w.hlPublicKey&&wr.push(oe(w.hlPublicKey)),await Promise.all(wr),v("Data refreshed successfully")}catch(wr){console.error("Refresh failed",wr),v("Failed to refresh data")}};return h.jsxs("div",{className:"flex h-screen bg-[#0f1015] text-[#e4e5e9] font-sans selection:bg-[#E7FE55]/30 overflow-hidden",children:[h.jsx(hMe,{activeTab:t,setActiveTab:e,isVaultUnlocked:w.isUnlocked,onSelectConversation:mr,onNewChat:Rc,currentConversationId:ct,password:E,isOpen:i,onClose:()=>s(!1)}),h.jsxs("main",{ref:x,className:`flex-1 ml-0 xl:ml-[264px] h-full flex flex-col relative transition-all duration-300 ${[ke.VAULT_DEALER,ke.DEALER_DASHBOARD,ke.DEALER_THINKING,ke.DEALER_CONFIG,ke.DEALER_PROMPT,ke.POLYMARKET_DEALER,ke.POLYMARKET_DASHBOARD,ke.POLYMARKET_THINKING,ke.POLYMARKET_CONFIG,ke.POLYMARKET_PROMPT].includes(t)?"overflow-hidden":"overflow-y-auto"}`,children:[t===ke.AGENT&&h.jsxs("header",{className:"flex justify-between items-center mb-0 sticky top-0 z-40 bg-[#0f1015] pt-8 pb-4 px-4 md:px-8 lg:px-12 xl:px-16 transition-all shrink-0 relative",children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[h.jsx("button",{onClick:()=>s(!0),className:"xl:hidden text-[#747580] hover:text-white transition-colors",children:h.jsx(Q$,{size:24})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-white tracking-tight",children:"Vault Operator"}),h.jsx("p",{className:"text-[#747580] text-sm hidden sm:block",children:"Interact with Vault Operator using natural language."})]})]}),h.jsxs("div",{className:"hidden sm:flex items-center gap-2 absolute left-1/2 transform -translate-x-1/2",children:[h.jsxs("button",{onClick:Rc,className:"flex items-center gap-2 px-3 py-1.5 rounded bg-[#E7FE55] hover:bg-[#f0ff7a] text-black text-sm font-medium transition-colors",title:"New Chat",children:[h.jsx("div",{className:"w-5 h-5 rounded bg-black/20 flex items-center justify-center",children:h.jsx(cu,{size:12,strokeWidth:2.5})}),h.jsx("span",{className:"hidden md:inline",children:"New"})]}),h.jsx("div",{className:"h-6 w-px bg-[#232328]"}),h.jsxs("button",{onClick:()=>e(ke.HISTORY),className:"flex items-center gap-2 px-3 py-1.5 rounded bg-[#14151a] hover:bg-[#1a1b21] text-[#a0a1a8] hover:text-white text-sm font-medium transition-colors border border-[#232328]",title:"Chat History",children:[h.jsx(_a,{size:14}),h.jsx("span",{className:"hidden md:inline",children:"History"})]}),h.jsxs("button",{onClick:()=>e(ke.SCHEDULER),className:"flex items-center gap-2 px-3 py-1.5 rounded bg-[#14151a] hover:bg-[#1a1b21] text-[#a0a1a8] hover:text-white text-sm font-medium transition-colors border border-[#232328]",title:"Automations",children:[h.jsx(n8,{size:14}),h.jsx("span",{className:"hidden md:inline",children:"Automations"})]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-right hidden md:block",children:[h.jsx("div",{className:"text-[9px] uppercase tracking-[0.05em] text-[#5a5b63]",children:"System Status"}),h.jsxs("div",{className:"flex items-center justify-end gap-1.5 text-[#E7FE55] text-[11px] font-medium",children:[h.jsx("div",{className:"w-1 h-1 bg-[#E7FE55] rounded-full"}),"Online"]})]}),h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>a(!o),className:"flex items-center gap-2 p-1 rounded-lg hover:bg-[#1a1b21] transition-colors border border-transparent hover:border-[#232328]",title:(m==null?void 0:m.email)||"User",children:m!=null&&m.photoURL?h.jsx("img",{src:m.photoURL,alt:"User",className:"w-8 h-8 rounded-full border border-[#232328]"}):h.jsx("div",{className:"w-8 h-8 rounded-full bg-[#E7FE55] flex items-center justify-center text-black font-semibold text-sm",children:((kl=($o=m==null?void 0:m.email)==null?void 0:$o[0])==null?void 0:kl.toUpperCase())||"U"})}),o&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),h.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-[#14151a] border border-[#232328] rounded-lg shadow-xl z-50 overflow-hidden",children:[h.jsx("div",{className:"px-4 py-3 border-b border-[#232328]",children:h.jsxs("div",{className:"flex items-center gap-3",children:[m!=null&&m.photoURL?h.jsx("img",{src:m.photoURL,alt:"User",className:"w-10 h-10 rounded-full border border-[#232328]"}):h.jsx("div",{className:"w-10 h-10 rounded-full bg-[#E7FE55] flex items-center justify-center text-black font-semibold",children:((ho=(fo=m==null?void 0:m.email)==null?void 0:fo[0])==null?void 0:ho.toUpperCase())||"U"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-white text-sm font-medium truncate",children:(m==null?void 0:m.displayName)||"User"}),h.jsx("p",{className:"text-[#747580] text-xs truncate",children:m==null?void 0:m.email})]})]})}),h.jsxs("div",{className:"p-2 space-y-1",children:[h.jsxs("button",{onClick:()=>{a(!1),Cl()},className:"w-full flex items-center gap-3 px-3 py-2 text-[#a0a1a8] hover:text-white hover:bg-[#1a1b21] rounded-lg transition-colors text-sm",children:[h.jsx(xc,{size:16}),"Refresh Data"]}),h.jsxs("button",{onClick:()=>{a(!1),e(ke.CONFIGURATION)},className:"w-full flex items-center gap-3 px-3 py-2 text-[#a0a1a8] hover:text-white hover:bg-[#1a1b21] rounded-lg transition-colors text-sm",children:[h.jsx(jT,{size:16}),"Configuration"]}),h.jsx("div",{className:"border-t border-[#232328] my-2"}),h.jsxs("button",{onClick:async()=>{a(!1),await g()},className:"w-full flex items-center gap-3 px-3 py-2 text-[#a0a1a8] hover:text-white hover:bg-[#1a1b21] rounded-lg transition-colors text-sm",children:[h.jsx(X$,{size:16}),"Sign Out"]})]})]})]})]})]})]}),h.jsxs("div",{className:`flex-1 pb-8 max-w-[1920px] mx-auto w-full ${t===ke.AGENT?"px-6 md:px-24 lg:px-40 xl:px-64":"px-4 md:px-8 lg:px-12 xl:px-16"} ${[ke.VAULT_DEALER,ke.DEALER_DASHBOARD,ke.DEALER_THINKING,ke.DEALER_CONFIG,ke.DEALER_PROMPT,ke.POLYMARKET_DEALER,ke.POLYMARKET_DASHBOARD,ke.POLYMARKET_THINKING,ke.POLYMARKET_CONFIG,ke.POLYMARKET_PROMPT].includes(t)?"flex flex-col h-full":""}`,children:[t!==ke.AGENT&&h.jsxs("header",{className:"flex justify-between items-center mb-6 sticky top-0 z-40 bg-[#0f1015] pt-8 pb-4 -mx-4 px-4 md:px-0 md:-mx-0 transition-all shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[h.jsx("button",{onClick:()=>s(!0),className:"xl:hidden text-[#747580] hover:text-white transition-colors",children:h.jsx(Q$,{size:24})}),h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-semibold text-white tracking-tight",children:[t===ke.DASHBOARD&&"Dashboard",t===ke.VAULT&&"Vault",t===ke.SCHEDULER&&"Automations",[ke.VAULT_DEALER,ke.DEALER_DASHBOARD,ke.DEALER_THINKING,ke.DEALER_CONFIG,ke.DEALER_PROMPT].includes(t)&&"Hyperliquid Dealer",t===ke.CONFIGURATION&&"Configuration",t===ke.HYPERLIQUID&&"Hyperliquid Trading",t===ke.HISTORY&&"History",t===ke.TOKEN_COSTS&&"Token Costs",[ke.POLYMARKET_DEALER,ke.POLYMARKET_DASHBOARD].includes(t)&&"Polymarket Dealer",t===ke.POLYMARKET_CONFIG&&"Polymarket Config",t===ke.POLYMARKET_PROMPT&&"Polymarket Strategy"]}),h.jsxs("p",{className:"text-[#747580] text-sm hidden sm:block",children:[t===ke.DASHBOARD&&"Overview of your autonomous DeFi agent.",t===ke.VAULT&&"Manage your secure local vault and assets.",t===ke.SCHEDULER&&"Automate swaps, transfers and trading strategies.",[ke.VAULT_DEALER,ke.DEALER_DASHBOARD,ke.DEALER_THINKING,ke.DEALER_CONFIG,ke.DEALER_PROMPT].includes(t)&&"Autonomous trading engine (BETA).",t===ke.CONFIGURATION&&"Configure trading parameters and risk management.",t===ke.HYPERLIQUID&&"Trade on Hyperliquid Testnet.",t===ke.HISTORY&&"Review past conversations.",t===ke.TOKEN_COSTS&&"Monitor AI token consumption and costs.",[ke.POLYMARKET_DEALER,ke.POLYMARKET_DASHBOARD].includes(t)&&"Autonomous prediction market trading (BETA).",t===ke.POLYMARKET_CONFIG&&"Configure Polymarket trading parameters.",t===ke.POLYMARKET_PROMPT&&"Customize your Polymarket strategy."]})]})})]}),[ke.VAULT_DEALER,ke.DEALER_DASHBOARD,ke.DEALER_THINKING,ke.DEALER_CONFIG,ke.DEALER_PROMPT].includes(t)&&h.jsxs("div",{className:"hidden sm:flex items-center gap-1 bg-[#1a1b21] p-1 rounded border border-[#232328] absolute left-1/2 transform -translate-x-1/2",children:[h.jsx("button",{onClick:()=>e(ke.DEALER_DASHBOARD),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${[ke.VAULT_DEALER,ke.DEALER_DASHBOARD].includes(t)?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"Dashboard"}),h.jsx("button",{onClick:()=>e(ke.DEALER_THINKING),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${t===ke.DEALER_THINKING?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"Thinking"}),h.jsx("button",{onClick:()=>e(ke.DEALER_CONFIG),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${t===ke.DEALER_CONFIG?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"Configuration"}),h.jsx("button",{onClick:()=>e(ke.DEALER_PROMPT),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${t===ke.DEALER_PROMPT?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"Prompt"})]}),[ke.POLYMARKET_DEALER,ke.POLYMARKET_DASHBOARD,ke.POLYMARKET_THINKING,ke.POLYMARKET_CONFIG,ke.POLYMARKET_PROMPT].includes(t)&&h.jsxs("div",{className:"hidden sm:flex items-center gap-1 bg-[#1a1b21] p-1 rounded border border-[#232328] absolute left-1/2 transform -translate-x-1/2",children:[h.jsx("button",{onClick:()=>e(ke.POLYMARKET_DASHBOARD),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${[ke.POLYMARKET_DEALER,ke.POLYMARKET_DASHBOARD].includes(t)?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"Dashboard"}),h.jsx("button",{onClick:()=>e(ke.POLYMARKET_THINKING),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${t===ke.POLYMARKET_THINKING?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"Thinking"}),h.jsx("button",{onClick:()=>e(ke.POLYMARKET_CONFIG),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${t===ke.POLYMARKET_CONFIG?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"Configuration"}),h.jsx("button",{onClick:()=>e(ke.POLYMARKET_PROMPT),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${t===ke.POLYMARKET_PROMPT?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"Prompt"})]}),t===ke.CONFIGURATION&&h.jsxs("div",{className:"hidden sm:flex items-center gap-1 bg-[#1a1b21] p-1 rounded border border-[#232328] absolute left-1/2 transform -translate-x-1/2",children:[h.jsx("button",{onClick:()=>c("providers"),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${l==="providers"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"AI Providers"}),h.jsx("button",{onClick:()=>c("user"),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${l==="user"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"User Settings"})]}),t===ke.VAULT&&h.jsxs("div",{className:"hidden sm:flex items-center gap-1 bg-[#1a1b21] p-1 rounded border border-[#232328] absolute left-1/2 transform -translate-x-1/2",children:[h.jsx("button",{onClick:()=>f("main"),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${u==="main"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"Overview"}),h.jsx("button",{onClick:()=>f("solana"),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${u==="solana"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"Solana"}),h.jsx("button",{onClick:()=>f("hyperliquid"),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${u==="hyperliquid"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"Hyperliquid"}),h.jsx("button",{onClick:()=>f("polymarket"),className:`px-3 py-1.5 rounded text-[11px] font-medium uppercase tracking-[0.05em] transition-colors ${u==="polymarket"?"bg-[#E7FE55] text-black":"text-[#747580] hover:text-[#a0a1a8]"}`,children:"Polymarket"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-right hidden md:block",children:[h.jsx("div",{className:"text-[9px] uppercase tracking-[0.05em] text-[#5a5b63]",children:"System Status"}),h.jsxs("div",{className:"flex items-center justify-end gap-1.5 text-[#E7FE55] text-[11px] font-medium",children:[h.jsx("div",{className:"w-1 h-1 bg-[#E7FE55] rounded-full"}),"Online"]})]}),h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>a(!o),className:"flex items-center gap-2 p-1 rounded-lg hover:bg-[#1a1b21] transition-colors border border-transparent hover:border-[#232328]",title:(m==null?void 0:m.email)||"User",children:m!=null&&m.photoURL?h.jsx("img",{src:m.photoURL,alt:"User",className:"w-8 h-8 rounded-full border border-[#232328]"}):h.jsx("div",{className:"w-8 h-8 rounded-full bg-[#E7FE55] flex items-center justify-center text-black font-semibold text-sm",children:((po=(Ho=m==null?void 0:m.email)==null?void 0:Ho[0])==null?void 0:po.toUpperCase())||"U"})}),o&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),h.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-[#14151a] border border-[#232328] rounded-lg shadow-xl z-50 overflow-hidden",children:[h.jsx("div",{className:"px-4 py-3 border-b border-[#232328]",children:h.jsxs("div",{className:"flex items-center gap-3",children:[m!=null&&m.photoURL?h.jsx("img",{src:m.photoURL,alt:"User",className:"w-10 h-10 rounded-full border border-[#232328]"}):h.jsx("div",{className:"w-10 h-10 rounded-full bg-[#E7FE55] flex items-center justify-center text-black font-semibold",children:((Oc=(gr=m==null?void 0:m.email)==null?void 0:gr[0])==null?void 0:Oc.toUpperCase())||"U"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-white text-sm font-medium truncate",children:(m==null?void 0:m.displayName)||"User"}),h.jsx("p",{className:"text-[#747580] text-xs truncate",children:m==null?void 0:m.email})]})]})}),h.jsxs("div",{className:"p-2 space-y-1",children:[h.jsxs("button",{onClick:()=>{a(!1),Cl()},className:"w-full flex items-center gap-3 px-3 py-2 text-[#a0a1a8] hover:text-white hover:bg-[#1a1b21] rounded-lg transition-colors text-sm",children:[h.jsx(xc,{size:16}),"Refresh Data"]}),h.jsxs("button",{onClick:()=>{a(!1),e(ke.CONFIGURATION)},className:"w-full flex items-center gap-3 px-3 py-2 text-[#a0a1a8] hover:text-white hover:bg-[#1a1b21] rounded-lg transition-colors text-sm",children:[h.jsx(jT,{size:16}),"Configuration"]}),h.jsx("div",{className:"border-t border-[#232328] my-2"}),h.jsxs("button",{onClick:async()=>{a(!1),await g()},className:"w-full flex items-center gap-3 px-3 py-2 text-[#a0a1a8] hover:text-white hover:bg-[#1a1b21] rounded-lg transition-colors text-sm",children:[h.jsx(X$,{size:16}),"Sign Out"]})]})]})]})]})]})]}),h.jsxs("div",{className:`animate-fade-in ${[ke.VAULT_DEALER,ke.DEALER_DASHBOARD,ke.DEALER_THINKING,ke.DEALER_CONFIG,ke.DEALER_PROMPT,ke.POLYMARKET_DEALER,ke.POLYMARKET_DASHBOARD,ke.POLYMARKET_THINKING,ke.POLYMARKET_CONFIG,ke.POLYMARKET_PROMPT].includes(t)?"flex-1 min-h-0":""}`,children:[t===ke.DASHBOARD&&h.jsx(OWe,{vault:w,connectOwnerWallet:Y,disconnectOwnerWallet:G,connectHLOwnerWallet:me,disconnectHLOwnerWallet:ce,connectPMOwnerWallet:Xe,disconnectPMOwnerWallet:et,assetPrices:Bi,portfolioHistoryDaily:Qt,portfolioHistoryLongTerm:rn,scheduledTasks:pe,assetAllocationData:$n,activityFeed:le,activityDisplayCount:Q,setActiveTab:e,refreshData:Cl,onNewChat:Rc,setActivityDisplayCount:function(wr){throw new Error("Function not implemented.")}}),t===ke.VAULT&&h.jsx(MWe,{vault:w,password:E,setPassword:k,withdrawAmount:I,setWithdrawAmount:D,withdrawNetwork:j,setWithdrawNetwork:M,isImporting:P,setIsImporting:R,importKey:$,setImportKey:q,createVault:O,unlockVault:N,requestAirdrop:W,handleWithdraw:X,handleWithdrawHL:re,handleWithdrawPM:ae,importVault:Ee,addNotification:v,isImportingSolana:Ce,setIsImportingSolana:Ne,isImportingHyperliquid:$e,setIsImportingHyperliquid:Ze,isImportingPolymarket:Ye,setIsImportingPolymarket:We,solanaPassword:St,setSolanaPassword:st,hyperliquidPassword:Lt,setHyperliquidPassword:Xt,polymarketPassword:qe,setPolymarketPassword:At,solanaImportKey:an,setSolanaImportKey:_e,hlImportKey:Ve,setHLImportKey:ft,pmImportKey:lt,setPMImportKey:se,createSolanaVault:J,createHyperliquidVault:Z,createPolymarketVault:fe,importSolanaVault:be,importHyperliquidVault:he,importPolymarketVault:ye,setActiveTab:e,activeVaultTab:u,setActiveVaultTab:f}),t===ke.AGENT&&h.jsx(vtt,{messages:Re,inputMessage:ze,setInputMessage:Kt,handleSendMessage:mt,isAiProcessing:qt,aiStatus:Ht,scrollRef:pn,isVaultUnlocked:w.isUnlocked,password:E,setPassword:k,unlockVault:N,hasVault:!!(w.publicKey||w.hlPublicKey),onNavigate:e}),t===ke.HISTORY&&h.jsx(r0t,{onSelectConversation:wr=>{mr(wr),e(ke.AGENT)}}),t===ke.SCHEDULER&&h.jsx(wtt,{scheduledTasks:pe,setScheduledTasks:Te,addNotification:v}),[ke.VAULT_DEALER,ke.DEALER_DASHBOARD,ke.DEALER_THINKING,ke.DEALER_CONFIG,ke.DEALER_PROMPT].includes(t)&&h.jsx(Jct,{vault:w,password:E,activeTab:t,setActiveTab:e}),t===ke.CONFIGURATION&&h.jsx($0t,{vault:w,password:E,addNotification:v,activeTab:l,setActiveTab:c}),t===ke.HYPERLIQUID&&h.jsx(Xct,{vault:w,connectHLOwnerWallet:me,refreshHLBalance:oe,activityLog:le}),t===ke.TOKEN_COSTS&&h.jsx(V0t,{addNotification:v}),[ke.POLYMARKET_DEALER,ke.POLYMARKET_DASHBOARD,ke.POLYMARKET_THINKING,ke.POLYMARKET_CONFIG,ke.POLYMARKET_PROMPT].includes(t)&&h.jsx(Q0t,{vault:w,password:E,activeTab:t,setActiveTab:e}),t===ke.PRIVACY&&h.jsx(Z0t,{}),t===ke.TERMS&&h.jsx(egt,{})]})]}),t!==ke.AGENT&&h.jsx(ngt,{onNavigate:e})]}),h.jsx("div",{className:"fixed bottom-6 right-6 z-[60] space-y-2 pointer-events-none",children:n.map(wr=>h.jsxs("div",{className:"bg-[#14151a] border border-[#232328] text-white px-4 py-3 rounded shadow-xl flex items-center gap-3 animate-slide-up pointer-events-auto max-w-sm",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-[#E7FE55] rounded-full"}),h.jsx("span",{className:"text-sm font-medium",children:wr.message}),h.jsx("button",{onClick:()=>r(Gr=>Gr.filter(ns=>ns.id!==wr.id)),className:"text-[#747580] hover:text-white ml-2",children:h.jsx(ek,{size:14})})]},wr.id))}),U&&h.jsx(udt,{backupKey:F,setBackupKey:z,setShowBackupModal:V,addNotification:v,onClose:()=>{H(!0)}}),K&&h.jsx(ddt,{backupKey:B,setBackupKey:A,setShowBackupModal:H,addNotification:v}),it&&h.jsx(fdt,{backupKey:xt,setBackupKey:Rt,setShowBackupModal:Ut,addNotification:v}),h.jsx(tgt,{userId:(m==null?void 0:m.uid)||null})]})}function igt(){const{signInWithGoogle:t,signInWithEmail:e,signUp:n}=gw(),[r,i]=T.useState(""),[s,o]=T.useState(""),[a,l]=T.useState(!1),[c,u]=T.useState(!1),[f,m]=T.useState(null),[g,x]=T.useState(!1),v=async()=>{m(null),x(!0);try{await t()}catch(E){m(E.message||"Failed to sign in with Google")}finally{x(!1)}},w=async E=>{E.preventDefault(),m(null),x(!0);try{a?await n(r,s):await e(r,s)}catch(k){const I=k.code||"";I.includes("user-not-found")?m("No account found with this email"):I.includes("wrong-password")?m("Incorrect password"):I.includes("email-already-in-use")?m("An account already exists with this email"):I.includes("weak-password")?m("Password should be at least 6 characters"):I.includes("invalid-email")?m("Invalid email address"):m(k.message||"Authentication failed")}finally{x(!1)}};return h.jsx("div",{className:"min-h-screen bg-[#0f1015] flex items-center justify-center p-4",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-[#E7FE55] to-[#c8e044] rounded-2xl mb-4 shadow-lg shadow-[#E7FE55]/20",children:h.jsxs("svg",{className:"w-8 h-8 text-black",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),h.jsx("path",{d:"M12 8v4"}),h.jsx("path",{d:"M12 16h.01"})]})}),h.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"AutonomousVault"}),h.jsx("p",{className:"text-[#747580] text-sm",children:"Multi-Chain DeFi Agent"})]}),h.jsxs("div",{className:"bg-[#14151a] border border-[#232328] rounded-xl p-6 shadow-xl",children:[h.jsx("h2",{className:"text-lg font-semibold text-white mb-6 text-center",children:a?"Create Account":"Welcome Back"}),f&&h.jsxs("div",{className:"flex items-center gap-2 bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg mb-4",children:[h.jsx(Q2,{size:16}),h.jsx("span",{className:"text-sm",children:f})]}),h.jsxs("button",{onClick:v,disabled:g,className:"w-full flex items-center justify-center gap-3 bg-white hover:bg-gray-100 text-gray-800 font-medium py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),h.jsxs("div",{className:"flex items-center gap-4 my-6",children:[h.jsx("div",{className:"flex-1 h-px bg-[#232328]"}),h.jsx("span",{className:"text-[#5a5b63] text-xs uppercase tracking-wider",children:"or"}),h.jsx("div",{className:"flex-1 h-px bg-[#232328]"})]}),h.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[#a0a1a8] text-sm mb-2",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx(D2e,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#5a5b63]"}),h.jsx("input",{type:"email",value:r,onChange:E=>i(E.target.value),placeholder:"you@example.com",required:!0,className:"w-full bg-[#0f1015] border border-[#232328] rounded-lg py-3 pl-10 pr-4 text-white placeholder-[#5a5b63] focus:outline-none focus:border-[#E7FE55] focus:ring-1 focus:ring-[#E7FE55]/20 transition-colors"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[#a0a1a8] text-sm mb-2",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(i1,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#5a5b63]"}),h.jsx("input",{type:c?"text":"password",value:s,onChange:E=>o(E.target.value),placeholder:"",required:!0,minLength:6,className:"w-full bg-[#0f1015] border border-[#232328] rounded-lg py-3 pl-10 pr-12 text-white placeholder-[#5a5b63] focus:outline-none focus:border-[#E7FE55] focus:ring-1 focus:ring-[#E7FE55]/20 transition-colors"}),h.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#5a5b63] hover:text-[#a0a1a8] transition-colors",children:c?h.jsx(r8,{size:16}):h.jsx(Qne,{size:16})})]})]}),h.jsx("button",{type:"submit",disabled:g,className:"w-full bg-[#E7FE55] hover:bg-[#f0ff7a] text-black font-semibold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Loading...":a?"Create Account":"Sign In"})]}),h.jsxs("p",{className:"text-center text-[#747580] text-sm mt-6",children:[a?"Already have an account?":"Don't have an account?"," ",h.jsx("button",{onClick:()=>{l(!a),m(null)},className:"text-[#E7FE55] hover:underline font-medium",children:a?"Sign In":"Sign Up"})]})]}),h.jsx("p",{className:"text-center text-[#5a5b63] text-xs mt-6",children:"By continuing, you agree to our Terms of Service"})]})})}function sgt({children:t}){const{user:e,loading:n}=gw();return n?h.jsx("div",{className:"h-screen w-screen bg-[#0f1015] flex items-center justify-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-4",children:[h.jsxs("div",{className:"relative w-12 h-12",children:[h.jsx("div",{className:"absolute inset-0 border-2 border-[#232328] rounded-full"}),h.jsx("div",{className:"absolute inset-0 border-2 border-transparent border-t-[#E7FE55] rounded-full animate-spin"})]}),h.jsx("p",{className:"text-[#747580] text-sm",children:"Loading..."})]})}):e?h.jsx(h.Fragment,{children:t}):h.jsx(igt,{})}Wg.initializeProductionSecurity();const uge=document.getElementById("root");if(!uge)throw new Error("Failed to find the root element");const ogt=$xe.createRoot(uge);ogt.render(h.jsx(su.StrictMode,{children:h.jsx(rEe,{children:h.jsx(sgt,{children:h.jsx(rgt,{})})})}));export{Pm as $,FZ as A,dn as B,Omt as C,Zu as D,Or as E,Ig as F,gke as G,$T as H,$M as I,Mt as J,Fo as K,ve as L,GM as M,Sse as N,E_e as O,vt as P,Ke as Q,NIe as R,MZ as S,Ni as T,uRe as U,sc as V,td as W,ps as X,X_e as Y,tl as Z,Jn as _,mx as a,QM as a$,Xi as a0,h1 as a1,b8 as a2,Mg as a3,kx as a4,lRe as a5,Ise as a6,Ir as a7,wt as a8,Jt as a9,z_e as aA,HT as aB,um as aC,tc as aD,mk as aE,y1 as aF,zb as aG,JH as aH,uR as aI,kw as aJ,h_e as aK,wIe as aL,Zy as aM,P_e as aN,hk as aO,Zi as aP,Vy as aQ,Bs as aR,hc as aS,Jp as aT,p_e as aU,pse as aV,m1 as aW,bs as aX,lm as aY,yse as aZ,Tke as a_,P8 as aa,cRe as ab,pr as ac,pRe as ad,gRe as ae,fm as af,XT as ag,g_e as ah,Ou as ai,b_e as aj,v_e as ak,C8 as al,xse as am,gk as an,JT as ao,m_e as ap,to as aq,wgt as ar,ec as as,T8 as at,hre as au,uu as av,ZH as aw,iV as ax,_ke as ay,Wf as az,jmt as b,Yf as b0,mRe as b1,a1 as b2,EH as b3,are as b4,lre as b5,mh as b6,Rie as b7,mgt as b8,Cw as b9,ese as bA,nd as bB,Agt as bC,Nie as bD,tk as bE,s8 as bF,mV as bG,hV as bH,Cgt as bI,pp as bJ,FM as bK,pgt as bL,jke as bM,ak as bN,_i as bO,dgt as bP,ed as bQ,Sw as bR,yke as bS,fgt as bT,Uke as bU,Tgt as bV,kgt as bW,Ngt as bX,ore as bY,p1 as ba,hr as bb,bke as bc,wke as bd,Aw as be,gV as bf,BRe as bg,LRe as bh,yR as bi,GPe as bj,fre as bk,Eke as bl,fc as bm,Fse as bn,Use as bo,VPe as bp,hgt as bq,Sre as br,FT as bs,Igt as bt,Qi as bu,Sgt as bv,Egt as bw,Pgt as bx,nk as by,Oie as bz,gZ as c,fft as d,iyt as e,Ta as f,ts as g,o0e as h,Ex as i,gh as j,Gn as k,Sx as l,Tx as m,Ra as n,p8 as o,YZ as p,xe as q,Fu as r,Ax as s,rt as t,b0e as u,_n as v,ht as w,ci as x,gn as y,dre as z};
